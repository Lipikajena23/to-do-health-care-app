{"version":3,"file":"static/js/main.6d633e30.js","mappings":";wCAYa,IAAIA,EAAGC,EAAQ,IAASC,EAAGD,EAAQ,KAAa,SAASE,EAAEC,GAAG,IAAI,IAAIC,EAAE,yDAAyDD,EAAEE,EAAE,EAAEA,EAAEC,UAAUC,OAAOF,IAAID,GAAG,WAAWI,mBAAmBF,UAAUD,IAAI,MAAM,yBAAyBF,EAAE,WAAWC,EAAE,gHAAgH,CAAC,IAAIK,EAAG,IAAIC,IAAIC,EAAG,CAAC,EAAE,SAASC,EAAGT,EAAEC,GAAGS,EAAGV,EAAEC,GAAGS,EAAGV,EAAE,UAAUC,EAAE,CACxb,SAASS,EAAGV,EAAEC,GAAW,IAARO,EAAGR,GAAGC,EAAMD,EAAE,EAAEA,EAAEC,EAAEG,OAAOJ,IAAIM,EAAGK,IAAIV,EAAED,GAAG,CAC5D,IAAIY,IAAK,qBAAqBC,QAAQ,qBAAqBA,OAAOC,UAAU,qBAAqBD,OAAOC,SAASC,eAAeC,EAAGC,OAAOC,UAAUC,eAAeC,EAAG,8VAA8VC,EACpgB,CAAC,EAAEC,EAAG,CAAC,EACiN,SAASC,EAAEvB,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,GAAGC,KAAKC,gBAAgB,IAAI5B,GAAG,IAAIA,GAAG,IAAIA,EAAE2B,KAAKE,cAAcN,EAAEI,KAAKG,mBAAmBN,EAAEG,KAAKI,gBAAgB9B,EAAE0B,KAAKK,aAAajC,EAAE4B,KAAKM,KAAKjC,EAAE2B,KAAKO,YAAYT,EAAEE,KAAKQ,kBAAkBT,CAAC,CAAC,IAAIU,EAAE,CAAC,EACpb,uIAAuIC,MAAM,KAAKC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAE,MAAK,GAAG,EAAG,IAAG,CAAC,CAAC,gBAAgB,kBAAkB,CAAC,YAAY,SAAS,CAAC,UAAU,OAAO,CAAC,YAAY,eAAeuC,SAAQ,SAASvC,GAAG,IAAIC,EAAED,EAAE,GAAGqC,EAAEpC,GAAG,IAAIsB,EAAEtB,EAAE,GAAE,EAAGD,EAAE,GAAG,MAAK,GAAG,EAAG,IAAG,CAAC,kBAAkB,YAAY,aAAa,SAASuC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAEwC,cAAc,MAAK,GAAG,EAAG,IAC1e,CAAC,cAAc,4BAA4B,YAAY,iBAAiBD,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAE,MAAK,GAAG,EAAG,IAAG,8OAA8OsC,MAAM,KAAKC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAEwC,cAAc,MAAK,GAAG,EAAG,IACxb,CAAC,UAAU,WAAW,QAAQ,YAAYD,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAE,MAAK,GAAG,EAAG,IAAG,CAAC,UAAU,YAAYuC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAE,MAAK,GAAG,EAAG,IAAG,CAAC,OAAO,OAAO,OAAO,QAAQuC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAE,MAAK,GAAG,EAAG,IAAG,CAAC,UAAU,SAASuC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAEwC,cAAc,MAAK,GAAG,EAAG,IAAG,IAAIC,EAAG,gBAAgB,SAASC,EAAG1C,GAAG,OAAOA,EAAE,GAAG2C,aAAa,CAIxZ,SAASC,EAAG5C,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAEY,EAAElB,eAAelB,GAAGoC,EAAEpC,GAAG,MAAQ,OAAOwB,EAAE,IAAIA,EAAES,KAAKV,KAAK,EAAEvB,EAAEG,SAAS,MAAMH,EAAE,IAAI,MAAMA,EAAE,IAAI,MAAMA,EAAE,IAAI,MAAMA,EAAE,MAP9I,SAAYD,EAAEC,EAAEC,EAAEsB,GAAG,GAAG,OAAOvB,GAAG,qBAAqBA,GADqE,SAAYD,EAAEC,EAAEC,EAAEsB,GAAG,GAAG,OAAOtB,GAAG,IAAIA,EAAEgC,KAAK,OAAM,EAAG,cAAcjC,GAAG,IAAK,WAAW,IAAK,SAAS,OAAM,EAAG,IAAK,UAAU,OAAGuB,IAAc,OAAOtB,GAASA,EAAE2B,gBAAmD,WAAnC7B,EAAEA,EAAEwC,cAAcK,MAAM,EAAE,KAAsB,UAAU7C,GAAE,QAAQ,OAAM,EAAG,CAC/T8C,CAAG9C,EAAEC,EAAEC,EAAEsB,GAAG,OAAM,EAAG,GAAGA,EAAE,OAAM,EAAG,GAAG,OAAOtB,EAAE,OAAOA,EAAEgC,MAAM,KAAK,EAAE,OAAOjC,EAAE,KAAK,EAAE,OAAM,IAAKA,EAAE,KAAK,EAAE,OAAO8C,MAAM9C,GAAG,KAAK,EAAE,OAAO8C,MAAM9C,IAAI,EAAEA,EAAE,OAAM,CAAE,CAOtE+C,CAAG/C,EAAEC,EAAEuB,EAAED,KAAKtB,EAAE,MAAMsB,GAAG,OAAOC,EARxK,SAAYzB,GAAG,QAAGgB,EAAGiC,KAAK3B,EAAGtB,KAAegB,EAAGiC,KAAK5B,EAAGrB,KAAeoB,EAAG8B,KAAKlD,GAAUsB,EAAGtB,IAAG,GAAGqB,EAAGrB,IAAG,GAAS,GAAE,CAQwDmD,CAAGlD,KAAK,OAAOC,EAAEF,EAAEoD,gBAAgBnD,GAAGD,EAAEqD,aAAapD,EAAE,GAAGC,IAAIuB,EAAEO,gBAAgBhC,EAAEyB,EAAEQ,cAAc,OAAO/B,EAAE,IAAIuB,EAAES,MAAQ,GAAGhC,GAAGD,EAAEwB,EAAEK,cAAcN,EAAEC,EAAEM,mBAAmB,OAAO7B,EAAEF,EAAEoD,gBAAgBnD,IAAaC,EAAE,KAAXuB,EAAEA,EAAES,OAAc,IAAIT,IAAG,IAAKvB,EAAE,GAAG,GAAGA,EAAEsB,EAAExB,EAAEsD,eAAe9B,EAAEvB,EAAEC,GAAGF,EAAEqD,aAAapD,EAAEC,KAAI,CAHjd,0jCAA0jCoC,MAAM,KAAKC,SAAQ,SAASvC,GAAG,IAAIC,EAAED,EAAEuD,QAAQd,EACzmCC,GAAIL,EAAEpC,GAAG,IAAIsB,EAAEtB,EAAE,GAAE,EAAGD,EAAE,MAAK,GAAG,EAAG,IAAG,2EAA2EsC,MAAM,KAAKC,SAAQ,SAASvC,GAAG,IAAIC,EAAED,EAAEuD,QAAQd,EAAGC,GAAIL,EAAEpC,GAAG,IAAIsB,EAAEtB,EAAE,GAAE,EAAGD,EAAE,gCAA+B,GAAG,EAAG,IAAG,CAAC,WAAW,WAAW,aAAauC,SAAQ,SAASvC,GAAG,IAAIC,EAAED,EAAEuD,QAAQd,EAAGC,GAAIL,EAAEpC,GAAG,IAAIsB,EAAEtB,EAAE,GAAE,EAAGD,EAAE,wCAAuC,GAAG,EAAG,IAAG,CAAC,WAAW,eAAeuC,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAEwC,cAAc,MAAK,GAAG,EAAG,IACldH,EAAEmB,UAAU,IAAIjC,EAAE,YAAY,GAAE,EAAG,aAAa,gCAA+B,GAAG,GAAI,CAAC,MAAM,OAAO,SAAS,cAAcgB,SAAQ,SAASvC,GAAGqC,EAAErC,GAAG,IAAIuB,EAAEvB,EAAE,GAAE,EAAGA,EAAEwC,cAAc,MAAK,GAAG,EAAG,IAE5L,IAAIiB,EAAG7D,EAAG8D,mDAAmDC,EAAGC,OAAOC,IAAI,iBAAiBC,EAAGF,OAAOC,IAAI,gBAAgBE,EAAGH,OAAOC,IAAI,kBAAkBG,EAAGJ,OAAOC,IAAI,qBAAqBI,EAAGL,OAAOC,IAAI,kBAAkBK,EAAGN,OAAOC,IAAI,kBAAkBM,EAAGP,OAAOC,IAAI,iBAAiBO,EAAGR,OAAOC,IAAI,qBAAqBQ,EAAGT,OAAOC,IAAI,kBAAkBS,EAAGV,OAAOC,IAAI,uBAAuBU,EAAGX,OAAOC,IAAI,cAAcW,EAAGZ,OAAOC,IAAI,cAAcD,OAAOC,IAAI,eAAeD,OAAOC,IAAI,0BACje,IAAIY,EAAGb,OAAOC,IAAI,mBAAmBD,OAAOC,IAAI,uBAAuBD,OAAOC,IAAI,eAAeD,OAAOC,IAAI,wBAAwB,IAAIa,EAAGd,OAAOe,SAAS,SAASC,EAAG5E,GAAG,OAAG,OAAOA,GAAG,kBAAkBA,EAAS,KAAwC,oBAAnCA,EAAE0E,GAAI1E,EAAE0E,IAAK1E,EAAE,eAA0CA,EAAE,IAAI,CAAC,IAAoB6E,EAAhBC,EAAE7D,OAAO8D,OAAU,SAASC,EAAGhF,GAAG,QAAG,IAAS6E,EAAG,IAAI,MAAMI,OAAQ,CAAC,MAAM/E,GAAG,IAAID,EAAEC,EAAEgF,MAAMC,OAAOC,MAAM,gBAAgBP,EAAG5E,GAAGA,EAAE,IAAI,EAAE,CAAC,MAAM,KAAK4E,EAAG7E,CAAC,CAAC,IAAIqF,GAAG,EACzb,SAASC,EAAGtF,EAAEC,GAAG,IAAID,GAAGqF,EAAG,MAAM,GAAGA,GAAG,EAAG,IAAInF,EAAE+E,MAAMM,kBAAkBN,MAAMM,uBAAkB,EAAO,IAAI,GAAGtF,EAAE,GAAGA,EAAE,WAAW,MAAMgF,OAAQ,EAAEhE,OAAOuE,eAAevF,EAAEiB,UAAU,QAAQ,CAACuE,IAAI,WAAW,MAAMR,OAAQ,IAAI,kBAAkBS,SAASA,QAAQC,UAAU,CAAC,IAAID,QAAQC,UAAU1F,EAAE,GAAG,CAAC,MAAM2F,GAAG,IAAIpE,EAAEoE,CAAC,CAACF,QAAQC,UAAU3F,EAAE,GAAGC,EAAE,KAAK,CAAC,IAAIA,EAAEgD,MAAM,CAAC,MAAM2C,GAAGpE,EAAEoE,CAAC,CAAC5F,EAAEiD,KAAKhD,EAAEiB,UAAU,KAAK,CAAC,IAAI,MAAM+D,OAAQ,CAAC,MAAMW,GAAGpE,EAAEoE,CAAC,CAAC5F,GAAG,CAAC,CAAC,MAAM4F,GAAG,GAAGA,GAAGpE,GAAG,kBAAkBoE,EAAEV,MAAM,CAAC,IAAI,IAAIzD,EAAEmE,EAAEV,MAAM5C,MAAM,MACnfZ,EAAEF,EAAE0D,MAAM5C,MAAM,MAAMX,EAAEF,EAAErB,OAAO,EAAEyF,EAAEnE,EAAEtB,OAAO,EAAE,GAAGuB,GAAG,GAAGkE,GAAGpE,EAAEE,KAAKD,EAAEmE,IAAIA,IAAI,KAAK,GAAGlE,GAAG,GAAGkE,EAAElE,IAAIkE,IAAI,GAAGpE,EAAEE,KAAKD,EAAEmE,GAAG,CAAC,GAAG,IAAIlE,GAAG,IAAIkE,EAAG,MAAMlE,IAAQ,IAAJkE,GAASpE,EAAEE,KAAKD,EAAEmE,GAAG,CAAC,IAAIC,EAAE,KAAKrE,EAAEE,GAAG4B,QAAQ,WAAW,QAA6F,OAArFvD,EAAE+F,aAAaD,EAAEE,SAAS,iBAAiBF,EAAEA,EAAEvC,QAAQ,cAAcvD,EAAE+F,cAAqBD,CAAC,QAAO,GAAGnE,GAAG,GAAGkE,GAAG,KAAK,CAAC,CAAC,CAAC,QAAQR,GAAG,EAAGJ,MAAMM,kBAAkBrF,CAAC,CAAC,OAAOF,EAAEA,EAAEA,EAAE+F,aAAa/F,EAAEiG,KAAK,IAAIjB,EAAGhF,GAAG,EAAE,CAC9Z,SAASkG,EAAGlG,GAAG,OAAOA,EAAEmG,KAAK,KAAK,EAAE,OAAOnB,EAAGhF,EAAEkC,MAAM,KAAK,GAAG,OAAO8C,EAAG,QAAQ,KAAK,GAAG,OAAOA,EAAG,YAAY,KAAK,GAAG,OAAOA,EAAG,gBAAgB,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,OAAOhF,EAAEsF,EAAGtF,EAAEkC,MAAK,GAAM,KAAK,GAAG,OAAOlC,EAAEsF,EAAGtF,EAAEkC,KAAKkE,QAAO,GAAM,KAAK,EAAE,OAAOpG,EAAEsF,EAAGtF,EAAEkC,MAAK,GAAM,QAAQ,MAAM,GAAG,CACxR,SAASmE,EAAGrG,GAAG,GAAG,MAAMA,EAAE,OAAO,KAAK,GAAG,oBAAoBA,EAAE,OAAOA,EAAE+F,aAAa/F,EAAEiG,MAAM,KAAK,GAAG,kBAAkBjG,EAAE,OAAOA,EAAE,OAAOA,GAAG,KAAK+D,EAAG,MAAM,WAAW,KAAKD,EAAG,MAAM,SAAS,KAAKG,EAAG,MAAM,WAAW,KAAKD,EAAG,MAAM,aAAa,KAAKK,EAAG,MAAM,WAAW,KAAKC,EAAG,MAAM,eAAe,GAAG,kBAAkBtE,EAAE,OAAOA,EAAEsG,UAAU,KAAKnC,EAAG,OAAOnE,EAAE+F,aAAa,WAAW,YAAY,KAAK7B,EAAG,OAAOlE,EAAEuG,SAASR,aAAa,WAAW,YAAY,KAAK3B,EAAG,IAAInE,EAAED,EAAEoG,OAC7Z,OADoapG,EAAEA,EAAE+F,eACnd/F,EAAE,MADieA,EAAEC,EAAE8F,aAClf9F,EAAEgG,MAAM,IAAY,cAAcjG,EAAE,IAAI,cAAqBA,EAAE,KAAKuE,EAAG,OAA6B,QAAtBtE,EAAED,EAAE+F,aAAa,MAAc9F,EAAEoG,EAAGrG,EAAEkC,OAAO,OAAO,KAAKsC,EAAGvE,EAAED,EAAEwG,SAASxG,EAAEA,EAAEyG,MAAM,IAAI,OAAOJ,EAAGrG,EAAEC,GAAG,CAAC,MAAMC,GAAG,EAAE,OAAO,IAAI,CAC3M,SAASwG,EAAG1G,GAAG,IAAIC,EAAED,EAAEkC,KAAK,OAAOlC,EAAEmG,KAAK,KAAK,GAAG,MAAM,QAAQ,KAAK,EAAE,OAAOlG,EAAE8F,aAAa,WAAW,YAAY,KAAK,GAAG,OAAO9F,EAAEsG,SAASR,aAAa,WAAW,YAAY,KAAK,GAAG,MAAM,qBAAqB,KAAK,GAAG,OAAkB/F,GAAXA,EAAEC,EAAEmG,QAAWL,aAAa/F,EAAEiG,MAAM,GAAGhG,EAAE8F,cAAc,KAAK/F,EAAE,cAAcA,EAAE,IAAI,cAAc,KAAK,EAAE,MAAM,WAAW,KAAK,EAAE,OAAOC,EAAE,KAAK,EAAE,MAAM,SAAS,KAAK,EAAE,MAAM,OAAO,KAAK,EAAE,MAAM,OAAO,KAAK,GAAG,OAAOoG,EAAGpG,GAAG,KAAK,EAAE,OAAOA,IAAI+D,EAAG,aAAa,OAAO,KAAK,GAAG,MAAM,YACtf,KAAK,GAAG,MAAM,WAAW,KAAK,GAAG,MAAM,QAAQ,KAAK,GAAG,MAAM,WAAW,KAAK,GAAG,MAAM,eAAe,KAAK,GAAG,MAAM,gBAAgB,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,GAAG,oBAAoB/D,EAAE,OAAOA,EAAE8F,aAAa9F,EAAEgG,MAAM,KAAK,GAAG,kBAAkBhG,EAAE,OAAOA,EAAE,OAAO,IAAI,CAAC,SAAS0G,EAAG3G,GAAG,cAAcA,GAAG,IAAK,UAAU,IAAK,SAAS,IAAK,SAAS,IAAK,YAAqB,IAAK,SAAS,OAAOA,EAAE,QAAQ,MAAM,GAAG,CACra,SAAS4G,EAAG5G,GAAG,IAAIC,EAAED,EAAEkC,KAAK,OAAOlC,EAAEA,EAAE6G,WAAW,UAAU7G,EAAEwC,gBAAgB,aAAavC,GAAG,UAAUA,EAAE,CAEtF,SAAS6G,EAAG9G,GAAGA,EAAE+G,gBAAgB/G,EAAE+G,cADvD,SAAY/G,GAAG,IAAIC,EAAE2G,EAAG5G,GAAG,UAAU,QAAQE,EAAEe,OAAO+F,yBAAyBhH,EAAEiH,YAAY/F,UAAUjB,GAAGuB,EAAE,GAAGxB,EAAEC,GAAG,IAAID,EAAEmB,eAAelB,IAAI,qBAAqBC,GAAG,oBAAoBA,EAAEgH,KAAK,oBAAoBhH,EAAEuF,IAAI,CAAC,IAAIhE,EAAEvB,EAAEgH,IAAIxF,EAAExB,EAAEuF,IAAiL,OAA7KxE,OAAOuE,eAAexF,EAAEC,EAAE,CAACkH,cAAa,EAAGD,IAAI,WAAW,OAAOzF,EAAEwB,KAAKrB,KAAK,EAAE6D,IAAI,SAASzF,GAAGwB,EAAE,GAAGxB,EAAE0B,EAAEuB,KAAKrB,KAAK5B,EAAE,IAAIiB,OAAOuE,eAAexF,EAAEC,EAAE,CAACmH,WAAWlH,EAAEkH,aAAmB,CAACC,SAAS,WAAW,OAAO7F,CAAC,EAAE8F,SAAS,SAAStH,GAAGwB,EAAE,GAAGxB,CAAC,EAAEuH,aAAa,WAAWvH,EAAE+G,cACxf,YAAY/G,EAAEC,EAAE,EAAE,CAAC,CAAkDuH,CAAGxH,GAAG,CAAC,SAASyH,EAAGzH,GAAG,IAAIA,EAAE,OAAM,EAAG,IAAIC,EAAED,EAAE+G,cAAc,IAAI9G,EAAE,OAAM,EAAG,IAAIC,EAAED,EAAEoH,WAAe7F,EAAE,GAAqD,OAAlDxB,IAAIwB,EAAEoF,EAAG5G,GAAGA,EAAE0H,QAAQ,OAAO,QAAQ1H,EAAE2H,QAAO3H,EAAEwB,KAAatB,IAAGD,EAAEqH,SAAStH,IAAG,EAAM,CAAC,SAAS4H,EAAG5H,GAAwD,GAAG,qBAAxDA,EAAEA,IAAI,qBAAqBc,SAASA,cAAS,IAAkC,OAAO,KAAK,IAAI,OAAOd,EAAE6H,eAAe7H,EAAE8H,IAAI,CAAC,MAAM7H,GAAG,OAAOD,EAAE8H,IAAI,CAAC,CACpa,SAASC,EAAG/H,EAAEC,GAAG,IAAIC,EAAED,EAAEyH,QAAQ,OAAO5C,EAAE,CAAC,EAAE7E,EAAE,CAAC+H,oBAAe,EAAOC,kBAAa,EAAON,WAAM,EAAOD,QAAQ,MAAMxH,EAAEA,EAAEF,EAAEkI,cAAcC,gBAAgB,CAAC,SAASC,EAAGpI,EAAEC,GAAG,IAAIC,EAAE,MAAMD,EAAEgI,aAAa,GAAGhI,EAAEgI,aAAazG,EAAE,MAAMvB,EAAEyH,QAAQzH,EAAEyH,QAAQzH,EAAE+H,eAAe9H,EAAEyG,EAAG,MAAM1G,EAAE0H,MAAM1H,EAAE0H,MAAMzH,GAAGF,EAAEkI,cAAc,CAACC,eAAe3G,EAAE6G,aAAanI,EAAEoI,WAAW,aAAarI,EAAEiC,MAAM,UAAUjC,EAAEiC,KAAK,MAAMjC,EAAEyH,QAAQ,MAAMzH,EAAE0H,MAAM,CAAC,SAASY,EAAGvI,EAAEC,GAAe,OAAZA,EAAEA,EAAEyH,UAAiB9E,EAAG5C,EAAE,UAAUC,GAAE,EAAG,CAC9d,SAASuI,EAAGxI,EAAEC,GAAGsI,EAAGvI,EAAEC,GAAG,IAAIC,EAAEyG,EAAG1G,EAAE0H,OAAOnG,EAAEvB,EAAEiC,KAAK,GAAG,MAAMhC,EAAK,WAAWsB,GAAM,IAAItB,GAAG,KAAKF,EAAE2H,OAAO3H,EAAE2H,OAAOzH,KAAEF,EAAE2H,MAAM,GAAGzH,GAAOF,EAAE2H,QAAQ,GAAGzH,IAAIF,EAAE2H,MAAM,GAAGzH,QAAQ,GAAG,WAAWsB,GAAG,UAAUA,EAA8B,YAA3BxB,EAAEoD,gBAAgB,SAAgBnD,EAAEkB,eAAe,SAASsH,GAAGzI,EAAEC,EAAEiC,KAAKhC,GAAGD,EAAEkB,eAAe,iBAAiBsH,GAAGzI,EAAEC,EAAEiC,KAAKyE,EAAG1G,EAAEgI,eAAe,MAAMhI,EAAEyH,SAAS,MAAMzH,EAAE+H,iBAAiBhI,EAAEgI,iBAAiB/H,EAAE+H,eAAe,CACla,SAASU,EAAG1I,EAAEC,EAAEC,GAAG,GAAGD,EAAEkB,eAAe,UAAUlB,EAAEkB,eAAe,gBAAgB,CAAC,IAAIK,EAAEvB,EAAEiC,KAAK,KAAK,WAAWV,GAAG,UAAUA,QAAG,IAASvB,EAAE0H,OAAO,OAAO1H,EAAE0H,OAAO,OAAO1H,EAAE,GAAGD,EAAEkI,cAAcG,aAAanI,GAAGD,IAAID,EAAE2H,QAAQ3H,EAAE2H,MAAM1H,GAAGD,EAAEiI,aAAahI,CAAC,CAAU,MAATC,EAAEF,EAAEiG,QAAcjG,EAAEiG,KAAK,IAAIjG,EAAEgI,iBAAiBhI,EAAEkI,cAAcC,eAAe,KAAKjI,IAAIF,EAAEiG,KAAK/F,EAAE,CACzV,SAASuI,GAAGzI,EAAEC,EAAEC,GAAM,WAAWD,GAAG2H,EAAG5H,EAAE2I,iBAAiB3I,IAAE,MAAME,EAAEF,EAAEiI,aAAa,GAAGjI,EAAEkI,cAAcG,aAAarI,EAAEiI,eAAe,GAAG/H,IAAIF,EAAEiI,aAAa,GAAG/H,GAAE,CAAC,IAAI0I,GAAGC,MAAMC,QAC7K,SAASC,GAAG/I,EAAEC,EAAEC,EAAEsB,GAAe,GAAZxB,EAAEA,EAAEgJ,QAAW/I,EAAE,CAACA,EAAE,CAAC,EAAE,IAAI,IAAIwB,EAAE,EAAEA,EAAEvB,EAAEE,OAAOqB,IAAIxB,EAAE,IAAIC,EAAEuB,KAAI,EAAG,IAAIvB,EAAE,EAAEA,EAAEF,EAAEI,OAAOF,IAAIuB,EAAExB,EAAEkB,eAAe,IAAInB,EAAEE,GAAGyH,OAAO3H,EAAEE,GAAG+I,WAAWxH,IAAIzB,EAAEE,GAAG+I,SAASxH,GAAGA,GAAGD,IAAIxB,EAAEE,GAAGgJ,iBAAgB,EAAG,KAAK,CAAmB,IAAlBhJ,EAAE,GAAGyG,EAAGzG,GAAGD,EAAE,KAASwB,EAAE,EAAEA,EAAEzB,EAAEI,OAAOqB,IAAI,CAAC,GAAGzB,EAAEyB,GAAGkG,QAAQzH,EAAiD,OAA9CF,EAAEyB,GAAGwH,UAAS,OAAGzH,IAAIxB,EAAEyB,GAAGyH,iBAAgB,IAAW,OAAOjJ,GAAGD,EAAEyB,GAAG0H,WAAWlJ,EAAED,EAAEyB,GAAG,CAAC,OAAOxB,IAAIA,EAAEgJ,UAAS,EAAG,CAAC,CACxY,SAASG,GAAGpJ,EAAEC,GAAG,GAAG,MAAMA,EAAEoJ,wBAAwB,MAAMpE,MAAMlF,EAAE,KAAK,OAAO+E,EAAE,CAAC,EAAE7E,EAAE,CAAC0H,WAAM,EAAOM,kBAAa,EAAOqB,SAAS,GAAGtJ,EAAEkI,cAAcG,cAAc,CAAC,SAASkB,GAAGvJ,EAAEC,GAAG,IAAIC,EAAED,EAAE0H,MAAM,GAAG,MAAMzH,EAAE,CAA+B,GAA9BA,EAAED,EAAEqJ,SAASrJ,EAAEA,EAAEgI,aAAgB,MAAM/H,EAAE,CAAC,GAAG,MAAMD,EAAE,MAAMgF,MAAMlF,EAAE,KAAK,GAAG6I,GAAG1I,GAAG,CAAC,GAAG,EAAEA,EAAEE,OAAO,MAAM6E,MAAMlF,EAAE,KAAKG,EAAEA,EAAE,EAAE,CAACD,EAAEC,CAAC,CAAC,MAAMD,IAAIA,EAAE,IAAIC,EAAED,CAAC,CAACD,EAAEkI,cAAc,CAACG,aAAa1B,EAAGzG,GAAG,CACnY,SAASsJ,GAAGxJ,EAAEC,GAAG,IAAIC,EAAEyG,EAAG1G,EAAE0H,OAAOnG,EAAEmF,EAAG1G,EAAEgI,cAAc,MAAM/H,KAAIA,EAAE,GAAGA,KAAMF,EAAE2H,QAAQ3H,EAAE2H,MAAMzH,GAAG,MAAMD,EAAEgI,cAAcjI,EAAEiI,eAAe/H,IAAIF,EAAEiI,aAAa/H,IAAI,MAAMsB,IAAIxB,EAAEiI,aAAa,GAAGzG,EAAE,CAAC,SAASiI,GAAGzJ,GAAG,IAAIC,EAAED,EAAE0J,YAAYzJ,IAAID,EAAEkI,cAAcG,cAAc,KAAKpI,GAAG,OAAOA,IAAID,EAAE2H,MAAM1H,EAAE,CAAC,SAAS0J,GAAG3J,GAAG,OAAOA,GAAG,IAAK,MAAM,MAAM,6BAA6B,IAAK,OAAO,MAAM,qCAAqC,QAAQ,MAAM,+BAA+B,CAC7c,SAAS4J,GAAG5J,EAAEC,GAAG,OAAO,MAAMD,GAAG,iCAAiCA,EAAE2J,GAAG1J,GAAG,+BAA+BD,GAAG,kBAAkBC,EAAE,+BAA+BD,CAAC,CAChK,IAAI6J,GAAe7J,GAAZ8J,IAAY9J,GAAsJ,SAASA,EAAEC,GAAG,GAAG,+BAA+BD,EAAE+J,cAAc,cAAc/J,EAAEA,EAAEgK,UAAU/J,MAAM,CAA2F,KAA1F4J,GAAGA,IAAI/I,SAASC,cAAc,QAAUiJ,UAAU,QAAQ/J,EAAEgK,UAAUC,WAAW,SAAajK,EAAE4J,GAAGM,WAAWnK,EAAEmK,YAAYnK,EAAEoK,YAAYpK,EAAEmK,YAAY,KAAKlK,EAAEkK,YAAYnK,EAAEqK,YAAYpK,EAAEkK,WAAW,CAAC,EAAvb,qBAAqBG,OAAOA,MAAMC,wBAAwB,SAAStK,EAAEC,EAAEsB,EAAEC,GAAG6I,MAAMC,yBAAwB,WAAW,OAAOvK,GAAEC,EAAEC,EAAM,GAAE,EAAEF,IACtK,SAASwK,GAAGxK,EAAEC,GAAG,GAAGA,EAAE,CAAC,IAAIC,EAAEF,EAAEmK,WAAW,GAAGjK,GAAGA,IAAIF,EAAEyK,WAAW,IAAIvK,EAAEwK,SAAwB,YAAdxK,EAAEyK,UAAU1K,EAAS,CAACD,EAAE0J,YAAYzJ,CAAC,CACtH,IAAI2K,GAAG,CAACC,yBAAwB,EAAGC,aAAY,EAAGC,mBAAkB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,SAAQ,EAAGC,cAAa,EAAGC,iBAAgB,EAAGC,aAAY,EAAGC,SAAQ,EAAGC,MAAK,EAAGC,UAAS,EAAGC,cAAa,EAAGC,YAAW,EAAGC,cAAa,EAAGC,WAAU,EAAGC,UAAS,EAAGC,SAAQ,EAAGC,YAAW,EAAGC,aAAY,EAAGC,cAAa,EAAGC,YAAW,EAAGC,eAAc,EAAGC,gBAAe,EAAGC,iBAAgB,EAAGC,YAAW,EAAGC,WAAU,EAAGC,YAAW,EAAGC,SAAQ,EAAGC,OAAM,EAAGC,SAAQ,EAAGC,SAAQ,EAAGC,QAAO,EAAGC,QAAO,EAClfC,MAAK,EAAGC,aAAY,EAAGC,cAAa,EAAGC,aAAY,EAAGC,iBAAgB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,eAAc,EAAGC,aAAY,GAAIC,GAAG,CAAC,SAAS,KAAK,MAAM,KAA6H,SAASC,GAAGzN,EAAEC,EAAEC,GAAG,OAAO,MAAMD,GAAG,mBAAmBA,GAAG,KAAKA,EAAE,GAAGC,GAAG,kBAAkBD,GAAG,IAAIA,GAAG2K,GAAGzJ,eAAenB,IAAI4K,GAAG5K,IAAI,GAAGC,GAAGkF,OAAOlF,EAAE,IAAI,CACzb,SAASyN,GAAG1N,EAAEC,GAAa,IAAI,IAAIC,KAAlBF,EAAEA,EAAE2N,MAAmB1N,EAAE,GAAGA,EAAEkB,eAAejB,GAAG,CAAC,IAAIsB,EAAE,IAAItB,EAAE0N,QAAQ,MAAMnM,EAAEgM,GAAGvN,EAAED,EAAEC,GAAGsB,GAAG,UAAUtB,IAAIA,EAAE,YAAYsB,EAAExB,EAAE6N,YAAY3N,EAAEuB,GAAGzB,EAAEE,GAAGuB,CAAC,CAAC,CADYR,OAAO6M,KAAKlD,IAAIrI,SAAQ,SAASvC,GAAGwN,GAAGjL,SAAQ,SAAStC,GAAGA,EAAEA,EAAED,EAAE+N,OAAO,GAAGpL,cAAc3C,EAAEgO,UAAU,GAAGpD,GAAG3K,GAAG2K,GAAG5K,EAAE,GAAE,IAChI,IAAIiO,GAAGnJ,EAAE,CAACoJ,UAAS,GAAI,CAACC,MAAK,EAAGC,MAAK,EAAGC,IAAG,EAAGC,KAAI,EAAGC,OAAM,EAAGC,IAAG,EAAGC,KAAI,EAAGC,OAAM,EAAGC,QAAO,EAAGC,MAAK,EAAGC,MAAK,EAAGC,OAAM,EAAGC,QAAO,EAAGC,OAAM,EAAGC,KAAI,IAClT,SAASC,GAAGlP,EAAEC,GAAG,GAAGA,EAAE,CAAC,GAAGgO,GAAGjO,KAAK,MAAMC,EAAEqJ,UAAU,MAAMrJ,EAAEoJ,yBAAyB,MAAMpE,MAAMlF,EAAE,IAAIC,IAAI,GAAG,MAAMC,EAAEoJ,wBAAwB,CAAC,GAAG,MAAMpJ,EAAEqJ,SAAS,MAAMrE,MAAMlF,EAAE,KAAK,GAAG,kBAAkBE,EAAEoJ,2BAA2B,WAAWpJ,EAAEoJ,yBAAyB,MAAMpE,MAAMlF,EAAE,IAAK,CAAC,GAAG,MAAME,EAAE0N,OAAO,kBAAkB1N,EAAE0N,MAAM,MAAM1I,MAAMlF,EAAE,IAAK,CAAC,CAClW,SAASoP,GAAGnP,EAAEC,GAAG,IAAI,IAAID,EAAE4N,QAAQ,KAAK,MAAM,kBAAkB3N,EAAEmP,GAAG,OAAOpP,GAAG,IAAK,iBAAiB,IAAK,gBAAgB,IAAK,YAAY,IAAK,gBAAgB,IAAK,gBAAgB,IAAK,mBAAmB,IAAK,iBAAiB,IAAK,gBAAgB,OAAM,EAAG,QAAQ,OAAM,EAAG,CAAC,IAAIqP,GAAG,KAAK,SAASC,GAAGtP,GAA6F,OAA1FA,EAAEA,EAAEuP,QAAQvP,EAAEwP,YAAY3O,QAAS4O,0BAA0BzP,EAAEA,EAAEyP,yBAAgC,IAAIzP,EAAE0K,SAAS1K,EAAE0P,WAAW1P,CAAC,CAAC,IAAI2P,GAAG,KAAKC,GAAG,KAAKC,GAAG,KACpc,SAASC,GAAG9P,GAAG,GAAGA,EAAE+P,GAAG/P,GAAG,CAAC,GAAG,oBAAoB2P,GAAG,MAAM1K,MAAMlF,EAAE,MAAM,IAAIE,EAAED,EAAEgQ,UAAU/P,IAAIA,EAAEgQ,GAAGhQ,GAAG0P,GAAG3P,EAAEgQ,UAAUhQ,EAAEkC,KAAKjC,GAAG,CAAC,CAAC,SAASiQ,GAAGlQ,GAAG4P,GAAGC,GAAGA,GAAGM,KAAKnQ,GAAG6P,GAAG,CAAC7P,GAAG4P,GAAG5P,CAAC,CAAC,SAASoQ,KAAK,GAAGR,GAAG,CAAC,IAAI5P,EAAE4P,GAAG3P,EAAE4P,GAAoB,GAAjBA,GAAGD,GAAG,KAAKE,GAAG9P,GAAMC,EAAE,IAAID,EAAE,EAAEA,EAAEC,EAAEG,OAAOJ,IAAI8P,GAAG7P,EAAED,GAAG,CAAC,CAAC,SAASqQ,GAAGrQ,EAAEC,GAAG,OAAOD,EAAEC,EAAE,CAAC,SAASqQ,KAAK,CAAC,IAAIC,IAAG,EAAG,SAASC,GAAGxQ,EAAEC,EAAEC,GAAG,GAAGqQ,GAAG,OAAOvQ,EAAEC,EAAEC,GAAGqQ,IAAG,EAAG,IAAI,OAAOF,GAAGrQ,EAAEC,EAAEC,EAAE,CAAC,QAAWqQ,IAAG,GAAG,OAAOX,IAAI,OAAOC,MAAGS,KAAKF,KAAI,CAAC,CAChb,SAASK,GAAGzQ,EAAEC,GAAG,IAAIC,EAAEF,EAAEgQ,UAAU,GAAG,OAAO9P,EAAE,OAAO,KAAK,IAAIsB,EAAEyO,GAAG/P,GAAG,GAAG,OAAOsB,EAAE,OAAO,KAAKtB,EAAEsB,EAAEvB,GAAGD,EAAE,OAAOC,GAAG,IAAK,UAAU,IAAK,iBAAiB,IAAK,gBAAgB,IAAK,uBAAuB,IAAK,cAAc,IAAK,qBAAqB,IAAK,cAAc,IAAK,qBAAqB,IAAK,YAAY,IAAK,mBAAmB,IAAK,gBAAgBuB,GAAGA,EAAE2H,YAAqB3H,IAAI,YAAbxB,EAAEA,EAAEkC,OAAuB,UAAUlC,GAAG,WAAWA,GAAG,aAAaA,IAAIA,GAAGwB,EAAE,MAAMxB,EAAE,QAAQA,GAAE,EAAG,GAAGA,EAAE,OAAO,KAAK,GAAGE,GAAG,oBACleA,EAAE,MAAM+E,MAAMlF,EAAE,IAAIE,SAASC,IAAI,OAAOA,CAAC,CAAC,IAAIwQ,IAAG,EAAG,GAAG9P,EAAG,IAAI,IAAI+P,GAAG,CAAC,EAAE1P,OAAOuE,eAAemL,GAAG,UAAU,CAACzJ,IAAI,WAAWwJ,IAAG,CAAE,IAAI7P,OAAO+P,iBAAiB,OAAOD,GAAGA,IAAI9P,OAAOgQ,oBAAoB,OAAOF,GAAGA,GAAG,CAAC,MAAM3Q,IAAG0Q,IAAG,CAAE,CAAC,SAASI,GAAG9Q,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,EAAEkE,EAAEC,GAAG,IAAIF,EAAEiD,MAAM3H,UAAU2B,MAAMI,KAAK9C,UAAU,GAAG,IAAIF,EAAE8Q,MAAM7Q,EAAE0F,EAAE,CAAC,MAAMoL,GAAGpP,KAAKqP,QAAQD,EAAE,CAAC,CAAC,IAAIE,IAAG,EAAGC,GAAG,KAAKC,IAAG,EAAGC,GAAG,KAAKC,GAAG,CAACL,QAAQ,SAASjR,GAAGkR,IAAG,EAAGC,GAAGnR,CAAC,GAAG,SAASuR,GAAGvR,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,EAAEkE,EAAEC,GAAGoL,IAAG,EAAGC,GAAG,KAAKL,GAAGC,MAAMO,GAAGnR,UAAU,CACjW,SAASqR,GAAGxR,GAAG,IAAIC,EAAED,EAAEE,EAAEF,EAAE,GAAGA,EAAEyR,UAAU,KAAKxR,EAAEyR,QAAQzR,EAAEA,EAAEyR,WAAW,CAAC1R,EAAEC,EAAE,GAAO,KAAa,MAAjBA,EAAED,GAAS2R,SAAczR,EAAED,EAAEyR,QAAQ1R,EAAEC,EAAEyR,aAAa1R,EAAE,CAAC,OAAO,IAAIC,EAAEkG,IAAIjG,EAAE,IAAI,CAAC,SAAS0R,GAAG5R,GAAG,GAAG,KAAKA,EAAEmG,IAAI,CAAC,IAAIlG,EAAED,EAAE6R,cAAsE,GAAxD,OAAO5R,IAAkB,QAAdD,EAAEA,EAAEyR,aAAqBxR,EAAED,EAAE6R,gBAAmB,OAAO5R,EAAE,OAAOA,EAAE6R,UAAU,CAAC,OAAO,IAAI,CAAC,SAASC,GAAG/R,GAAG,GAAGwR,GAAGxR,KAAKA,EAAE,MAAMiF,MAAMlF,EAAE,KAAM,CAE1S,SAASiS,GAAGhS,GAAW,OAAO,QAAfA,EADtN,SAAYA,GAAG,IAAIC,EAAED,EAAEyR,UAAU,IAAIxR,EAAE,CAAS,GAAG,QAAXA,EAAEuR,GAAGxR,IAAe,MAAMiF,MAAMlF,EAAE,MAAM,OAAOE,IAAID,EAAE,KAAKA,CAAC,CAAC,IAAI,IAAIE,EAAEF,EAAEwB,EAAEvB,IAAI,CAAC,IAAIwB,EAAEvB,EAAEwR,OAAO,GAAG,OAAOjQ,EAAE,MAAM,IAAIC,EAAED,EAAEgQ,UAAU,GAAG,OAAO/P,EAAE,CAAY,GAAG,QAAdF,EAAEC,EAAEiQ,QAAmB,CAACxR,EAAEsB,EAAE,QAAQ,CAAC,KAAK,CAAC,GAAGC,EAAEwQ,QAAQvQ,EAAEuQ,MAAM,CAAC,IAAIvQ,EAAED,EAAEwQ,MAAMvQ,GAAG,CAAC,GAAGA,IAAIxB,EAAE,OAAO6R,GAAGtQ,GAAGzB,EAAE,GAAG0B,IAAIF,EAAE,OAAOuQ,GAAGtQ,GAAGxB,EAAEyB,EAAEA,EAAEwQ,OAAO,CAAC,MAAMjN,MAAMlF,EAAE,KAAM,CAAC,GAAGG,EAAEwR,SAASlQ,EAAEkQ,OAAOxR,EAAEuB,EAAED,EAAEE,MAAM,CAAC,IAAI,IAAIC,GAAE,EAAGkE,EAAEpE,EAAEwQ,MAAMpM,GAAG,CAAC,GAAGA,IAAI3F,EAAE,CAACyB,GAAE,EAAGzB,EAAEuB,EAAED,EAAEE,EAAE,KAAK,CAAC,GAAGmE,IAAIrE,EAAE,CAACG,GAAE,EAAGH,EAAEC,EAAEvB,EAAEwB,EAAE,KAAK,CAACmE,EAAEA,EAAEqM,OAAO,CAAC,IAAIvQ,EAAE,CAAC,IAAIkE,EAAEnE,EAAEuQ,MAAMpM,GAAG,CAAC,GAAGA,IAC5f3F,EAAE,CAACyB,GAAE,EAAGzB,EAAEwB,EAAEF,EAAEC,EAAE,KAAK,CAAC,GAAGoE,IAAIrE,EAAE,CAACG,GAAE,EAAGH,EAAEE,EAAExB,EAAEuB,EAAE,KAAK,CAACoE,EAAEA,EAAEqM,OAAO,CAAC,IAAIvQ,EAAE,MAAMsD,MAAMlF,EAAE,KAAM,CAAC,CAAC,GAAGG,EAAEuR,YAAYjQ,EAAE,MAAMyD,MAAMlF,EAAE,KAAM,CAAC,GAAG,IAAIG,EAAEiG,IAAI,MAAMlB,MAAMlF,EAAE,MAAM,OAAOG,EAAE8P,UAAUmC,UAAUjS,EAAEF,EAAEC,CAAC,CAAkBmS,CAAGpS,IAAmBqS,GAAGrS,GAAG,IAAI,CAAC,SAASqS,GAAGrS,GAAG,GAAG,IAAIA,EAAEmG,KAAK,IAAInG,EAAEmG,IAAI,OAAOnG,EAAE,IAAIA,EAAEA,EAAEiS,MAAM,OAAOjS,GAAG,CAAC,IAAIC,EAAEoS,GAAGrS,GAAG,GAAG,OAAOC,EAAE,OAAOA,EAAED,EAAEA,EAAEkS,OAAO,CAAC,OAAO,IAAI,CAC1X,IAAII,GAAGxS,EAAGyS,0BAA0BC,GAAG1S,EAAG2S,wBAAwBC,GAAG5S,EAAG6S,qBAAqBC,GAAG9S,EAAG+S,sBAAsBC,GAAEhT,EAAGiT,aAAaC,GAAGlT,EAAGmT,iCAAiCC,GAAGpT,EAAGqT,2BAA2BC,GAAGtT,EAAGuT,8BAA8BC,GAAGxT,EAAGyT,wBAAwBC,GAAG1T,EAAG2T,qBAAqBC,GAAG5T,EAAG6T,sBAAsBC,GAAG,KAAKC,GAAG,KACvV,IAAIC,GAAGC,KAAKC,MAAMD,KAAKC,MAAiC,SAAYhU,GAAU,OAAPA,KAAK,EAAS,IAAIA,EAAE,GAAG,IAAIiU,GAAGjU,GAAGkU,GAAG,GAAG,CAAC,EAA/ED,GAAGF,KAAKI,IAAID,GAAGH,KAAKK,IAA4D,IAAIC,GAAG,GAAGC,GAAG,QAC7H,SAASC,GAAGvU,GAAG,OAAOA,GAAGA,GAAG,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,GAAG,OAAO,GAAG,KAAK,GAAG,OAAO,GAAG,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,KAAK,QAAQ,OAAS,QAAFA,EAAU,KAAK,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,SAAS,OAAS,UAAFA,EAAY,KAAK,UAAU,OAAO,UAAU,KAAK,UAAU,OAAO,UAAU,KAAK,UAAU,OAAO,UAAU,KAAK,WAAW,OAAO,WACzgB,QAAQ,OAAOA,EAAE,CAAC,SAASwU,GAAGxU,EAAEC,GAAG,IAAIC,EAAEF,EAAEyU,aAAa,GAAG,IAAIvU,EAAE,OAAO,EAAE,IAAIsB,EAAE,EAAEC,EAAEzB,EAAE0U,eAAehT,EAAE1B,EAAE2U,YAAYhT,EAAI,UAAFzB,EAAY,GAAG,IAAIyB,EAAE,CAAC,IAAIkE,EAAElE,GAAGF,EAAE,IAAIoE,EAAErE,EAAE+S,GAAG1O,GAAS,KAALnE,GAAGC,KAAUH,EAAE+S,GAAG7S,GAAI,MAAa,KAAPC,EAAEzB,GAAGuB,GAAQD,EAAE+S,GAAG5S,GAAG,IAAID,IAAIF,EAAE+S,GAAG7S,IAAI,GAAG,IAAIF,EAAE,OAAO,EAAE,GAAG,IAAIvB,GAAGA,IAAIuB,GAAG,KAAKvB,EAAEwB,MAAKA,EAAED,GAAGA,KAAEE,EAAEzB,GAAGA,IAAQ,KAAKwB,GAAG,KAAO,QAAFC,IAAY,OAAOzB,EAA0C,GAAxC,KAAO,EAAFuB,KAAOA,GAAK,GAAFtB,GAA4B,KAAtBD,EAAED,EAAE4U,gBAAwB,IAAI5U,EAAEA,EAAE6U,cAAc5U,GAAGuB,EAAE,EAAEvB,GAAcwB,EAAE,IAAbvB,EAAE,GAAG4T,GAAG7T,IAAUuB,GAAGxB,EAAEE,GAAGD,IAAIwB,EAAE,OAAOD,CAAC,CACvc,SAASsT,GAAG9U,EAAEC,GAAG,OAAOD,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,OAAOC,EAAE,IAAI,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,KAAK,QAAQ,OAAOA,EAAE,IAAuJ,QAAQ,OAAO,EAAE,CACrN,SAAS8U,GAAG/U,GAAgC,OAAO,KAApCA,GAAkB,WAAhBA,EAAEyU,cAAsCzU,EAAI,WAAFA,EAAa,WAAW,CAAC,CAAC,SAASgV,KAAK,IAAIhV,EAAEqU,GAAoC,OAA1B,KAAQ,SAAfA,KAAK,MAAqBA,GAAG,IAAWrU,CAAC,CAAC,SAASiV,GAAGjV,GAAG,IAAI,IAAIC,EAAE,GAAGC,EAAE,EAAE,GAAGA,EAAEA,IAAID,EAAEkQ,KAAKnQ,GAAG,OAAOC,CAAC,CAC3a,SAASiV,GAAGlV,EAAEC,EAAEC,GAAGF,EAAEyU,cAAcxU,EAAE,YAAYA,IAAID,EAAE0U,eAAe,EAAE1U,EAAE2U,YAAY,IAAG3U,EAAEA,EAAEmV,YAAWlV,EAAE,GAAG6T,GAAG7T,IAAQC,CAAC,CACzH,SAASkV,GAAGpV,EAAEC,GAAG,IAAIC,EAAEF,EAAE4U,gBAAgB3U,EAAE,IAAID,EAAEA,EAAE6U,cAAc3U,GAAG,CAAC,IAAIsB,EAAE,GAAGsS,GAAG5T,GAAGuB,EAAE,GAAGD,EAAEC,EAAExB,EAAED,EAAEwB,GAAGvB,IAAID,EAAEwB,IAAIvB,GAAGC,IAAIuB,CAAC,CAAC,CAAC,IAAI4T,GAAE,EAAE,SAASC,GAAGtV,GAAS,OAAO,GAAbA,IAAIA,GAAa,EAAEA,EAAE,KAAO,UAAFA,GAAa,GAAG,UAAU,EAAE,CAAC,CAAC,IAAIuV,GAAGC,GAAGC,GAAGC,GAAGC,GAAGC,IAAG,EAAGC,GAAG,GAAGC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,IAAIC,GAAG,IAAID,IAAIE,GAAG,GAAGC,GAAG,6PAA6P/T,MAAM,KAChiB,SAASgU,GAAGtW,EAAEC,GAAG,OAAOD,GAAG,IAAK,UAAU,IAAK,WAAW8V,GAAG,KAAK,MAAM,IAAK,YAAY,IAAK,YAAYC,GAAG,KAAK,MAAM,IAAK,YAAY,IAAK,WAAWC,GAAG,KAAK,MAAM,IAAK,cAAc,IAAK,aAAaC,GAAGM,OAAOtW,EAAEuW,WAAW,MAAM,IAAK,oBAAoB,IAAK,qBAAqBL,GAAGI,OAAOtW,EAAEuW,WAAW,CACnT,SAASC,GAAGzW,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,GAAG,OAAG,OAAO1B,GAAGA,EAAE0W,cAAchV,GAAS1B,EAAE,CAAC2W,UAAU1W,EAAE2W,aAAa1W,EAAE2W,iBAAiBrV,EAAEkV,YAAYhV,EAAEoV,iBAAiB,CAACrV,IAAI,OAAOxB,IAAY,QAARA,EAAE8P,GAAG9P,KAAauV,GAAGvV,IAAID,IAAEA,EAAE6W,kBAAkBrV,EAAEvB,EAAED,EAAE8W,iBAAiB,OAAOrV,IAAI,IAAIxB,EAAE2N,QAAQnM,IAAIxB,EAAEkQ,KAAK1O,GAAUzB,EAAC,CAEpR,SAAS+W,GAAG/W,GAAG,IAAIC,EAAE+W,GAAGhX,EAAEuP,QAAQ,GAAG,OAAOtP,EAAE,CAAC,IAAIC,EAAEsR,GAAGvR,GAAG,GAAG,OAAOC,EAAE,GAAW,MAARD,EAAEC,EAAEiG,MAAY,GAAW,QAARlG,EAAE2R,GAAG1R,IAA4D,OAA/CF,EAAE2W,UAAU1W,OAAE0V,GAAG3V,EAAEiX,UAAS,WAAWxB,GAAGvV,EAAE,SAAgB,GAAG,IAAID,GAAGC,EAAE8P,UAAUmC,QAAQN,cAAcqF,aAAmE,YAArDlX,EAAE2W,UAAU,IAAIzW,EAAEiG,IAAIjG,EAAE8P,UAAUmH,cAAc,KAAY,CAACnX,EAAE2W,UAAU,IAAI,CAClT,SAASS,GAAGpX,GAAG,GAAG,OAAOA,EAAE2W,UAAU,OAAM,EAAG,IAAI,IAAI1W,EAAED,EAAE8W,iBAAiB,EAAE7W,EAAEG,QAAQ,CAAC,IAAIF,EAAEmX,GAAGrX,EAAE4W,aAAa5W,EAAE6W,iBAAiB5W,EAAE,GAAGD,EAAE0W,aAAa,GAAG,OAAOxW,EAAiG,OAAe,QAARD,EAAE8P,GAAG7P,KAAasV,GAAGvV,GAAGD,EAAE2W,UAAUzW,GAAE,EAA3H,IAAIsB,EAAE,IAAtBtB,EAAEF,EAAE0W,aAAwBzP,YAAY/G,EAAEgC,KAAKhC,GAAGmP,GAAG7N,EAAEtB,EAAEqP,OAAO+H,cAAc9V,GAAG6N,GAAG,KAA0DpP,EAAEsX,OAAO,CAAC,OAAM,CAAE,CAAC,SAASC,GAAGxX,EAAEC,EAAEC,GAAGkX,GAAGpX,IAAIE,EAAEqW,OAAOtW,EAAE,CAAC,SAASwX,KAAK7B,IAAG,EAAG,OAAOE,IAAIsB,GAAGtB,MAAMA,GAAG,MAAM,OAAOC,IAAIqB,GAAGrB,MAAMA,GAAG,MAAM,OAAOC,IAAIoB,GAAGpB,MAAMA,GAAG,MAAMC,GAAG1T,QAAQiV,IAAIrB,GAAG5T,QAAQiV,GAAG,CACnf,SAASE,GAAG1X,EAAEC,GAAGD,EAAE2W,YAAY1W,IAAID,EAAE2W,UAAU,KAAKf,KAAKA,IAAG,EAAG9V,EAAGyS,0BAA0BzS,EAAGyT,wBAAwBkE,KAAK,CAC5H,SAASE,GAAG3X,GAAG,SAASC,EAAEA,GAAG,OAAOyX,GAAGzX,EAAED,EAAE,CAAC,GAAG,EAAE6V,GAAGzV,OAAO,CAACsX,GAAG7B,GAAG,GAAG7V,GAAG,IAAI,IAAIE,EAAE,EAAEA,EAAE2V,GAAGzV,OAAOF,IAAI,CAAC,IAAIsB,EAAEqU,GAAG3V,GAAGsB,EAAEmV,YAAY3W,IAAIwB,EAAEmV,UAAU,KAAK,CAAC,CAAyF,IAAxF,OAAOb,IAAI4B,GAAG5B,GAAG9V,GAAG,OAAO+V,IAAI2B,GAAG3B,GAAG/V,GAAG,OAAOgW,IAAI0B,GAAG1B,GAAGhW,GAAGiW,GAAG1T,QAAQtC,GAAGkW,GAAG5T,QAAQtC,GAAOC,EAAE,EAAEA,EAAEkW,GAAGhW,OAAOF,KAAIsB,EAAE4U,GAAGlW,IAAKyW,YAAY3W,IAAIwB,EAAEmV,UAAU,MAAM,KAAK,EAAEP,GAAGhW,QAAiB,QAARF,EAAEkW,GAAG,IAAYO,WAAYI,GAAG7W,GAAG,OAAOA,EAAEyW,WAAWP,GAAGmB,OAAO,CAAC,IAAIK,GAAGnU,EAAGoU,wBAAwBC,IAAG,EAC5a,SAASC,GAAG/X,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAE4T,GAAE3T,EAAEkW,GAAGI,WAAWJ,GAAGI,WAAW,KAAK,IAAI3C,GAAE,EAAE4C,GAAGjY,EAAEC,EAAEC,EAAEsB,EAAE,CAAC,QAAQ6T,GAAE5T,EAAEmW,GAAGI,WAAWtW,CAAC,CAAC,CAAC,SAASwW,GAAGlY,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAE4T,GAAE3T,EAAEkW,GAAGI,WAAWJ,GAAGI,WAAW,KAAK,IAAI3C,GAAE,EAAE4C,GAAGjY,EAAEC,EAAEC,EAAEsB,EAAE,CAAC,QAAQ6T,GAAE5T,EAAEmW,GAAGI,WAAWtW,CAAC,CAAC,CACjO,SAASuW,GAAGjY,EAAEC,EAAEC,EAAEsB,GAAG,GAAGsW,GAAG,CAAC,IAAIrW,EAAE4V,GAAGrX,EAAEC,EAAEC,EAAEsB,GAAG,GAAG,OAAOC,EAAE0W,GAAGnY,EAAEC,EAAEuB,EAAE4W,GAAGlY,GAAGoW,GAAGtW,EAAEwB,QAAQ,GANtF,SAAYxB,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,OAAOxB,GAAG,IAAK,UAAU,OAAO6V,GAAGW,GAAGX,GAAG9V,EAAEC,EAAEC,EAAEsB,EAAEC,IAAG,EAAG,IAAK,YAAY,OAAOsU,GAAGU,GAAGV,GAAG/V,EAAEC,EAAEC,EAAEsB,EAAEC,IAAG,EAAG,IAAK,YAAY,OAAOuU,GAAGS,GAAGT,GAAGhW,EAAEC,EAAEC,EAAEsB,EAAEC,IAAG,EAAG,IAAK,cAAc,IAAIC,EAAED,EAAE+U,UAAkD,OAAxCP,GAAGxQ,IAAI/D,EAAE+U,GAAGR,GAAG/O,IAAIxF,IAAI,KAAK1B,EAAEC,EAAEC,EAAEsB,EAAEC,KAAU,EAAG,IAAK,oBAAoB,OAAOC,EAAED,EAAE+U,UAAUL,GAAG1Q,IAAI/D,EAAE+U,GAAGN,GAAGjP,IAAIxF,IAAI,KAAK1B,EAAEC,EAAEC,EAAEsB,EAAEC,KAAI,EAAG,OAAM,CAAE,CAM1Q4W,CAAG5W,EAAEzB,EAAEC,EAAEC,EAAEsB,GAAGA,EAAE8W,uBAAuB,GAAGhC,GAAGtW,EAAEwB,GAAK,EAAFvB,IAAM,EAAEoW,GAAGzI,QAAQ5N,GAAG,CAAC,KAAK,OAAOyB,GAAG,CAAC,IAAIC,EAAEqO,GAAGtO,GAA0D,GAAvD,OAAOC,GAAG6T,GAAG7T,GAAiB,QAAdA,EAAE2V,GAAGrX,EAAEC,EAAEC,EAAEsB,KAAa2W,GAAGnY,EAAEC,EAAEuB,EAAE4W,GAAGlY,GAAMwB,IAAID,EAAE,MAAMA,EAAEC,CAAC,CAAC,OAAOD,GAAGD,EAAE8W,iBAAiB,MAAMH,GAAGnY,EAAEC,EAAEuB,EAAE,KAAKtB,EAAE,CAAC,CAAC,IAAIkY,GAAG,KACpU,SAASf,GAAGrX,EAAEC,EAAEC,EAAEsB,GAA2B,GAAxB4W,GAAG,KAAwB,QAAXpY,EAAEgX,GAAVhX,EAAEsP,GAAG9N,KAAuB,GAAW,QAARvB,EAAEuR,GAAGxR,IAAYA,EAAE,UAAU,GAAW,MAARE,EAAED,EAAEkG,KAAW,CAAS,GAAG,QAAXnG,EAAE4R,GAAG3R,IAAe,OAAOD,EAAEA,EAAE,IAAI,MAAM,GAAG,IAAIE,EAAE,CAAC,GAAGD,EAAE+P,UAAUmC,QAAQN,cAAcqF,aAAa,OAAO,IAAIjX,EAAEkG,IAAIlG,EAAE+P,UAAUmH,cAAc,KAAKnX,EAAE,IAAI,MAAMC,IAAID,IAAIA,EAAE,MAAW,OAALoY,GAAGpY,EAAS,IAAI,CAC7S,SAASuY,GAAGvY,GAAG,OAAOA,GAAG,IAAK,SAAS,IAAK,QAAQ,IAAK,QAAQ,IAAK,cAAc,IAAK,OAAO,IAAK,MAAM,IAAK,WAAW,IAAK,WAAW,IAAK,UAAU,IAAK,YAAY,IAAK,OAAO,IAAK,UAAU,IAAK,WAAW,IAAK,QAAQ,IAAK,UAAU,IAAK,UAAU,IAAK,WAAW,IAAK,QAAQ,IAAK,YAAY,IAAK,UAAU,IAAK,QAAQ,IAAK,QAAQ,IAAK,OAAO,IAAK,gBAAgB,IAAK,cAAc,IAAK,YAAY,IAAK,aAAa,IAAK,QAAQ,IAAK,SAAS,IAAK,SAAS,IAAK,SAAS,IAAK,cAAc,IAAK,WAAW,IAAK,aAAa,IAAK,eAAe,IAAK,SAAS,IAAK,kBAAkB,IAAK,YAAY,IAAK,mBAAmB,IAAK,iBAAiB,IAAK,oBAAoB,IAAK,aAAa,IAAK,YAAY,IAAK,cAAc,IAAK,OAAO,IAAK,mBAAmB,IAAK,QAAQ,IAAK,aAAa,IAAK,WAAW,IAAK,SAAS,IAAK,cAAc,OAAO,EAAE,IAAK,OAAO,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,cAAc,IAAK,aAAa,IAAK,cAAc,IAAK,SAAS,IAAK,SAAS,IAAK,YAAY,IAAK,QAAQ,IAAK,aAAa,IAAK,aAAa,IAAK,eAAe,IAAK,eAAe,OAAO,EACpqC,IAAK,UAAU,OAAOgT,MAAM,KAAKE,GAAG,OAAO,EAAE,KAAKE,GAAG,OAAO,EAAE,KAAKE,GAAG,KAAKE,GAAG,OAAO,GAAG,KAAKE,GAAG,OAAO,UAAU,QAAQ,OAAO,GAAG,QAAQ,OAAO,GAAG,CAAC,IAAI8E,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK,SAASC,KAAK,GAAGD,GAAG,OAAOA,GAAG,IAAI1Y,EAAkBwB,EAAhBvB,EAAEwY,GAAGvY,EAAED,EAAEG,OAASqB,EAAE,UAAU+W,GAAGA,GAAG7Q,MAAM6Q,GAAG9O,YAAYhI,EAAED,EAAErB,OAAO,IAAIJ,EAAE,EAAEA,EAAEE,GAAGD,EAAED,KAAKyB,EAAEzB,GAAGA,KAAK,IAAI2B,EAAEzB,EAAEF,EAAE,IAAIwB,EAAE,EAAEA,GAAGG,GAAG1B,EAAEC,EAAEsB,KAAKC,EAAEC,EAAEF,GAAGA,KAAK,OAAOkX,GAAGjX,EAAEoB,MAAM7C,EAAE,EAAEwB,EAAE,EAAEA,OAAE,EAAO,CACxY,SAASoX,GAAG5Y,GAAG,IAAIC,EAAED,EAAE6Y,QAA+E,MAAvE,aAAa7Y,EAAgB,KAAbA,EAAEA,EAAE8Y,WAAgB,KAAK7Y,IAAID,EAAE,IAAKA,EAAEC,EAAE,KAAKD,IAAIA,EAAE,IAAW,IAAIA,GAAG,KAAKA,EAAEA,EAAE,CAAC,CAAC,SAAS+Y,KAAK,OAAM,CAAE,CAAC,SAASC,KAAK,OAAM,CAAE,CAC5K,SAASC,GAAGjZ,GAAG,SAASC,EAAEA,EAAEuB,EAAEC,EAAEC,EAAEC,GAA6G,IAAI,IAAIzB,KAAlH0B,KAAKsX,WAAWjZ,EAAE2B,KAAKuX,YAAY1X,EAAEG,KAAKM,KAAKV,EAAEI,KAAK8U,YAAYhV,EAAEE,KAAK2N,OAAO5N,EAAEC,KAAKwX,cAAc,KAAkBpZ,EAAEA,EAAEmB,eAAejB,KAAKD,EAAED,EAAEE,GAAG0B,KAAK1B,GAAGD,EAAEA,EAAEyB,GAAGA,EAAExB,IAAgI,OAA5H0B,KAAKyX,oBAAoB,MAAM3X,EAAE4X,iBAAiB5X,EAAE4X,kBAAiB,IAAK5X,EAAE6X,aAAaR,GAAGC,GAAGpX,KAAK4X,qBAAqBR,GAAUpX,IAAI,CAC9E,OAD+EkD,EAAE7E,EAAEiB,UAAU,CAACuY,eAAe,WAAW7X,KAAK0X,kBAAiB,EAAG,IAAItZ,EAAE4B,KAAK8U,YAAY1W,IAAIA,EAAEyZ,eAAezZ,EAAEyZ,iBAAiB,mBAAmBzZ,EAAEuZ,cAC7evZ,EAAEuZ,aAAY,GAAI3X,KAAKyX,mBAAmBN,GAAG,EAAET,gBAAgB,WAAW,IAAItY,EAAE4B,KAAK8U,YAAY1W,IAAIA,EAAEsY,gBAAgBtY,EAAEsY,kBAAkB,mBAAmBtY,EAAE0Z,eAAe1Z,EAAE0Z,cAAa,GAAI9X,KAAK4X,qBAAqBT,GAAG,EAAEY,QAAQ,WAAW,EAAEC,aAAab,KAAY9Y,CAAC,CACjR,IAAoL4Z,GAAGC,GAAGC,GAAtLC,GAAG,CAACC,WAAW,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,UAAU,SAASpa,GAAG,OAAOA,EAAEoa,WAAWC,KAAKC,KAAK,EAAEhB,iBAAiB,EAAEiB,UAAU,GAAGC,GAAGvB,GAAGe,IAAIS,GAAG3V,EAAE,CAAC,EAAEkV,GAAG,CAACU,KAAK,EAAEC,OAAO,IAAIC,GAAG3B,GAAGwB,IAAaI,GAAG/V,EAAE,CAAC,EAAE2V,GAAG,CAACK,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,iBAAiBC,GAAGC,OAAO,EAAEC,QAAQ,EAAEC,cAAc,SAAS5b,GAAG,YAAO,IAASA,EAAE4b,cAAc5b,EAAE6b,cAAc7b,EAAEwP,WAAWxP,EAAE8b,UAAU9b,EAAE6b,YAAY7b,EAAE4b,aAAa,EAAEG,UAAU,SAAS/b,GAAG,MAAG,cAC3eA,EAASA,EAAE+b,WAAU/b,IAAI+Z,KAAKA,IAAI,cAAc/Z,EAAEkC,MAAM2X,GAAG7Z,EAAE8a,QAAQf,GAAGe,QAAQhB,GAAG9Z,EAAE+a,QAAQhB,GAAGgB,SAASjB,GAAGD,GAAG,EAAEE,GAAG/Z,GAAU6Z,GAAE,EAAEmC,UAAU,SAAShc,GAAG,MAAM,cAAcA,EAAEA,EAAEgc,UAAUlC,EAAE,IAAImC,GAAGhD,GAAG4B,IAAiCqB,GAAGjD,GAA7BnU,EAAE,CAAC,EAAE+V,GAAG,CAACsB,aAAa,KAA4CC,GAAGnD,GAA9BnU,EAAE,CAAC,EAAE2V,GAAG,CAACmB,cAAc,KAA0ES,GAAGpD,GAA5DnU,EAAE,CAAC,EAAEkV,GAAG,CAACsC,cAAc,EAAEC,YAAY,EAAEC,cAAc,KAAcC,GAAG3X,EAAE,CAAC,EAAEkV,GAAG,CAAC0C,cAAc,SAAS1c,GAAG,MAAM,kBAAkBA,EAAEA,EAAE0c,cAAc7b,OAAO6b,aAAa,IAAIC,GAAG1D,GAAGwD,IAAyBG,GAAG3D,GAArBnU,EAAE,CAAC,EAAEkV,GAAG,CAAC6C,KAAK,KAAcC,GAAG,CAACC,IAAI,SACxfC,SAAS,IAAIC,KAAK,YAAYC,GAAG,UAAUC,MAAM,aAAaC,KAAK,YAAYC,IAAI,SAASC,IAAI,KAAKC,KAAK,cAAcC,KAAK,cAAcC,OAAO,aAAaC,gBAAgB,gBAAgBC,GAAG,CAAC,EAAE,YAAY,EAAE,MAAM,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,UAAU,GAAG,MAAM,GAAG,QAAQ,GAAG,WAAW,GAAG,SAAS,GAAG,IAAI,GAAG,SAAS,GAAG,WAAW,GAAG,MAAM,GAAG,OAAO,GAAG,YAAY,GAAG,UAAU,GAAG,aAAa,GAAG,YAAY,GAAG,SAAS,GAAG,SAAS,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KACtf,IAAI,KAAK,IAAI,KAAK,IAAI,MAAM,IAAI,MAAM,IAAI,MAAM,IAAI,UAAU,IAAI,aAAa,IAAI,QAAQC,GAAG,CAACC,IAAI,SAASC,QAAQ,UAAUC,KAAK,UAAUC,MAAM,YAAY,SAASC,GAAGje,GAAG,IAAIC,EAAE2B,KAAK8U,YAAY,OAAOzW,EAAEub,iBAAiBvb,EAAEub,iBAAiBxb,MAAIA,EAAE4d,GAAG5d,OAAMC,EAAED,EAAK,CAAC,SAASyb,KAAK,OAAOwC,EAAE,CAChS,IAAIC,GAAGpZ,EAAE,CAAC,EAAE2V,GAAG,CAAC0D,IAAI,SAASne,GAAG,GAAGA,EAAEme,IAAI,CAAC,IAAIle,EAAE6c,GAAG9c,EAAEme,MAAMne,EAAEme,IAAI,GAAG,iBAAiBle,EAAE,OAAOA,CAAC,CAAC,MAAM,aAAaD,EAAEkC,KAAc,MAARlC,EAAE4Y,GAAG5Y,IAAU,QAAQoe,OAAOC,aAAare,GAAI,YAAYA,EAAEkC,MAAM,UAAUlC,EAAEkC,KAAKyb,GAAG3d,EAAE6Y,UAAU,eAAe,EAAE,EAAEyF,KAAK,EAAEC,SAAS,EAAEnD,QAAQ,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,EAAEiD,OAAO,EAAEC,OAAO,EAAEjD,iBAAiBC,GAAG3C,SAAS,SAAS9Y,GAAG,MAAM,aAAaA,EAAEkC,KAAK0W,GAAG5Y,GAAG,CAAC,EAAE6Y,QAAQ,SAAS7Y,GAAG,MAAM,YAAYA,EAAEkC,MAAM,UAAUlC,EAAEkC,KAAKlC,EAAE6Y,QAAQ,CAAC,EAAE6F,MAAM,SAAS1e,GAAG,MAAM,aAC7eA,EAAEkC,KAAK0W,GAAG5Y,GAAG,YAAYA,EAAEkC,MAAM,UAAUlC,EAAEkC,KAAKlC,EAAE6Y,QAAQ,CAAC,IAAI8F,GAAG1F,GAAGiF,IAAiIU,GAAG3F,GAA7HnU,EAAE,CAAC,EAAE+V,GAAG,CAACrE,UAAU,EAAEqI,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAEC,mBAAmB,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,YAAY,EAAEC,UAAU,KAAmIC,GAAGrG,GAArHnU,EAAE,CAAC,EAAE2V,GAAG,CAAC8E,QAAQ,EAAEC,cAAc,EAAEC,eAAe,EAAEnE,OAAO,EAAEC,QAAQ,EAAEH,QAAQ,EAAEC,SAAS,EAAEG,iBAAiBC,MAA0EiE,GAAGzG,GAA3DnU,EAAE,CAAC,EAAEkV,GAAG,CAAC/X,aAAa,EAAEsa,YAAY,EAAEC,cAAc,KAAcmD,GAAG7a,EAAE,CAAC,EAAE+V,GAAG,CAAC+E,OAAO,SAAS5f,GAAG,MAAM,WAAWA,EAAEA,EAAE4f,OAAO,gBAAgB5f,GAAGA,EAAE6f,YAAY,CAAC,EACnfC,OAAO,SAAS9f,GAAG,MAAM,WAAWA,EAAEA,EAAE8f,OAAO,gBAAgB9f,GAAGA,EAAE+f,YAAY,eAAe/f,GAAGA,EAAEggB,WAAW,CAAC,EAAEC,OAAO,EAAEC,UAAU,IAAIC,GAAGlH,GAAG0G,IAAIS,GAAG,CAAC,EAAE,GAAG,GAAG,IAAIC,GAAGzf,GAAI,qBAAqBC,OAAOyf,GAAG,KAAK1f,GAAI,iBAAiBE,WAAWwf,GAAGxf,SAASyf,cAAc,IAAIC,GAAG5f,GAAI,cAAcC,SAASyf,GAAGG,GAAG7f,KAAMyf,IAAIC,IAAI,EAAEA,IAAI,IAAIA,IAAII,GAAGtC,OAAOC,aAAa,IAAIsC,IAAG,EAC1W,SAASC,GAAG5gB,EAAEC,GAAG,OAAOD,GAAG,IAAK,QAAQ,OAAO,IAAIogB,GAAGxS,QAAQ3N,EAAE4Y,SAAS,IAAK,UAAU,OAAO,MAAM5Y,EAAE4Y,QAAQ,IAAK,WAAW,IAAK,YAAY,IAAK,WAAW,OAAM,EAAG,QAAQ,OAAM,EAAG,CAAC,SAASgI,GAAG7gB,GAAc,MAAM,kBAAjBA,EAAEA,EAAE2a,SAAkC,SAAS3a,EAAEA,EAAE6c,KAAK,IAAI,CAAC,IAAIiE,IAAG,EAE9Q,IAAIC,GAAG,CAACC,OAAM,EAAGC,MAAK,EAAGC,UAAS,EAAG,kBAAiB,EAAGC,OAAM,EAAGC,OAAM,EAAGC,QAAO,EAAGC,UAAS,EAAGC,OAAM,EAAGC,QAAO,EAAGC,KAAI,EAAGC,MAAK,EAAGC,MAAK,EAAGC,KAAI,EAAGC,MAAK,GAAI,SAASC,GAAG9hB,GAAG,IAAIC,EAAED,GAAGA,EAAE6G,UAAU7G,EAAE6G,SAASrE,cAAc,MAAM,UAAUvC,IAAI8gB,GAAG/gB,EAAEkC,MAAM,aAAajC,CAAO,CAAC,SAAS8hB,GAAG/hB,EAAEC,EAAEC,EAAEsB,GAAG0O,GAAG1O,GAAsB,GAAnBvB,EAAE+hB,GAAG/hB,EAAE,aAAgBG,SAASF,EAAE,IAAIsa,GAAG,WAAW,SAAS,KAAKta,EAAEsB,GAAGxB,EAAEmQ,KAAK,CAAC8R,MAAM/hB,EAAEgiB,UAAUjiB,IAAI,CAAC,IAAIkiB,GAAG,KAAKC,GAAG,KAAK,SAASC,GAAGriB,GAAGsiB,GAAGtiB,EAAE,EAAE,CAAC,SAASuiB,GAAGviB,GAAe,GAAGyH,EAAT+a,GAAGxiB,IAAY,OAAOA,CAAC,CACpe,SAASyiB,GAAGziB,EAAEC,GAAG,GAAG,WAAWD,EAAE,OAAOC,CAAC,CAAC,IAAIyiB,IAAG,EAAG,GAAG9hB,EAAG,CAAC,IAAI+hB,GAAG,GAAG/hB,EAAG,CAAC,IAAIgiB,GAAG,YAAY9hB,SAAS,IAAI8hB,GAAG,CAAC,IAAIC,GAAG/hB,SAASC,cAAc,OAAO8hB,GAAGxf,aAAa,UAAU,WAAWuf,GAAG,oBAAoBC,GAAGC,OAAO,CAACH,GAAGC,EAAE,MAAMD,IAAG,EAAGD,GAAGC,MAAM7hB,SAASyf,cAAc,EAAEzf,SAASyf,aAAa,CAAC,SAASwC,KAAKZ,KAAKA,GAAGa,YAAY,mBAAmBC,IAAIb,GAAGD,GAAG,KAAK,CAAC,SAASc,GAAGjjB,GAAG,GAAG,UAAUA,EAAEiC,cAAcsgB,GAAGH,IAAI,CAAC,IAAIniB,EAAE,GAAG8hB,GAAG9hB,EAAEmiB,GAAGpiB,EAAEsP,GAAGtP,IAAIwQ,GAAG6R,GAAGpiB,EAAE,CAAC,CAC/b,SAASijB,GAAGljB,EAAEC,EAAEC,GAAG,YAAYF,GAAG+iB,KAAUX,GAAGliB,GAARiiB,GAAGliB,GAAUkjB,YAAY,mBAAmBF,KAAK,aAAajjB,GAAG+iB,IAAI,CAAC,SAASK,GAAGpjB,GAAG,GAAG,oBAAoBA,GAAG,UAAUA,GAAG,YAAYA,EAAE,OAAOuiB,GAAGH,GAAG,CAAC,SAASiB,GAAGrjB,EAAEC,GAAG,GAAG,UAAUD,EAAE,OAAOuiB,GAAGtiB,EAAE,CAAC,SAASqjB,GAAGtjB,EAAEC,GAAG,GAAG,UAAUD,GAAG,WAAWA,EAAE,OAAOuiB,GAAGtiB,EAAE,CAAiE,IAAIsjB,GAAG,oBAAoBtiB,OAAOmO,GAAGnO,OAAOmO,GAA5G,SAAYpP,EAAEC,GAAG,OAAOD,IAAIC,IAAI,IAAID,GAAG,EAAEA,IAAI,EAAEC,IAAID,IAAIA,GAAGC,IAAIA,CAAC,EACtW,SAASujB,GAAGxjB,EAAEC,GAAG,GAAGsjB,GAAGvjB,EAAEC,GAAG,OAAM,EAAG,GAAG,kBAAkBD,GAAG,OAAOA,GAAG,kBAAkBC,GAAG,OAAOA,EAAE,OAAM,EAAG,IAAIC,EAAEe,OAAO6M,KAAK9N,GAAGwB,EAAEP,OAAO6M,KAAK7N,GAAG,GAAGC,EAAEE,SAASoB,EAAEpB,OAAO,OAAM,EAAG,IAAIoB,EAAE,EAAEA,EAAEtB,EAAEE,OAAOoB,IAAI,CAAC,IAAIC,EAAEvB,EAAEsB,GAAG,IAAIR,EAAGiC,KAAKhD,EAAEwB,KAAK8hB,GAAGvjB,EAAEyB,GAAGxB,EAAEwB,IAAI,OAAM,CAAE,CAAC,OAAM,CAAE,CAAC,SAASgiB,GAAGzjB,GAAG,KAAKA,GAAGA,EAAEmK,YAAYnK,EAAEA,EAAEmK,WAAW,OAAOnK,CAAC,CACtU,SAAS0jB,GAAG1jB,EAAEC,GAAG,IAAwBuB,EAApBtB,EAAEujB,GAAGzjB,GAAO,IAAJA,EAAE,EAAYE,GAAG,CAAC,GAAG,IAAIA,EAAEwK,SAAS,CAA0B,GAAzBlJ,EAAExB,EAAEE,EAAEwJ,YAAYtJ,OAAUJ,GAAGC,GAAGuB,GAAGvB,EAAE,MAAM,CAAC0jB,KAAKzjB,EAAE0jB,OAAO3jB,EAAED,GAAGA,EAAEwB,CAAC,CAACxB,EAAE,CAAC,KAAKE,GAAG,CAAC,GAAGA,EAAE2jB,YAAY,CAAC3jB,EAAEA,EAAE2jB,YAAY,MAAM7jB,CAAC,CAACE,EAAEA,EAAEwP,UAAU,CAACxP,OAAE,CAAM,CAACA,EAAEujB,GAAGvjB,EAAE,CAAC,CAAC,SAAS4jB,GAAG9jB,EAAEC,GAAG,SAAOD,IAAGC,KAAED,IAAIC,KAAKD,GAAG,IAAIA,EAAE0K,YAAYzK,GAAG,IAAIA,EAAEyK,SAASoZ,GAAG9jB,EAAEC,EAAEyP,YAAY,aAAa1P,EAAEA,EAAE+jB,SAAS9jB,KAAGD,EAAEgkB,4BAAwD,GAA7BhkB,EAAEgkB,wBAAwB/jB,KAAY,CAC9Z,SAASgkB,KAAK,IAAI,IAAIjkB,EAAEa,OAAOZ,EAAE2H,IAAK3H,aAAaD,EAAEkkB,mBAAmB,CAAC,IAAI,IAAIhkB,EAAE,kBAAkBD,EAAEkkB,cAAc5F,SAAS6F,IAAI,CAAC,MAAM5iB,GAAGtB,GAAE,CAAE,CAAC,IAAGA,EAAyB,MAAMD,EAAE2H,GAA/B5H,EAAEC,EAAEkkB,eAAgCrjB,SAAS,CAAC,OAAOb,CAAC,CAAC,SAASokB,GAAGrkB,GAAG,IAAIC,EAAED,GAAGA,EAAE6G,UAAU7G,EAAE6G,SAASrE,cAAc,OAAOvC,IAAI,UAAUA,IAAI,SAASD,EAAEkC,MAAM,WAAWlC,EAAEkC,MAAM,QAAQlC,EAAEkC,MAAM,QAAQlC,EAAEkC,MAAM,aAAalC,EAAEkC,OAAO,aAAajC,GAAG,SAASD,EAAEskB,gBAAgB,CACxa,SAASC,GAAGvkB,GAAG,IAAIC,EAAEgkB,KAAK/jB,EAAEF,EAAEwkB,YAAYhjB,EAAExB,EAAEykB,eAAe,GAAGxkB,IAAIC,GAAGA,GAAGA,EAAEyI,eAAemb,GAAG5jB,EAAEyI,cAAc+b,gBAAgBxkB,GAAG,CAAC,GAAG,OAAOsB,GAAG6iB,GAAGnkB,GAAG,GAAGD,EAAEuB,EAAEmjB,WAAc,KAAR3kB,EAAEwB,EAAEojB,OAAiB5kB,EAAEC,GAAG,mBAAmBC,EAAEA,EAAE2kB,eAAe5kB,EAAEC,EAAE4kB,aAAa/Q,KAAKgR,IAAI/kB,EAAEE,EAAEyH,MAAMvH,aAAa,IAAGJ,GAAGC,EAAEC,EAAEyI,eAAe7H,WAAWb,EAAE+kB,aAAankB,QAASokB,aAAa,CAACjlB,EAAEA,EAAEilB,eAAe,IAAIxjB,EAAEvB,EAAEwJ,YAAYtJ,OAAOsB,EAAEqS,KAAKgR,IAAIvjB,EAAEmjB,MAAMljB,GAAGD,OAAE,IAASA,EAAEojB,IAAIljB,EAAEqS,KAAKgR,IAAIvjB,EAAEojB,IAAInjB,IAAIzB,EAAEklB,QAAQxjB,EAAEF,IAAIC,EAAED,EAAEA,EAAEE,EAAEA,EAAED,GAAGA,EAAEiiB,GAAGxjB,EAAEwB,GAAG,IAAIC,EAAE+hB,GAAGxjB,EACvfsB,GAAGC,GAAGE,IAAI,IAAI3B,EAAEmlB,YAAYnlB,EAAEolB,aAAa3jB,EAAEkiB,MAAM3jB,EAAEqlB,eAAe5jB,EAAEmiB,QAAQ5jB,EAAEslB,YAAY3jB,EAAEgiB,MAAM3jB,EAAEulB,cAAc5jB,EAAEiiB,WAAU3jB,EAAEA,EAAEulB,eAAgBC,SAAShkB,EAAEkiB,KAAKliB,EAAEmiB,QAAQ5jB,EAAE0lB,kBAAkBhkB,EAAEF,GAAGxB,EAAE2lB,SAAS1lB,GAAGD,EAAEklB,OAAOvjB,EAAEgiB,KAAKhiB,EAAEiiB,UAAU3jB,EAAE2lB,OAAOjkB,EAAEgiB,KAAKhiB,EAAEiiB,QAAQ5jB,EAAE2lB,SAAS1lB,IAAI,CAAM,IAALA,EAAE,GAAOD,EAAEE,EAAEF,EAAEA,EAAE0P,YAAY,IAAI1P,EAAE0K,UAAUzK,EAAEkQ,KAAK,CAAC0V,QAAQ7lB,EAAE8lB,KAAK9lB,EAAE+lB,WAAWC,IAAIhmB,EAAEimB,YAAmD,IAAvC,oBAAoB/lB,EAAEgmB,OAAOhmB,EAAEgmB,QAAYhmB,EAAE,EAAEA,EAAED,EAAEG,OAAOF,KAAIF,EAAEC,EAAEC,IAAK2lB,QAAQE,WAAW/lB,EAAE8lB,KAAK9lB,EAAE6lB,QAAQI,UAAUjmB,EAAEgmB,GAAG,CAAC,CACzf,IAAIG,GAAGvlB,GAAI,iBAAiBE,UAAU,IAAIA,SAASyf,aAAa6F,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,IAAG,EAC3F,SAASC,GAAGxmB,EAAEC,EAAEC,GAAG,IAAIsB,EAAEtB,EAAEW,SAASX,EAAEA,EAAEY,SAAS,IAAIZ,EAAEwK,SAASxK,EAAEA,EAAEyI,cAAc4d,IAAI,MAAMH,IAAIA,KAAKxe,EAAGpG,KAAU,mBAALA,EAAE4kB,KAAyB/B,GAAG7iB,GAAGA,EAAE,CAACmjB,MAAMnjB,EAAEqjB,eAAeD,IAAIpjB,EAAEsjB,cAAuFtjB,EAAE,CAAC4jB,YAA3E5jB,GAAGA,EAAEmH,eAAenH,EAAEmH,cAAcqc,aAAankB,QAAQokB,gBAA+BG,WAAWC,aAAa7jB,EAAE6jB,aAAaC,UAAU9jB,EAAE8jB,UAAUC,YAAY/jB,EAAE+jB,aAAce,IAAI9C,GAAG8C,GAAG9kB,KAAK8kB,GAAG9kB,EAAsB,GAApBA,EAAEwgB,GAAGqE,GAAG,aAAgBjmB,SAASH,EAAE,IAAIua,GAAG,WAAW,SAAS,KAAKva,EAAEC,GAAGF,EAAEmQ,KAAK,CAAC8R,MAAMhiB,EAAEiiB,UAAU1gB,IAAIvB,EAAEsP,OAAO6W,KAAK,CACtf,SAASK,GAAGzmB,EAAEC,GAAG,IAAIC,EAAE,CAAC,EAAiF,OAA/EA,EAAEF,EAAEwC,eAAevC,EAAEuC,cAActC,EAAE,SAASF,GAAG,SAASC,EAAEC,EAAE,MAAMF,GAAG,MAAMC,EAASC,CAAC,CAAC,IAAIwmB,GAAG,CAACC,aAAaF,GAAG,YAAY,gBAAgBG,mBAAmBH,GAAG,YAAY,sBAAsBI,eAAeJ,GAAG,YAAY,kBAAkBK,cAAcL,GAAG,aAAa,kBAAkBM,GAAG,CAAC,EAAEC,GAAG,CAAC,EACpF,SAASC,GAAGjnB,GAAG,GAAG+mB,GAAG/mB,GAAG,OAAO+mB,GAAG/mB,GAAG,IAAI0mB,GAAG1mB,GAAG,OAAOA,EAAE,IAAYE,EAARD,EAAEymB,GAAG1mB,GAAK,IAAIE,KAAKD,EAAE,GAAGA,EAAEkB,eAAejB,IAAIA,KAAK8mB,GAAG,OAAOD,GAAG/mB,GAAGC,EAAEC,GAAG,OAAOF,CAAC,CAA/XY,IAAKomB,GAAGlmB,SAASC,cAAc,OAAO4M,MAAM,mBAAmB9M,gBAAgB6lB,GAAGC,aAAaO,iBAAiBR,GAAGE,mBAAmBM,iBAAiBR,GAAGG,eAAeK,WAAW,oBAAoBrmB,eAAe6lB,GAAGI,cAAc9O,YAAwJ,IAAImP,GAAGF,GAAG,gBAAgBG,GAAGH,GAAG,sBAAsBI,GAAGJ,GAAG,kBAAkBK,GAAGL,GAAG,iBAAiBM,GAAG,IAAIrR,IAAIsR,GAAG,smBAAsmBllB,MAAM,KAC/lC,SAASmlB,GAAGznB,EAAEC,GAAGsnB,GAAG9hB,IAAIzF,EAAEC,GAAGQ,EAAGR,EAAE,CAACD,GAAG,CAAC,IAAI,IAAI0nB,GAAG,EAAEA,GAAGF,GAAGpnB,OAAOsnB,KAAK,CAAC,IAAIC,GAAGH,GAAGE,IAA2DD,GAApDE,GAAGnlB,cAAuD,MAAtCmlB,GAAG,GAAGhlB,cAAcglB,GAAG9kB,MAAM,IAAiB,CAAC4kB,GAAGN,GAAG,kBAAkBM,GAAGL,GAAG,wBAAwBK,GAAGJ,GAAG,oBAAoBI,GAAG,WAAW,iBAAiBA,GAAG,UAAU,WAAWA,GAAG,WAAW,UAAUA,GAAGH,GAAG,mBAAmB5mB,EAAG,eAAe,CAAC,WAAW,cAAcA,EAAG,eAAe,CAAC,WAAW,cAAcA,EAAG,iBAAiB,CAAC,aAAa,gBAC7cA,EAAG,iBAAiB,CAAC,aAAa,gBAAgBD,EAAG,WAAW,oEAAoE6B,MAAM,MAAM7B,EAAG,WAAW,uFAAuF6B,MAAM,MAAM7B,EAAG,gBAAgB,CAAC,iBAAiB,WAAW,YAAY,UAAUA,EAAG,mBAAmB,2DAA2D6B,MAAM,MAAM7B,EAAG,qBAAqB,6DAA6D6B,MAAM,MAC/f7B,EAAG,sBAAsB,8DAA8D6B,MAAM,MAAM,IAAIslB,GAAG,6NAA6NtlB,MAAM,KAAKulB,GAAG,IAAItnB,IAAI,0CAA0C+B,MAAM,KAAKwlB,OAAOF,KACzZ,SAASG,GAAG/nB,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEkC,MAAM,gBAAgBlC,EAAEoZ,cAAclZ,EAlDjE,SAAYF,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,EAAEkE,EAAEC,GAA4B,GAAzByL,GAAGR,MAAMnP,KAAKzB,WAAc+Q,GAAG,CAAC,IAAGA,GAAgC,MAAMjM,MAAMlF,EAAE,MAA1C,IAAI6F,EAAEuL,GAAGD,IAAG,EAAGC,GAAG,KAA8BC,KAAKA,IAAG,EAAGC,GAAGzL,EAAE,CAAC,CAkDpEoiB,CAAGxmB,EAAEvB,OAAE,EAAOD,GAAGA,EAAEoZ,cAAc,IAAI,CACxG,SAASkJ,GAAGtiB,EAAEC,GAAGA,EAAE,KAAO,EAAFA,GAAK,IAAI,IAAIC,EAAE,EAAEA,EAAEF,EAAEI,OAAOF,IAAI,CAAC,IAAIsB,EAAExB,EAAEE,GAAGuB,EAAED,EAAEygB,MAAMzgB,EAAEA,EAAE0gB,UAAUliB,EAAE,CAAC,IAAI0B,OAAE,EAAO,GAAGzB,EAAE,IAAI,IAAI0B,EAAEH,EAAEpB,OAAO,EAAE,GAAGuB,EAAEA,IAAI,CAAC,IAAIkE,EAAErE,EAAEG,GAAGmE,EAAED,EAAEoiB,SAASriB,EAAEC,EAAEuT,cAA2B,GAAbvT,EAAEA,EAAEqiB,SAAYpiB,IAAIpE,GAAGD,EAAE+X,uBAAuB,MAAMxZ,EAAE+nB,GAAGtmB,EAAEoE,EAAED,GAAGlE,EAAEoE,CAAC,MAAM,IAAInE,EAAE,EAAEA,EAAEH,EAAEpB,OAAOuB,IAAI,CAAoD,GAA5CmE,GAAPD,EAAErE,EAAEG,IAAOsmB,SAASriB,EAAEC,EAAEuT,cAAcvT,EAAEA,EAAEqiB,SAAYpiB,IAAIpE,GAAGD,EAAE+X,uBAAuB,MAAMxZ,EAAE+nB,GAAGtmB,EAAEoE,EAAED,GAAGlE,EAAEoE,CAAC,CAAC,CAAC,CAAC,GAAGsL,GAAG,MAAMpR,EAAEqR,GAAGD,IAAG,EAAGC,GAAG,KAAKrR,CAAE,CAC5a,SAASmoB,GAAEnoB,EAAEC,GAAG,IAAIC,EAAED,EAAEmoB,SAAI,IAASloB,IAAIA,EAAED,EAAEmoB,IAAI,IAAI7nB,KAAK,IAAIiB,EAAExB,EAAE,WAAWE,EAAEmoB,IAAI7mB,KAAK8mB,GAAGroB,EAAED,EAAE,GAAE,GAAIE,EAAES,IAAIa,GAAG,CAAC,SAAS+mB,GAAGvoB,EAAEC,EAAEC,GAAG,IAAIsB,EAAE,EAAEvB,IAAIuB,GAAG,GAAG8mB,GAAGpoB,EAAEF,EAAEwB,EAAEvB,EAAE,CAAC,IAAIuoB,GAAG,kBAAkBzU,KAAK0U,SAASve,SAAS,IAAIrH,MAAM,GAAG,SAAS6lB,GAAG1oB,GAAG,IAAIA,EAAEwoB,IAAI,CAACxoB,EAAEwoB,KAAI,EAAGloB,EAAGiC,SAAQ,SAAStC,GAAG,oBAAoBA,IAAI4nB,GAAGQ,IAAIpoB,IAAIsoB,GAAGtoB,GAAE,EAAGD,GAAGuoB,GAAGtoB,GAAE,EAAGD,GAAG,IAAG,IAAIC,EAAE,IAAID,EAAE0K,SAAS1K,EAAEA,EAAE2I,cAAc,OAAO1I,GAAGA,EAAEuoB,MAAMvoB,EAAEuoB,KAAI,EAAGD,GAAG,mBAAkB,EAAGtoB,GAAG,CAAC,CACjb,SAASqoB,GAAGtoB,EAAEC,EAAEC,EAAEsB,GAAG,OAAO+W,GAAGtY,IAAI,KAAK,EAAE,IAAIwB,EAAEsW,GAAG,MAAM,KAAK,EAAEtW,EAAEyW,GAAG,MAAM,QAAQzW,EAAEwW,GAAG/X,EAAEuB,EAAEknB,KAAK,KAAK1oB,EAAEC,EAAEF,GAAGyB,OAAE,GAAQiP,IAAI,eAAezQ,GAAG,cAAcA,GAAG,UAAUA,IAAIwB,GAAE,GAAID,OAAE,IAASC,EAAEzB,EAAE4Q,iBAAiB3Q,EAAEC,EAAE,CAAC0oB,SAAQ,EAAGC,QAAQpnB,IAAIzB,EAAE4Q,iBAAiB3Q,EAAEC,GAAE,QAAI,IAASuB,EAAEzB,EAAE4Q,iBAAiB3Q,EAAEC,EAAE,CAAC2oB,QAAQpnB,IAAIzB,EAAE4Q,iBAAiB3Q,EAAEC,GAAE,EAAG,CAClV,SAASiY,GAAGnY,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,IAAIC,EAAEF,EAAE,GAAG,KAAO,EAAFvB,IAAM,KAAO,EAAFA,IAAM,OAAOuB,EAAExB,EAAE,OAAO,CAAC,GAAG,OAAOwB,EAAE,OAAO,IAAIG,EAAEH,EAAE2E,IAAI,GAAG,IAAIxE,GAAG,IAAIA,EAAE,CAAC,IAAIkE,EAAErE,EAAEwO,UAAUmH,cAAc,GAAGtR,IAAIpE,GAAG,IAAIoE,EAAE6E,UAAU7E,EAAE6J,aAAajO,EAAE,MAAM,GAAG,IAAIE,EAAE,IAAIA,EAAEH,EAAEkQ,OAAO,OAAO/P,GAAG,CAAC,IAAImE,EAAEnE,EAAEwE,IAAI,IAAG,IAAIL,GAAG,IAAIA,MAAKA,EAAEnE,EAAEqO,UAAUmH,iBAAkB1V,GAAG,IAAIqE,EAAE4E,UAAU5E,EAAE4J,aAAajO,GAAE,OAAOE,EAAEA,EAAE+P,MAAM,CAAC,KAAK,OAAO7L,GAAG,CAAS,GAAG,QAAXlE,EAAEqV,GAAGnR,IAAe,OAAe,GAAG,KAAXC,EAAEnE,EAAEwE,MAAc,IAAIL,EAAE,CAACtE,EAAEE,EAAEC,EAAE,SAAS3B,CAAC,CAAC6F,EAAEA,EAAE6J,UAAU,CAAC,CAAClO,EAAEA,EAAEkQ,MAAM,CAAClB,IAAG,WAAW,IAAIhP,EAAEE,EAAED,EAAE6N,GAAGpP,GAAGyB,EAAE,GACpf3B,EAAE,CAAC,IAAI6F,EAAE0hB,GAAGrgB,IAAIlH,GAAG,QAAG,IAAS6F,EAAE,CAAC,IAAIC,EAAE0U,GAAGsO,EAAE9oB,EAAE,OAAOA,GAAG,IAAK,WAAW,GAAG,IAAI4Y,GAAG1Y,GAAG,MAAMF,EAAE,IAAK,UAAU,IAAK,QAAQ8F,EAAE6Y,GAAG,MAAM,IAAK,UAAUmK,EAAE,QAAQhjB,EAAEsW,GAAG,MAAM,IAAK,WAAW0M,EAAE,OAAOhjB,EAAEsW,GAAG,MAAM,IAAK,aAAa,IAAK,YAAYtW,EAAEsW,GAAG,MAAM,IAAK,QAAQ,GAAG,IAAIlc,EAAEwb,OAAO,MAAM1b,EAAE,IAAK,WAAW,IAAK,WAAW,IAAK,YAAY,IAAK,YAAY,IAAK,UAAU,IAAK,WAAW,IAAK,YAAY,IAAK,cAAc8F,EAAEmW,GAAG,MAAM,IAAK,OAAO,IAAK,UAAU,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,WAAW,IAAK,YAAY,IAAK,OAAOnW,EAC1iBoW,GAAG,MAAM,IAAK,cAAc,IAAK,WAAW,IAAK,YAAY,IAAK,aAAapW,EAAEwZ,GAAG,MAAM,KAAK6H,GAAG,KAAKC,GAAG,KAAKC,GAAGvhB,EAAEuW,GAAG,MAAM,KAAKiL,GAAGxhB,EAAE4Z,GAAG,MAAM,IAAK,SAAS5Z,EAAE8U,GAAG,MAAM,IAAK,QAAQ9U,EAAEqa,GAAG,MAAM,IAAK,OAAO,IAAK,MAAM,IAAK,QAAQra,EAAE6W,GAAG,MAAM,IAAK,oBAAoB,IAAK,qBAAqB,IAAK,gBAAgB,IAAK,cAAc,IAAK,cAAc,IAAK,aAAa,IAAK,cAAc,IAAK,YAAY7W,EAAE8Y,GAAG,IAAImK,EAAE,KAAO,EAAF9oB,GAAK+oB,GAAGD,GAAG,WAAW/oB,EAAEipB,EAAEF,EAAE,OAAOljB,EAAEA,EAAE,UAAU,KAAKA,EAAEkjB,EAAE,GAAG,IAAI,IAAQG,EAAJC,EAAE3nB,EAAI,OAC/e2nB,GAAG,CAAK,IAAIC,GAARF,EAAEC,GAAUnZ,UAAsF,GAA5E,IAAIkZ,EAAE/iB,KAAK,OAAOijB,IAAIF,EAAEE,EAAE,OAAOH,IAAc,OAAVG,EAAE3Y,GAAG0Y,EAAEF,KAAYF,EAAE5Y,KAAKkZ,GAAGF,EAAEC,EAAEF,MAASF,EAAE,MAAMG,EAAEA,EAAEzX,MAAM,CAAC,EAAEqX,EAAE3oB,SAASyF,EAAE,IAAIC,EAAED,EAAEijB,EAAE,KAAK5oB,EAAEuB,GAAGE,EAAEwO,KAAK,CAAC8R,MAAMpc,EAAEqc,UAAU6G,IAAI,CAAC,CAAC,GAAG,KAAO,EAAF9oB,GAAK,CAA4E,GAAnC6F,EAAE,aAAa9F,GAAG,eAAeA,KAAtE6F,EAAE,cAAc7F,GAAG,gBAAgBA,IAA2CE,IAAImP,MAAKyZ,EAAE5oB,EAAE0b,eAAe1b,EAAE2b,eAAe7E,GAAG8R,KAAIA,EAAEQ,OAAgBxjB,GAAGD,KAAGA,EAAEpE,EAAEZ,SAASY,EAAEA,GAAGoE,EAAEpE,EAAEkH,eAAe9C,EAAEmf,aAAanf,EAAE0jB,aAAa1oB,OAAUiF,GAAqCA,EAAEtE,EAAiB,QAAfsnB,GAAnCA,EAAE5oB,EAAE0b,eAAe1b,EAAE4b,WAAkB9E,GAAG8R,GAAG,QAC9dA,KAARE,EAAExX,GAAGsX,KAAU,IAAIA,EAAE3iB,KAAK,IAAI2iB,EAAE3iB,OAAK2iB,EAAE,QAAUhjB,EAAE,KAAKgjB,EAAEtnB,GAAKsE,IAAIgjB,GAAE,CAAgU,GAA/TC,EAAE9M,GAAGmN,EAAE,eAAeH,EAAE,eAAeE,EAAE,QAAW,eAAenpB,GAAG,gBAAgBA,IAAE+oB,EAAEnK,GAAGwK,EAAE,iBAAiBH,EAAE,iBAAiBE,EAAE,WAAUH,EAAE,MAAMljB,EAAED,EAAE2c,GAAG1c,GAAGojB,EAAE,MAAMJ,EAAEjjB,EAAE2c,GAAGsG,IAAGjjB,EAAE,IAAIkjB,EAAEK,EAAED,EAAE,QAAQrjB,EAAE5F,EAAEuB,IAAK8N,OAAOyZ,EAAEnjB,EAAE+V,cAAcsN,EAAEE,EAAE,KAAKpS,GAAGvV,KAAKD,KAAIunB,EAAE,IAAIA,EAAEE,EAAEE,EAAE,QAAQL,EAAE5oB,EAAEuB,IAAK8N,OAAO2Z,EAAEH,EAAEnN,cAAcoN,EAAEI,EAAEL,GAAGC,EAAEI,EAAKtjB,GAAGgjB,EAAE7oB,EAAE,CAAa,IAARgpB,EAAEH,EAAEK,EAAE,EAAMD,EAAhBH,EAAEjjB,EAAkBojB,EAAEA,EAAEM,GAAGN,GAAGC,IAAQ,IAAJD,EAAE,EAAME,EAAEH,EAAEG,EAAEA,EAAEI,GAAGJ,GAAGF,IAAI,KAAK,EAAEC,EAAED,GAAGH,EAAES,GAAGT,GAAGI,IAAI,KAAK,EAAED,EAAEC,GAAGF,EACpfO,GAAGP,GAAGC,IAAI,KAAKC,KAAK,CAAC,GAAGJ,IAAIE,GAAG,OAAOA,GAAGF,IAAIE,EAAExX,UAAU,MAAMxR,EAAE8oB,EAAES,GAAGT,GAAGE,EAAEO,GAAGP,EAAE,CAACF,EAAE,IAAI,MAAMA,EAAE,KAAK,OAAOjjB,GAAG2jB,GAAG9nB,EAAEkE,EAAEC,EAAEijB,GAAE,GAAI,OAAOD,GAAG,OAAOE,GAAGS,GAAG9nB,EAAEqnB,EAAEF,EAAEC,GAAE,EAAG,CAA8D,GAAG,YAA1CjjB,GAAjBD,EAAErE,EAAEghB,GAAGhhB,GAAGX,QAAWgG,UAAUhB,EAAEgB,SAASrE,gBAA+B,UAAUsD,GAAG,SAASD,EAAE3D,KAAK,IAAIwnB,EAAGjH,QAAQ,GAAGX,GAAGjc,GAAG,GAAG6c,GAAGgH,EAAGpG,OAAO,CAACoG,EAAGtG,GAAG,IAAIuG,EAAGzG,EAAE,MAAMpd,EAAED,EAAEgB,WAAW,UAAUf,EAAEtD,gBAAgB,aAAaqD,EAAE3D,MAAM,UAAU2D,EAAE3D,QAAQwnB,EAAGrG,IACrV,OAD4VqG,IAAKA,EAAGA,EAAG1pB,EAAEwB,IAAKugB,GAAGpgB,EAAE+nB,EAAGxpB,EAAEuB,IAAWkoB,GAAIA,EAAG3pB,EAAE6F,EAAErE,GAAG,aAAaxB,IAAI2pB,EAAG9jB,EAAEqC,gBAClfyhB,EAAGrhB,YAAY,WAAWzC,EAAE3D,MAAMuG,GAAG5C,EAAE,SAASA,EAAE8B,QAAOgiB,EAAGnoB,EAAEghB,GAAGhhB,GAAGX,OAAcb,GAAG,IAAK,WAAa8hB,GAAG6H,IAAK,SAASA,EAAGrF,mBAAgB8B,GAAGuD,EAAGtD,GAAG7kB,EAAE8kB,GAAG,MAAK,MAAM,IAAK,WAAWA,GAAGD,GAAGD,GAAG,KAAK,MAAM,IAAK,YAAYG,IAAG,EAAG,MAAM,IAAK,cAAc,IAAK,UAAU,IAAK,UAAUA,IAAG,EAAGC,GAAG7kB,EAAEzB,EAAEuB,GAAG,MAAM,IAAK,kBAAkB,GAAG0kB,GAAG,MAAM,IAAK,UAAU,IAAK,QAAQK,GAAG7kB,EAAEzB,EAAEuB,GAAG,IAAImoB,EAAG,GAAGvJ,GAAGpgB,EAAE,CAAC,OAAOD,GAAG,IAAK,mBAAmB,IAAI6pB,EAAG,qBAAqB,MAAM5pB,EAAE,IAAK,iBAAiB4pB,EAAG,mBACpe,MAAM5pB,EAAE,IAAK,oBAAoB4pB,EAAG,sBAAsB,MAAM5pB,EAAE4pB,OAAG,CAAM,MAAM/I,GAAGF,GAAG5gB,EAAEE,KAAK2pB,EAAG,oBAAoB,YAAY7pB,GAAG,MAAME,EAAE2Y,UAAUgR,EAAG,sBAAsBA,IAAKpJ,IAAI,OAAOvgB,EAAEue,SAASqC,IAAI,uBAAuB+I,EAAG,qBAAqBA,GAAI/I,KAAK8I,EAAGjR,OAAYF,GAAG,UAARD,GAAG/W,GAAkB+W,GAAG7Q,MAAM6Q,GAAG9O,YAAYoX,IAAG,IAAiB,GAAZ6I,EAAG3H,GAAGxgB,EAAEqoB,IAASzpB,SAASypB,EAAG,IAAIjN,GAAGiN,EAAG7pB,EAAE,KAAKE,EAAEuB,GAAGE,EAAEwO,KAAK,CAAC8R,MAAM4H,EAAG3H,UAAUyH,IAAKC,EAAGC,EAAGhN,KAAK+M,EAAa,QAATA,EAAG/I,GAAG3gB,MAAe2pB,EAAGhN,KAAK+M,MAAUA,EAAGpJ,GA5BhM,SAAYxgB,EAAEC,GAAG,OAAOD,GAAG,IAAK,iBAAiB,OAAO6gB,GAAG5gB,GAAG,IAAK,WAAW,OAAG,KAAKA,EAAEye,MAAa,MAAKiC,IAAG,EAAUD,IAAG,IAAK,YAAY,OAAO1gB,EAAEC,EAAE4c,QAAS6D,IAAIC,GAAG,KAAK3gB,EAAE,QAAQ,OAAO,KAAK,CA4BE8pB,CAAG9pB,EAAEE,GA3Bzd,SAAYF,EAAEC,GAAG,GAAG6gB,GAAG,MAAM,mBAAmB9gB,IAAIqgB,IAAIO,GAAG5gB,EAAEC,IAAID,EAAE2Y,KAAKD,GAAGD,GAAGD,GAAG,KAAKsI,IAAG,EAAG9gB,GAAG,KAAK,OAAOA,GAAG,IAAK,QAAgQ,QAAQ,OAAO,KAA3P,IAAK,WAAW,KAAKC,EAAEmb,SAASnb,EAAEqb,QAAQrb,EAAEsb,UAAUtb,EAAEmb,SAASnb,EAAEqb,OAAO,CAAC,GAAGrb,EAAE8pB,MAAM,EAAE9pB,EAAE8pB,KAAK3pB,OAAO,OAAOH,EAAE8pB,KAAK,GAAG9pB,EAAEye,MAAM,OAAON,OAAOC,aAAape,EAAEye,MAAM,CAAC,OAAO,KAAK,IAAK,iBAAiB,OAAO+B,IAAI,OAAOxgB,EAAEwe,OAAO,KAAKxe,EAAE4c,KAAyB,CA2BqFmN,CAAGhqB,EAAEE,MACje,GADoesB,EAAEwgB,GAAGxgB,EAAE,kBACvepB,SAASqB,EAAE,IAAImb,GAAG,gBAAgB,cAAc,KAAK1c,EAAEuB,GAAGE,EAAEwO,KAAK,CAAC8R,MAAMxgB,EAAEygB,UAAU1gB,IAAIC,EAAEob,KAAK+M,GAAG,CAACtH,GAAG3gB,EAAE1B,EAAE,GAAE,CAAC,SAASopB,GAAGrpB,EAAEC,EAAEC,GAAG,MAAM,CAAC+nB,SAASjoB,EAAEkoB,SAASjoB,EAAEmZ,cAAclZ,EAAE,CAAC,SAAS8hB,GAAGhiB,EAAEC,GAAG,IAAI,IAAIC,EAAED,EAAE,UAAUuB,EAAE,GAAG,OAAOxB,GAAG,CAAC,IAAIyB,EAAEzB,EAAE0B,EAAED,EAAEuO,UAAU,IAAIvO,EAAE0E,KAAK,OAAOzE,IAAID,EAAEC,EAAY,OAAVA,EAAE+O,GAAGzQ,EAAEE,KAAYsB,EAAEyoB,QAAQZ,GAAGrpB,EAAE0B,EAAED,IAAc,OAAVC,EAAE+O,GAAGzQ,EAAEC,KAAYuB,EAAE2O,KAAKkZ,GAAGrpB,EAAE0B,EAAED,KAAKzB,EAAEA,EAAE0R,MAAM,CAAC,OAAOlQ,CAAC,CAAC,SAASgoB,GAAGxpB,GAAG,GAAG,OAAOA,EAAE,OAAO,KAAK,GAAGA,EAAEA,EAAE0R,aAAa1R,GAAG,IAAIA,EAAEmG,KAAK,OAAOnG,GAAI,IAAI,CACnd,SAASypB,GAAGzpB,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,IAAI,IAAIC,EAAEzB,EAAEiZ,WAAWvX,EAAE,GAAG,OAAOzB,GAAGA,IAAIsB,GAAG,CAAC,IAAIqE,EAAE3F,EAAE4F,EAAED,EAAE4L,UAAU7L,EAAEC,EAAEmK,UAAU,GAAG,OAAOlK,GAAGA,IAAItE,EAAE,MAAM,IAAIqE,EAAEM,KAAK,OAAOP,IAAIC,EAAED,EAAEnE,EAAa,OAAVqE,EAAE2K,GAAGvQ,EAAEwB,KAAYC,EAAEsoB,QAAQZ,GAAGnpB,EAAE4F,EAAED,IAAKpE,GAAc,OAAVqE,EAAE2K,GAAGvQ,EAAEwB,KAAYC,EAAEwO,KAAKkZ,GAAGnpB,EAAE4F,EAAED,KAAM3F,EAAEA,EAAEwR,MAAM,CAAC,IAAI/P,EAAEvB,QAAQJ,EAAEmQ,KAAK,CAAC8R,MAAMhiB,EAAEiiB,UAAUvgB,GAAG,CAAC,IAAIuoB,GAAG,SAASC,GAAG,iBAAiB,SAASC,GAAGpqB,GAAG,OAAO,kBAAkBA,EAAEA,EAAE,GAAGA,GAAGuD,QAAQ2mB,GAAG,MAAM3mB,QAAQ4mB,GAAG,GAAG,CAAC,SAASE,GAAGrqB,EAAEC,EAAEC,GAAW,GAARD,EAAEmqB,GAAGnqB,GAAMmqB,GAAGpqB,KAAKC,GAAGC,EAAE,MAAM+E,MAAMlF,EAAE,KAAM,CAAC,SAASuqB,KAAK,CAC9e,IAAIC,GAAG,KAAKC,GAAG,KAAK,SAASC,GAAGzqB,EAAEC,GAAG,MAAM,aAAaD,GAAG,aAAaA,GAAG,kBAAkBC,EAAEqJ,UAAU,kBAAkBrJ,EAAEqJ,UAAU,kBAAkBrJ,EAAEoJ,yBAAyB,OAAOpJ,EAAEoJ,yBAAyB,MAAMpJ,EAAEoJ,wBAAwBqhB,MAAM,CAC5P,IAAIC,GAAG,oBAAoBC,WAAWA,gBAAW,EAAOC,GAAG,oBAAoBC,aAAaA,kBAAa,EAAOC,GAAG,oBAAoBC,QAAQA,aAAQ,EAAOC,GAAG,oBAAoBC,eAAeA,eAAe,qBAAqBH,GAAG,SAAS/qB,GAAG,OAAO+qB,GAAGI,QAAQ,MAAMC,KAAKprB,GAAGqrB,MAAMC,GAAG,EAAEX,GAAG,SAASW,GAAGtrB,GAAG4qB,YAAW,WAAW,MAAM5qB,CAAE,GAAE,CACpV,SAASurB,GAAGvrB,EAAEC,GAAG,IAAIC,EAAED,EAAEuB,EAAE,EAAE,EAAE,CAAC,IAAIC,EAAEvB,EAAE2jB,YAA6B,GAAjB7jB,EAAEoK,YAAYlK,GAAMuB,GAAG,IAAIA,EAAEiJ,SAAS,GAAY,QAATxK,EAAEuB,EAAEob,MAAc,CAAC,GAAG,IAAIrb,EAA0B,OAAvBxB,EAAEoK,YAAY3I,QAAGkW,GAAG1X,GAAUuB,GAAG,KAAK,MAAMtB,GAAG,OAAOA,GAAG,OAAOA,GAAGsB,IAAItB,EAAEuB,CAAC,OAAOvB,GAAGyX,GAAG1X,EAAE,CAAC,SAASurB,GAAGxrB,GAAG,KAAK,MAAMA,EAAEA,EAAEA,EAAE6jB,YAAY,CAAC,IAAI5jB,EAAED,EAAE0K,SAAS,GAAG,IAAIzK,GAAG,IAAIA,EAAE,MAAM,GAAG,IAAIA,EAAE,CAAU,GAAG,OAAZA,EAAED,EAAE6c,OAAiB,OAAO5c,GAAG,OAAOA,EAAE,MAAM,GAAG,OAAOA,EAAE,OAAO,IAAI,CAAC,CAAC,OAAOD,CAAC,CACjY,SAASyrB,GAAGzrB,GAAGA,EAAEA,EAAE0rB,gBAAgB,IAAI,IAAIzrB,EAAE,EAAED,GAAG,CAAC,GAAG,IAAIA,EAAE0K,SAAS,CAAC,IAAIxK,EAAEF,EAAE6c,KAAK,GAAG,MAAM3c,GAAG,OAAOA,GAAG,OAAOA,EAAE,CAAC,GAAG,IAAID,EAAE,OAAOD,EAAEC,GAAG,KAAK,OAAOC,GAAGD,GAAG,CAACD,EAAEA,EAAE0rB,eAAe,CAAC,OAAO,IAAI,CAAC,IAAIC,GAAG5X,KAAK0U,SAASve,SAAS,IAAIrH,MAAM,GAAG+oB,GAAG,gBAAgBD,GAAGE,GAAG,gBAAgBF,GAAGrC,GAAG,oBAAoBqC,GAAGvD,GAAG,iBAAiBuD,GAAGG,GAAG,oBAAoBH,GAAGI,GAAG,kBAAkBJ,GAClX,SAAS3U,GAAGhX,GAAG,IAAIC,EAAED,EAAE4rB,IAAI,GAAG3rB,EAAE,OAAOA,EAAE,IAAI,IAAIC,EAAEF,EAAE0P,WAAWxP,GAAG,CAAC,GAAGD,EAAEC,EAAEopB,KAAKppB,EAAE0rB,IAAI,CAAe,GAAd1rB,EAAED,EAAEwR,UAAa,OAAOxR,EAAEgS,OAAO,OAAO/R,GAAG,OAAOA,EAAE+R,MAAM,IAAIjS,EAAEyrB,GAAGzrB,GAAG,OAAOA,GAAG,CAAC,GAAGE,EAAEF,EAAE4rB,IAAI,OAAO1rB,EAAEF,EAAEyrB,GAAGzrB,EAAE,CAAC,OAAOC,CAAC,CAAKC,GAAJF,EAAEE,GAAMwP,UAAU,CAAC,OAAO,IAAI,CAAC,SAASK,GAAG/P,GAAkB,QAAfA,EAAEA,EAAE4rB,KAAK5rB,EAAEspB,MAAc,IAAItpB,EAAEmG,KAAK,IAAInG,EAAEmG,KAAK,KAAKnG,EAAEmG,KAAK,IAAInG,EAAEmG,IAAI,KAAKnG,CAAC,CAAC,SAASwiB,GAAGxiB,GAAG,GAAG,IAAIA,EAAEmG,KAAK,IAAInG,EAAEmG,IAAI,OAAOnG,EAAEgQ,UAAU,MAAM/K,MAAMlF,EAAE,IAAK,CAAC,SAASkQ,GAAGjQ,GAAG,OAAOA,EAAE6rB,KAAK,IAAI,CAAC,IAAIG,GAAG,GAAGC,IAAI,EAAE,SAASC,GAAGlsB,GAAG,MAAM,CAACmS,QAAQnS,EAAE,CACve,SAASmsB,GAAEnsB,GAAG,EAAEisB,KAAKjsB,EAAEmS,QAAQ6Z,GAAGC,IAAID,GAAGC,IAAI,KAAKA,KAAK,CAAC,SAASG,GAAEpsB,EAAEC,GAAGgsB,KAAKD,GAAGC,IAAIjsB,EAAEmS,QAAQnS,EAAEmS,QAAQlS,CAAC,CAAC,IAAIosB,GAAG,CAAC,EAAEC,GAAEJ,GAAGG,IAAIE,GAAGL,IAAG,GAAIM,GAAGH,GAAG,SAASI,GAAGzsB,EAAEC,GAAG,IAAIC,EAAEF,EAAEkC,KAAKwqB,aAAa,IAAIxsB,EAAE,OAAOmsB,GAAG,IAAI7qB,EAAExB,EAAEgQ,UAAU,GAAGxO,GAAGA,EAAEmrB,8CAA8C1sB,EAAE,OAAOuB,EAAEorB,0CAA0C,IAASlrB,EAALD,EAAE,CAAC,EAAI,IAAIC,KAAKxB,EAAEuB,EAAEC,GAAGzB,EAAEyB,GAAoH,OAAjHF,KAAIxB,EAAEA,EAAEgQ,WAAY2c,4CAA4C1sB,EAAED,EAAE4sB,0CAA0CnrB,GAAUA,CAAC,CAC9d,SAASorB,GAAG7sB,GAAyB,OAAO,QAA7BA,EAAEA,EAAE8sB,yBAAmC,IAAS9sB,CAAC,CAAC,SAAS+sB,KAAKZ,GAAEI,IAAIJ,GAAEG,GAAE,CAAC,SAASU,GAAGhtB,EAAEC,EAAEC,GAAG,GAAGosB,GAAEna,UAAUka,GAAG,MAAMpnB,MAAMlF,EAAE,MAAMqsB,GAAEE,GAAErsB,GAAGmsB,GAAEG,GAAGrsB,EAAE,CAAC,SAAS+sB,GAAGjtB,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEgQ,UAAgC,GAAtB/P,EAAEA,EAAE6sB,kBAAqB,oBAAoBtrB,EAAE0rB,gBAAgB,OAAOhtB,EAAwB,IAAI,IAAIuB,KAA9BD,EAAEA,EAAE0rB,kBAAiC,KAAKzrB,KAAKxB,GAAG,MAAMgF,MAAMlF,EAAE,IAAI2G,EAAG1G,IAAI,UAAUyB,IAAI,OAAOqD,EAAE,CAAC,EAAE5E,EAAEsB,EAAE,CACxX,SAAS2rB,GAAGntB,GAA2G,OAAxGA,GAAGA,EAAEA,EAAEgQ,YAAYhQ,EAAEotB,2CAA2Cf,GAAGG,GAAGF,GAAEna,QAAQia,GAAEE,GAAEtsB,GAAGosB,GAAEG,GAAGA,GAAGpa,UAAe,CAAE,CAAC,SAASkb,GAAGrtB,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEgQ,UAAU,IAAIxO,EAAE,MAAMyD,MAAMlF,EAAE,MAAMG,GAAGF,EAAEitB,GAAGjtB,EAAEC,EAAEusB,IAAIhrB,EAAE4rB,0CAA0CptB,EAAEmsB,GAAEI,IAAIJ,GAAEG,IAAGF,GAAEE,GAAEtsB,IAAImsB,GAAEI,IAAIH,GAAEG,GAAGrsB,EAAE,CAAC,IAAIotB,GAAG,KAAKC,IAAG,EAAGC,IAAG,EAAG,SAASC,GAAGztB,GAAG,OAAOstB,GAAGA,GAAG,CAACttB,GAAGstB,GAAGnd,KAAKnQ,EAAE,CAChW,SAAS0tB,KAAK,IAAIF,IAAI,OAAOF,GAAG,CAACE,IAAG,EAAG,IAAIxtB,EAAE,EAAEC,EAAEoV,GAAE,IAAI,IAAInV,EAAEotB,GAAG,IAAIjY,GAAE,EAAErV,EAAEE,EAAEE,OAAOJ,IAAI,CAAC,IAAIwB,EAAEtB,EAAEF,GAAG,GAAGwB,EAAEA,GAAE,SAAU,OAAOA,EAAE,CAAC8rB,GAAG,KAAKC,IAAG,CAAE,CAAC,MAAM9rB,GAAG,MAAM,OAAO6rB,KAAKA,GAAGA,GAAGzqB,MAAM7C,EAAE,IAAIsS,GAAGY,GAAGwa,IAAIjsB,CAAE,CAAC,QAAQ4T,GAAEpV,EAAEutB,IAAG,CAAE,CAAC,CAAC,OAAO,IAAI,CAAC,IAAIG,GAAG,GAAGC,GAAG,EAAEC,GAAG,KAAKC,GAAG,EAAEC,GAAG,GAAGC,GAAG,EAAEC,GAAG,KAAKC,GAAG,EAAEC,GAAG,GAAG,SAASC,GAAGpuB,EAAEC,GAAG0tB,GAAGC,MAAME,GAAGH,GAAGC,MAAMC,GAAGA,GAAG7tB,EAAE8tB,GAAG7tB,CAAC,CACjV,SAASouB,GAAGruB,EAAEC,EAAEC,GAAG6tB,GAAGC,MAAME,GAAGH,GAAGC,MAAMG,GAAGJ,GAAGC,MAAMC,GAAGA,GAAGjuB,EAAE,IAAIwB,EAAE0sB,GAAGluB,EAAEmuB,GAAG,IAAI1sB,EAAE,GAAGqS,GAAGtS,GAAG,EAAEA,KAAK,GAAGC,GAAGvB,GAAG,EAAE,IAAIwB,EAAE,GAAGoS,GAAG7T,GAAGwB,EAAE,GAAG,GAAGC,EAAE,CAAC,IAAIC,EAAEF,EAAEA,EAAE,EAAEC,GAAGF,GAAG,GAAGG,GAAG,GAAGuI,SAAS,IAAI1I,IAAIG,EAAEF,GAAGE,EAAEusB,GAAG,GAAG,GAAGpa,GAAG7T,GAAGwB,EAAEvB,GAAGuB,EAAED,EAAE2sB,GAAGzsB,EAAE1B,CAAC,MAAMkuB,GAAG,GAAGxsB,EAAExB,GAAGuB,EAAED,EAAE2sB,GAAGnuB,CAAC,CAAC,SAASsuB,GAAGtuB,GAAG,OAAOA,EAAE0R,SAAS0c,GAAGpuB,EAAE,GAAGquB,GAAGruB,EAAE,EAAE,GAAG,CAAC,SAASuuB,GAAGvuB,GAAG,KAAKA,IAAI6tB,IAAIA,GAAGF,KAAKC,IAAID,GAAGC,IAAI,KAAKE,GAAGH,KAAKC,IAAID,GAAGC,IAAI,KAAK,KAAK5tB,IAAIiuB,IAAIA,GAAGF,KAAKC,IAAID,GAAGC,IAAI,KAAKG,GAAGJ,KAAKC,IAAID,GAAGC,IAAI,KAAKE,GAAGH,KAAKC,IAAID,GAAGC,IAAI,IAAI,CAAC,IAAIQ,GAAG,KAAKC,GAAG,KAAKC,IAAE,EAAGC,GAAG,KACje,SAASC,GAAG5uB,EAAEC,GAAG,IAAIC,EAAE2uB,GAAG,EAAE,KAAK,KAAK,GAAG3uB,EAAE4uB,YAAY,UAAU5uB,EAAE8P,UAAU/P,EAAEC,EAAEwR,OAAO1R,EAAgB,QAAdC,EAAED,EAAE+uB,YAAoB/uB,EAAE+uB,UAAU,CAAC7uB,GAAGF,EAAE2R,OAAO,IAAI1R,EAAEkQ,KAAKjQ,EAAE,CACxJ,SAAS8uB,GAAGhvB,EAAEC,GAAG,OAAOD,EAAEmG,KAAK,KAAK,EAAE,IAAIjG,EAAEF,EAAEkC,KAAyE,OAAO,QAA3EjC,EAAE,IAAIA,EAAEyK,UAAUxK,EAAEsC,gBAAgBvC,EAAE4G,SAASrE,cAAc,KAAKvC,KAAmBD,EAAEgQ,UAAU/P,EAAEuuB,GAAGxuB,EAAEyuB,GAAGjD,GAAGvrB,EAAEkK,aAAY,GAAO,KAAK,EAAE,OAAoD,QAA7ClK,EAAE,KAAKD,EAAEivB,cAAc,IAAIhvB,EAAEyK,SAAS,KAAKzK,KAAYD,EAAEgQ,UAAU/P,EAAEuuB,GAAGxuB,EAAEyuB,GAAG,MAAK,GAAO,KAAK,GAAG,OAA+B,QAAxBxuB,EAAE,IAAIA,EAAEyK,SAAS,KAAKzK,KAAYC,EAAE,OAAO+tB,GAAG,CAAC7V,GAAG8V,GAAGgB,SAASf,IAAI,KAAKnuB,EAAE6R,cAAc,CAACC,WAAW7R,EAAEkvB,YAAYjvB,EAAEkvB,UAAU,aAAYlvB,EAAE2uB,GAAG,GAAG,KAAK,KAAK,IAAK7e,UAAU/P,EAAEC,EAAEwR,OAAO1R,EAAEA,EAAEiS,MAAM/R,EAAEsuB,GAAGxuB,EAAEyuB,GAClf,MAAK,GAAO,QAAQ,OAAM,EAAG,CAAC,SAASY,GAAGrvB,GAAG,OAAO,KAAY,EAAPA,EAAEsvB,OAAS,KAAa,IAARtvB,EAAE2R,MAAU,CAAC,SAAS4d,GAAGvvB,GAAG,GAAG0uB,GAAE,CAAC,IAAIzuB,EAAEwuB,GAAG,GAAGxuB,EAAE,CAAC,IAAIC,EAAED,EAAE,IAAI+uB,GAAGhvB,EAAEC,GAAG,CAAC,GAAGovB,GAAGrvB,GAAG,MAAMiF,MAAMlF,EAAE,MAAME,EAAEurB,GAAGtrB,EAAE2jB,aAAa,IAAIriB,EAAEgtB,GAAGvuB,GAAG+uB,GAAGhvB,EAAEC,GAAG2uB,GAAGptB,EAAEtB,IAAIF,EAAE2R,OAAe,KAAT3R,EAAE2R,MAAY,EAAE+c,IAAE,EAAGF,GAAGxuB,EAAE,CAAC,KAAK,CAAC,GAAGqvB,GAAGrvB,GAAG,MAAMiF,MAAMlF,EAAE,MAAMC,EAAE2R,OAAe,KAAT3R,EAAE2R,MAAY,EAAE+c,IAAE,EAAGF,GAAGxuB,CAAC,CAAC,CAAC,CAAC,SAASwvB,GAAGxvB,GAAG,IAAIA,EAAEA,EAAE0R,OAAO,OAAO1R,GAAG,IAAIA,EAAEmG,KAAK,IAAInG,EAAEmG,KAAK,KAAKnG,EAAEmG,KAAKnG,EAAEA,EAAE0R,OAAO8c,GAAGxuB,CAAC,CACha,SAASyvB,GAAGzvB,GAAG,GAAGA,IAAIwuB,GAAG,OAAM,EAAG,IAAIE,GAAE,OAAOc,GAAGxvB,GAAG0uB,IAAE,GAAG,EAAG,IAAIzuB,EAAkG,IAA/FA,EAAE,IAAID,EAAEmG,QAAQlG,EAAE,IAAID,EAAEmG,OAAgBlG,EAAE,UAAXA,EAAED,EAAEkC,OAAmB,SAASjC,IAAIwqB,GAAGzqB,EAAEkC,KAAKlC,EAAE0vB,gBAAmBzvB,IAAIA,EAAEwuB,IAAI,CAAC,GAAGY,GAAGrvB,GAAG,MAAM2vB,KAAK1qB,MAAMlF,EAAE,MAAM,KAAKE,GAAG2uB,GAAG5uB,EAAEC,GAAGA,EAAEurB,GAAGvrB,EAAE4jB,YAAY,CAAO,GAAN2L,GAAGxvB,GAAM,KAAKA,EAAEmG,IAAI,CAAgD,KAA7BnG,EAAE,QAApBA,EAAEA,EAAE6R,eAAyB7R,EAAE8R,WAAW,MAAW,MAAM7M,MAAMlF,EAAE,MAAMC,EAAE,CAAiB,IAAhBA,EAAEA,EAAE6jB,YAAgB5jB,EAAE,EAAED,GAAG,CAAC,GAAG,IAAIA,EAAE0K,SAAS,CAAC,IAAIxK,EAAEF,EAAE6c,KAAK,GAAG,OAAO3c,EAAE,CAAC,GAAG,IAAID,EAAE,CAACwuB,GAAGjD,GAAGxrB,EAAE6jB,aAAa,MAAM7jB,CAAC,CAACC,GAAG,KAAK,MAAMC,GAAG,OAAOA,GAAG,OAAOA,GAAGD,GAAG,CAACD,EAAEA,EAAE6jB,WAAW,CAAC4K,GACjgB,IAAI,CAAC,MAAMA,GAAGD,GAAGhD,GAAGxrB,EAAEgQ,UAAU6T,aAAa,KAAK,OAAM,CAAE,CAAC,SAAS8L,KAAK,IAAI,IAAI3vB,EAAEyuB,GAAGzuB,GAAGA,EAAEwrB,GAAGxrB,EAAE6jB,YAAY,CAAC,SAAS+L,KAAKnB,GAAGD,GAAG,KAAKE,IAAE,CAAE,CAAC,SAASmB,GAAG7vB,GAAG,OAAO2uB,GAAGA,GAAG,CAAC3uB,GAAG2uB,GAAGxe,KAAKnQ,EAAE,CAAC,IAAI8vB,GAAGrsB,EAAGoU,wBAChM,SAASkY,GAAG/vB,EAAEC,EAAEC,GAAW,GAAG,QAAXF,EAAEE,EAAE8vB,MAAiB,oBAAoBhwB,GAAG,kBAAkBA,EAAE,CAAC,GAAGE,EAAE+vB,OAAO,CAAY,GAAX/vB,EAAEA,EAAE+vB,OAAY,CAAC,GAAG,IAAI/vB,EAAEiG,IAAI,MAAMlB,MAAMlF,EAAE,MAAM,IAAIyB,EAAEtB,EAAE8P,SAAS,CAAC,IAAIxO,EAAE,MAAMyD,MAAMlF,EAAE,IAAIC,IAAI,IAAIyB,EAAED,EAAEE,EAAE,GAAG1B,EAAE,OAAG,OAAOC,GAAG,OAAOA,EAAE+vB,KAAK,oBAAoB/vB,EAAE+vB,KAAK/vB,EAAE+vB,IAAIE,aAAaxuB,EAASzB,EAAE+vB,KAAI/vB,EAAE,SAASD,GAAG,IAAIC,EAAEwB,EAAE0uB,KAAK,OAAOnwB,SAASC,EAAEyB,GAAGzB,EAAEyB,GAAG1B,CAAC,EAAEC,EAAEiwB,WAAWxuB,EAASzB,EAAC,CAAC,GAAG,kBAAkBD,EAAE,MAAMiF,MAAMlF,EAAE,MAAM,IAAIG,EAAE+vB,OAAO,MAAMhrB,MAAMlF,EAAE,IAAIC,GAAI,CAAC,OAAOA,CAAC,CAC/c,SAASowB,GAAGpwB,EAAEC,GAAuC,MAApCD,EAAEiB,OAAOC,UAAUgJ,SAASjH,KAAKhD,GAASgF,MAAMlF,EAAE,GAAG,oBAAoBC,EAAE,qBAAqBiB,OAAO6M,KAAK7N,GAAGowB,KAAK,MAAM,IAAIrwB,GAAI,CAAC,SAASswB,GAAGtwB,GAAiB,OAAOC,EAAfD,EAAEyG,OAAezG,EAAEwG,SAAS,CACrM,SAAS+pB,GAAGvwB,GAAG,SAASC,EAAEA,EAAEC,GAAG,GAAGF,EAAE,CAAC,IAAIwB,EAAEvB,EAAE8uB,UAAU,OAAOvtB,GAAGvB,EAAE8uB,UAAU,CAAC7uB,GAAGD,EAAE0R,OAAO,IAAInQ,EAAE2O,KAAKjQ,EAAE,CAAC,CAAC,SAASA,EAAEA,EAAEsB,GAAG,IAAIxB,EAAE,OAAO,KAAK,KAAK,OAAOwB,GAAGvB,EAAEC,EAAEsB,GAAGA,EAAEA,EAAE0Q,QAAQ,OAAO,IAAI,CAAC,SAAS1Q,EAAExB,EAAEC,GAAG,IAAID,EAAE,IAAIkW,IAAI,OAAOjW,GAAG,OAAOA,EAAEke,IAAIne,EAAEyF,IAAIxF,EAAEke,IAAIle,GAAGD,EAAEyF,IAAIxF,EAAEuwB,MAAMvwB,GAAGA,EAAEA,EAAEiS,QAAQ,OAAOlS,CAAC,CAAC,SAASyB,EAAEzB,EAAEC,GAAsC,OAAnCD,EAAEywB,GAAGzwB,EAAEC,IAAKuwB,MAAM,EAAExwB,EAAEkS,QAAQ,KAAYlS,CAAC,CAAC,SAAS0B,EAAEzB,EAAEC,EAAEsB,GAAa,OAAVvB,EAAEuwB,MAAMhvB,EAAMxB,EAA6C,QAAjBwB,EAAEvB,EAAEwR,YAA6BjQ,EAAEA,EAAEgvB,OAAQtwB,GAAGD,EAAE0R,OAAO,EAAEzR,GAAGsB,GAAEvB,EAAE0R,OAAO,EAASzR,IAArGD,EAAE0R,OAAO,QAAQzR,EAAqF,CAAC,SAASyB,EAAE1B,GACzd,OAD4dD,GAC7f,OAAOC,EAAEwR,YAAYxR,EAAE0R,OAAO,GAAU1R,CAAC,CAAC,SAAS4F,EAAE7F,EAAEC,EAAEC,EAAEsB,GAAG,OAAG,OAAOvB,GAAG,IAAIA,EAAEkG,MAAWlG,EAAEywB,GAAGxwB,EAAEF,EAAEsvB,KAAK9tB,IAAKkQ,OAAO1R,EAAEC,KAAEA,EAAEwB,EAAExB,EAAEC,IAAKwR,OAAO1R,EAASC,EAAC,CAAC,SAAS6F,EAAE9F,EAAEC,EAAEC,EAAEsB,GAAG,IAAIE,EAAExB,EAAEgC,KAAK,OAAGR,IAAIqC,EAAUiN,EAAEhR,EAAEC,EAAEC,EAAEywB,MAAMrnB,SAAS9H,EAAEtB,EAAEie,KAAQ,OAAOle,IAAIA,EAAE6uB,cAAcptB,GAAG,kBAAkBA,GAAG,OAAOA,GAAGA,EAAE4E,WAAW9B,GAAI8rB,GAAG5uB,KAAKzB,EAAEiC,QAAaV,EAAEC,EAAExB,EAAEC,EAAEywB,QAASX,IAAID,GAAG/vB,EAAEC,EAAEC,GAAGsB,EAAEkQ,OAAO1R,EAAEwB,KAAEA,EAAEovB,GAAG1wB,EAAEgC,KAAKhC,EAAEie,IAAIje,EAAEywB,MAAM,KAAK3wB,EAAEsvB,KAAK9tB,IAAKwuB,IAAID,GAAG/vB,EAAEC,EAAEC,GAAGsB,EAAEkQ,OAAO1R,EAASwB,EAAC,CAAC,SAASoE,EAAE5F,EAAEC,EAAEC,EAAEsB,GAAG,OAAG,OAAOvB,GAAG,IAAIA,EAAEkG,KACjflG,EAAE+P,UAAUmH,gBAAgBjX,EAAEiX,eAAelX,EAAE+P,UAAU6gB,iBAAiB3wB,EAAE2wB,iBAAsB5wB,EAAE6wB,GAAG5wB,EAAEF,EAAEsvB,KAAK9tB,IAAKkQ,OAAO1R,EAAEC,KAAEA,EAAEwB,EAAExB,EAAEC,EAAEoJ,UAAU,KAAMoI,OAAO1R,EAASC,EAAC,CAAC,SAAS+Q,EAAEhR,EAAEC,EAAEC,EAAEsB,EAAEE,GAAG,OAAG,OAAOzB,GAAG,IAAIA,EAAEkG,MAAWlG,EAAE8wB,GAAG7wB,EAAEF,EAAEsvB,KAAK9tB,EAAEE,IAAKgQ,OAAO1R,EAAEC,KAAEA,EAAEwB,EAAExB,EAAEC,IAAKwR,OAAO1R,EAASC,EAAC,CAAC,SAAS+wB,EAAEhxB,EAAEC,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,KAAKA,GAAG,kBAAkBA,EAAE,OAAOA,EAAEywB,GAAG,GAAGzwB,EAAED,EAAEsvB,KAAKpvB,IAAKwR,OAAO1R,EAAEC,EAAE,GAAG,kBAAkBA,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAEqG,UAAU,KAAK3C,EAAG,OAAOzD,EAAE0wB,GAAG3wB,EAAEiC,KAAKjC,EAAEke,IAAIle,EAAE0wB,MAAM,KAAK3wB,EAAEsvB,KAAKpvB,IACjf8vB,IAAID,GAAG/vB,EAAE,KAAKC,GAAGC,EAAEwR,OAAO1R,EAAEE,EAAE,KAAK4D,EAAG,OAAO7D,EAAE6wB,GAAG7wB,EAAED,EAAEsvB,KAAKpvB,IAAKwR,OAAO1R,EAAEC,EAAE,KAAKuE,EAAiB,OAAOwsB,EAAEhxB,GAAEwB,EAAnBvB,EAAEwG,OAAmBxG,EAAEuG,UAAUtG,GAAG,GAAG0I,GAAG3I,IAAI2E,EAAG3E,GAAG,OAAOA,EAAE8wB,GAAG9wB,EAAED,EAAEsvB,KAAKpvB,EAAE,OAAQwR,OAAO1R,EAAEC,EAAEmwB,GAAGpwB,EAAEC,EAAE,CAAC,OAAO,IAAI,CAAC,SAASgxB,EAAEjxB,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAE,OAAOxB,EAAEA,EAAEke,IAAI,KAAK,GAAG,kBAAkBje,GAAG,KAAKA,GAAG,kBAAkBA,EAAE,OAAO,OAAOuB,EAAE,KAAKoE,EAAE7F,EAAEC,EAAE,GAAGC,EAAEsB,GAAG,GAAG,kBAAkBtB,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAEoG,UAAU,KAAK3C,EAAG,OAAOzD,EAAEie,MAAM1c,EAAEqE,EAAE9F,EAAEC,EAAEC,EAAEsB,GAAG,KAAK,KAAKsC,EAAG,OAAO5D,EAAEie,MAAM1c,EAAEmE,EAAE5F,EAAEC,EAAEC,EAAEsB,GAAG,KAAK,KAAKgD,EAAG,OAAiBysB,EAAEjxB,EACpfC,GADwewB,EAAEvB,EAAEuG,OACxevG,EAAEsG,UAAUhF,GAAG,GAAGoH,GAAG1I,IAAI0E,EAAG1E,GAAG,OAAO,OAAOuB,EAAE,KAAKuP,EAAEhR,EAAEC,EAAEC,EAAEsB,EAAE,MAAM4uB,GAAGpwB,EAAEE,EAAE,CAAC,OAAO,IAAI,CAAC,SAASgxB,EAAElxB,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,KAAKA,GAAG,kBAAkBA,EAAE,OAAwBqE,EAAE5F,EAAnBD,EAAEA,EAAEkH,IAAIhH,IAAI,KAAW,GAAGsB,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAE8E,UAAU,KAAK3C,EAAG,OAA2CmC,EAAE7F,EAAtCD,EAAEA,EAAEkH,IAAI,OAAO1F,EAAE2c,IAAIje,EAAEsB,EAAE2c,MAAM,KAAW3c,EAAEC,GAAG,KAAKqC,EAAG,OAA2C8B,EAAE3F,EAAtCD,EAAEA,EAAEkH,IAAI,OAAO1F,EAAE2c,IAAIje,EAAEsB,EAAE2c,MAAM,KAAW3c,EAAEC,GAAG,KAAK+C,EAAiB,OAAO0sB,EAAElxB,EAAEC,EAAEC,GAAEwB,EAAvBF,EAAEiF,OAAuBjF,EAAEgF,UAAU/E,GAAG,GAAGmH,GAAGpH,IAAIoD,EAAGpD,GAAG,OAAwBwP,EAAE/Q,EAAnBD,EAAEA,EAAEkH,IAAIhH,IAAI,KAAWsB,EAAEC,EAAE,MAAM2uB,GAAGnwB,EAAEuB,EAAE,CAAC,OAAO,IAAI,CAC9f,SAASsnB,EAAErnB,EAAEE,EAAEkE,EAAEC,GAAG,IAAI,IAAIF,EAAE,KAAKoL,EAAE,KAAKkY,EAAEvnB,EAAEwnB,EAAExnB,EAAE,EAAEsnB,EAAE,KAAK,OAAOC,GAAGC,EAAEtjB,EAAEzF,OAAO+oB,IAAI,CAACD,EAAEsH,MAAMrH,GAAGF,EAAEC,EAAEA,EAAE,MAAMD,EAAEC,EAAEhX,QAAQ,IAAI4W,EAAEmI,EAAExvB,EAAEynB,EAAErjB,EAAEsjB,GAAGrjB,GAAG,GAAG,OAAOgjB,EAAE,CAAC,OAAOI,IAAIA,EAAED,GAAG,KAAK,CAACjpB,GAAGkpB,GAAG,OAAOJ,EAAErX,WAAWxR,EAAEwB,EAAEynB,GAAGvnB,EAAED,EAAEonB,EAAEnnB,EAAEwnB,GAAG,OAAOnY,EAAEpL,EAAEkjB,EAAE9X,EAAEkB,QAAQ4W,EAAE9X,EAAE8X,EAAEI,EAAED,CAAC,CAAC,GAAGE,IAAItjB,EAAEzF,OAAO,OAAOF,EAAEuB,EAAEynB,GAAGwF,IAAGN,GAAG3sB,EAAE0nB,GAAGvjB,EAAE,GAAG,OAAOsjB,EAAE,CAAC,KAAKC,EAAEtjB,EAAEzF,OAAO+oB,IAAkB,QAAdD,EAAE8H,EAAEvvB,EAAEoE,EAAEsjB,GAAGrjB,MAAcnE,EAAED,EAAEwnB,EAAEvnB,EAAEwnB,GAAG,OAAOnY,EAAEpL,EAAEsjB,EAAElY,EAAEkB,QAAQgX,EAAElY,EAAEkY,GAAc,OAAXwF,IAAGN,GAAG3sB,EAAE0nB,GAAUvjB,CAAC,CAAC,IAAIsjB,EAAE1nB,EAAEC,EAAEynB,GAAGC,EAAEtjB,EAAEzF,OAAO+oB,IAAsB,QAAlBF,EAAEiI,EAAEhI,EAAEznB,EAAE0nB,EAAEtjB,EAAEsjB,GAAGrjB,MAAc9F,GAAG,OAAOipB,EAAExX,WAAWyX,EAAE3S,OAAO,OACvf0S,EAAE9K,IAAIgL,EAAEF,EAAE9K,KAAKxc,EAAED,EAAEunB,EAAEtnB,EAAEwnB,GAAG,OAAOnY,EAAEpL,EAAEqjB,EAAEjY,EAAEkB,QAAQ+W,EAAEjY,EAAEiY,GAAuD,OAApDjpB,GAAGkpB,EAAE3mB,SAAQ,SAASvC,GAAG,OAAOC,EAAEwB,EAAEzB,EAAE,IAAG0uB,IAAGN,GAAG3sB,EAAE0nB,GAAUvjB,CAAC,CAAC,SAASmjB,EAAEtnB,EAAEE,EAAEkE,EAAEC,GAAG,IAAIF,EAAEhB,EAAGiB,GAAG,GAAG,oBAAoBD,EAAE,MAAMX,MAAMlF,EAAE,MAAkB,GAAG,OAAf8F,EAAED,EAAE3C,KAAK4C,IAAc,MAAMZ,MAAMlF,EAAE,MAAM,IAAI,IAAImpB,EAAEtjB,EAAE,KAAKoL,EAAErP,EAAEwnB,EAAExnB,EAAE,EAAEsnB,EAAE,KAAKH,EAAEjjB,EAAEsrB,OAAO,OAAOngB,IAAI8X,EAAEsI,KAAKjI,IAAIL,EAAEjjB,EAAEsrB,OAAO,CAACngB,EAAEwf,MAAMrH,GAAGF,EAAEjY,EAAEA,EAAE,MAAMiY,EAAEjY,EAAEkB,QAAQ,IAAI6W,EAAEkI,EAAExvB,EAAEuP,EAAE8X,EAAEnhB,MAAM7B,GAAG,GAAG,OAAOijB,EAAE,CAAC,OAAO/X,IAAIA,EAAEiY,GAAG,KAAK,CAACjpB,GAAGgR,GAAG,OAAO+X,EAAEtX,WAAWxR,EAAEwB,EAAEuP,GAAGrP,EAAED,EAAEqnB,EAAEpnB,EAAEwnB,GAAG,OAAOD,EAAEtjB,EAAEmjB,EAAEG,EAAEhX,QAAQ6W,EAAEG,EAAEH,EAAE/X,EAAEiY,CAAC,CAAC,GAAGH,EAAEsI,KAAK,OAAOlxB,EAAEuB,EACzfuP,GAAG0d,IAAGN,GAAG3sB,EAAE0nB,GAAGvjB,EAAE,GAAG,OAAOoL,EAAE,CAAC,MAAM8X,EAAEsI,KAAKjI,IAAIL,EAAEjjB,EAAEsrB,OAAwB,QAAjBrI,EAAEkI,EAAEvvB,EAAEqnB,EAAEnhB,MAAM7B,MAAcnE,EAAED,EAAEonB,EAAEnnB,EAAEwnB,GAAG,OAAOD,EAAEtjB,EAAEkjB,EAAEI,EAAEhX,QAAQ4W,EAAEI,EAAEJ,GAAc,OAAX4F,IAAGN,GAAG3sB,EAAE0nB,GAAUvjB,CAAC,CAAC,IAAIoL,EAAExP,EAAEC,EAAEuP,IAAI8X,EAAEsI,KAAKjI,IAAIL,EAAEjjB,EAAEsrB,OAA4B,QAArBrI,EAAEoI,EAAElgB,EAAEvP,EAAE0nB,EAAEL,EAAEnhB,MAAM7B,MAAc9F,GAAG,OAAO8oB,EAAErX,WAAWT,EAAEuF,OAAO,OAAOuS,EAAE3K,IAAIgL,EAAEL,EAAE3K,KAAKxc,EAAED,EAAEonB,EAAEnnB,EAAEwnB,GAAG,OAAOD,EAAEtjB,EAAEkjB,EAAEI,EAAEhX,QAAQ4W,EAAEI,EAAEJ,GAAuD,OAApD9oB,GAAGgR,EAAEzO,SAAQ,SAASvC,GAAG,OAAOC,EAAEwB,EAAEzB,EAAE,IAAG0uB,IAAGN,GAAG3sB,EAAE0nB,GAAUvjB,CAAC,CAG3T,OAH4T,SAASojB,EAAEhpB,EAAEwB,EAAEE,EAAEmE,GAAkF,GAA/E,kBAAkBnE,GAAG,OAAOA,GAAGA,EAAEQ,OAAO6B,GAAI,OAAOrC,EAAEyc,MAAMzc,EAAEA,EAAEivB,MAAMrnB,UAAa,kBAAkB5H,GAAG,OAAOA,EAAE,CAAC,OAAOA,EAAE4E,UAAU,KAAK3C,EAAG3D,EAAE,CAAC,IAAI,IAAI8F,EAC7hBpE,EAAEyc,IAAIvY,EAAEpE,EAAE,OAAOoE,GAAG,CAAC,GAAGA,EAAEuY,MAAMrY,EAAE,CAAU,IAATA,EAAEpE,EAAEQ,QAAY6B,GAAI,GAAG,IAAI6B,EAAEO,IAAI,CAACjG,EAAEF,EAAE4F,EAAEsM,UAAS1Q,EAAEC,EAAEmE,EAAElE,EAAEivB,MAAMrnB,WAAYoI,OAAO1R,EAAEA,EAAEwB,EAAE,MAAMxB,CAAC,OAAO,GAAG4F,EAAEkpB,cAAchpB,GAAG,kBAAkBA,GAAG,OAAOA,GAAGA,EAAEQ,WAAW9B,GAAI8rB,GAAGxqB,KAAKF,EAAE1D,KAAK,CAAChC,EAAEF,EAAE4F,EAAEsM,UAAS1Q,EAAEC,EAAEmE,EAAElE,EAAEivB,QAASX,IAAID,GAAG/vB,EAAE4F,EAAElE,GAAGF,EAAEkQ,OAAO1R,EAAEA,EAAEwB,EAAE,MAAMxB,CAAC,CAACE,EAAEF,EAAE4F,GAAG,KAAK,CAAM3F,EAAED,EAAE4F,GAAGA,EAAEA,EAAEsM,OAAO,CAACxQ,EAAEQ,OAAO6B,IAAIvC,EAAEuvB,GAAGrvB,EAAEivB,MAAMrnB,SAAStJ,EAAEsvB,KAAKzpB,EAAEnE,EAAEyc,MAAOzM,OAAO1R,EAAEA,EAAEwB,KAAIqE,EAAE+qB,GAAGlvB,EAAEQ,KAAKR,EAAEyc,IAAIzc,EAAEivB,MAAM,KAAK3wB,EAAEsvB,KAAKzpB,IAAKmqB,IAAID,GAAG/vB,EAAEwB,EAAEE,GAAGmE,EAAE6L,OAAO1R,EAAEA,EAAE6F,EAAE,CAAC,OAAOlE,EAAE3B,GAAG,KAAK8D,EAAG9D,EAAE,CAAC,IAAI4F,EAAElE,EAAEyc,IAAI,OACzf3c,GAAG,CAAC,GAAGA,EAAE2c,MAAMvY,EAAC,CAAC,GAAG,IAAIpE,EAAE2E,KAAK3E,EAAEwO,UAAUmH,gBAAgBzV,EAAEyV,eAAe3V,EAAEwO,UAAU6gB,iBAAiBnvB,EAAEmvB,eAAe,CAAC3wB,EAAEF,EAAEwB,EAAE0Q,UAAS1Q,EAAEC,EAAED,EAAEE,EAAE4H,UAAU,KAAMoI,OAAO1R,EAAEA,EAAEwB,EAAE,MAAMxB,CAAC,CAAME,EAAEF,EAAEwB,GAAG,KAAM,CAAKvB,EAAED,EAAEwB,GAAGA,EAAEA,EAAE0Q,OAAO,EAAC1Q,EAAEsvB,GAAGpvB,EAAE1B,EAAEsvB,KAAKzpB,IAAK6L,OAAO1R,EAAEA,EAAEwB,CAAC,CAAC,OAAOG,EAAE3B,GAAG,KAAKwE,EAAG,OAAiBwkB,EAAEhpB,EAAEwB,GAAdoE,EAAElE,EAAE+E,OAAc/E,EAAE8E,UAAUX,GAAG,GAAG+C,GAAGlH,GAAG,OAAOonB,EAAE9oB,EAAEwB,EAAEE,EAAEmE,GAAG,GAAGjB,EAAGlD,GAAG,OAAOqnB,EAAE/oB,EAAEwB,EAAEE,EAAEmE,GAAGuqB,GAAGpwB,EAAE0B,EAAE,CAAC,MAAM,kBAAkBA,GAAG,KAAKA,GAAG,kBAAkBA,GAAGA,EAAE,GAAGA,EAAE,OAAOF,GAAG,IAAIA,EAAE2E,KAAKjG,EAAEF,EAAEwB,EAAE0Q,UAAS1Q,EAAEC,EAAED,EAAEE,IAAKgQ,OAAO1R,EAAEA,EAAEwB,IACnftB,EAAEF,EAAEwB,IAAGA,EAAEkvB,GAAGhvB,EAAE1B,EAAEsvB,KAAKzpB,IAAK6L,OAAO1R,EAAEA,EAAEwB,GAAGG,EAAE3B,IAAIE,EAAEF,EAAEwB,EAAE,CAAS,CAAC,IAAI6vB,GAAGd,IAAG,GAAIe,GAAGf,IAAG,GAAIgB,GAAGrF,GAAG,MAAMsF,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK,SAASC,KAAKD,GAAGD,GAAGD,GAAG,IAAI,CAAC,SAASI,GAAG5xB,GAAG,IAAIC,EAAEsxB,GAAGpf,QAAQga,GAAEoF,IAAIvxB,EAAE6xB,cAAc5xB,CAAC,CAAC,SAAS6xB,GAAG9xB,EAAEC,EAAEC,GAAG,KAAK,OAAOF,GAAG,CAAC,IAAIwB,EAAExB,EAAEyR,UAA+H,IAApHzR,EAAE+xB,WAAW9xB,KAAKA,GAAGD,EAAE+xB,YAAY9xB,EAAE,OAAOuB,IAAIA,EAAEuwB,YAAY9xB,IAAI,OAAOuB,IAAIA,EAAEuwB,WAAW9xB,KAAKA,IAAIuB,EAAEuwB,YAAY9xB,GAAMD,IAAIE,EAAE,MAAMF,EAAEA,EAAE0R,MAAM,CAAC,CACnZ,SAASsgB,GAAGhyB,EAAEC,GAAGuxB,GAAGxxB,EAAE0xB,GAAGD,GAAG,KAAsB,QAAjBzxB,EAAEA,EAAEiyB,eAAuB,OAAOjyB,EAAEkyB,eAAe,KAAKlyB,EAAEmyB,MAAMlyB,KAAKmyB,IAAG,GAAIpyB,EAAEkyB,aAAa,KAAK,CAAC,SAASG,GAAGryB,GAAG,IAAIC,EAAED,EAAE6xB,cAAc,GAAGH,KAAK1xB,EAAE,GAAGA,EAAE,CAACsyB,QAAQtyB,EAAEuyB,cAActyB,EAAEkxB,KAAK,MAAM,OAAOM,GAAG,CAAC,GAAG,OAAOD,GAAG,MAAMvsB,MAAMlF,EAAE,MAAM0xB,GAAGzxB,EAAEwxB,GAAGS,aAAa,CAACE,MAAM,EAAED,aAAalyB,EAAE,MAAMyxB,GAAGA,GAAGN,KAAKnxB,EAAE,OAAOC,CAAC,CAAC,IAAIuyB,GAAG,KAAK,SAASC,GAAGzyB,GAAG,OAAOwyB,GAAGA,GAAG,CAACxyB,GAAGwyB,GAAGriB,KAAKnQ,EAAE,CACvY,SAAS0yB,GAAG1yB,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAExB,EAAE0yB,YAA+E,OAAnE,OAAOlxB,GAAGvB,EAAEixB,KAAKjxB,EAAEuyB,GAAGxyB,KAAKC,EAAEixB,KAAK1vB,EAAE0vB,KAAK1vB,EAAE0vB,KAAKjxB,GAAGD,EAAE0yB,YAAYzyB,EAAS0yB,GAAG5yB,EAAEwB,EAAE,CAAC,SAASoxB,GAAG5yB,EAAEC,GAAGD,EAAEmyB,OAAOlyB,EAAE,IAAIC,EAAEF,EAAEyR,UAAqC,IAA3B,OAAOvR,IAAIA,EAAEiyB,OAAOlyB,GAAGC,EAAEF,EAAMA,EAAEA,EAAE0R,OAAO,OAAO1R,GAAGA,EAAE+xB,YAAY9xB,EAAgB,QAAdC,EAAEF,EAAEyR,aAAqBvR,EAAE6xB,YAAY9xB,GAAGC,EAAEF,EAAEA,EAAEA,EAAE0R,OAAO,OAAO,IAAIxR,EAAEiG,IAAIjG,EAAE8P,UAAU,IAAI,CAAC,IAAI6iB,IAAG,EAAG,SAASC,GAAG9yB,GAAGA,EAAE+yB,YAAY,CAACC,UAAUhzB,EAAE6R,cAAcohB,gBAAgB,KAAKC,eAAe,KAAKC,OAAO,CAACC,QAAQ,KAAKT,YAAY,KAAKR,MAAM,GAAGkB,QAAQ,KAAK,CAC/e,SAASC,GAAGtzB,EAAEC,GAAGD,EAAEA,EAAE+yB,YAAY9yB,EAAE8yB,cAAc/yB,IAAIC,EAAE8yB,YAAY,CAACC,UAAUhzB,EAAEgzB,UAAUC,gBAAgBjzB,EAAEizB,gBAAgBC,eAAelzB,EAAEkzB,eAAeC,OAAOnzB,EAAEmzB,OAAOE,QAAQrzB,EAAEqzB,SAAS,CAAC,SAASE,GAAGvzB,EAAEC,GAAG,MAAM,CAACuzB,UAAUxzB,EAAEyzB,KAAKxzB,EAAEkG,IAAI,EAAEutB,QAAQ,KAAKC,SAAS,KAAKxC,KAAK,KAAK,CACtR,SAASyC,GAAG5zB,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAE+yB,YAAY,GAAG,OAAOvxB,EAAE,OAAO,KAAgB,GAAXA,EAAEA,EAAE2xB,OAAU,KAAO,EAAFU,IAAK,CAAC,IAAIpyB,EAAED,EAAE4xB,QAA+D,OAAvD,OAAO3xB,EAAExB,EAAEkxB,KAAKlxB,GAAGA,EAAEkxB,KAAK1vB,EAAE0vB,KAAK1vB,EAAE0vB,KAAKlxB,GAAGuB,EAAE4xB,QAAQnzB,EAAS2yB,GAAG5yB,EAAEE,EAAE,CAAoF,OAAnE,QAAhBuB,EAAED,EAAEmxB,cAAsB1yB,EAAEkxB,KAAKlxB,EAAEwyB,GAAGjxB,KAAKvB,EAAEkxB,KAAK1vB,EAAE0vB,KAAK1vB,EAAE0vB,KAAKlxB,GAAGuB,EAAEmxB,YAAY1yB,EAAS2yB,GAAG5yB,EAAEE,EAAE,CAAC,SAAS4zB,GAAG9zB,EAAEC,EAAEC,GAAmB,GAAG,QAAnBD,EAAEA,EAAE8yB,eAA0B9yB,EAAEA,EAAEkzB,OAAO,KAAO,QAAFjzB,IAAY,CAAC,IAAIsB,EAAEvB,EAAEkyB,MAAwBjyB,GAAlBsB,GAAGxB,EAAEyU,aAAkBxU,EAAEkyB,MAAMjyB,EAAEkV,GAAGpV,EAAEE,EAAE,CAAC,CACrZ,SAAS6zB,GAAG/zB,EAAEC,GAAG,IAAIC,EAAEF,EAAE+yB,YAAYvxB,EAAExB,EAAEyR,UAAU,GAAG,OAAOjQ,GAAoBtB,KAAhBsB,EAAEA,EAAEuxB,aAAmB,CAAC,IAAItxB,EAAE,KAAKC,EAAE,KAAyB,GAAG,QAAvBxB,EAAEA,EAAE+yB,iBAA4B,CAAC,EAAE,CAAC,IAAItxB,EAAE,CAAC6xB,UAAUtzB,EAAEszB,UAAUC,KAAKvzB,EAAEuzB,KAAKttB,IAAIjG,EAAEiG,IAAIutB,QAAQxzB,EAAEwzB,QAAQC,SAASzzB,EAAEyzB,SAASxC,KAAK,MAAM,OAAOzvB,EAAED,EAAEC,EAAEC,EAAED,EAAEA,EAAEyvB,KAAKxvB,EAAEzB,EAAEA,EAAEixB,IAAI,OAAO,OAAOjxB,GAAG,OAAOwB,EAAED,EAAEC,EAAEzB,EAAEyB,EAAEA,EAAEyvB,KAAKlxB,CAAC,MAAMwB,EAAEC,EAAEzB,EAAiH,OAA/GC,EAAE,CAAC8yB,UAAUxxB,EAAEwxB,UAAUC,gBAAgBxxB,EAAEyxB,eAAexxB,EAAEyxB,OAAO3xB,EAAE2xB,OAAOE,QAAQ7xB,EAAE6xB,cAASrzB,EAAE+yB,YAAY7yB,EAAQ,CAAoB,QAAnBF,EAAEE,EAAEgzB,gBAAwBhzB,EAAE+yB,gBAAgBhzB,EAAED,EAAEmxB,KACnflxB,EAAEC,EAAEgzB,eAAejzB,CAAC,CACpB,SAAS+zB,GAAGh0B,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAEzB,EAAE+yB,YAAYF,IAAG,EAAG,IAAInxB,EAAED,EAAEwxB,gBAAgBtxB,EAAEF,EAAEyxB,eAAertB,EAAEpE,EAAE0xB,OAAOC,QAAQ,GAAG,OAAOvtB,EAAE,CAACpE,EAAE0xB,OAAOC,QAAQ,KAAK,IAAIttB,EAAED,EAAED,EAAEE,EAAEqrB,KAAKrrB,EAAEqrB,KAAK,KAAK,OAAOxvB,EAAED,EAAEkE,EAAEjE,EAAEwvB,KAAKvrB,EAAEjE,EAAEmE,EAAE,IAAIkL,EAAEhR,EAAEyR,UAAU,OAAOT,KAAoBnL,GAAhBmL,EAAEA,EAAE+hB,aAAgBG,kBAAmBvxB,IAAI,OAAOkE,EAAEmL,EAAEiiB,gBAAgBrtB,EAAEC,EAAEsrB,KAAKvrB,EAAEoL,EAAEkiB,eAAeptB,GAAG,CAAC,GAAG,OAAOpE,EAAE,CAAC,IAAIsvB,EAAEvvB,EAAEuxB,UAA6B,IAAnBrxB,EAAE,EAAEqP,EAAEpL,EAAEE,EAAE,KAAKD,EAAEnE,IAAI,CAAC,IAAIuvB,EAAEprB,EAAE4tB,KAAKvC,EAAErrB,EAAE2tB,UAAU,IAAIhyB,EAAEyvB,KAAKA,EAAE,CAAC,OAAOjgB,IAAIA,EAAEA,EAAEmgB,KAAK,CAACqC,UAAUtC,EAAEuC,KAAK,EAAEttB,IAAIN,EAAEM,IAAIutB,QAAQ7tB,EAAE6tB,QAAQC,SAAS9tB,EAAE8tB,SACvfxC,KAAK,OAAOnxB,EAAE,CAAC,IAAI8oB,EAAE9oB,EAAE+oB,EAAEljB,EAAU,OAARorB,EAAEhxB,EAAEixB,EAAEhxB,EAAS6oB,EAAE5iB,KAAK,KAAK,EAAc,GAAG,oBAAf2iB,EAAEC,EAAE2K,SAAiC,CAAC1C,EAAElI,EAAE7lB,KAAKiuB,EAAEF,EAAEC,GAAG,MAAMjxB,CAAC,CAACgxB,EAAElI,EAAE,MAAM9oB,EAAE,KAAK,EAAE8oB,EAAEnX,OAAe,MAATmX,EAAEnX,MAAa,IAAI,KAAK,EAAsD,GAAG,QAA3Csf,EAAE,oBAAdnI,EAAEC,EAAE2K,SAAgC5K,EAAE7lB,KAAKiuB,EAAEF,EAAEC,GAAGnI,SAAe,IAASmI,EAAE,MAAMjxB,EAAEgxB,EAAElsB,EAAE,CAAC,EAAEksB,EAAEC,GAAG,MAAMjxB,EAAE,KAAK,EAAE6yB,IAAG,EAAG,CAAC,OAAOhtB,EAAE8tB,UAAU,IAAI9tB,EAAE4tB,OAAOzzB,EAAE2R,OAAO,GAAe,QAAZsf,EAAExvB,EAAE4xB,SAAiB5xB,EAAE4xB,QAAQ,CAACxtB,GAAGorB,EAAE9gB,KAAKtK,GAAG,MAAMqrB,EAAE,CAACsC,UAAUtC,EAAEuC,KAAKxC,EAAE9qB,IAAIN,EAAEM,IAAIutB,QAAQ7tB,EAAE6tB,QAAQC,SAAS9tB,EAAE8tB,SAASxC,KAAK,MAAM,OAAOngB,GAAGpL,EAAEoL,EAAEkgB,EAAEprB,EAAEkrB,GAAGhgB,EAAEA,EAAEmgB,KAAKD,EAAEvvB,GAAGsvB,EAC3e,GAAG,QAAZprB,EAAEA,EAAEsrB,MAAiB,IAAsB,QAAnBtrB,EAAEpE,EAAE0xB,OAAOC,SAAiB,MAAevtB,GAAJorB,EAAEprB,GAAMsrB,KAAKF,EAAEE,KAAK,KAAK1vB,EAAEyxB,eAAejC,EAAExvB,EAAE0xB,OAAOC,QAAQ,IAAI,EAAsG,GAA5F,OAAOpiB,IAAIlL,EAAEkrB,GAAGvvB,EAAEuxB,UAAUltB,EAAErE,EAAEwxB,gBAAgBrtB,EAAEnE,EAAEyxB,eAAeliB,EAA4B,QAA1B/Q,EAAEwB,EAAE0xB,OAAOR,aAAwB,CAAClxB,EAAExB,EAAE,GAAG0B,GAAGF,EAAEgyB,KAAKhyB,EAAEA,EAAE0vB,WAAW1vB,IAAIxB,EAAE,MAAM,OAAOyB,IAAID,EAAE0xB,OAAOhB,MAAM,GAAG8B,IAAItyB,EAAE3B,EAAEmyB,MAAMxwB,EAAE3B,EAAE6R,cAAcmf,CAAC,CAAC,CAC9V,SAASkD,GAAGl0B,EAAEC,EAAEC,GAA8B,GAA3BF,EAAEC,EAAEozB,QAAQpzB,EAAEozB,QAAQ,KAAQ,OAAOrzB,EAAE,IAAIC,EAAE,EAAEA,EAAED,EAAEI,OAAOH,IAAI,CAAC,IAAIuB,EAAExB,EAAEC,GAAGwB,EAAED,EAAEmyB,SAAS,GAAG,OAAOlyB,EAAE,CAAqB,GAApBD,EAAEmyB,SAAS,KAAKnyB,EAAEtB,EAAK,oBAAoBuB,EAAE,MAAMwD,MAAMlF,EAAE,IAAI0B,IAAIA,EAAEwB,KAAKzB,EAAE,CAAC,CAAC,CAAC,IAAI2yB,GAAG,CAAC,EAAEC,GAAGlI,GAAGiI,IAAIE,GAAGnI,GAAGiI,IAAIG,GAAGpI,GAAGiI,IAAI,SAASI,GAAGv0B,GAAG,GAAGA,IAAIm0B,GAAG,MAAMlvB,MAAMlF,EAAE,MAAM,OAAOC,CAAC,CACnS,SAASw0B,GAAGx0B,EAAEC,GAAyC,OAAtCmsB,GAAEkI,GAAGr0B,GAAGmsB,GAAEiI,GAAGr0B,GAAGosB,GAAEgI,GAAGD,IAAIn0B,EAAEC,EAAEyK,UAAmB,KAAK,EAAE,KAAK,GAAGzK,GAAGA,EAAEA,EAAEykB,iBAAiBzkB,EAAE8J,aAAaH,GAAG,KAAK,IAAI,MAAM,QAAkE3J,EAAE2J,GAArC3J,GAAvBD,EAAE,IAAIA,EAAEC,EAAEyP,WAAWzP,GAAM8J,cAAc,KAAK/J,EAAEA,EAAEy0B,SAAkBtI,GAAEiI,IAAIhI,GAAEgI,GAAGn0B,EAAE,CAAC,SAASy0B,KAAKvI,GAAEiI,IAAIjI,GAAEkI,IAAIlI,GAAEmI,GAAG,CAAC,SAASK,GAAG30B,GAAGu0B,GAAGD,GAAGniB,SAAS,IAAIlS,EAAEs0B,GAAGH,GAAGjiB,SAAajS,EAAE0J,GAAG3J,EAAED,EAAEkC,MAAMjC,IAAIC,IAAIksB,GAAEiI,GAAGr0B,GAAGosB,GAAEgI,GAAGl0B,GAAG,CAAC,SAAS00B,GAAG50B,GAAGq0B,GAAGliB,UAAUnS,IAAImsB,GAAEiI,IAAIjI,GAAEkI,IAAI,CAAC,IAAIQ,GAAE3I,GAAG,GACxZ,SAAS4I,GAAG90B,GAAG,IAAI,IAAIC,EAAED,EAAE,OAAOC,GAAG,CAAC,GAAG,KAAKA,EAAEkG,IAAI,CAAC,IAAIjG,EAAED,EAAE4R,cAAc,GAAG,OAAO3R,IAAmB,QAAfA,EAAEA,EAAE4R,aAAqB,OAAO5R,EAAE2c,MAAM,OAAO3c,EAAE2c,MAAM,OAAO5c,CAAC,MAAM,GAAG,KAAKA,EAAEkG,UAAK,IAASlG,EAAEyvB,cAAcqF,aAAa,GAAG,KAAa,IAAR90B,EAAE0R,OAAW,OAAO1R,OAAO,GAAG,OAAOA,EAAEgS,MAAM,CAAChS,EAAEgS,MAAMP,OAAOzR,EAAEA,EAAEA,EAAEgS,MAAM,QAAQ,CAAC,GAAGhS,IAAID,EAAE,MAAM,KAAK,OAAOC,EAAEiS,SAAS,CAAC,GAAG,OAAOjS,EAAEyR,QAAQzR,EAAEyR,SAAS1R,EAAE,OAAO,KAAKC,EAAEA,EAAEyR,MAAM,CAACzR,EAAEiS,QAAQR,OAAOzR,EAAEyR,OAAOzR,EAAEA,EAAEiS,OAAO,CAAC,OAAO,IAAI,CAAC,IAAI8iB,GAAG,GACrc,SAASC,KAAK,IAAI,IAAIj1B,EAAE,EAAEA,EAAEg1B,GAAG50B,OAAOJ,IAAIg1B,GAAGh1B,GAAGk1B,8BAA8B,KAAKF,GAAG50B,OAAO,CAAC,CAAC,IAAI+0B,GAAG1xB,EAAG2xB,uBAAuBC,GAAG5xB,EAAGoU,wBAAwByd,GAAG,EAAEC,GAAE,KAAKC,GAAE,KAAKC,GAAE,KAAKC,IAAG,EAAGC,IAAG,EAAGC,GAAG,EAAEC,GAAG,EAAE,SAASC,KAAI,MAAM7wB,MAAMlF,EAAE,KAAM,CAAC,SAASg2B,GAAG/1B,EAAEC,GAAG,GAAG,OAAOA,EAAE,OAAM,EAAG,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEG,QAAQF,EAAEF,EAAEI,OAAOF,IAAI,IAAIqjB,GAAGvjB,EAAEE,GAAGD,EAAEC,IAAI,OAAM,EAAG,OAAM,CAAE,CAChW,SAAS81B,GAAGh2B,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,GAAyH,GAAtH4zB,GAAG5zB,EAAE6zB,GAAEt1B,EAAEA,EAAE4R,cAAc,KAAK5R,EAAE8yB,YAAY,KAAK9yB,EAAEkyB,MAAM,EAAEgD,GAAGhjB,QAAQ,OAAOnS,GAAG,OAAOA,EAAE6R,cAAcokB,GAAGC,GAAGl2B,EAAEE,EAAEsB,EAAEC,GAAMk0B,GAAG,CAACj0B,EAAE,EAAE,EAAE,CAAY,GAAXi0B,IAAG,EAAGC,GAAG,EAAK,IAAIl0B,EAAE,MAAMuD,MAAMlF,EAAE,MAAM2B,GAAG,EAAE+zB,GAAED,GAAE,KAAKv1B,EAAE8yB,YAAY,KAAKoC,GAAGhjB,QAAQgkB,GAAGn2B,EAAEE,EAAEsB,EAAEC,EAAE,OAAOk0B,GAAG,CAA+D,GAA9DR,GAAGhjB,QAAQikB,GAAGn2B,EAAE,OAAOu1B,IAAG,OAAOA,GAAErE,KAAKmE,GAAG,EAAEG,GAAED,GAAED,GAAE,KAAKG,IAAG,EAAMz1B,EAAE,MAAMgF,MAAMlF,EAAE,MAAM,OAAOC,CAAC,CAAC,SAASq2B,KAAK,IAAIr2B,EAAE,IAAI41B,GAAQ,OAALA,GAAG,EAAS51B,CAAC,CAC/Y,SAASs2B,KAAK,IAAIt2B,EAAE,CAAC6R,cAAc,KAAKmhB,UAAU,KAAKuD,UAAU,KAAKC,MAAM,KAAKrF,KAAK,MAA8C,OAAxC,OAAOsE,GAAEF,GAAE1jB,cAAc4jB,GAAEz1B,EAAEy1B,GAAEA,GAAEtE,KAAKnxB,EAASy1B,EAAC,CAAC,SAASgB,KAAK,GAAG,OAAOjB,GAAE,CAAC,IAAIx1B,EAAEu1B,GAAE9jB,UAAUzR,EAAE,OAAOA,EAAEA,EAAE6R,cAAc,IAAI,MAAM7R,EAAEw1B,GAAErE,KAAK,IAAIlxB,EAAE,OAAOw1B,GAAEF,GAAE1jB,cAAc4jB,GAAEtE,KAAK,GAAG,OAAOlxB,EAAEw1B,GAAEx1B,EAAEu1B,GAAEx1B,MAAM,CAAC,GAAG,OAAOA,EAAE,MAAMiF,MAAMlF,EAAE,MAAUC,EAAE,CAAC6R,eAAP2jB,GAAEx1B,GAAqB6R,cAAcmhB,UAAUwC,GAAExC,UAAUuD,UAAUf,GAAEe,UAAUC,MAAMhB,GAAEgB,MAAMrF,KAAK,MAAM,OAAOsE,GAAEF,GAAE1jB,cAAc4jB,GAAEz1B,EAAEy1B,GAAEA,GAAEtE,KAAKnxB,CAAC,CAAC,OAAOy1B,EAAC,CACje,SAASiB,GAAG12B,EAAEC,GAAG,MAAM,oBAAoBA,EAAEA,EAAED,GAAGC,CAAC,CACnD,SAAS02B,GAAG32B,GAAG,IAAIC,EAAEw2B,KAAKv2B,EAAED,EAAEu2B,MAAM,GAAG,OAAOt2B,EAAE,MAAM+E,MAAMlF,EAAE,MAAMG,EAAE02B,oBAAoB52B,EAAE,IAAIwB,EAAEg0B,GAAE/zB,EAAED,EAAE+0B,UAAU70B,EAAExB,EAAEkzB,QAAQ,GAAG,OAAO1xB,EAAE,CAAC,GAAG,OAAOD,EAAE,CAAC,IAAIE,EAAEF,EAAE0vB,KAAK1vB,EAAE0vB,KAAKzvB,EAAEyvB,KAAKzvB,EAAEyvB,KAAKxvB,CAAC,CAACH,EAAE+0B,UAAU90B,EAAEC,EAAExB,EAAEkzB,QAAQ,IAAI,CAAC,GAAG,OAAO3xB,EAAE,CAACC,EAAED,EAAE0vB,KAAK3vB,EAAEA,EAAEwxB,UAAU,IAAIntB,EAAElE,EAAE,KAAKmE,EAAE,KAAKF,EAAElE,EAAE,EAAE,CAAC,IAAIsP,EAAEpL,EAAE6tB,KAAK,IAAI6B,GAAGtkB,KAAKA,EAAE,OAAOlL,IAAIA,EAAEA,EAAEqrB,KAAK,CAACsC,KAAK,EAAEoD,OAAOjxB,EAAEixB,OAAOC,cAAclxB,EAAEkxB,cAAcC,WAAWnxB,EAAEmxB,WAAW5F,KAAK,OAAO3vB,EAAEoE,EAAEkxB,cAAclxB,EAAEmxB,WAAW/2B,EAAEwB,EAAEoE,EAAEixB,YAAY,CAAC,IAAI7F,EAAE,CAACyC,KAAKziB,EAAE6lB,OAAOjxB,EAAEixB,OAAOC,cAAclxB,EAAEkxB,cACngBC,WAAWnxB,EAAEmxB,WAAW5F,KAAK,MAAM,OAAOrrB,GAAGD,EAAEC,EAAEkrB,EAAErvB,EAAEH,GAAGsE,EAAEA,EAAEqrB,KAAKH,EAAEuE,GAAEpD,OAAOnhB,EAAEijB,IAAIjjB,CAAC,CAACpL,EAAEA,EAAEurB,IAAI,OAAO,OAAOvrB,GAAGA,IAAIlE,GAAG,OAAOoE,EAAEnE,EAAEH,EAAEsE,EAAEqrB,KAAKtrB,EAAE0d,GAAG/hB,EAAEvB,EAAE4R,iBAAiBugB,IAAG,GAAInyB,EAAE4R,cAAcrQ,EAAEvB,EAAE+yB,UAAUrxB,EAAE1B,EAAEs2B,UAAUzwB,EAAE5F,EAAE82B,kBAAkBx1B,CAAC,CAAiB,GAAG,QAAnBxB,EAAEE,EAAEyyB,aAAwB,CAAClxB,EAAEzB,EAAE,GAAG0B,EAAED,EAAEgyB,KAAK8B,GAAEpD,OAAOzwB,EAAEuyB,IAAIvyB,EAAED,EAAEA,EAAE0vB,WAAW1vB,IAAIzB,EAAE,MAAM,OAAOyB,IAAIvB,EAAEiyB,MAAM,GAAG,MAAM,CAAClyB,EAAE4R,cAAc3R,EAAE+2B,SAAS,CAC9X,SAASC,GAAGl3B,GAAG,IAAIC,EAAEw2B,KAAKv2B,EAAED,EAAEu2B,MAAM,GAAG,OAAOt2B,EAAE,MAAM+E,MAAMlF,EAAE,MAAMG,EAAE02B,oBAAoB52B,EAAE,IAAIwB,EAAEtB,EAAE+2B,SAASx1B,EAAEvB,EAAEkzB,QAAQ1xB,EAAEzB,EAAE4R,cAAc,GAAG,OAAOpQ,EAAE,CAACvB,EAAEkzB,QAAQ,KAAK,IAAIzxB,EAAEF,EAAEA,EAAE0vB,KAAK,GAAGzvB,EAAE1B,EAAE0B,EAAEC,EAAEk1B,QAAQl1B,EAAEA,EAAEwvB,WAAWxvB,IAAIF,GAAG8hB,GAAG7hB,EAAEzB,EAAE4R,iBAAiBugB,IAAG,GAAInyB,EAAE4R,cAAcnQ,EAAE,OAAOzB,EAAEs2B,YAAYt2B,EAAE+yB,UAAUtxB,GAAGxB,EAAE82B,kBAAkBt1B,CAAC,CAAC,MAAM,CAACA,EAAEF,EAAE,CAAC,SAAS21B,KAAK,CACpW,SAASC,GAAGp3B,EAAEC,GAAG,IAAIC,EAAEq1B,GAAE/zB,EAAEi1B,KAAKh1B,EAAExB,IAAIyB,GAAG6hB,GAAG/hB,EAAEqQ,cAAcpQ,GAAsE,GAAnEC,IAAIF,EAAEqQ,cAAcpQ,EAAE2wB,IAAG,GAAI5wB,EAAEA,EAAEg1B,MAAMa,GAAGC,GAAG3O,KAAK,KAAKzoB,EAAEsB,EAAExB,GAAG,CAACA,IAAOwB,EAAE+1B,cAAct3B,GAAGyB,GAAG,OAAO+zB,IAAuB,EAApBA,GAAE5jB,cAAc1L,IAAM,CAAuD,GAAtDjG,EAAEyR,OAAO,KAAK6lB,GAAG,EAAEC,GAAG9O,KAAK,KAAKzoB,EAAEsB,EAAEC,EAAExB,QAAG,EAAO,MAAS,OAAOy3B,GAAE,MAAMzyB,MAAMlF,EAAE,MAAM,KAAQ,GAAHu1B,KAAQqC,GAAGz3B,EAAED,EAAEwB,EAAE,CAAC,OAAOA,CAAC,CAAC,SAASk2B,GAAG33B,EAAEC,EAAEC,GAAGF,EAAE2R,OAAO,MAAM3R,EAAE,CAACu3B,YAAYt3B,EAAE0H,MAAMzH,GAAmB,QAAhBD,EAAEs1B,GAAExC,cAAsB9yB,EAAE,CAAC23B,WAAW,KAAKC,OAAO,MAAMtC,GAAExC,YAAY9yB,EAAEA,EAAE43B,OAAO,CAAC73B,IAAgB,QAAXE,EAAED,EAAE43B,QAAgB53B,EAAE43B,OAAO,CAAC73B,GAAGE,EAAEiQ,KAAKnQ,EAAG,CAClf,SAASy3B,GAAGz3B,EAAEC,EAAEC,EAAEsB,GAAGvB,EAAE0H,MAAMzH,EAAED,EAAEs3B,YAAY/1B,EAAEs2B,GAAG73B,IAAI83B,GAAG/3B,EAAE,CAAC,SAASs3B,GAAGt3B,EAAEC,EAAEC,GAAG,OAAOA,GAAE,WAAW43B,GAAG73B,IAAI83B,GAAG/3B,EAAE,GAAE,CAAC,SAAS83B,GAAG93B,GAAG,IAAIC,EAAED,EAAEu3B,YAAYv3B,EAAEA,EAAE2H,MAAM,IAAI,IAAIzH,EAAED,IAAI,OAAOsjB,GAAGvjB,EAAEE,EAAE,CAAC,MAAMsB,GAAG,OAAM,CAAE,CAAC,CAAC,SAASu2B,GAAG/3B,GAAG,IAAIC,EAAE2yB,GAAG5yB,EAAE,GAAG,OAAOC,GAAG+3B,GAAG/3B,EAAED,EAAE,GAAG,EAAE,CAClQ,SAASi4B,GAAGj4B,GAAG,IAAIC,EAAEq2B,KAA8M,MAAzM,oBAAoBt2B,IAAIA,EAAEA,KAAKC,EAAE4R,cAAc5R,EAAE+yB,UAAUhzB,EAAEA,EAAE,CAACozB,QAAQ,KAAKT,YAAY,KAAKR,MAAM,EAAE8E,SAAS,KAAKL,oBAAoBF,GAAGM,kBAAkBh3B,GAAGC,EAAEu2B,MAAMx2B,EAAEA,EAAEA,EAAEi3B,SAASiB,GAAGvP,KAAK,KAAK4M,GAAEv1B,GAAS,CAACC,EAAE4R,cAAc7R,EAAE,CAC5P,SAASw3B,GAAGx3B,EAAEC,EAAEC,EAAEsB,GAA8O,OAA3OxB,EAAE,CAACmG,IAAInG,EAAEm4B,OAAOl4B,EAAEm4B,QAAQl4B,EAAEm4B,KAAK72B,EAAE2vB,KAAK,MAAsB,QAAhBlxB,EAAEs1B,GAAExC,cAAsB9yB,EAAE,CAAC23B,WAAW,KAAKC,OAAO,MAAMtC,GAAExC,YAAY9yB,EAAEA,EAAE23B,WAAW53B,EAAEmxB,KAAKnxB,GAAmB,QAAfE,EAAED,EAAE23B,YAAoB33B,EAAE23B,WAAW53B,EAAEmxB,KAAKnxB,GAAGwB,EAAEtB,EAAEixB,KAAKjxB,EAAEixB,KAAKnxB,EAAEA,EAAEmxB,KAAK3vB,EAAEvB,EAAE23B,WAAW53B,GAAWA,CAAC,CAAC,SAASs4B,KAAK,OAAO7B,KAAK5kB,aAAa,CAAC,SAAS0mB,GAAGv4B,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAE60B,KAAKf,GAAE5jB,OAAO3R,EAAEyB,EAAEoQ,cAAc2lB,GAAG,EAAEv3B,EAAEC,OAAE,OAAO,IAASsB,EAAE,KAAKA,EAAE,CAC9Y,SAASg3B,GAAGx4B,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAEg1B,KAAKj1B,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAIE,OAAE,EAAO,GAAG,OAAO8zB,GAAE,CAAC,IAAI7zB,EAAE6zB,GAAE3jB,cAA0B,GAAZnQ,EAAEC,EAAEy2B,QAAW,OAAO52B,GAAGu0B,GAAGv0B,EAAEG,EAAE02B,MAAmC,YAA5B52B,EAAEoQ,cAAc2lB,GAAGv3B,EAAEC,EAAEwB,EAAEF,GAAU,CAAC+zB,GAAE5jB,OAAO3R,EAAEyB,EAAEoQ,cAAc2lB,GAAG,EAAEv3B,EAAEC,EAAEwB,EAAEF,EAAE,CAAC,SAASi3B,GAAGz4B,EAAEC,GAAG,OAAOs4B,GAAG,QAAQ,EAAEv4B,EAAEC,EAAE,CAAC,SAASo3B,GAAGr3B,EAAEC,GAAG,OAAOu4B,GAAG,KAAK,EAAEx4B,EAAEC,EAAE,CAAC,SAASy4B,GAAG14B,EAAEC,GAAG,OAAOu4B,GAAG,EAAE,EAAEx4B,EAAEC,EAAE,CAAC,SAAS04B,GAAG34B,EAAEC,GAAG,OAAOu4B,GAAG,EAAE,EAAEx4B,EAAEC,EAAE,CAChX,SAAS24B,GAAG54B,EAAEC,GAAG,MAAG,oBAAoBA,GAASD,EAAEA,IAAIC,EAAED,GAAG,WAAWC,EAAE,KAAK,GAAK,OAAOA,QAAG,IAASA,GAASD,EAAEA,IAAIC,EAAEkS,QAAQnS,EAAE,WAAWC,EAAEkS,QAAQ,IAAI,QAA1E,CAA2E,CAAC,SAAS0mB,GAAG74B,EAAEC,EAAEC,GAA6C,OAA1CA,EAAE,OAAOA,QAAG,IAASA,EAAEA,EAAE4nB,OAAO,CAAC9nB,IAAI,KAAYw4B,GAAG,EAAE,EAAEI,GAAGjQ,KAAK,KAAK1oB,EAAED,GAAGE,EAAE,CAAC,SAAS44B,KAAK,CAAC,SAASC,GAAG/4B,EAAEC,GAAG,IAAIC,EAAEu2B,KAAKx2B,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAIuB,EAAEtB,EAAE2R,cAAc,OAAG,OAAOrQ,GAAG,OAAOvB,GAAG81B,GAAG91B,EAAEuB,EAAE,IAAWA,EAAE,IAAGtB,EAAE2R,cAAc,CAAC7R,EAAEC,GAAUD,EAAC,CAC7Z,SAASg5B,GAAGh5B,EAAEC,GAAG,IAAIC,EAAEu2B,KAAKx2B,OAAE,IAASA,EAAE,KAAKA,EAAE,IAAIuB,EAAEtB,EAAE2R,cAAc,OAAG,OAAOrQ,GAAG,OAAOvB,GAAG81B,GAAG91B,EAAEuB,EAAE,IAAWA,EAAE,IAAGxB,EAAEA,IAAIE,EAAE2R,cAAc,CAAC7R,EAAEC,GAAUD,EAAC,CAAC,SAASi5B,GAAGj5B,EAAEC,EAAEC,GAAG,OAAG,KAAQ,GAAHo1B,KAAct1B,EAAEgzB,YAAYhzB,EAAEgzB,WAAU,EAAGZ,IAAG,GAAIpyB,EAAE6R,cAAc3R,IAAEqjB,GAAGrjB,EAAED,KAAKC,EAAE8U,KAAKugB,GAAEpD,OAAOjyB,EAAE+zB,IAAI/zB,EAAEF,EAAEgzB,WAAU,GAAW/yB,EAAC,CAAC,SAASi5B,GAAGl5B,EAAEC,GAAG,IAAIC,EAAEmV,GAAEA,GAAE,IAAInV,GAAG,EAAEA,EAAEA,EAAE,EAAEF,GAAE,GAAI,IAAIwB,EAAE6zB,GAAGrd,WAAWqd,GAAGrd,WAAW,CAAC,EAAE,IAAIhY,GAAE,GAAIC,GAAG,CAAC,QAAQoV,GAAEnV,EAAEm1B,GAAGrd,WAAWxW,CAAC,CAAC,CAAC,SAAS23B,KAAK,OAAO1C,KAAK5kB,aAAa,CAC1d,SAASunB,GAAGp5B,EAAEC,EAAEC,GAAG,IAAIsB,EAAE63B,GAAGr5B,GAAkE,GAA/DE,EAAE,CAACuzB,KAAKjyB,EAAEq1B,OAAO32B,EAAE42B,eAAc,EAAGC,WAAW,KAAK5F,KAAK,MAASmI,GAAGt5B,GAAGu5B,GAAGt5B,EAAEC,QAAQ,GAAiB,QAAdA,EAAEwyB,GAAG1yB,EAAEC,EAAEC,EAAEsB,IAAY,CAAWw2B,GAAG93B,EAAEF,EAAEwB,EAAXg4B,MAAgBC,GAAGv5B,EAAED,EAAEuB,EAAE,CAAC,CAC/K,SAAS02B,GAAGl4B,EAAEC,EAAEC,GAAG,IAAIsB,EAAE63B,GAAGr5B,GAAGyB,EAAE,CAACgyB,KAAKjyB,EAAEq1B,OAAO32B,EAAE42B,eAAc,EAAGC,WAAW,KAAK5F,KAAK,MAAM,GAAGmI,GAAGt5B,GAAGu5B,GAAGt5B,EAAEwB,OAAO,CAAC,IAAIC,EAAE1B,EAAEyR,UAAU,GAAG,IAAIzR,EAAEmyB,QAAQ,OAAOzwB,GAAG,IAAIA,EAAEywB,QAAiC,QAAxBzwB,EAAEzB,EAAE22B,qBAA8B,IAAI,IAAIj1B,EAAE1B,EAAE+2B,kBAAkBnxB,EAAEnE,EAAEC,EAAEzB,GAAqC,GAAlCuB,EAAEq1B,eAAc,EAAGr1B,EAAEs1B,WAAWlxB,EAAK0d,GAAG1d,EAAElE,GAAG,CAAC,IAAImE,EAAE7F,EAAE0yB,YAA+E,OAAnE,OAAO7sB,GAAGrE,EAAE0vB,KAAK1vB,EAAEgxB,GAAGxyB,KAAKwB,EAAE0vB,KAAKrrB,EAAEqrB,KAAKrrB,EAAEqrB,KAAK1vB,QAAGxB,EAAE0yB,YAAYlxB,EAAQ,CAAC,CAAC,MAAMmE,GAAG,CAAwB,QAAd1F,EAAEwyB,GAAG1yB,EAAEC,EAAEwB,EAAED,MAAoBw2B,GAAG93B,EAAEF,EAAEwB,EAAbC,EAAE+3B,MAAgBC,GAAGv5B,EAAED,EAAEuB,GAAG,CAAC,CAC/c,SAAS83B,GAAGt5B,GAAG,IAAIC,EAAED,EAAEyR,UAAU,OAAOzR,IAAIu1B,IAAG,OAAOt1B,GAAGA,IAAIs1B,EAAC,CAAC,SAASgE,GAAGv5B,EAAEC,GAAG01B,GAAGD,IAAG,EAAG,IAAIx1B,EAAEF,EAAEozB,QAAQ,OAAOlzB,EAAED,EAAEkxB,KAAKlxB,GAAGA,EAAEkxB,KAAKjxB,EAAEixB,KAAKjxB,EAAEixB,KAAKlxB,GAAGD,EAAEozB,QAAQnzB,CAAC,CAAC,SAASw5B,GAAGz5B,EAAEC,EAAEC,GAAG,GAAG,KAAO,QAAFA,GAAW,CAAC,IAAIsB,EAAEvB,EAAEkyB,MAAwBjyB,GAAlBsB,GAAGxB,EAAEyU,aAAkBxU,EAAEkyB,MAAMjyB,EAAEkV,GAAGpV,EAAEE,EAAE,CAAC,CAC9P,IAAIk2B,GAAG,CAACsD,YAAYrH,GAAGsH,YAAY7D,GAAE8D,WAAW9D,GAAE+D,UAAU/D,GAAEgE,oBAAoBhE,GAAEiE,mBAAmBjE,GAAEkE,gBAAgBlE,GAAEmE,QAAQnE,GAAEoE,WAAWpE,GAAEqE,OAAOrE,GAAEsE,SAAStE,GAAEuE,cAAcvE,GAAEwE,iBAAiBxE,GAAEyE,cAAczE,GAAE0E,iBAAiB1E,GAAE2E,qBAAqB3E,GAAE4E,MAAM5E,GAAE6E,0BAAyB,GAAI1E,GAAG,CAACyD,YAAYrH,GAAGsH,YAAY,SAAS35B,EAAEC,GAA4C,OAAzCq2B,KAAKzkB,cAAc,CAAC7R,OAAE,IAASC,EAAE,KAAKA,GAAUD,CAAC,EAAE45B,WAAWvH,GAAGwH,UAAUpB,GAAGqB,oBAAoB,SAAS95B,EAAEC,EAAEC,GAA6C,OAA1CA,EAAE,OAAOA,QAAG,IAASA,EAAEA,EAAE4nB,OAAO,CAAC9nB,IAAI,KAAYu4B,GAAG,QAC3f,EAAEK,GAAGjQ,KAAK,KAAK1oB,EAAED,GAAGE,EAAE,EAAE85B,gBAAgB,SAASh6B,EAAEC,GAAG,OAAOs4B,GAAG,QAAQ,EAAEv4B,EAAEC,EAAE,EAAE85B,mBAAmB,SAAS/5B,EAAEC,GAAG,OAAOs4B,GAAG,EAAE,EAAEv4B,EAAEC,EAAE,EAAEg6B,QAAQ,SAASj6B,EAAEC,GAAG,IAAIC,EAAEo2B,KAAqD,OAAhDr2B,OAAE,IAASA,EAAE,KAAKA,EAAED,EAAEA,IAAIE,EAAE2R,cAAc,CAAC7R,EAAEC,GAAUD,CAAC,EAAEk6B,WAAW,SAASl6B,EAAEC,EAAEC,GAAG,IAAIsB,EAAE80B,KAAkM,OAA7Lr2B,OAAE,IAASC,EAAEA,EAAED,GAAGA,EAAEuB,EAAEqQ,cAAcrQ,EAAEwxB,UAAU/yB,EAAED,EAAE,CAACozB,QAAQ,KAAKT,YAAY,KAAKR,MAAM,EAAE8E,SAAS,KAAKL,oBAAoB52B,EAAEg3B,kBAAkB/2B,GAAGuB,EAAEg1B,MAAMx2B,EAAEA,EAAEA,EAAEi3B,SAASmC,GAAGzQ,KAAK,KAAK4M,GAAEv1B,GAAS,CAACwB,EAAEqQ,cAAc7R,EAAE,EAAEm6B,OAAO,SAASn6B,GAC3d,OAAdA,EAAE,CAACmS,QAAQnS,GAAhBs2B,KAA4BzkB,cAAc7R,CAAC,EAAEo6B,SAASnC,GAAGoC,cAAcvB,GAAGwB,iBAAiB,SAASt6B,GAAG,OAAOs2B,KAAKzkB,cAAc7R,CAAC,EAAEu6B,cAAc,WAAW,IAAIv6B,EAAEi4B,IAAG,GAAIh4B,EAAED,EAAE,GAA6C,OAA1CA,EAAEk5B,GAAGvQ,KAAK,KAAK3oB,EAAE,IAAIs2B,KAAKzkB,cAAc7R,EAAQ,CAACC,EAAED,EAAE,EAAEw6B,iBAAiB,WAAW,EAAEC,qBAAqB,SAASz6B,EAAEC,EAAEC,GAAG,IAAIsB,EAAE+zB,GAAE9zB,EAAE60B,KAAK,GAAG5H,GAAE,CAAC,QAAG,IAASxuB,EAAE,MAAM+E,MAAMlF,EAAE,MAAMG,EAAEA,GAAG,KAAK,CAAO,GAANA,EAAED,IAAO,OAAOy3B,GAAE,MAAMzyB,MAAMlF,EAAE,MAAM,KAAQ,GAAHu1B,KAAQqC,GAAGn2B,EAAEvB,EAAEC,EAAE,CAACuB,EAAEoQ,cAAc3R,EAAE,IAAIwB,EAAE,CAACiG,MAAMzH,EAAEq3B,YAAYt3B,GACvZ,OAD0ZwB,EAAE+0B,MAAM90B,EAAE+2B,GAAGnB,GAAG3O,KAAK,KAAKnnB,EACpfE,EAAE1B,GAAG,CAACA,IAAIwB,EAAEmQ,OAAO,KAAK6lB,GAAG,EAAEC,GAAG9O,KAAK,KAAKnnB,EAAEE,EAAExB,EAAED,QAAG,EAAO,MAAaC,CAAC,EAAEw6B,MAAM,WAAW,IAAI16B,EAAEs2B,KAAKr2B,EAAEy3B,GAAEkD,iBAAiB,GAAGlM,GAAE,CAAC,IAAIxuB,EAAEiuB,GAAkDluB,EAAE,IAAIA,EAAE,KAA9CC,GAAHguB,KAAU,GAAG,GAAGpa,GAAhBoa,IAAsB,IAAIhkB,SAAS,IAAIhK,GAAuB,GAAPA,EAAE01B,QAAW31B,GAAG,IAAIC,EAAEgK,SAAS,KAAKjK,GAAG,GAAG,MAAaA,EAAE,IAAIA,EAAE,KAAfC,EAAE21B,MAAmB3rB,SAAS,IAAI,IAAI,OAAOlK,EAAE6R,cAAc5R,CAAC,EAAE06B,0BAAyB,GAAIzE,GAAG,CAACwD,YAAYrH,GAAGsH,YAAYZ,GAAGa,WAAWvH,GAAGwH,UAAUxC,GAAGyC,oBAAoBjB,GAAGkB,mBAAmBrB,GAAGsB,gBAAgBrB,GAAGsB,QAAQjB,GAAGkB,WAAWvD,GAAGwD,OAAO7B,GAAG8B,SAAS,WAAW,OAAOzD,GAAGD,GAAG,EACrhB2D,cAAcvB,GAAGwB,iBAAiB,SAASt6B,GAAc,OAAOi5B,GAAZxC,KAAiBjB,GAAE3jB,cAAc7R,EAAE,EAAEu6B,cAAc,WAAgD,MAAM,CAArC5D,GAAGD,IAAI,GAAKD,KAAK5kB,cAAyB,EAAE2oB,iBAAiBrD,GAAGsD,qBAAqBrD,GAAGsD,MAAMvB,GAAGwB,0BAAyB,GAAIxE,GAAG,CAACuD,YAAYrH,GAAGsH,YAAYZ,GAAGa,WAAWvH,GAAGwH,UAAUxC,GAAGyC,oBAAoBjB,GAAGkB,mBAAmBrB,GAAGsB,gBAAgBrB,GAAGsB,QAAQjB,GAAGkB,WAAWhD,GAAGiD,OAAO7B,GAAG8B,SAAS,WAAW,OAAOlD,GAAGR,GAAG,EAAE2D,cAAcvB,GAAGwB,iBAAiB,SAASt6B,GAAG,IAAIC,EAAEw2B,KAAK,OAAO,OACzfjB,GAAEv1B,EAAE4R,cAAc7R,EAAEi5B,GAAGh5B,EAAEu1B,GAAE3jB,cAAc7R,EAAE,EAAEu6B,cAAc,WAAgD,MAAM,CAArCrD,GAAGR,IAAI,GAAKD,KAAK5kB,cAAyB,EAAE2oB,iBAAiBrD,GAAGsD,qBAAqBrD,GAAGsD,MAAMvB,GAAGwB,0BAAyB,GAAI,SAASE,GAAG76B,EAAEC,GAAG,GAAGD,GAAGA,EAAE86B,aAAa,CAA4B,IAAI,IAAI56B,KAAnCD,EAAE6E,EAAE,CAAC,EAAE7E,GAAGD,EAAEA,EAAE86B,kBAA4B,IAAS76B,EAAEC,KAAKD,EAAEC,GAAGF,EAAEE,IAAI,OAAOD,CAAC,CAAC,OAAOA,CAAC,CAAC,SAAS86B,GAAG/6B,EAAEC,EAAEC,EAAEsB,GAA8BtB,EAAE,QAAXA,EAAEA,EAAEsB,EAAtBvB,EAAED,EAAE6R,sBAAmC,IAAS3R,EAAED,EAAE6E,EAAE,CAAC,EAAE7E,EAAEC,GAAGF,EAAE6R,cAAc3R,EAAE,IAAIF,EAAEmyB,QAAQnyB,EAAE+yB,YAAYC,UAAU9yB,EAAE,CACrd,IAAI86B,GAAG,CAACC,UAAU,SAASj7B,GAAG,SAAOA,EAAEA,EAAEk7B,kBAAiB1pB,GAAGxR,KAAKA,CAAI,EAAEm7B,gBAAgB,SAASn7B,EAAEC,EAAEC,GAAGF,EAAEA,EAAEk7B,gBAAgB,IAAI15B,EAAEg4B,KAAI/3B,EAAE43B,GAAGr5B,GAAG0B,EAAE6xB,GAAG/xB,EAAEC,GAAGC,EAAEgyB,QAAQzzB,OAAE,IAASC,GAAG,OAAOA,IAAIwB,EAAEiyB,SAASzzB,GAAe,QAAZD,EAAE2zB,GAAG5zB,EAAE0B,EAAED,MAAcu2B,GAAG/3B,EAAED,EAAEyB,EAAED,GAAGsyB,GAAG7zB,EAAED,EAAEyB,GAAG,EAAE25B,oBAAoB,SAASp7B,EAAEC,EAAEC,GAAGF,EAAEA,EAAEk7B,gBAAgB,IAAI15B,EAAEg4B,KAAI/3B,EAAE43B,GAAGr5B,GAAG0B,EAAE6xB,GAAG/xB,EAAEC,GAAGC,EAAEyE,IAAI,EAAEzE,EAAEgyB,QAAQzzB,OAAE,IAASC,GAAG,OAAOA,IAAIwB,EAAEiyB,SAASzzB,GAAe,QAAZD,EAAE2zB,GAAG5zB,EAAE0B,EAAED,MAAcu2B,GAAG/3B,EAAED,EAAEyB,EAAED,GAAGsyB,GAAG7zB,EAAED,EAAEyB,GAAG,EAAE45B,mBAAmB,SAASr7B,EAAEC,GAAGD,EAAEA,EAAEk7B,gBAAgB,IAAIh7B,EAAEs5B,KAAIh4B,EACnf63B,GAAGr5B,GAAGyB,EAAE8xB,GAAGrzB,EAAEsB,GAAGC,EAAE0E,IAAI,OAAE,IAASlG,GAAG,OAAOA,IAAIwB,EAAEkyB,SAAS1zB,GAAe,QAAZA,EAAE2zB,GAAG5zB,EAAEyB,EAAED,MAAcw2B,GAAG/3B,EAAED,EAAEwB,EAAEtB,GAAG4zB,GAAG7zB,EAAED,EAAEwB,GAAG,GAAG,SAAS85B,GAAGt7B,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,GAAiB,MAAM,oBAApB3B,EAAEA,EAAEgQ,WAAsCurB,sBAAsBv7B,EAAEu7B,sBAAsB/5B,EAAEE,EAAEC,IAAG1B,EAAEiB,YAAWjB,EAAEiB,UAAUs6B,wBAAsBhY,GAAGtjB,EAAEsB,KAAKgiB,GAAG/hB,EAAEC,GAAK,CAC1S,SAAS+5B,GAAGz7B,EAAEC,EAAEC,GAAG,IAAIsB,GAAE,EAAGC,EAAE4qB,GAAO3qB,EAAEzB,EAAEy7B,YAA2W,MAA/V,kBAAkBh6B,GAAG,OAAOA,EAAEA,EAAE2wB,GAAG3wB,IAAID,EAAEorB,GAAG5sB,GAAGusB,GAAGF,GAAEna,QAAyBzQ,GAAGF,EAAE,QAAtBA,EAAEvB,EAAEysB,oBAA4B,IAASlrB,GAAGirB,GAAGzsB,EAAEyB,GAAG4qB,IAAIpsB,EAAE,IAAIA,EAAEC,EAAEwB,GAAG1B,EAAE6R,cAAc,OAAO5R,EAAE07B,YAAO,IAAS17B,EAAE07B,MAAM17B,EAAE07B,MAAM,KAAK17B,EAAE27B,QAAQZ,GAAGh7B,EAAEgQ,UAAU/P,EAAEA,EAAEi7B,gBAAgBl7B,EAAEwB,KAAIxB,EAAEA,EAAEgQ,WAAY2c,4CAA4ClrB,EAAEzB,EAAE4sB,0CAA0ClrB,GAAUzB,CAAC,CAC5Z,SAAS47B,GAAG77B,EAAEC,EAAEC,EAAEsB,GAAGxB,EAAEC,EAAE07B,MAAM,oBAAoB17B,EAAE67B,2BAA2B77B,EAAE67B,0BAA0B57B,EAAEsB,GAAG,oBAAoBvB,EAAE87B,kCAAkC97B,EAAE87B,iCAAiC77B,EAAEsB,GAAGvB,EAAE07B,QAAQ37B,GAAGg7B,GAAGI,oBAAoBn7B,EAAEA,EAAE07B,MAAM,KAAK,CACpQ,SAASK,GAAGh8B,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAEzB,EAAEgQ,UAAUvO,EAAEkvB,MAAMzwB,EAAEuB,EAAEk6B,MAAM37B,EAAE6R,cAAcpQ,EAAE0uB,KAAK,CAAC,EAAE2C,GAAG9yB,GAAG,IAAI0B,EAAEzB,EAAEy7B,YAAY,kBAAkBh6B,GAAG,OAAOA,EAAED,EAAE6wB,QAAQD,GAAG3wB,IAAIA,EAAEmrB,GAAG5sB,GAAGusB,GAAGF,GAAEna,QAAQ1Q,EAAE6wB,QAAQ7F,GAAGzsB,EAAE0B,IAAID,EAAEk6B,MAAM37B,EAAE6R,cAA2C,oBAA7BnQ,EAAEzB,EAAEg8B,4BAAiDlB,GAAG/6B,EAAEC,EAAEyB,EAAExB,GAAGuB,EAAEk6B,MAAM37B,EAAE6R,eAAe,oBAAoB5R,EAAEg8B,0BAA0B,oBAAoBx6B,EAAEy6B,yBAAyB,oBAAoBz6B,EAAE06B,2BAA2B,oBAAoB16B,EAAE26B,qBAAqBn8B,EAAEwB,EAAEk6B,MACrf,oBAAoBl6B,EAAE26B,oBAAoB36B,EAAE26B,qBAAqB,oBAAoB36B,EAAE06B,2BAA2B16B,EAAE06B,4BAA4Bl8B,IAAIwB,EAAEk6B,OAAOX,GAAGI,oBAAoB35B,EAAEA,EAAEk6B,MAAM,MAAM3H,GAAGh0B,EAAEE,EAAEuB,EAAED,GAAGC,EAAEk6B,MAAM37B,EAAE6R,eAAe,oBAAoBpQ,EAAE46B,oBAAoBr8B,EAAE2R,OAAO,QAAQ,CAAC,SAAS2qB,GAAGt8B,EAAEC,GAAG,IAAI,IAAIC,EAAE,GAAGsB,EAAEvB,EAAE,GAAGC,GAAGgG,EAAG1E,GAAGA,EAAEA,EAAEkQ,aAAalQ,GAAG,IAAIC,EAAEvB,CAAC,CAAC,MAAMwB,GAAGD,EAAE,6BAA6BC,EAAE66B,QAAQ,KAAK76B,EAAEwD,KAAK,CAAC,MAAM,CAACyC,MAAM3H,EAAE+O,OAAO9O,EAAEiF,MAAMzD,EAAE+6B,OAAO,KAAK,CAC1d,SAASC,GAAGz8B,EAAEC,EAAEC,GAAG,MAAM,CAACyH,MAAM3H,EAAE+O,OAAO,KAAK7J,MAAM,MAAMhF,EAAEA,EAAE,KAAKs8B,OAAO,MAAMv8B,EAAEA,EAAE,KAAK,CAAC,SAASy8B,GAAG18B,EAAEC,GAAG,IAAI08B,QAAQC,MAAM38B,EAAE0H,MAAM,CAAC,MAAMzH,GAAG0qB,YAAW,WAAW,MAAM1qB,CAAE,GAAE,CAAC,CAAC,IAAI28B,GAAG,oBAAoBC,QAAQA,QAAQ5mB,IAAI,SAAS6mB,GAAG/8B,EAAEC,EAAEC,IAAGA,EAAEqzB,IAAI,EAAErzB,IAAKiG,IAAI,EAAEjG,EAAEwzB,QAAQ,CAAC7N,QAAQ,MAAM,IAAIrkB,EAAEvB,EAAE0H,MAAsD,OAAhDzH,EAAEyzB,SAAS,WAAWqJ,KAAKA,IAAG,EAAGC,GAAGz7B,GAAGk7B,GAAG18B,EAAEC,EAAE,EAASC,CAAC,CACrW,SAASg9B,GAAGl9B,EAAEC,EAAEC,IAAGA,EAAEqzB,IAAI,EAAErzB,IAAKiG,IAAI,EAAE,IAAI3E,EAAExB,EAAEkC,KAAKi7B,yBAAyB,GAAG,oBAAoB37B,EAAE,CAAC,IAAIC,EAAExB,EAAE0H,MAAMzH,EAAEwzB,QAAQ,WAAW,OAAOlyB,EAAEC,EAAE,EAAEvB,EAAEyzB,SAAS,WAAW+I,GAAG18B,EAAEC,EAAE,CAAC,CAAC,IAAIyB,EAAE1B,EAAEgQ,UAA8O,OAApO,OAAOtO,GAAG,oBAAoBA,EAAE07B,oBAAoBl9B,EAAEyzB,SAAS,WAAW+I,GAAG18B,EAAEC,GAAG,oBAAoBuB,IAAI,OAAO67B,GAAGA,GAAG,IAAI98B,IAAI,CAACqB,OAAOy7B,GAAG18B,IAAIiB,OAAO,IAAI1B,EAAED,EAAEiF,MAAMtD,KAAKw7B,kBAAkBn9B,EAAE0H,MAAM,CAAC21B,eAAe,OAAOp9B,EAAEA,EAAE,IAAI,GAAUA,CAAC,CACnb,SAASq9B,GAAGv9B,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEw9B,UAAU,GAAG,OAAOh8B,EAAE,CAACA,EAAExB,EAAEw9B,UAAU,IAAIX,GAAG,IAAIp7B,EAAE,IAAIlB,IAAIiB,EAAEiE,IAAIxF,EAAEwB,EAAE,WAAiB,KAAXA,EAAED,EAAE0F,IAAIjH,MAAgBwB,EAAE,IAAIlB,IAAIiB,EAAEiE,IAAIxF,EAAEwB,IAAIA,EAAE4mB,IAAInoB,KAAKuB,EAAEd,IAAIT,GAAGF,EAAEy9B,GAAG9U,KAAK,KAAK3oB,EAAEC,EAAEC,GAAGD,EAAEmrB,KAAKprB,EAAEA,GAAG,CAAC,SAAS09B,GAAG19B,GAAG,EAAE,CAAC,IAAIC,EAA4E,IAAvEA,EAAE,KAAKD,EAAEmG,OAAsBlG,EAAE,QAApBA,EAAED,EAAE6R,gBAAyB,OAAO5R,EAAE6R,YAAuB7R,EAAE,OAAOD,EAAEA,EAAEA,EAAE0R,MAAM,OAAO,OAAO1R,GAAG,OAAO,IAAI,CAChW,SAAS29B,GAAG39B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,OAAG,KAAY,EAAPzB,EAAEsvB,OAAetvB,IAAIC,EAAED,EAAE2R,OAAO,OAAO3R,EAAE2R,OAAO,IAAIzR,EAAEyR,OAAO,OAAOzR,EAAEyR,QAAQ,MAAM,IAAIzR,EAAEiG,MAAM,OAAOjG,EAAEuR,UAAUvR,EAAEiG,IAAI,KAAIlG,EAAEszB,IAAI,EAAE,IAAKptB,IAAI,EAAEytB,GAAG1zB,EAAED,EAAE,KAAKC,EAAEiyB,OAAO,GAAGnyB,IAAEA,EAAE2R,OAAO,MAAM3R,EAAEmyB,MAAM1wB,EAASzB,EAAC,CAAC,IAAI49B,GAAGn6B,EAAGo6B,kBAAkBzL,IAAG,EAAG,SAAS0L,GAAG99B,EAAEC,EAAEC,EAAEsB,GAAGvB,EAAEgS,MAAM,OAAOjS,EAAEsxB,GAAGrxB,EAAE,KAAKC,EAAEsB,GAAG6vB,GAAGpxB,EAAED,EAAEiS,MAAM/R,EAAEsB,EAAE,CACnV,SAASu8B,GAAG/9B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAGvB,EAAEA,EAAEkG,OAAO,IAAI1E,EAAEzB,EAAE+vB,IAAqC,OAAjCgC,GAAG/xB,EAAEwB,GAAGD,EAAEw0B,GAAGh2B,EAAEC,EAAEC,EAAEsB,EAAEE,EAAED,GAAGvB,EAAEm2B,KAAQ,OAAOr2B,GAAIoyB,IAA2E1D,IAAGxuB,GAAGouB,GAAGruB,GAAGA,EAAE0R,OAAO,EAAEmsB,GAAG99B,EAAEC,EAAEuB,EAAEC,GAAUxB,EAAEgS,QAA7GhS,EAAE8yB,YAAY/yB,EAAE+yB,YAAY9yB,EAAE0R,QAAQ,KAAK3R,EAAEmyB,QAAQ1wB,EAAEu8B,GAAGh+B,EAAEC,EAAEwB,GAAoD,CACzN,SAASw8B,GAAGj+B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,GAAG,OAAOzB,EAAE,CAAC,IAAI0B,EAAExB,EAAEgC,KAAK,MAAG,oBAAoBR,GAAIw8B,GAAGx8B,SAAI,IAASA,EAAEo5B,cAAc,OAAO56B,EAAEi+B,cAAS,IAASj+B,EAAE46B,eAAoD96B,EAAE4wB,GAAG1wB,EAAEgC,KAAK,KAAKV,EAAEvB,EAAEA,EAAEqvB,KAAK7tB,IAAKuuB,IAAI/vB,EAAE+vB,IAAIhwB,EAAE0R,OAAOzR,EAASA,EAAEgS,MAAMjS,IAArGC,EAAEkG,IAAI,GAAGlG,EAAEiC,KAAKR,EAAE08B,GAAGp+B,EAAEC,EAAEyB,EAAEF,EAAEC,GAAyE,CAAW,GAAVC,EAAE1B,EAAEiS,MAAS,KAAKjS,EAAEmyB,MAAM1wB,GAAG,CAAC,IAAIE,EAAED,EAAEguB,cAA0C,IAAhBxvB,EAAE,QAAdA,EAAEA,EAAEi+B,SAAmBj+B,EAAEsjB,IAAQ7hB,EAAEH,IAAIxB,EAAEgwB,MAAM/vB,EAAE+vB,IAAI,OAAOgO,GAAGh+B,EAAEC,EAAEwB,EAAE,CAA6C,OAA5CxB,EAAE0R,OAAO,GAAE3R,EAAEywB,GAAG/uB,EAAEF,IAAKwuB,IAAI/vB,EAAE+vB,IAAIhwB,EAAE0R,OAAOzR,EAASA,EAAEgS,MAAMjS,CAAC,CAC1b,SAASo+B,GAAGp+B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,GAAG,OAAOzB,EAAE,CAAC,IAAI0B,EAAE1B,EAAE0vB,cAAc,GAAGlM,GAAG9hB,EAAEF,IAAIxB,EAAEgwB,MAAM/vB,EAAE+vB,IAAI,IAAGoC,IAAG,EAAGnyB,EAAEgvB,aAAaztB,EAAEE,EAAE,KAAK1B,EAAEmyB,MAAM1wB,GAAsC,OAAOxB,EAAEkyB,MAAMnyB,EAAEmyB,MAAM6L,GAAGh+B,EAAEC,EAAEwB,GAAjE,KAAa,OAARzB,EAAE2R,SAAgBygB,IAAG,EAAyC,EAAC,OAAOiM,GAAGr+B,EAAEC,EAAEC,EAAEsB,EAAEC,EAAE,CACxN,SAAS68B,GAAGt+B,EAAEC,EAAEC,GAAG,IAAIsB,EAAEvB,EAAEgvB,aAAaxtB,EAAED,EAAE8H,SAAS5H,EAAE,OAAO1B,EAAEA,EAAE6R,cAAc,KAAK,GAAG,WAAWrQ,EAAE8tB,KAAK,GAAG,KAAY,EAAPrvB,EAAEqvB,MAAQrvB,EAAE4R,cAAc,CAAC0sB,UAAU,EAAEC,UAAU,KAAKC,YAAY,MAAMrS,GAAEsS,GAAGC,IAAIA,IAAIz+B,MAAM,CAAC,GAAG,KAAO,WAAFA,GAAc,OAAOF,EAAE,OAAO0B,EAAEA,EAAE68B,UAAUr+B,EAAEA,EAAED,EAAEkyB,MAAMlyB,EAAE8xB,WAAW,WAAW9xB,EAAE4R,cAAc,CAAC0sB,UAAUv+B,EAAEw+B,UAAU,KAAKC,YAAY,MAAMx+B,EAAE8yB,YAAY,KAAK3G,GAAEsS,GAAGC,IAAIA,IAAI3+B,EAAE,KAAKC,EAAE4R,cAAc,CAAC0sB,UAAU,EAAEC,UAAU,KAAKC,YAAY,MAAMj9B,EAAE,OAAOE,EAAEA,EAAE68B,UAAUr+B,EAAEksB,GAAEsS,GAAGC,IAAIA,IAAIn9B,CAAC,MAAM,OACtfE,GAAGF,EAAEE,EAAE68B,UAAUr+B,EAAED,EAAE4R,cAAc,MAAMrQ,EAAEtB,EAAEksB,GAAEsS,GAAGC,IAAIA,IAAIn9B,EAAc,OAAZs8B,GAAG99B,EAAEC,EAAEwB,EAAEvB,GAAUD,EAAEgS,KAAK,CAAC,SAAS2sB,GAAG5+B,EAAEC,GAAG,IAAIC,EAAED,EAAE+vB,KAAO,OAAOhwB,GAAG,OAAOE,GAAG,OAAOF,GAAGA,EAAEgwB,MAAM9vB,KAAED,EAAE0R,OAAO,IAAI1R,EAAE0R,OAAO,QAAO,CAAC,SAAS0sB,GAAGr+B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,IAAIC,EAAEmrB,GAAG3sB,GAAGssB,GAAGF,GAAEna,QAAmD,OAA3CzQ,EAAE+qB,GAAGxsB,EAAEyB,GAAGswB,GAAG/xB,EAAEwB,GAAGvB,EAAE81B,GAAGh2B,EAAEC,EAAEC,EAAEsB,EAAEE,EAAED,GAAGD,EAAE60B,KAAQ,OAAOr2B,GAAIoyB,IAA2E1D,IAAGltB,GAAG8sB,GAAGruB,GAAGA,EAAE0R,OAAO,EAAEmsB,GAAG99B,EAAEC,EAAEC,EAAEuB,GAAUxB,EAAEgS,QAA7GhS,EAAE8yB,YAAY/yB,EAAE+yB,YAAY9yB,EAAE0R,QAAQ,KAAK3R,EAAEmyB,QAAQ1wB,EAAEu8B,GAAGh+B,EAAEC,EAAEwB,GAAoD,CACla,SAASo9B,GAAG7+B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,GAAGorB,GAAG3sB,GAAG,CAAC,IAAIwB,GAAE,EAAGyrB,GAAGltB,EAAE,MAAMyB,GAAE,EAAW,GAARswB,GAAG/xB,EAAEwB,GAAM,OAAOxB,EAAE+P,UAAU8uB,GAAG9+B,EAAEC,GAAGw7B,GAAGx7B,EAAEC,EAAEsB,GAAGw6B,GAAG/7B,EAAEC,EAAEsB,EAAEC,GAAGD,GAAE,OAAQ,GAAG,OAAOxB,EAAE,CAAC,IAAI2B,EAAE1B,EAAE+P,UAAUnK,EAAE5F,EAAEyvB,cAAc/tB,EAAEgvB,MAAM9qB,EAAE,IAAIC,EAAEnE,EAAE2wB,QAAQ1sB,EAAE1F,EAAEw7B,YAAY,kBAAkB91B,GAAG,OAAOA,EAAEA,EAAEysB,GAAGzsB,GAAyBA,EAAE6mB,GAAGxsB,EAA1B2F,EAAEinB,GAAG3sB,GAAGssB,GAAGF,GAAEna,SAAmB,IAAInB,EAAE9Q,EAAE+7B,yBAAyBjL,EAAE,oBAAoBhgB,GAAG,oBAAoBrP,EAAEu6B,wBAAwBlL,GAAG,oBAAoBrvB,EAAEo6B,kCAAkC,oBAAoBp6B,EAAEm6B,4BAC1dj2B,IAAIrE,GAAGsE,IAAIF,IAAIi2B,GAAG57B,EAAE0B,EAAEH,EAAEoE,GAAGitB,IAAG,EAAG,IAAI5B,EAAEhxB,EAAE4R,cAAclQ,EAAEg6B,MAAM1K,EAAE+C,GAAG/zB,EAAEuB,EAAEG,EAAEF,GAAGqE,EAAE7F,EAAE4R,cAAchM,IAAIrE,GAAGyvB,IAAInrB,GAAGymB,GAAGpa,SAAS0gB,IAAI,oBAAoB7hB,IAAI+pB,GAAG96B,EAAEC,EAAE8Q,EAAExP,GAAGsE,EAAE7F,EAAE4R,gBAAgBhM,EAAEgtB,IAAIyI,GAAGr7B,EAAEC,EAAE2F,EAAErE,EAAEyvB,EAAEnrB,EAAEF,KAAKorB,GAAG,oBAAoBrvB,EAAEw6B,2BAA2B,oBAAoBx6B,EAAEy6B,qBAAqB,oBAAoBz6B,EAAEy6B,oBAAoBz6B,EAAEy6B,qBAAqB,oBAAoBz6B,EAAEw6B,2BAA2Bx6B,EAAEw6B,6BAA6B,oBAAoBx6B,EAAE06B,oBAAoBp8B,EAAE0R,OAAO,WAClf,oBAAoBhQ,EAAE06B,oBAAoBp8B,EAAE0R,OAAO,SAAS1R,EAAEyvB,cAAcluB,EAAEvB,EAAE4R,cAAc/L,GAAGnE,EAAEgvB,MAAMnvB,EAAEG,EAAEg6B,MAAM71B,EAAEnE,EAAE2wB,QAAQ1sB,EAAEpE,EAAEqE,IAAI,oBAAoBlE,EAAE06B,oBAAoBp8B,EAAE0R,OAAO,SAASnQ,GAAE,EAAG,KAAK,CAACG,EAAE1B,EAAE+P,UAAUsjB,GAAGtzB,EAAEC,GAAG4F,EAAE5F,EAAEyvB,cAAc9pB,EAAE3F,EAAEiC,OAAOjC,EAAE6uB,YAAYjpB,EAAEg1B,GAAG56B,EAAEiC,KAAK2D,GAAGlE,EAAEgvB,MAAM/qB,EAAEorB,EAAE/wB,EAAEgvB,aAAagC,EAAEtvB,EAAE2wB,QAAwB,kBAAhBxsB,EAAE5F,EAAEw7B,cAAiC,OAAO51B,EAAEA,EAAEusB,GAAGvsB,GAAyBA,EAAE2mB,GAAGxsB,EAA1B6F,EAAE+mB,GAAG3sB,GAAGssB,GAAGF,GAAEna,SAAmB,IAAI+e,EAAEhxB,EAAE+7B,0BAA0BjrB,EAAE,oBAAoBkgB,GAAG,oBAAoBvvB,EAAEu6B,0BAC9e,oBAAoBv6B,EAAEo6B,kCAAkC,oBAAoBp6B,EAAEm6B,4BAA4Bj2B,IAAImrB,GAAGC,IAAInrB,IAAI+1B,GAAG57B,EAAE0B,EAAEH,EAAEsE,GAAG+sB,IAAG,EAAG5B,EAAEhxB,EAAE4R,cAAclQ,EAAEg6B,MAAM1K,EAAE+C,GAAG/zB,EAAEuB,EAAEG,EAAEF,GAAG,IAAIqnB,EAAE7oB,EAAE4R,cAAchM,IAAImrB,GAAGC,IAAInI,GAAGyD,GAAGpa,SAAS0gB,IAAI,oBAAoB3B,IAAI6J,GAAG96B,EAAEC,EAAEgxB,EAAE1vB,GAAGsnB,EAAE7oB,EAAE4R,gBAAgBjM,EAAEitB,IAAIyI,GAAGr7B,EAAEC,EAAE0F,EAAEpE,EAAEyvB,EAAEnI,EAAEhjB,KAAI,IAAKkL,GAAG,oBAAoBrP,EAAEo9B,4BAA4B,oBAAoBp9B,EAAEq9B,sBAAsB,oBAAoBr9B,EAAEq9B,qBAAqBr9B,EAAEq9B,oBAAoBx9B,EAAEsnB,EAAEhjB,GAAG,oBAAoBnE,EAAEo9B,4BAC5fp9B,EAAEo9B,2BAA2Bv9B,EAAEsnB,EAAEhjB,IAAI,oBAAoBnE,EAAEs9B,qBAAqBh/B,EAAE0R,OAAO,GAAG,oBAAoBhQ,EAAEu6B,0BAA0Bj8B,EAAE0R,OAAO,QAAQ,oBAAoBhQ,EAAEs9B,oBAAoBp5B,IAAI7F,EAAE0vB,eAAeuB,IAAIjxB,EAAE6R,gBAAgB5R,EAAE0R,OAAO,GAAG,oBAAoBhQ,EAAEu6B,yBAAyBr2B,IAAI7F,EAAE0vB,eAAeuB,IAAIjxB,EAAE6R,gBAAgB5R,EAAE0R,OAAO,MAAM1R,EAAEyvB,cAAcluB,EAAEvB,EAAE4R,cAAciX,GAAGnnB,EAAEgvB,MAAMnvB,EAAEG,EAAEg6B,MAAM7S,EAAEnnB,EAAE2wB,QAAQxsB,EAAEtE,EAAEoE,IAAI,oBAAoBjE,EAAEs9B,oBAAoBp5B,IAAI7F,EAAE0vB,eAAeuB,IACjfjxB,EAAE6R,gBAAgB5R,EAAE0R,OAAO,GAAG,oBAAoBhQ,EAAEu6B,yBAAyBr2B,IAAI7F,EAAE0vB,eAAeuB,IAAIjxB,EAAE6R,gBAAgB5R,EAAE0R,OAAO,MAAMnQ,GAAE,EAAG,CAAC,OAAO09B,GAAGl/B,EAAEC,EAAEC,EAAEsB,EAAEE,EAAED,EAAE,CACnK,SAASy9B,GAAGl/B,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,GAAGk9B,GAAG5+B,EAAEC,GAAG,IAAI0B,EAAE,KAAa,IAAR1B,EAAE0R,OAAW,IAAInQ,IAAIG,EAAE,OAAOF,GAAG4rB,GAAGptB,EAAEC,GAAE,GAAI89B,GAAGh+B,EAAEC,EAAEyB,GAAGF,EAAEvB,EAAE+P,UAAU4tB,GAAGzrB,QAAQlS,EAAE,IAAI4F,EAAElE,GAAG,oBAAoBzB,EAAEi9B,yBAAyB,KAAK37B,EAAE4E,SAAwI,OAA/HnG,EAAE0R,OAAO,EAAE,OAAO3R,GAAG2B,GAAG1B,EAAEgS,MAAMof,GAAGpxB,EAAED,EAAEiS,MAAM,KAAKvQ,GAAGzB,EAAEgS,MAAMof,GAAGpxB,EAAE,KAAK4F,EAAEnE,IAAIo8B,GAAG99B,EAAEC,EAAE4F,EAAEnE,GAAGzB,EAAE4R,cAAcrQ,EAAEm6B,MAAMl6B,GAAG4rB,GAAGptB,EAAEC,GAAE,GAAWD,EAAEgS,KAAK,CAAC,SAASktB,GAAGn/B,GAAG,IAAIC,EAAED,EAAEgQ,UAAU/P,EAAEm/B,eAAepS,GAAGhtB,EAAEC,EAAEm/B,eAAen/B,EAAEm/B,iBAAiBn/B,EAAEqyB,SAASryB,EAAEqyB,SAAStF,GAAGhtB,EAAEC,EAAEqyB,SAAQ,GAAIkC,GAAGx0B,EAAEC,EAAEkX,cAAc,CAC5e,SAASkoB,GAAGr/B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAuC,OAApCmuB,KAAKC,GAAGpuB,GAAGxB,EAAE0R,OAAO,IAAImsB,GAAG99B,EAAEC,EAAEC,EAAEsB,GAAUvB,EAAEgS,KAAK,CAAC,IAaqLqtB,GAAGC,GAAGC,GAAGC,GAb1LC,GAAG,CAAC5tB,WAAW,KAAKqd,YAAY,KAAKC,UAAU,GAAG,SAASuQ,GAAG3/B,GAAG,MAAM,CAACu+B,UAAUv+B,EAAEw+B,UAAU,KAAKC,YAAY,KAAK,CAClM,SAASmB,GAAG5/B,EAAEC,EAAEC,GAAG,IAA0D2F,EAAtDrE,EAAEvB,EAAEgvB,aAAaxtB,EAAEozB,GAAE1iB,QAAQzQ,GAAE,EAAGC,EAAE,KAAa,IAAR1B,EAAE0R,OAAqJ,IAAvI9L,EAAElE,KAAKkE,GAAE,OAAO7F,GAAG,OAAOA,EAAE6R,gBAAiB,KAAO,EAAFpQ,IAASoE,GAAEnE,GAAE,EAAGzB,EAAE0R,QAAQ,KAAY,OAAO3R,GAAG,OAAOA,EAAE6R,gBAAcpQ,GAAG,GAAE2qB,GAAEyI,GAAI,EAAFpzB,GAAQ,OAAOzB,EAA2B,OAAxBuvB,GAAGtvB,GAAwB,QAArBD,EAAEC,EAAE4R,gBAA2C,QAAf7R,EAAEA,EAAE8R,aAA4B,KAAY,EAAP7R,EAAEqvB,MAAQrvB,EAAEkyB,MAAM,EAAE,OAAOnyB,EAAE6c,KAAK5c,EAAEkyB,MAAM,EAAElyB,EAAEkyB,MAAM,WAAW,OAAKxwB,EAAEH,EAAE8H,SAAStJ,EAAEwB,EAAEq+B,SAAgBn+B,GAAGF,EAAEvB,EAAEqvB,KAAK5tB,EAAEzB,EAAEgS,MAAMtQ,EAAE,CAAC2tB,KAAK,SAAShmB,SAAS3H,GAAG,KAAO,EAAFH,IAAM,OAAOE,GAAGA,EAAEqwB,WAAW,EAAErwB,EAAEutB,aAC7ettB,GAAGD,EAAEo+B,GAAGn+B,EAAEH,EAAE,EAAE,MAAMxB,EAAE+wB,GAAG/wB,EAAEwB,EAAEtB,EAAE,MAAMwB,EAAEgQ,OAAOzR,EAAED,EAAE0R,OAAOzR,EAAEyB,EAAEwQ,QAAQlS,EAAEC,EAAEgS,MAAMvQ,EAAEzB,EAAEgS,MAAMJ,cAAc8tB,GAAGz/B,GAAGD,EAAE4R,cAAc6tB,GAAG1/B,GAAG+/B,GAAG9/B,EAAE0B,IAAqB,GAAG,QAArBF,EAAEzB,EAAE6R,gBAA2C,QAAfhM,EAAEpE,EAAEqQ,YAAqB,OAGpM,SAAY9R,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,GAAG,GAAGzB,EAAG,OAAW,IAARD,EAAE0R,OAAiB1R,EAAE0R,QAAQ,IAAwBquB,GAAGhgC,EAAEC,EAAE0B,EAA3BH,EAAEi7B,GAAGx3B,MAAMlF,EAAE,SAAsB,OAAOE,EAAE4R,eAAqB5R,EAAEgS,MAAMjS,EAAEiS,MAAMhS,EAAE0R,OAAO,IAAI,OAAKjQ,EAAEF,EAAEq+B,SAASp+B,EAAExB,EAAEqvB,KAAK9tB,EAAEs+B,GAAG,CAACxQ,KAAK,UAAUhmB,SAAS9H,EAAE8H,UAAU7H,EAAE,EAAE,OAAMC,EAAEqvB,GAAGrvB,EAAED,EAAEE,EAAE,OAAQgQ,OAAO,EAAEnQ,EAAEkQ,OAAOzR,EAAEyB,EAAEgQ,OAAOzR,EAAEuB,EAAE0Q,QAAQxQ,EAAEzB,EAAEgS,MAAMzQ,EAAE,KAAY,EAAPvB,EAAEqvB,OAAS+B,GAAGpxB,EAAED,EAAEiS,MAAM,KAAKtQ,GAAG1B,EAAEgS,MAAMJ,cAAc8tB,GAAGh+B,GAAG1B,EAAE4R,cAAc6tB,GAAUh+B,GAAE,GAAG,KAAY,EAAPzB,EAAEqvB,MAAQ,OAAO0Q,GAAGhgC,EAAEC,EAAE0B,EAAE,MAAM,GAAG,OAAOF,EAAEob,KAAK,CAChd,GADidrb,EAAEC,EAAEoiB,aAAapiB,EAAEoiB,YAAYoc,QAC3e,IAAIp6B,EAAErE,EAAE0+B,KAA0C,OAArC1+B,EAAEqE,EAA0Cm6B,GAAGhgC,EAAEC,EAAE0B,EAA/BH,EAAEi7B,GAAlB/6B,EAAEuD,MAAMlF,EAAE,MAAayB,OAAE,GAA0B,CAAwB,GAAvBqE,EAAE,KAAKlE,EAAE3B,EAAE+xB,YAAeK,IAAIvsB,EAAE,CAAK,GAAG,QAAPrE,EAAEk2B,IAAc,CAAC,OAAO/1B,GAAGA,GAAG,KAAK,EAAEF,EAAE,EAAE,MAAM,KAAK,GAAGA,EAAE,EAAE,MAAM,KAAK,GAAG,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,SAASA,EAAE,GAAG,MAAM,KAAK,UAAUA,EAAE,UAAU,MAAM,QAAQA,EAAE,EAChd,KADkdA,EAAE,KAAKA,GAAGD,EAAEkT,eAAe/S,IAAI,EAAEF,IAC5eA,IAAIC,EAAE0tB,YAAY1tB,EAAE0tB,UAAU3tB,EAAEmxB,GAAG5yB,EAAEyB,GAAGu2B,GAAGx2B,EAAExB,EAAEyB,GAAG,GAAG,CAA0B,OAAzB0+B,KAAgCH,GAAGhgC,EAAEC,EAAE0B,EAAlCH,EAAEi7B,GAAGx3B,MAAMlF,EAAE,OAAyB,CAAC,MAAG,OAAO0B,EAAEob,MAAY5c,EAAE0R,OAAO,IAAI1R,EAAEgS,MAAMjS,EAAEiS,MAAMhS,EAAEmgC,GAAGzX,KAAK,KAAK3oB,GAAGyB,EAAE4+B,YAAYpgC,EAAE,OAAKD,EAAE0B,EAAEytB,YAAYV,GAAGjD,GAAG/pB,EAAEoiB,aAAa2K,GAAGvuB,EAAEyuB,IAAE,EAAGC,GAAG,KAAK,OAAO3uB,IAAI+tB,GAAGC,MAAME,GAAGH,GAAGC,MAAMG,GAAGJ,GAAGC,MAAMC,GAAGC,GAAGluB,EAAEoY,GAAG+V,GAAGnuB,EAAEkvB,SAASjB,GAAGhuB,GAAGA,EAAE8/B,GAAG9/B,EAAEuB,EAAE8H,UAAUrJ,EAAE0R,OAAO,KAAY1R,EAAC,CALrKqgC,CAAGtgC,EAAEC,EAAE0B,EAAEH,EAAEqE,EAAEpE,EAAEvB,GAAG,GAAGwB,EAAE,CAACA,EAAEF,EAAEq+B,SAASl+B,EAAE1B,EAAEqvB,KAAezpB,GAAVpE,EAAEzB,EAAEiS,OAAUC,QAAQ,IAAIpM,EAAE,CAACwpB,KAAK,SAAShmB,SAAS9H,EAAE8H,UAChF,OAD0F,KAAO,EAAF3H,IAAM1B,EAAEgS,QAAQxQ,IAAGD,EAAEvB,EAAEgS,OAAQ8f,WAAW,EAAEvwB,EAAEytB,aAAanpB,EAAE7F,EAAE8uB,UAAU,OAAOvtB,EAAEivB,GAAGhvB,EAAEqE,IAAKy6B,aAA4B,SAAf9+B,EAAE8+B,aAAuB,OAAO16B,EAAEnE,EAAE+uB,GAAG5qB,EAAEnE,IAAIA,EAAEqvB,GAAGrvB,EAAEC,EAAEzB,EAAE,OAAQyR,OAAO,EAAGjQ,EAAEgQ,OACnfzR,EAAEuB,EAAEkQ,OAAOzR,EAAEuB,EAAE0Q,QAAQxQ,EAAEzB,EAAEgS,MAAMzQ,EAAEA,EAAEE,EAAEA,EAAEzB,EAAEgS,MAA8BtQ,EAAE,QAA1BA,EAAE3B,EAAEiS,MAAMJ,eAAyB8tB,GAAGz/B,GAAG,CAACq+B,UAAU58B,EAAE48B,UAAUr+B,EAAEs+B,UAAU,KAAKC,YAAY98B,EAAE88B,aAAa/8B,EAAEmQ,cAAclQ,EAAED,EAAEqwB,WAAW/xB,EAAE+xB,YAAY7xB,EAAED,EAAE4R,cAAc6tB,GAAUl+B,CAAC,CAAoO,OAAzNxB,GAAV0B,EAAE1B,EAAEiS,OAAUC,QAAQ1Q,EAAEivB,GAAG/uB,EAAE,CAAC4tB,KAAK,UAAUhmB,SAAS9H,EAAE8H,WAAW,KAAY,EAAPrJ,EAAEqvB,QAAU9tB,EAAE2wB,MAAMjyB,GAAGsB,EAAEkQ,OAAOzR,EAAEuB,EAAE0Q,QAAQ,KAAK,OAAOlS,IAAkB,QAAdE,EAAED,EAAE8uB,YAAoB9uB,EAAE8uB,UAAU,CAAC/uB,GAAGC,EAAE0R,OAAO,IAAIzR,EAAEiQ,KAAKnQ,IAAIC,EAAEgS,MAAMzQ,EAAEvB,EAAE4R,cAAc,KAAYrQ,CAAC,CACnd,SAASu+B,GAAG//B,EAAEC,GAA8D,OAA3DA,EAAE6/B,GAAG,CAACxQ,KAAK,UAAUhmB,SAASrJ,GAAGD,EAAEsvB,KAAK,EAAE,OAAQ5d,OAAO1R,EAASA,EAAEiS,MAAMhS,CAAC,CAAC,SAAS+/B,GAAGhgC,EAAEC,EAAEC,EAAEsB,GAAwG,OAArG,OAAOA,GAAGquB,GAAGruB,GAAG6vB,GAAGpxB,EAAED,EAAEiS,MAAM,KAAK/R,IAAGF,EAAE+/B,GAAG9/B,EAAEA,EAAEgvB,aAAa3lB,WAAYqI,OAAO,EAAE1R,EAAE4R,cAAc,KAAY7R,CAAC,CAGkJ,SAASwgC,GAAGxgC,EAAEC,EAAEC,GAAGF,EAAEmyB,OAAOlyB,EAAE,IAAIuB,EAAExB,EAAEyR,UAAU,OAAOjQ,IAAIA,EAAE2wB,OAAOlyB,GAAG6xB,GAAG9xB,EAAE0R,OAAOzR,EAAEC,EAAE,CACxc,SAASugC,GAAGzgC,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,IAAIC,EAAE1B,EAAE6R,cAAc,OAAOnQ,EAAE1B,EAAE6R,cAAc,CAAC6uB,YAAYzgC,EAAE0gC,UAAU,KAAKC,mBAAmB,EAAEC,KAAKr/B,EAAEs/B,KAAK5gC,EAAE6gC,SAASt/B,IAAIC,EAAEg/B,YAAYzgC,EAAEyB,EAAEi/B,UAAU,KAAKj/B,EAAEk/B,mBAAmB,EAAEl/B,EAAEm/B,KAAKr/B,EAAEE,EAAEo/B,KAAK5gC,EAAEwB,EAAEq/B,SAASt/B,EAAE,CAC3O,SAASu/B,GAAGhhC,EAAEC,EAAEC,GAAG,IAAIsB,EAAEvB,EAAEgvB,aAAaxtB,EAAED,EAAEuzB,YAAYrzB,EAAEF,EAAEs/B,KAAsC,GAAjChD,GAAG99B,EAAEC,EAAEuB,EAAE8H,SAASpJ,GAAkB,KAAO,GAAtBsB,EAAEqzB,GAAE1iB,UAAqB3Q,EAAI,EAAFA,EAAI,EAAEvB,EAAE0R,OAAO,QAAQ,CAAC,GAAG,OAAO3R,GAAG,KAAa,IAARA,EAAE2R,OAAW3R,EAAE,IAAIA,EAAEC,EAAEgS,MAAM,OAAOjS,GAAG,CAAC,GAAG,KAAKA,EAAEmG,IAAI,OAAOnG,EAAE6R,eAAe2uB,GAAGxgC,EAAEE,EAAED,QAAQ,GAAG,KAAKD,EAAEmG,IAAIq6B,GAAGxgC,EAAEE,EAAED,QAAQ,GAAG,OAAOD,EAAEiS,MAAM,CAACjS,EAAEiS,MAAMP,OAAO1R,EAAEA,EAAEA,EAAEiS,MAAM,QAAQ,CAAC,GAAGjS,IAAIC,EAAE,MAAMD,EAAE,KAAK,OAAOA,EAAEkS,SAAS,CAAC,GAAG,OAAOlS,EAAE0R,QAAQ1R,EAAE0R,SAASzR,EAAE,MAAMD,EAAEA,EAAEA,EAAE0R,MAAM,CAAC1R,EAAEkS,QAAQR,OAAO1R,EAAE0R,OAAO1R,EAAEA,EAAEkS,OAAO,CAAC1Q,GAAG,CAAC,CAAQ,GAAP4qB,GAAEyI,GAAErzB,GAAM,KAAY,EAAPvB,EAAEqvB,MAAQrvB,EAAE4R,cAC/e,UAAU,OAAOpQ,GAAG,IAAK,WAAqB,IAAVvB,EAAED,EAAEgS,MAAUxQ,EAAE,KAAK,OAAOvB,GAAiB,QAAdF,EAAEE,EAAEuR,YAAoB,OAAOqjB,GAAG90B,KAAKyB,EAAEvB,GAAGA,EAAEA,EAAEgS,QAAY,QAAJhS,EAAEuB,IAAYA,EAAExB,EAAEgS,MAAMhS,EAAEgS,MAAM,OAAOxQ,EAAEvB,EAAEgS,QAAQhS,EAAEgS,QAAQ,MAAMuuB,GAAGxgC,GAAE,EAAGwB,EAAEvB,EAAEwB,GAAG,MAAM,IAAK,YAA6B,IAAjBxB,EAAE,KAAKuB,EAAExB,EAAEgS,MAAUhS,EAAEgS,MAAM,KAAK,OAAOxQ,GAAG,CAAe,GAAG,QAAjBzB,EAAEyB,EAAEgQ,YAAuB,OAAOqjB,GAAG90B,GAAG,CAACC,EAAEgS,MAAMxQ,EAAE,KAAK,CAACzB,EAAEyB,EAAEyQ,QAAQzQ,EAAEyQ,QAAQhS,EAAEA,EAAEuB,EAAEA,EAAEzB,CAAC,CAACygC,GAAGxgC,GAAE,EAAGC,EAAE,KAAKwB,GAAG,MAAM,IAAK,WAAW++B,GAAGxgC,GAAE,EAAG,KAAK,UAAK,GAAQ,MAAM,QAAQA,EAAE4R,cAAc,KAAK,OAAO5R,EAAEgS,KAAK,CAC7d,SAAS6sB,GAAG9+B,EAAEC,GAAG,KAAY,EAAPA,EAAEqvB,OAAS,OAAOtvB,IAAIA,EAAEyR,UAAU,KAAKxR,EAAEwR,UAAU,KAAKxR,EAAE0R,OAAO,EAAE,CAAC,SAASqsB,GAAGh+B,EAAEC,EAAEC,GAAyD,GAAtD,OAAOF,IAAIC,EAAEgyB,aAAajyB,EAAEiyB,cAAcgC,IAAIh0B,EAAEkyB,MAAS,KAAKjyB,EAAED,EAAE8xB,YAAY,OAAO,KAAK,GAAG,OAAO/xB,GAAGC,EAAEgS,QAAQjS,EAAEiS,MAAM,MAAMhN,MAAMlF,EAAE,MAAM,GAAG,OAAOE,EAAEgS,MAAM,CAA4C,IAAjC/R,EAAEuwB,GAAZzwB,EAAEC,EAAEgS,MAAajS,EAAEivB,cAAchvB,EAAEgS,MAAM/R,EAAMA,EAAEwR,OAAOzR,EAAE,OAAOD,EAAEkS,SAASlS,EAAEA,EAAEkS,SAAQhS,EAAEA,EAAEgS,QAAQue,GAAGzwB,EAAEA,EAAEivB,eAAgBvd,OAAOzR,EAAEC,EAAEgS,QAAQ,IAAI,CAAC,OAAOjS,EAAEgS,KAAK,CAO9a,SAASgvB,GAAGjhC,EAAEC,GAAG,IAAIyuB,GAAE,OAAO1uB,EAAE+gC,UAAU,IAAK,SAAS9gC,EAAED,EAAE8gC,KAAK,IAAI,IAAI5gC,EAAE,KAAK,OAAOD,GAAG,OAAOA,EAAEwR,YAAYvR,EAAED,GAAGA,EAAEA,EAAEiS,QAAQ,OAAOhS,EAAEF,EAAE8gC,KAAK,KAAK5gC,EAAEgS,QAAQ,KAAK,MAAM,IAAK,YAAYhS,EAAEF,EAAE8gC,KAAK,IAAI,IAAIt/B,EAAE,KAAK,OAAOtB,GAAG,OAAOA,EAAEuR,YAAYjQ,EAAEtB,GAAGA,EAAEA,EAAEgS,QAAQ,OAAO1Q,EAAEvB,GAAG,OAAOD,EAAE8gC,KAAK9gC,EAAE8gC,KAAK,KAAK9gC,EAAE8gC,KAAK5uB,QAAQ,KAAK1Q,EAAE0Q,QAAQ,KAAK,CAC5U,SAASgvB,GAAElhC,GAAG,IAAIC,EAAE,OAAOD,EAAEyR,WAAWzR,EAAEyR,UAAUQ,QAAQjS,EAAEiS,MAAM/R,EAAE,EAAEsB,EAAE,EAAE,GAAGvB,EAAE,IAAI,IAAIwB,EAAEzB,EAAEiS,MAAM,OAAOxQ,GAAGvB,GAAGuB,EAAE0wB,MAAM1wB,EAAEswB,WAAWvwB,GAAkB,SAAfC,EAAE8+B,aAAsB/+B,GAAW,SAARC,EAAEkQ,MAAelQ,EAAEiQ,OAAO1R,EAAEyB,EAAEA,EAAEyQ,aAAa,IAAIzQ,EAAEzB,EAAEiS,MAAM,OAAOxQ,GAAGvB,GAAGuB,EAAE0wB,MAAM1wB,EAAEswB,WAAWvwB,GAAGC,EAAE8+B,aAAa/+B,GAAGC,EAAEkQ,MAAMlQ,EAAEiQ,OAAO1R,EAAEyB,EAAEA,EAAEyQ,QAAyC,OAAjClS,EAAEugC,cAAc/+B,EAAExB,EAAE+xB,WAAW7xB,EAASD,CAAC,CAC7V,SAASkhC,GAAGnhC,EAAEC,EAAEC,GAAG,IAAIsB,EAAEvB,EAAEgvB,aAAmB,OAANV,GAAGtuB,GAAUA,EAAEkG,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,OAAO+6B,GAAEjhC,GAAG,KAAK,KAAK,EAUtD,KAAK,GAAG,OAAO4sB,GAAG5sB,EAAEiC,OAAO6qB,KAAKmU,GAAEjhC,GAAG,KAVqD,KAAK,EAA2Q,OAAzQuB,EAAEvB,EAAE+P,UAAU0kB,KAAKvI,GAAEI,IAAIJ,GAAEG,IAAG2I,KAAKzzB,EAAE49B,iBAAiB59B,EAAE8wB,QAAQ9wB,EAAE49B,eAAe59B,EAAE49B,eAAe,MAAS,OAAOp/B,GAAG,OAAOA,EAAEiS,QAAMwd,GAAGxvB,GAAGA,EAAE0R,OAAO,EAAE,OAAO3R,GAAGA,EAAE6R,cAAcqF,cAAc,KAAa,IAARjX,EAAE0R,SAAa1R,EAAE0R,OAAO,KAAK,OAAOgd,KAAKyS,GAAGzS,IAAIA,GAAG,QAAO4Q,GAAGv/B,EAAEC,GAAGihC,GAAEjhC,GAAU,KAAK,KAAK,EAAE20B,GAAG30B,GAAG,IAAIwB,EAAE8yB,GAAGD,GAAGniB,SAC7e,GAATjS,EAAED,EAAEiC,KAAQ,OAAOlC,GAAG,MAAMC,EAAE+P,UAAUwvB,GAAGx/B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAGzB,EAAEgwB,MAAM/vB,EAAE+vB,MAAM/vB,EAAE0R,OAAO,IAAI1R,EAAE0R,OAAO,aAAa,CAAC,IAAInQ,EAAE,CAAC,GAAG,OAAOvB,EAAE+P,UAAU,MAAM/K,MAAMlF,EAAE,MAAW,OAALmhC,GAAEjhC,GAAU,IAAI,CAAkB,GAAjBD,EAAEu0B,GAAGH,GAAGjiB,SAAYsd,GAAGxvB,GAAG,CAACuB,EAAEvB,EAAE+P,UAAU9P,EAAED,EAAEiC,KAAK,IAAIR,EAAEzB,EAAEyvB,cAA+C,OAAjCluB,EAAEoqB,IAAI3rB,EAAEuB,EAAEqqB,IAAInqB,EAAE1B,EAAE,KAAY,EAAPC,EAAEqvB,MAAepvB,GAAG,IAAK,SAASioB,GAAE,SAAS3mB,GAAG2mB,GAAE,QAAQ3mB,GAAG,MAAM,IAAK,SAAS,IAAK,SAAS,IAAK,QAAQ2mB,GAAE,OAAO3mB,GAAG,MAAM,IAAK,QAAQ,IAAK,QAAQ,IAAIC,EAAE,EAAEA,EAAEmmB,GAAGxnB,OAAOqB,IAAI0mB,GAAEP,GAAGnmB,GAAGD,GAAG,MAAM,IAAK,SAAS2mB,GAAE,QAAQ3mB,GAAG,MAAM,IAAK,MAAM,IAAK,QAAQ,IAAK,OAAO2mB,GAAE,QACnhB3mB,GAAG2mB,GAAE,OAAO3mB,GAAG,MAAM,IAAK,UAAU2mB,GAAE,SAAS3mB,GAAG,MAAM,IAAK,QAAQ4G,EAAG5G,EAAEE,GAAGymB,GAAE,UAAU3mB,GAAG,MAAM,IAAK,SAASA,EAAE0G,cAAc,CAACm5B,cAAc3/B,EAAE4/B,UAAUnZ,GAAE,UAAU3mB,GAAG,MAAM,IAAK,WAAW+H,GAAG/H,EAAEE,GAAGymB,GAAE,UAAU3mB,GAAkB,IAAI,IAAIG,KAAvBuN,GAAGhP,EAAEwB,GAAGD,EAAE,KAAkBC,EAAE,GAAGA,EAAEP,eAAeQ,GAAG,CAAC,IAAIkE,EAAEnE,EAAEC,GAAG,aAAaA,EAAE,kBAAkBkE,EAAErE,EAAEkI,cAAc7D,KAAI,IAAKnE,EAAE6/B,0BAA0BlX,GAAG7oB,EAAEkI,YAAY7D,EAAE7F,GAAGyB,EAAE,CAAC,WAAWoE,IAAI,kBAAkBA,GAAGrE,EAAEkI,cAAc,GAAG7D,KAAI,IAAKnE,EAAE6/B,0BAA0BlX,GAAG7oB,EAAEkI,YAC1e7D,EAAE7F,GAAGyB,EAAE,CAAC,WAAW,GAAGoE,IAAIrF,EAAGW,eAAeQ,IAAI,MAAMkE,GAAG,aAAalE,GAAGwmB,GAAE,SAAS3mB,EAAE,CAAC,OAAOtB,GAAG,IAAK,QAAQ4G,EAAGtF,GAAGkH,EAAGlH,EAAEE,GAAE,GAAI,MAAM,IAAK,WAAWoF,EAAGtF,GAAGiI,GAAGjI,GAAG,MAAM,IAAK,SAAS,IAAK,SAAS,MAAM,QAAQ,oBAAoBE,EAAE8/B,UAAUhgC,EAAEigC,QAAQnX,IAAI9oB,EAAEC,EAAExB,EAAE8yB,YAAYvxB,EAAE,OAAOA,IAAIvB,EAAE0R,OAAO,EAAE,KAAK,CAAChQ,EAAE,IAAIF,EAAEiJ,SAASjJ,EAAEA,EAAEkH,cAAc,iCAAiC3I,IAAIA,EAAE2J,GAAGzJ,IAAI,iCAAiCF,EAAE,WAAWE,IAAGF,EAAE2B,EAAEZ,cAAc,QAASiJ,UAAU,qBAAuBhK,EAAEA,EAAEoK,YAAYpK,EAAEmK,aAC/f,kBAAkB3I,EAAE4N,GAAGpP,EAAE2B,EAAEZ,cAAcb,EAAE,CAACkP,GAAG5N,EAAE4N,MAAMpP,EAAE2B,EAAEZ,cAAcb,GAAG,WAAWA,IAAIyB,EAAE3B,EAAEwB,EAAE8/B,SAAS3/B,EAAE2/B,UAAS,EAAG9/B,EAAEkgC,OAAO//B,EAAE+/B,KAAKlgC,EAAEkgC,QAAQ1hC,EAAE2B,EAAEggC,gBAAgB3hC,EAAEE,GAAGF,EAAE4rB,IAAI3rB,EAAED,EAAE6rB,IAAIrqB,EAAE89B,GAAGt/B,EAAEC,GAAE,GAAG,GAAIA,EAAE+P,UAAUhQ,EAAEA,EAAE,CAAW,OAAV2B,EAAEwN,GAAGjP,EAAEsB,GAAUtB,GAAG,IAAK,SAASioB,GAAE,SAASnoB,GAAGmoB,GAAE,QAAQnoB,GAAGyB,EAAED,EAAE,MAAM,IAAK,SAAS,IAAK,SAAS,IAAK,QAAQ2mB,GAAE,OAAOnoB,GAAGyB,EAAED,EAAE,MAAM,IAAK,QAAQ,IAAK,QAAQ,IAAIC,EAAE,EAAEA,EAAEmmB,GAAGxnB,OAAOqB,IAAI0mB,GAAEP,GAAGnmB,GAAGzB,GAAGyB,EAAED,EAAE,MAAM,IAAK,SAAS2mB,GAAE,QAAQnoB,GAAGyB,EAAED,EAAE,MAAM,IAAK,MAAM,IAAK,QAAQ,IAAK,OAAO2mB,GAAE,QAClfnoB,GAAGmoB,GAAE,OAAOnoB,GAAGyB,EAAED,EAAE,MAAM,IAAK,UAAU2mB,GAAE,SAASnoB,GAAGyB,EAAED,EAAE,MAAM,IAAK,QAAQ4G,EAAGpI,EAAEwB,GAAGC,EAAEsG,EAAG/H,EAAEwB,GAAG2mB,GAAE,UAAUnoB,GAAG,MAAM,IAAK,SAAiL,QAAQyB,EAAED,QAAxK,IAAK,SAASxB,EAAEkI,cAAc,CAACm5B,cAAc7/B,EAAE8/B,UAAU7/B,EAAEqD,EAAE,CAAC,EAAEtD,EAAE,CAACmG,WAAM,IAASwgB,GAAE,UAAUnoB,GAAG,MAAM,IAAK,WAAWuJ,GAAGvJ,EAAEwB,GAAGC,EAAE2H,GAAGpJ,EAAEwB,GAAG2mB,GAAE,UAAUnoB,GAAiC,IAAI0B,KAAhBwN,GAAGhP,EAAEuB,GAAGoE,EAAEpE,EAAa,GAAGoE,EAAE1E,eAAeO,GAAG,CAAC,IAAIoE,EAAED,EAAEnE,GAAG,UAAUA,EAAEgM,GAAG1N,EAAE8F,GAAG,4BAA4BpE,EAAuB,OAApBoE,EAAEA,EAAEA,EAAE4kB,YAAO,IAAgB5gB,GAAG9J,EAAE8F,GAAI,aAAapE,EAAE,kBAAkBoE,GAAG,aAC7e5F,GAAG,KAAK4F,IAAI0E,GAAGxK,EAAE8F,GAAG,kBAAkBA,GAAG0E,GAAGxK,EAAE,GAAG8F,GAAG,mCAAmCpE,GAAG,6BAA6BA,GAAG,cAAcA,IAAIlB,EAAGW,eAAeO,GAAG,MAAMoE,GAAG,aAAapE,GAAGymB,GAAE,SAASnoB,GAAG,MAAM8F,GAAGlD,EAAG5C,EAAE0B,EAAEoE,EAAEnE,GAAG,CAAC,OAAOzB,GAAG,IAAK,QAAQ4G,EAAG9G,GAAG0I,EAAG1I,EAAEwB,GAAE,GAAI,MAAM,IAAK,WAAWsF,EAAG9G,GAAGyJ,GAAGzJ,GAAG,MAAM,IAAK,SAAS,MAAMwB,EAAEmG,OAAO3H,EAAEqD,aAAa,QAAQ,GAAGsD,EAAGnF,EAAEmG,QAAQ,MAAM,IAAK,SAAS3H,EAAEshC,WAAW9/B,EAAE8/B,SAAmB,OAAV5/B,EAAEF,EAAEmG,OAAcoB,GAAG/I,IAAIwB,EAAE8/B,SAAS5/B,GAAE,GAAI,MAAMF,EAAEyG,cAAcc,GAAG/I,IAAIwB,EAAE8/B,SAAS9/B,EAAEyG,cAClf,GAAI,MAAM,QAAQ,oBAAoBxG,EAAE+/B,UAAUxhC,EAAEyhC,QAAQnX,IAAI,OAAOpqB,GAAG,IAAK,SAAS,IAAK,QAAQ,IAAK,SAAS,IAAK,WAAWsB,IAAIA,EAAEogC,UAAU,MAAM5hC,EAAE,IAAK,MAAMwB,GAAE,EAAG,MAAMxB,EAAE,QAAQwB,GAAE,EAAG,CAACA,IAAIvB,EAAE0R,OAAO,EAAE,CAAC,OAAO1R,EAAE+vB,MAAM/vB,EAAE0R,OAAO,IAAI1R,EAAE0R,OAAO,QAAQ,CAAM,OAALuvB,GAAEjhC,GAAU,KAAK,KAAK,EAAE,GAAGD,GAAG,MAAMC,EAAE+P,UAAUyvB,GAAGz/B,EAAEC,EAAED,EAAE0vB,cAAcluB,OAAO,CAAC,GAAG,kBAAkBA,GAAG,OAAOvB,EAAE+P,UAAU,MAAM/K,MAAMlF,EAAE,MAAsC,GAAhCG,EAAEq0B,GAAGD,GAAGniB,SAASoiB,GAAGH,GAAGjiB,SAAYsd,GAAGxvB,GAAG,CAAyC,GAAxCuB,EAAEvB,EAAE+P,UAAU9P,EAAED,EAAEyvB,cAAcluB,EAAEoqB,IAAI3rB,GAAKyB,EAAEF,EAAEmJ,YAAYzK,IAC/e,QADofF,EACvfwuB,IAAY,OAAOxuB,EAAEmG,KAAK,KAAK,EAAEkkB,GAAG7oB,EAAEmJ,UAAUzK,EAAE,KAAY,EAAPF,EAAEsvB,OAAS,MAAM,KAAK,GAAE,IAAKtvB,EAAE0vB,cAAc6R,0BAA0BlX,GAAG7oB,EAAEmJ,UAAUzK,EAAE,KAAY,EAAPF,EAAEsvB,OAAS5tB,IAAIzB,EAAE0R,OAAO,EAAE,MAAMnQ,GAAG,IAAItB,EAAEwK,SAASxK,EAAEA,EAAEyI,eAAek5B,eAAergC,IAAKoqB,IAAI3rB,EAAEA,EAAE+P,UAAUxO,CAAC,CAAM,OAAL0/B,GAAEjhC,GAAU,KAAK,KAAK,GAA0B,GAAvBksB,GAAE0I,IAAGrzB,EAAEvB,EAAE4R,cAAiB,OAAO7R,GAAG,OAAOA,EAAE6R,eAAe,OAAO7R,EAAE6R,cAAcC,WAAW,CAAC,GAAG4c,IAAG,OAAOD,IAAI,KAAY,EAAPxuB,EAAEqvB,OAAS,KAAa,IAARrvB,EAAE0R,OAAWge,KAAKC,KAAK3vB,EAAE0R,OAAO,MAAMjQ,GAAE,OAAQ,GAAGA,EAAE+tB,GAAGxvB,GAAG,OAAOuB,GAAG,OAAOA,EAAEsQ,WAAW,CAAC,GAAG,OAC5f9R,EAAE,CAAC,IAAI0B,EAAE,MAAMuD,MAAMlF,EAAE,MAAqD,KAA7B2B,EAAE,QAApBA,EAAEzB,EAAE4R,eAAyBnQ,EAAEoQ,WAAW,MAAW,MAAM7M,MAAMlF,EAAE,MAAM2B,EAAEkqB,IAAI3rB,CAAC,MAAM2vB,KAAK,KAAa,IAAR3vB,EAAE0R,SAAa1R,EAAE4R,cAAc,MAAM5R,EAAE0R,OAAO,EAAEuvB,GAAEjhC,GAAGyB,GAAE,CAAE,MAAM,OAAOitB,KAAKyS,GAAGzS,IAAIA,GAAG,MAAMjtB,GAAE,EAAG,IAAIA,EAAE,OAAe,MAARzB,EAAE0R,MAAY1R,EAAE,IAAI,CAAC,OAAG,KAAa,IAARA,EAAE0R,QAAkB1R,EAAEkyB,MAAMjyB,EAAED,KAAEuB,EAAE,OAAOA,MAAO,OAAOxB,GAAG,OAAOA,EAAE6R,gBAAgBrQ,IAAIvB,EAAEgS,MAAMN,OAAO,KAAK,KAAY,EAAP1R,EAAEqvB,QAAU,OAAOtvB,GAAG,KAAe,EAAV60B,GAAE1iB,SAAW,IAAI2vB,KAAIA,GAAE,GAAG3B,OAAO,OAAOlgC,EAAE8yB,cAAc9yB,EAAE0R,OAAO,GAAGuvB,GAAEjhC,GAAU,MAAK,KAAK,EAAE,OAAOy0B,KACrf6K,GAAGv/B,EAAEC,GAAG,OAAOD,GAAG0oB,GAAGzoB,EAAE+P,UAAUmH,eAAe+pB,GAAEjhC,GAAG,KAAK,KAAK,GAAG,OAAO2xB,GAAG3xB,EAAEiC,KAAKqE,UAAU26B,GAAEjhC,GAAG,KAA+C,KAAK,GAA0B,GAAvBksB,GAAE0I,IAAwB,QAArBnzB,EAAEzB,EAAE4R,eAA0B,OAAOqvB,GAAEjhC,GAAG,KAAuC,GAAlCuB,EAAE,KAAa,IAARvB,EAAE0R,OAA4B,QAAjBhQ,EAAED,EAAEi/B,WAAsB,GAAGn/B,EAAEy/B,GAAGv/B,GAAE,OAAQ,CAAC,GAAG,IAAIogC,IAAG,OAAO9hC,GAAG,KAAa,IAARA,EAAE2R,OAAW,IAAI3R,EAAEC,EAAEgS,MAAM,OAAOjS,GAAG,CAAS,GAAG,QAAX2B,EAAEmzB,GAAG90B,IAAe,CAAmG,IAAlGC,EAAE0R,OAAO,IAAIsvB,GAAGv/B,GAAE,GAAoB,QAAhBF,EAAEG,EAAEoxB,eAAuB9yB,EAAE8yB,YAAYvxB,EAAEvB,EAAE0R,OAAO,GAAG1R,EAAEsgC,aAAa,EAAE/+B,EAAEtB,EAAMA,EAAED,EAAEgS,MAAM,OAAO/R,GAAOF,EAAEwB,GAANE,EAAExB,GAAQyR,OAAO,SAC/d,QAAdhQ,EAAED,EAAE+P,YAAoB/P,EAAEqwB,WAAW,EAAErwB,EAAEywB,MAAMnyB,EAAE0B,EAAEuQ,MAAM,KAAKvQ,EAAE6+B,aAAa,EAAE7+B,EAAEguB,cAAc,KAAKhuB,EAAEmQ,cAAc,KAAKnQ,EAAEqxB,YAAY,KAAKrxB,EAAEuwB,aAAa,KAAKvwB,EAAEsO,UAAU,OAAOtO,EAAEqwB,WAAWpwB,EAAEowB,WAAWrwB,EAAEywB,MAAMxwB,EAAEwwB,MAAMzwB,EAAEuQ,MAAMtQ,EAAEsQ,MAAMvQ,EAAE6+B,aAAa,EAAE7+B,EAAEqtB,UAAU,KAAKrtB,EAAEguB,cAAc/tB,EAAE+tB,cAAchuB,EAAEmQ,cAAclQ,EAAEkQ,cAAcnQ,EAAEqxB,YAAYpxB,EAAEoxB,YAAYrxB,EAAEQ,KAAKP,EAAEO,KAAKlC,EAAE2B,EAAEswB,aAAavwB,EAAEuwB,aAAa,OAAOjyB,EAAE,KAAK,CAACmyB,MAAMnyB,EAAEmyB,MAAMD,aAAalyB,EAAEkyB,eAAehyB,EAAEA,EAAEgS,QAA2B,OAAnBka,GAAEyI,GAAY,EAAVA,GAAE1iB,QAAU,GAAUlS,EAAEgS,KAAK,CAACjS,EAClgBA,EAAEkS,OAAO,CAAC,OAAOxQ,EAAEo/B,MAAMhuB,KAAIivB,KAAK9hC,EAAE0R,OAAO,IAAInQ,GAAE,EAAGy/B,GAAGv/B,GAAE,GAAIzB,EAAEkyB,MAAM,QAAQ,KAAK,CAAC,IAAI3wB,EAAE,GAAW,QAARxB,EAAE80B,GAAGnzB,KAAa,GAAG1B,EAAE0R,OAAO,IAAInQ,GAAE,EAAmB,QAAhBtB,EAAEF,EAAE+yB,eAAuB9yB,EAAE8yB,YAAY7yB,EAAED,EAAE0R,OAAO,GAAGsvB,GAAGv/B,GAAE,GAAI,OAAOA,EAAEo/B,MAAM,WAAWp/B,EAAEq/B,WAAWp/B,EAAE8P,YAAYid,GAAE,OAAOwS,GAAEjhC,GAAG,UAAU,EAAE6S,KAAIpR,EAAEk/B,mBAAmBmB,IAAI,aAAa7hC,IAAID,EAAE0R,OAAO,IAAInQ,GAAE,EAAGy/B,GAAGv/B,GAAE,GAAIzB,EAAEkyB,MAAM,SAASzwB,EAAEg/B,aAAa/+B,EAAEuQ,QAAQjS,EAAEgS,MAAMhS,EAAEgS,MAAMtQ,IAAa,QAATzB,EAAEwB,EAAEm/B,MAAc3gC,EAAEgS,QAAQvQ,EAAE1B,EAAEgS,MAAMtQ,EAAED,EAAEm/B,KAAKl/B,EAAE,CAAC,OAAG,OAAOD,EAAEo/B,MAAY7gC,EAAEyB,EAAEo/B,KAAKp/B,EAAEi/B,UAC9e1gC,EAAEyB,EAAEo/B,KAAK7gC,EAAEiS,QAAQxQ,EAAEk/B,mBAAmB9tB,KAAI7S,EAAEiS,QAAQ,KAAKhS,EAAE20B,GAAE1iB,QAAQia,GAAEyI,GAAErzB,EAAI,EAAFtB,EAAI,EAAI,EAAFA,GAAKD,IAAEihC,GAAEjhC,GAAU,MAAK,KAAK,GAAG,KAAK,GAAG,OAAO+hC,KAAKxgC,EAAE,OAAOvB,EAAE4R,cAAc,OAAO7R,GAAG,OAAOA,EAAE6R,gBAAgBrQ,IAAIvB,EAAE0R,OAAO,MAAMnQ,GAAG,KAAY,EAAPvB,EAAEqvB,MAAQ,KAAQ,WAAHqP,MAAiBuC,GAAEjhC,GAAkB,EAAfA,EAAEsgC,eAAiBtgC,EAAE0R,OAAO,OAAOuvB,GAAEjhC,GAAG,KAAK,KAAK,GAAe,KAAK,GAAG,OAAO,KAAK,MAAMgF,MAAMlF,EAAE,IAAIE,EAAEkG,KAAM,CAClX,SAAS87B,GAAGjiC,EAAEC,GAAS,OAANsuB,GAAGtuB,GAAUA,EAAEkG,KAAK,KAAK,EAAE,OAAO0mB,GAAG5sB,EAAEiC,OAAO6qB,KAAiB,OAAZ/sB,EAAEC,EAAE0R,QAAe1R,EAAE0R,OAAS,MAAH3R,EAAS,IAAIC,GAAG,KAAK,KAAK,EAAE,OAAOy0B,KAAKvI,GAAEI,IAAIJ,GAAEG,IAAG2I,KAAe,KAAO,OAAjBj1B,EAAEC,EAAE0R,SAAqB,KAAO,IAAF3R,IAAQC,EAAE0R,OAAS,MAAH3R,EAAS,IAAIC,GAAG,KAAK,KAAK,EAAE,OAAO20B,GAAG30B,GAAG,KAAK,KAAK,GAA0B,GAAvBksB,GAAE0I,IAAwB,QAArB70B,EAAEC,EAAE4R,gBAA2B,OAAO7R,EAAE8R,WAAW,CAAC,GAAG,OAAO7R,EAAEwR,UAAU,MAAMxM,MAAMlF,EAAE,MAAM6vB,IAAI,CAAW,OAAS,OAAnB5vB,EAAEC,EAAE0R,QAAsB1R,EAAE0R,OAAS,MAAH3R,EAAS,IAAIC,GAAG,KAAK,KAAK,GAAG,OAAOksB,GAAE0I,IAAG,KAAK,KAAK,EAAE,OAAOH,KAAK,KAAK,KAAK,GAAG,OAAO9C,GAAG3xB,EAAEiC,KAAKqE,UAAU,KAAK,KAAK,GAAG,KAAK,GAAG,OAAOy7B,KAC1gB,KAAyB,QAAQ,OAAO,KAAK,CArB7C1C,GAAG,SAASt/B,EAAEC,GAAG,IAAI,IAAIC,EAAED,EAAEgS,MAAM,OAAO/R,GAAG,CAAC,GAAG,IAAIA,EAAEiG,KAAK,IAAIjG,EAAEiG,IAAInG,EAAEqK,YAAYnK,EAAE8P,gBAAgB,GAAG,IAAI9P,EAAEiG,KAAK,OAAOjG,EAAE+R,MAAM,CAAC/R,EAAE+R,MAAMP,OAAOxR,EAAEA,EAAEA,EAAE+R,MAAM,QAAQ,CAAC,GAAG/R,IAAID,EAAE,MAAM,KAAK,OAAOC,EAAEgS,SAAS,CAAC,GAAG,OAAOhS,EAAEwR,QAAQxR,EAAEwR,SAASzR,EAAE,OAAOC,EAAEA,EAAEwR,MAAM,CAACxR,EAAEgS,QAAQR,OAAOxR,EAAEwR,OAAOxR,EAAEA,EAAEgS,OAAO,CAAC,EAAEqtB,GAAG,WAAW,EACxTC,GAAG,SAASx/B,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAEzB,EAAE0vB,cAAc,GAAGjuB,IAAID,EAAE,CAACxB,EAAEC,EAAE+P,UAAUukB,GAAGH,GAAGjiB,SAAS,IAA4RxQ,EAAxRD,EAAE,KAAK,OAAOxB,GAAG,IAAK,QAAQuB,EAAEsG,EAAG/H,EAAEyB,GAAGD,EAAEuG,EAAG/H,EAAEwB,GAAGE,EAAE,GAAG,MAAM,IAAK,SAASD,EAAEqD,EAAE,CAAC,EAAErD,EAAE,CAACkG,WAAM,IAASnG,EAAEsD,EAAE,CAAC,EAAEtD,EAAE,CAACmG,WAAM,IAASjG,EAAE,GAAG,MAAM,IAAK,WAAWD,EAAE2H,GAAGpJ,EAAEyB,GAAGD,EAAE4H,GAAGpJ,EAAEwB,GAAGE,EAAE,GAAG,MAAM,QAAQ,oBAAoBD,EAAE+/B,SAAS,oBAAoBhgC,EAAEggC,UAAUxhC,EAAEyhC,QAAQnX,IAAyB,IAAI1kB,KAAzBsJ,GAAGhP,EAAEsB,GAAStB,EAAE,KAAcuB,EAAE,IAAID,EAAEL,eAAeyE,IAAInE,EAAEN,eAAeyE,IAAI,MAAMnE,EAAEmE,GAAG,GAAG,UAAUA,EAAE,CAAC,IAAIC,EAAEpE,EAAEmE,GAAG,IAAIjE,KAAKkE,EAAEA,EAAE1E,eAAeQ,KACjfzB,IAAIA,EAAE,CAAC,GAAGA,EAAEyB,GAAG,GAAG,KAAK,4BAA4BiE,GAAG,aAAaA,GAAG,mCAAmCA,GAAG,6BAA6BA,GAAG,cAAcA,IAAIpF,EAAGW,eAAeyE,GAAGlE,IAAIA,EAAE,KAAKA,EAAEA,GAAG,IAAIyO,KAAKvK,EAAE,OAAO,IAAIA,KAAKpE,EAAE,CAAC,IAAIsE,EAAEtE,EAAEoE,GAAyB,GAAtBC,EAAE,MAAMpE,EAAEA,EAAEmE,QAAG,EAAUpE,EAAEL,eAAeyE,IAAIE,IAAID,IAAI,MAAMC,GAAG,MAAMD,GAAG,GAAG,UAAUD,EAAE,GAAGC,EAAE,CAAC,IAAIlE,KAAKkE,GAAGA,EAAE1E,eAAeQ,IAAImE,GAAGA,EAAE3E,eAAeQ,KAAKzB,IAAIA,EAAE,CAAC,GAAGA,EAAEyB,GAAG,IAAI,IAAIA,KAAKmE,EAAEA,EAAE3E,eAAeQ,IAAIkE,EAAElE,KAAKmE,EAAEnE,KAAKzB,IAAIA,EAAE,CAAC,GAAGA,EAAEyB,GAAGmE,EAAEnE,GAAG,MAAMzB,IAAIwB,IAAIA,EAAE,IAAIA,EAAEyO,KAAKvK,EACpf1F,IAAIA,EAAE4F,MAAM,4BAA4BF,GAAGE,EAAEA,EAAEA,EAAE4kB,YAAO,EAAO7kB,EAAEA,EAAEA,EAAE6kB,YAAO,EAAO,MAAM5kB,GAAGD,IAAIC,IAAIpE,EAAEA,GAAG,IAAIyO,KAAKvK,EAAEE,IAAI,aAAaF,EAAE,kBAAkBE,GAAG,kBAAkBA,IAAIpE,EAAEA,GAAG,IAAIyO,KAAKvK,EAAE,GAAGE,GAAG,mCAAmCF,GAAG,6BAA6BA,IAAIpF,EAAGW,eAAeyE,IAAI,MAAME,GAAG,aAAaF,GAAGuiB,GAAE,SAASnoB,GAAG0B,GAAGmE,IAAIC,IAAIpE,EAAE,MAAMA,EAAEA,GAAG,IAAIyO,KAAKvK,EAAEE,GAAG,CAAC5F,IAAIwB,EAAEA,GAAG,IAAIyO,KAAK,QAAQjQ,GAAG,IAAI0F,EAAElE,GAAKzB,EAAE8yB,YAAYntB,KAAE3F,EAAE0R,OAAO,EAAC,CAAC,EAAE8tB,GAAG,SAASz/B,EAAEC,EAAEC,EAAEsB,GAAGtB,IAAIsB,IAAIvB,EAAE0R,OAAO,EAAE,EAkBlb,IAAIuwB,IAAG,EAAGC,IAAE,EAAGC,GAAG,oBAAoBC,QAAQA,QAAQ9hC,IAAI+hC,GAAE,KAAK,SAASC,GAAGviC,EAAEC,GAAG,IAAIC,EAAEF,EAAEgwB,IAAI,GAAG,OAAO9vB,EAAE,GAAG,oBAAoBA,EAAE,IAAIA,EAAE,KAAK,CAAC,MAAMsB,GAAGghC,GAAExiC,EAAEC,EAAEuB,EAAE,MAAMtB,EAAEiS,QAAQ,IAAI,CAAC,SAASswB,GAAGziC,EAAEC,EAAEC,GAAG,IAAIA,GAAG,CAAC,MAAMsB,GAAGghC,GAAExiC,EAAEC,EAAEuB,EAAE,CAAC,CAAC,IAAIkhC,IAAG,EAIxR,SAASC,GAAG3iC,EAAEC,EAAEC,GAAG,IAAIsB,EAAEvB,EAAE8yB,YAAyC,GAAG,QAAhCvxB,EAAE,OAAOA,EAAEA,EAAEo2B,WAAW,MAAiB,CAAC,IAAIn2B,EAAED,EAAEA,EAAE2vB,KAAK,EAAE,CAAC,IAAI1vB,EAAE0E,IAAInG,KAAKA,EAAE,CAAC,IAAI0B,EAAED,EAAE22B,QAAQ32B,EAAE22B,aAAQ,OAAO,IAAS12B,GAAG+gC,GAAGxiC,EAAEC,EAAEwB,EAAE,CAACD,EAAEA,EAAE0vB,IAAI,OAAO1vB,IAAID,EAAE,CAAC,CAAC,SAASohC,GAAG5iC,EAAEC,GAAgD,GAAG,QAAhCA,EAAE,QAAlBA,EAAEA,EAAE8yB,aAAuB9yB,EAAE23B,WAAW,MAAiB,CAAC,IAAI13B,EAAED,EAAEA,EAAEkxB,KAAK,EAAE,CAAC,IAAIjxB,EAAEiG,IAAInG,KAAKA,EAAE,CAAC,IAAIwB,EAAEtB,EAAEi4B,OAAOj4B,EAAEk4B,QAAQ52B,GAAG,CAACtB,EAAEA,EAAEixB,IAAI,OAAOjxB,IAAID,EAAE,CAAC,CAAC,SAAS4iC,GAAG7iC,GAAG,IAAIC,EAAED,EAAEgwB,IAAI,GAAG,OAAO/vB,EAAE,CAAC,IAAIC,EAAEF,EAAEgQ,UAAiBhQ,EAAEmG,IAA8BnG,EAAEE,EAAE,oBAAoBD,EAAEA,EAAED,GAAGC,EAAEkS,QAAQnS,CAAC,CAAC,CAClf,SAAS8iC,GAAG9iC,GAAG,IAAIC,EAAED,EAAEyR,UAAU,OAAOxR,IAAID,EAAEyR,UAAU,KAAKqxB,GAAG7iC,IAAID,EAAEiS,MAAM,KAAKjS,EAAE+uB,UAAU,KAAK/uB,EAAEkS,QAAQ,KAAK,IAAIlS,EAAEmG,MAAoB,QAAdlG,EAAED,EAAEgQ,oBAA4B/P,EAAE2rB,WAAW3rB,EAAE4rB,WAAW5rB,EAAEmoB,WAAWnoB,EAAE6rB,WAAW7rB,EAAE8rB,MAAM/rB,EAAEgQ,UAAU,KAAKhQ,EAAE0R,OAAO,KAAK1R,EAAEiyB,aAAa,KAAKjyB,EAAE0vB,cAAc,KAAK1vB,EAAE6R,cAAc,KAAK7R,EAAEivB,aAAa,KAAKjvB,EAAEgQ,UAAU,KAAKhQ,EAAE+yB,YAAY,IAAI,CAAC,SAASgQ,GAAG/iC,GAAG,OAAO,IAAIA,EAAEmG,KAAK,IAAInG,EAAEmG,KAAK,IAAInG,EAAEmG,GAAG,CACna,SAAS68B,GAAGhjC,GAAGA,EAAE,OAAO,CAAC,KAAK,OAAOA,EAAEkS,SAAS,CAAC,GAAG,OAAOlS,EAAE0R,QAAQqxB,GAAG/iC,EAAE0R,QAAQ,OAAO,KAAK1R,EAAEA,EAAE0R,MAAM,CAA2B,IAA1B1R,EAAEkS,QAAQR,OAAO1R,EAAE0R,OAAW1R,EAAEA,EAAEkS,QAAQ,IAAIlS,EAAEmG,KAAK,IAAInG,EAAEmG,KAAK,KAAKnG,EAAEmG,KAAK,CAAC,GAAW,EAARnG,EAAE2R,MAAQ,SAAS3R,EAAE,GAAG,OAAOA,EAAEiS,OAAO,IAAIjS,EAAEmG,IAAI,SAASnG,EAAOA,EAAEiS,MAAMP,OAAO1R,EAAEA,EAAEA,EAAEiS,KAAK,CAAC,KAAa,EAARjS,EAAE2R,OAAS,OAAO3R,EAAEgQ,SAAS,CAAC,CACzT,SAASizB,GAAGjjC,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEmG,IAAI,GAAG,IAAI3E,GAAG,IAAIA,EAAExB,EAAEA,EAAEgQ,UAAU/P,EAAE,IAAIC,EAAEwK,SAASxK,EAAEwP,WAAWwzB,aAAaljC,EAAEC,GAAGC,EAAEgjC,aAAaljC,EAAEC,IAAI,IAAIC,EAAEwK,UAAUzK,EAAEC,EAAEwP,YAAawzB,aAAaljC,EAAEE,IAAKD,EAAEC,GAAImK,YAAYrK,GAA4B,QAAxBE,EAAEA,EAAEijC,2BAA8B,IAASjjC,GAAG,OAAOD,EAAEwhC,UAAUxhC,EAAEwhC,QAAQnX,UAAU,GAAG,IAAI9oB,GAAc,QAAVxB,EAAEA,EAAEiS,OAAgB,IAAIgxB,GAAGjjC,EAAEC,EAAEC,GAAGF,EAAEA,EAAEkS,QAAQ,OAAOlS,GAAGijC,GAAGjjC,EAAEC,EAAEC,GAAGF,EAAEA,EAAEkS,OAAO,CAC1X,SAASkxB,GAAGpjC,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEmG,IAAI,GAAG,IAAI3E,GAAG,IAAIA,EAAExB,EAAEA,EAAEgQ,UAAU/P,EAAEC,EAAEgjC,aAAaljC,EAAEC,GAAGC,EAAEmK,YAAYrK,QAAQ,GAAG,IAAIwB,GAAc,QAAVxB,EAAEA,EAAEiS,OAAgB,IAAImxB,GAAGpjC,EAAEC,EAAEC,GAAGF,EAAEA,EAAEkS,QAAQ,OAAOlS,GAAGojC,GAAGpjC,EAAEC,EAAEC,GAAGF,EAAEA,EAAEkS,OAAO,CAAC,IAAImxB,GAAE,KAAKC,IAAG,EAAG,SAASC,GAAGvjC,EAAEC,EAAEC,GAAG,IAAIA,EAAEA,EAAE+R,MAAM,OAAO/R,GAAGsjC,GAAGxjC,EAAEC,EAAEC,GAAGA,EAAEA,EAAEgS,OAAO,CACnR,SAASsxB,GAAGxjC,EAAEC,EAAEC,GAAG,GAAG2T,IAAI,oBAAoBA,GAAG4vB,qBAAqB,IAAI5vB,GAAG4vB,qBAAqB7vB,GAAG1T,EAAE,CAAC,MAAM2F,GAAG,CAAC,OAAO3F,EAAEiG,KAAK,KAAK,EAAEg8B,IAAGI,GAAGriC,EAAED,GAAG,KAAK,EAAE,IAAIuB,EAAE6hC,GAAE5hC,EAAE6hC,GAAGD,GAAE,KAAKE,GAAGvjC,EAAEC,EAAEC,GAAOojC,GAAG7hC,EAAE,QAAT4hC,GAAE7hC,KAAkB8hC,IAAItjC,EAAEqjC,GAAEnjC,EAAEA,EAAE8P,UAAU,IAAIhQ,EAAE0K,SAAS1K,EAAE0P,WAAWtF,YAAYlK,GAAGF,EAAEoK,YAAYlK,IAAImjC,GAAEj5B,YAAYlK,EAAE8P,YAAY,MAAM,KAAK,GAAG,OAAOqzB,KAAIC,IAAItjC,EAAEqjC,GAAEnjC,EAAEA,EAAE8P,UAAU,IAAIhQ,EAAE0K,SAAS6gB,GAAGvrB,EAAE0P,WAAWxP,GAAG,IAAIF,EAAE0K,UAAU6gB,GAAGvrB,EAAEE,GAAGyX,GAAG3X,IAAIurB,GAAG8X,GAAEnjC,EAAE8P,YAAY,MAAM,KAAK,EAAExO,EAAE6hC,GAAE5hC,EAAE6hC,GAAGD,GAAEnjC,EAAE8P,UAAUmH,cAAcmsB,IAAG,EAClfC,GAAGvjC,EAAEC,EAAEC,GAAGmjC,GAAE7hC,EAAE8hC,GAAG7hC,EAAE,MAAM,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,IAAI0gC,KAAoB,QAAhB3gC,EAAEtB,EAAE6yB,cAAsC,QAAfvxB,EAAEA,EAAEo2B,aAAsB,CAACn2B,EAAED,EAAEA,EAAE2vB,KAAK,EAAE,CAAC,IAAIzvB,EAAED,EAAEE,EAAED,EAAE02B,QAAQ12B,EAAEA,EAAEyE,SAAI,IAASxE,IAAI,KAAO,EAAFD,IAAe,KAAO,EAAFA,KAAf+gC,GAAGviC,EAAED,EAAE0B,GAAyBF,EAAEA,EAAE0vB,IAAI,OAAO1vB,IAAID,EAAE,CAAC+hC,GAAGvjC,EAAEC,EAAEC,GAAG,MAAM,KAAK,EAAE,IAAIiiC,KAAII,GAAGriC,EAAED,GAAiB,oBAAduB,EAAEtB,EAAE8P,WAAgC0zB,sBAAsB,IAAIliC,EAAEmvB,MAAMzwB,EAAEwvB,cAAcluB,EAAEm6B,MAAMz7B,EAAE2R,cAAcrQ,EAAEkiC,sBAAsB,CAAC,MAAM79B,GAAG28B,GAAEtiC,EAAED,EAAE4F,EAAE,CAAC09B,GAAGvjC,EAAEC,EAAEC,GAAG,MAAM,KAAK,GAAGqjC,GAAGvjC,EAAEC,EAAEC,GAAG,MAAM,KAAK,GAAU,EAAPA,EAAEovB,MAAQ6S,IAAG3gC,EAAE2gC,KAAI,OAChfjiC,EAAE2R,cAAc0xB,GAAGvjC,EAAEC,EAAEC,GAAGiiC,GAAE3gC,GAAG+hC,GAAGvjC,EAAEC,EAAEC,GAAG,MAAM,QAAQqjC,GAAGvjC,EAAEC,EAAEC,GAAG,CAAC,SAASyjC,GAAG3jC,GAAG,IAAIC,EAAED,EAAE+yB,YAAY,GAAG,OAAO9yB,EAAE,CAACD,EAAE+yB,YAAY,KAAK,IAAI7yB,EAAEF,EAAEgQ,UAAU,OAAO9P,IAAIA,EAAEF,EAAEgQ,UAAU,IAAIoyB,IAAIniC,EAAEsC,SAAQ,SAAStC,GAAG,IAAIuB,EAAEoiC,GAAGjb,KAAK,KAAK3oB,EAAEC,GAAGC,EAAEmoB,IAAIpoB,KAAKC,EAAES,IAAIV,GAAGA,EAAEmrB,KAAK5pB,EAAEA,GAAG,GAAE,CAAC,CACzQ,SAASqiC,GAAG7jC,EAAEC,GAAG,IAAIC,EAAED,EAAE8uB,UAAU,GAAG,OAAO7uB,EAAE,IAAI,IAAIsB,EAAE,EAAEA,EAAEtB,EAAEE,OAAOoB,IAAI,CAAC,IAAIC,EAAEvB,EAAEsB,GAAG,IAAI,IAAIE,EAAE1B,EAAE2B,EAAE1B,EAAE4F,EAAElE,EAAE3B,EAAE,KAAK,OAAO6F,GAAG,CAAC,OAAOA,EAAEM,KAAK,KAAK,EAAEk9B,GAAEx9B,EAAEmK,UAAUszB,IAAG,EAAG,MAAMtjC,EAAE,KAAK,EAA4C,KAAK,EAAEqjC,GAAEx9B,EAAEmK,UAAUmH,cAAcmsB,IAAG,EAAG,MAAMtjC,EAAE6F,EAAEA,EAAE6L,MAAM,CAAC,GAAG,OAAO2xB,GAAE,MAAMp+B,MAAMlF,EAAE,MAAMyjC,GAAG9hC,EAAEC,EAAEF,GAAG4hC,GAAE,KAAKC,IAAG,EAAG,IAAIx9B,EAAErE,EAAEgQ,UAAU,OAAO3L,IAAIA,EAAE4L,OAAO,MAAMjQ,EAAEiQ,OAAO,IAAI,CAAC,MAAM9L,GAAG48B,GAAE/gC,EAAExB,EAAE2F,EAAE,CAAC,CAAC,GAAkB,MAAf3F,EAAEsgC,aAAmB,IAAItgC,EAAEA,EAAEgS,MAAM,OAAOhS,GAAG6jC,GAAG7jC,EAAED,GAAGC,EAAEA,EAAEiS,OAAO,CACje,SAAS4xB,GAAG9jC,EAAEC,GAAG,IAAIC,EAAEF,EAAEyR,UAAUjQ,EAAExB,EAAE2R,MAAM,OAAO3R,EAAEmG,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAiB,GAAd09B,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAQ,EAAFwB,EAAI,CAAC,IAAImhC,GAAG,EAAE3iC,EAAEA,EAAE0R,QAAQkxB,GAAG,EAAE5iC,EAAE,CAAC,MAAM+oB,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,IAAI4Z,GAAG,EAAE3iC,EAAEA,EAAE0R,OAAO,CAAC,MAAMqX,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,CAAC,MAAM,KAAK,EAAE8a,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAK,IAAFwB,GAAO,OAAOtB,GAAGqiC,GAAGriC,EAAEA,EAAEwR,QAAQ,MAAM,KAAK,EAAgD,GAA9CmyB,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAK,IAAFwB,GAAO,OAAOtB,GAAGqiC,GAAGriC,EAAEA,EAAEwR,QAAmB,GAAR1R,EAAE2R,MAAS,CAAC,IAAIlQ,EAAEzB,EAAEgQ,UAAU,IAAIxF,GAAG/I,EAAE,GAAG,CAAC,MAAMsnB,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,CAAC,GAAK,EAAFvnB,GAAoB,OAAdC,EAAEzB,EAAEgQ,WAAmB,CAAC,IAAItO,EAAE1B,EAAE0vB,cAAc/tB,EAAE,OAAOzB,EAAEA,EAAEwvB,cAAchuB,EAAEmE,EAAE7F,EAAEkC,KAAK4D,EAAE9F,EAAE+yB,YACje,GAAnB/yB,EAAE+yB,YAAY,KAAQ,OAAOjtB,EAAE,IAAI,UAAUD,GAAG,UAAUnE,EAAEQ,MAAM,MAAMR,EAAEuE,MAAMsC,EAAG9G,EAAEC,GAAGyN,GAAGtJ,EAAElE,GAAG,IAAIiE,EAAEuJ,GAAGtJ,EAAEnE,GAAG,IAAIC,EAAE,EAAEA,EAAEmE,EAAE1F,OAAOuB,GAAG,EAAE,CAAC,IAAIqP,EAAElL,EAAEnE,GAAGqvB,EAAElrB,EAAEnE,EAAE,GAAG,UAAUqP,EAAEtD,GAAGjM,EAAEuvB,GAAG,4BAA4BhgB,EAAElH,GAAGrI,EAAEuvB,GAAG,aAAahgB,EAAExG,GAAG/I,EAAEuvB,GAAGpuB,EAAGnB,EAAEuP,EAAEggB,EAAEprB,EAAE,CAAC,OAAOC,GAAG,IAAK,QAAQ2C,EAAG/G,EAAEC,GAAG,MAAM,IAAK,WAAW8H,GAAG/H,EAAEC,GAAG,MAAM,IAAK,SAAS,IAAIuvB,EAAExvB,EAAEyG,cAAcm5B,YAAY5/B,EAAEyG,cAAcm5B,cAAc3/B,EAAE4/B,SAAS,IAAIpQ,EAAExvB,EAAEiG,MAAM,MAAMupB,EAAEnoB,GAAGtH,IAAIC,EAAE4/B,SAASpQ,GAAE,GAAID,MAAMvvB,EAAE4/B,WAAW,MAAM5/B,EAAEuG,aAAac,GAAGtH,IAAIC,EAAE4/B,SACnf5/B,EAAEuG,cAAa,GAAIc,GAAGtH,IAAIC,EAAE4/B,SAAS5/B,EAAE4/B,SAAS,GAAG,IAAG,IAAK7/B,EAAEoqB,IAAInqB,CAAC,CAAC,MAAMqnB,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,CAAC,MAAM,KAAK,EAAgB,GAAd8a,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAQ,EAAFwB,EAAI,CAAC,GAAG,OAAOxB,EAAEgQ,UAAU,MAAM/K,MAAMlF,EAAE,MAAM0B,EAAEzB,EAAEgQ,UAAUtO,EAAE1B,EAAE0vB,cAAc,IAAIjuB,EAAEkJ,UAAUjJ,CAAC,CAAC,MAAMqnB,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,CAAC,MAAM,KAAK,EAAgB,GAAd8a,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAQ,EAAFwB,GAAK,OAAOtB,GAAGA,EAAE2R,cAAcqF,aAAa,IAAIS,GAAG1X,EAAEkX,cAAc,CAAC,MAAM4R,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,MAAM,KAAK,EAG4G,QAAQ8a,GAAG5jC,EACnfD,GAAG+jC,GAAG/jC,SAJ4Y,KAAK,GAAG6jC,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAqB,MAAlByB,EAAEzB,EAAEiS,OAAQN,QAAajQ,EAAE,OAAOD,EAAEoQ,cAAcpQ,EAAEuO,UAAUg0B,SAAStiC,GAAGA,GAClf,OAAOD,EAAEgQ,WAAW,OAAOhQ,EAAEgQ,UAAUI,gBAAgBoyB,GAAGnxB,OAAQ,EAAFtR,GAAKmiC,GAAG3jC,GAAG,MAAM,KAAK,GAAsF,GAAnFgR,EAAE,OAAO9Q,GAAG,OAAOA,EAAE2R,cAAqB,EAAP7R,EAAEsvB,MAAQ6S,IAAGv8B,EAAEu8B,KAAInxB,EAAE6yB,GAAG5jC,EAAED,GAAGmiC,GAAEv8B,GAAGi+B,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAQ,KAAFwB,EAAO,CAA0B,GAAzBoE,EAAE,OAAO5F,EAAE6R,eAAkB7R,EAAEgQ,UAAUg0B,SAASp+B,KAAKoL,GAAG,KAAY,EAAPhR,EAAEsvB,MAAQ,IAAIgT,GAAEtiC,EAAEgR,EAAEhR,EAAEiS,MAAM,OAAOjB,GAAG,CAAC,IAAIggB,EAAEsR,GAAEtxB,EAAE,OAAOsxB,IAAG,CAAe,OAAVpR,GAAJD,EAAEqR,IAAMrwB,MAAagf,EAAE9qB,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAGw8B,GAAG,EAAE1R,EAAEA,EAAEvf,QAAQ,MAAM,KAAK,EAAE6wB,GAAGtR,EAAEA,EAAEvf,QAAQ,IAAIoX,EAAEmI,EAAEjhB,UAAU,GAAG,oBAAoB8Y,EAAE4a,qBAAqB,CAACliC,EAAEyvB,EAAE/wB,EAAE+wB,EAAEvf,OAAO,IAAIzR,EAAEuB,EAAEsnB,EAAE6H,MACpf1wB,EAAEyvB,cAAc5G,EAAE6S,MAAM17B,EAAE4R,cAAciX,EAAE4a,sBAAsB,CAAC,MAAM3a,GAAGyZ,GAAEhhC,EAAEtB,EAAE6oB,EAAE,CAAC,CAAC,MAAM,KAAK,EAAEwZ,GAAGtR,EAAEA,EAAEvf,QAAQ,MAAM,KAAK,GAAG,GAAG,OAAOuf,EAAEpf,cAAc,CAACqyB,GAAGlT,GAAG,QAAQ,EAAE,OAAOE,GAAGA,EAAExf,OAAOuf,EAAEqR,GAAEpR,GAAGgT,GAAGlT,EAAE,CAAChgB,EAAEA,EAAEkB,OAAO,CAAClS,EAAE,IAAIgR,EAAE,KAAKggB,EAAEhxB,IAAI,CAAC,GAAG,IAAIgxB,EAAE7qB,KAAK,GAAG,OAAO6K,EAAE,CAACA,EAAEggB,EAAE,IAAIvvB,EAAEuvB,EAAEhhB,UAAUpK,EAAa,oBAAVlE,EAAED,EAAEkM,OAA4BE,YAAYnM,EAAEmM,YAAY,UAAU,OAAO,aAAanM,EAAEyiC,QAAQ,QAASt+B,EAAEmrB,EAAEhhB,UAAkCrO,OAAE,KAA1BmE,EAAEkrB,EAAEtB,cAAc/hB,QAAoB,OAAO7H,GAAGA,EAAE3E,eAAe,WAAW2E,EAAEq+B,QAAQ,KAAKt+B,EAAE8H,MAAMw2B,QACzf12B,GAAG,UAAU9L,GAAG,CAAC,MAAMonB,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,CAAC,OAAO,GAAG,IAAIiI,EAAE7qB,KAAK,GAAG,OAAO6K,EAAE,IAAIggB,EAAEhhB,UAAUrF,UAAU/E,EAAE,GAAGorB,EAAEtB,aAAa,CAAC,MAAM3G,GAAGyZ,GAAExiC,EAAEA,EAAE0R,OAAOqX,EAAE,OAAO,IAAI,KAAKiI,EAAE7qB,KAAK,KAAK6qB,EAAE7qB,KAAK,OAAO6qB,EAAEnf,eAAemf,IAAIhxB,IAAI,OAAOgxB,EAAE/e,MAAM,CAAC+e,EAAE/e,MAAMP,OAAOsf,EAAEA,EAAEA,EAAE/e,MAAM,QAAQ,CAAC,GAAG+e,IAAIhxB,EAAE,MAAMA,EAAE,KAAK,OAAOgxB,EAAE9e,SAAS,CAAC,GAAG,OAAO8e,EAAEtf,QAAQsf,EAAEtf,SAAS1R,EAAE,MAAMA,EAAEgR,IAAIggB,IAAIhgB,EAAE,MAAMggB,EAAEA,EAAEtf,MAAM,CAACV,IAAIggB,IAAIhgB,EAAE,MAAMggB,EAAE9e,QAAQR,OAAOsf,EAAEtf,OAAOsf,EAAEA,EAAE9e,OAAO,CAAC,CAAC,MAAM,KAAK,GAAG2xB,GAAG5jC,EAAED,GAAG+jC,GAAG/jC,GAAK,EAAFwB,GAAKmiC,GAAG3jC,GAAS,KAAK,IACtd,CAAC,SAAS+jC,GAAG/jC,GAAG,IAAIC,EAAED,EAAE2R,MAAM,GAAK,EAAF1R,EAAI,CAAC,IAAID,EAAE,CAAC,IAAI,IAAIE,EAAEF,EAAE0R,OAAO,OAAOxR,GAAG,CAAC,GAAG6iC,GAAG7iC,GAAG,CAAC,IAAIsB,EAAEtB,EAAE,MAAMF,CAAC,CAACE,EAAEA,EAAEwR,MAAM,CAAC,MAAMzM,MAAMlF,EAAE,KAAM,CAAC,OAAOyB,EAAE2E,KAAK,KAAK,EAAE,IAAI1E,EAAED,EAAEwO,UAAkB,GAARxO,EAAEmQ,QAAWnH,GAAG/I,EAAE,IAAID,EAAEmQ,QAAQ,IAAgByxB,GAAGpjC,EAATgjC,GAAGhjC,GAAUyB,GAAG,MAAM,KAAK,EAAE,KAAK,EAAE,IAAIE,EAAEH,EAAEwO,UAAUmH,cAAsB8rB,GAAGjjC,EAATgjC,GAAGhjC,GAAU2B,GAAG,MAAM,QAAQ,MAAMsD,MAAMlF,EAAE,MAAO,CAAC,MAAM+F,GAAG08B,GAAExiC,EAAEA,EAAE0R,OAAO5L,EAAE,CAAC9F,EAAE2R,QAAQ,CAAC,CAAG,KAAF1R,IAASD,EAAE2R,QAAQ,KAAK,CAAC,SAASyyB,GAAGpkC,EAAEC,EAAEC,GAAGoiC,GAAEtiC,EAAEqkC,GAAGrkC,EAAEC,EAAEC,EAAE,CACvb,SAASmkC,GAAGrkC,EAAEC,EAAEC,GAAG,IAAI,IAAIsB,EAAE,KAAY,EAAPxB,EAAEsvB,MAAQ,OAAOgT,IAAG,CAAC,IAAI7gC,EAAE6gC,GAAE5gC,EAAED,EAAEwQ,MAAM,GAAG,KAAKxQ,EAAE0E,KAAK3E,EAAE,CAAC,IAAIG,EAAE,OAAOF,EAAEoQ,eAAeqwB,GAAG,IAAIvgC,EAAE,CAAC,IAAIkE,EAAEpE,EAAEgQ,UAAU3L,EAAE,OAAOD,GAAG,OAAOA,EAAEgM,eAAeswB,GAAEt8B,EAAEq8B,GAAG,IAAIt8B,EAAEu8B,GAAO,GAALD,GAAGvgC,GAAMwgC,GAAEr8B,KAAKF,EAAE,IAAI08B,GAAE7gC,EAAE,OAAO6gC,IAAOx8B,GAAJnE,EAAE2gC,IAAMrwB,MAAM,KAAKtQ,EAAEwE,KAAK,OAAOxE,EAAEkQ,cAAcyyB,GAAG7iC,GAAG,OAAOqE,GAAGA,EAAE4L,OAAO/P,EAAE2gC,GAAEx8B,GAAGw+B,GAAG7iC,GAAG,KAAK,OAAOC,GAAG4gC,GAAE5gC,EAAE2iC,GAAG3iC,EAAEzB,EAAEC,GAAGwB,EAAEA,EAAEwQ,QAAQowB,GAAE7gC,EAAEygC,GAAGr8B,EAAEs8B,GAAEv8B,CAAC,CAAC2+B,GAAGvkC,EAAM,MAAM,KAAoB,KAAfyB,EAAE8+B,eAAoB,OAAO7+B,GAAGA,EAAEgQ,OAAOjQ,EAAE6gC,GAAE5gC,GAAG6iC,GAAGvkC,EAAM,CAAC,CACvc,SAASukC,GAAGvkC,GAAG,KAAK,OAAOsiC,IAAG,CAAC,IAAIriC,EAAEqiC,GAAE,GAAG,KAAa,KAARriC,EAAE0R,OAAY,CAAC,IAAIzR,EAAED,EAAEwR,UAAU,IAAI,GAAG,KAAa,KAARxR,EAAE0R,OAAY,OAAO1R,EAAEkG,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAGg8B,IAAGS,GAAG,EAAE3iC,GAAG,MAAM,KAAK,EAAE,IAAIuB,EAAEvB,EAAE+P,UAAU,GAAW,EAAR/P,EAAE0R,QAAUwwB,GAAE,GAAG,OAAOjiC,EAAEsB,EAAE66B,wBAAwB,CAAC,IAAI56B,EAAExB,EAAE6uB,cAAc7uB,EAAEiC,KAAKhC,EAAEwvB,cAAcmL,GAAG56B,EAAEiC,KAAKhC,EAAEwvB,eAAeluB,EAAEy9B,mBAAmBx9B,EAAEvB,EAAE2R,cAAcrQ,EAAEgjC,oCAAoC,CAAC,IAAI9iC,EAAEzB,EAAE8yB,YAAY,OAAOrxB,GAAGwyB,GAAGj0B,EAAEyB,EAAEF,GAAG,MAAM,KAAK,EAAE,IAAIG,EAAE1B,EAAE8yB,YAAY,GAAG,OAAOpxB,EAAE,CAAQ,GAAPzB,EAAE,KAAQ,OAAOD,EAAEgS,MAAM,OAAOhS,EAAEgS,MAAM9L,KAAK,KAAK,EACvf,KAAK,EAAEjG,EAAED,EAAEgS,MAAMjC,UAAUkkB,GAAGj0B,EAAE0B,EAAEzB,EAAE,CAAC,MAAM,KAAK,EAAE,IAAI2F,EAAE5F,EAAE+P,UAAU,GAAG,OAAO9P,GAAW,EAARD,EAAE0R,MAAQ,CAACzR,EAAE2F,EAAE,IAAIC,EAAE7F,EAAEyvB,cAAc,OAAOzvB,EAAEiC,MAAM,IAAK,SAAS,IAAK,QAAQ,IAAK,SAAS,IAAK,WAAW4D,EAAE87B,WAAW1hC,EAAEgmB,QAAQ,MAAM,IAAK,MAAMpgB,EAAE2+B,MAAMvkC,EAAEukC,IAAI3+B,EAAE2+B,KAAK,CAAC,MAAM,KAAK,EAAQ,KAAK,EAAQ,KAAK,GAAyJ,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAhM,KAAK,GAAG,GAAG,OAAOxkC,EAAE4R,cAAc,CAAC,IAAIjM,EAAE3F,EAAEwR,UAAU,GAAG,OAAO7L,EAAE,CAAC,IAAIoL,EAAEpL,EAAEiM,cAAc,GAAG,OAAOb,EAAE,CAAC,IAAIggB,EAAEhgB,EAAEc,WAAW,OAAOkf,GAAGrZ,GAAGqZ,EAAE,CAAC,CAAC,CAAC,MAC5c,QAAQ,MAAM/rB,MAAMlF,EAAE,MAAOoiC,IAAW,IAARliC,EAAE0R,OAAWkxB,GAAG5iC,EAAE,CAAC,MAAMgxB,GAAGuR,GAAEviC,EAAEA,EAAEyR,OAAOuf,EAAE,CAAC,CAAC,GAAGhxB,IAAID,EAAE,CAACsiC,GAAE,KAAK,KAAK,CAAa,GAAG,QAAfpiC,EAAED,EAAEiS,SAAoB,CAAChS,EAAEwR,OAAOzR,EAAEyR,OAAO4wB,GAAEpiC,EAAE,KAAK,CAACoiC,GAAEriC,EAAEyR,MAAM,CAAC,CAAC,SAASwyB,GAAGlkC,GAAG,KAAK,OAAOsiC,IAAG,CAAC,IAAIriC,EAAEqiC,GAAE,GAAGriC,IAAID,EAAE,CAACsiC,GAAE,KAAK,KAAK,CAAC,IAAIpiC,EAAED,EAAEiS,QAAQ,GAAG,OAAOhS,EAAE,CAACA,EAAEwR,OAAOzR,EAAEyR,OAAO4wB,GAAEpiC,EAAE,KAAK,CAACoiC,GAAEriC,EAAEyR,MAAM,CAAC,CACvS,SAAS4yB,GAAGtkC,GAAG,KAAK,OAAOsiC,IAAG,CAAC,IAAIriC,EAAEqiC,GAAE,IAAI,OAAOriC,EAAEkG,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAG,IAAIjG,EAAED,EAAEyR,OAAO,IAAIkxB,GAAG,EAAE3iC,EAAE,CAAC,MAAM6F,GAAG08B,GAAEviC,EAAEC,EAAE4F,EAAE,CAAC,MAAM,KAAK,EAAE,IAAItE,EAAEvB,EAAE+P,UAAU,GAAG,oBAAoBxO,EAAE66B,kBAAkB,CAAC,IAAI56B,EAAExB,EAAEyR,OAAO,IAAIlQ,EAAE66B,mBAAmB,CAAC,MAAMv2B,GAAG08B,GAAEviC,EAAEwB,EAAEqE,EAAE,CAAC,CAAC,IAAIpE,EAAEzB,EAAEyR,OAAO,IAAImxB,GAAG5iC,EAAE,CAAC,MAAM6F,GAAG08B,GAAEviC,EAAEyB,EAAEoE,EAAE,CAAC,MAAM,KAAK,EAAE,IAAInE,EAAE1B,EAAEyR,OAAO,IAAImxB,GAAG5iC,EAAE,CAAC,MAAM6F,GAAG08B,GAAEviC,EAAE0B,EAAEmE,EAAE,EAAE,CAAC,MAAMA,GAAG08B,GAAEviC,EAAEA,EAAEyR,OAAO5L,EAAE,CAAC,GAAG7F,IAAID,EAAE,CAACsiC,GAAE,KAAK,KAAK,CAAC,IAAIz8B,EAAE5F,EAAEiS,QAAQ,GAAG,OAAOrM,EAAE,CAACA,EAAE6L,OAAOzR,EAAEyR,OAAO4wB,GAAEz8B,EAAE,KAAK,CAACy8B,GAAEriC,EAAEyR,MAAM,CAAC,CAC7d,IAwBkNgzB,GAxB9MC,GAAG5wB,KAAK6wB,KAAKC,GAAGphC,EAAG2xB,uBAAuB0P,GAAGrhC,EAAGo6B,kBAAkBkH,GAAGthC,EAAGoU,wBAAwBgc,GAAE,EAAE6D,GAAE,KAAKsN,GAAE,KAAKC,GAAE,EAAEtG,GAAG,EAAED,GAAGxS,GAAG,GAAG4V,GAAE,EAAEoD,GAAG,KAAKjR,GAAG,EAAEkR,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAKC,GAAG,KAAKrB,GAAG,EAAElC,GAAGwD,IAASC,GAAG,KAAKxI,IAAG,EAAGC,GAAG,KAAKI,GAAG,KAAKoI,IAAG,EAAGC,GAAG,KAAKC,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAKC,IAAI,EAAEC,GAAG,EAAE,SAASvM,KAAI,OAAO,KAAO,EAAF3F,IAAK/gB,MAAK,IAAIgzB,GAAGA,GAAGA,GAAGhzB,IAAG,CAChU,SAASumB,GAAGr5B,GAAG,OAAG,KAAY,EAAPA,EAAEsvB,MAAe,EAAK,KAAO,EAAFuE,KAAM,IAAIoR,GAASA,IAAGA,GAAK,OAAOnV,GAAG9X,YAAkB,IAAI+tB,KAAKA,GAAG/wB,MAAM+wB,IAAU,KAAP/lC,EAAEqV,IAAkBrV,EAAiBA,OAAE,KAAjBA,EAAEa,OAAOohB,OAAmB,GAAG1J,GAAGvY,EAAEkC,KAAc,CAAC,SAAS81B,GAAGh4B,EAAEC,EAAEC,EAAEsB,GAAG,GAAG,GAAGokC,GAAG,MAAMA,GAAG,EAAEC,GAAG,KAAK5gC,MAAMlF,EAAE,MAAMmV,GAAGlV,EAAEE,EAAEsB,GAAM,KAAO,EAAFqyB,KAAM7zB,IAAI03B,KAAE13B,IAAI03B,KAAI,KAAO,EAAF7D,MAAOsR,IAAIjlC,GAAG,IAAI4hC,IAAGkE,GAAGhmC,EAAEilC,KAAIgB,GAAGjmC,EAAEwB,GAAG,IAAItB,GAAG,IAAI2zB,IAAG,KAAY,EAAP5zB,EAAEqvB,QAAUyS,GAAGjvB,KAAI,IAAIya,IAAIG,MAAK,CAC1Y,SAASuY,GAAGjmC,EAAEC,GAAG,IAAIC,EAAEF,EAAEkmC,cA3MzB,SAAYlmC,EAAEC,GAAG,IAAI,IAAIC,EAAEF,EAAE0U,eAAelT,EAAExB,EAAE2U,YAAYlT,EAAEzB,EAAEmmC,gBAAgBzkC,EAAE1B,EAAEyU,aAAa,EAAE/S,GAAG,CAAC,IAAIC,EAAE,GAAGmS,GAAGpS,GAAGmE,EAAE,GAAGlE,EAAEmE,EAAErE,EAAEE,IAAO,IAAImE,EAAM,KAAKD,EAAE3F,IAAI,KAAK2F,EAAErE,KAAGC,EAAEE,GAAGmT,GAAGjP,EAAE5F,IAAQ6F,GAAG7F,IAAID,EAAEomC,cAAcvgC,GAAGnE,IAAImE,CAAC,CAAC,CA2MnLwgC,CAAGrmC,EAAEC,GAAG,IAAIuB,EAAEgT,GAAGxU,EAAEA,IAAI03B,GAAEuN,GAAE,GAAG,GAAG,IAAIzjC,EAAE,OAAOtB,GAAGsS,GAAGtS,GAAGF,EAAEkmC,aAAa,KAAKlmC,EAAEsmC,iBAAiB,OAAO,GAAGrmC,EAAEuB,GAAGA,EAAExB,EAAEsmC,mBAAmBrmC,EAAE,CAAgB,GAAf,MAAMC,GAAGsS,GAAGtS,GAAM,IAAID,EAAE,IAAID,EAAEmG,IA5IsJ,SAAYnG,GAAGutB,IAAG,EAAGE,GAAGztB,EAAE,CA4I5KumC,CAAGC,GAAG7d,KAAK,KAAK3oB,IAAIytB,GAAG+Y,GAAG7d,KAAK,KAAK3oB,IAAIirB,IAAG,WAAW,KAAO,EAAF4I,KAAMnG,IAAI,IAAGxtB,EAAE,SAAS,CAAC,OAAOoV,GAAG9T,IAAI,KAAK,EAAEtB,EAAEgT,GAAG,MAAM,KAAK,EAAEhT,EAAEkT,GAAG,MAAM,KAAK,GAAwC,QAAQlT,EAAEoT,SAApC,KAAK,UAAUpT,EAAEwT,GAAsBxT,EAAEumC,GAAGvmC,EAAEwmC,GAAG/d,KAAK,KAAK3oB,GAAG,CAACA,EAAEsmC,iBAAiBrmC,EAAED,EAAEkmC,aAAahmC,CAAC,CAAC,CAC7c,SAASwmC,GAAG1mC,EAAEC,GAAc,GAAX6lC,IAAI,EAAEC,GAAG,EAAK,KAAO,EAAFlS,IAAK,MAAM5uB,MAAMlF,EAAE,MAAM,IAAIG,EAAEF,EAAEkmC,aAAa,GAAGS,MAAM3mC,EAAEkmC,eAAehmC,EAAE,OAAO,KAAK,IAAIsB,EAAEgT,GAAGxU,EAAEA,IAAI03B,GAAEuN,GAAE,GAAG,GAAG,IAAIzjC,EAAE,OAAO,KAAK,GAAG,KAAO,GAAFA,IAAO,KAAKA,EAAExB,EAAEomC,eAAenmC,EAAEA,EAAE2mC,GAAG5mC,EAAEwB,OAAO,CAACvB,EAAEuB,EAAE,IAAIC,EAAEoyB,GAAEA,IAAG,EAAE,IAAInyB,EAAEmlC,KAAgD,IAAxCnP,KAAI13B,GAAGilC,KAAIhlC,IAAEulC,GAAG,KAAKzD,GAAGjvB,KAAI,IAAIg0B,GAAG9mC,EAAEC,UAAU8mC,KAAK,KAAK,CAAC,MAAMlhC,GAAGmhC,GAAGhnC,EAAE6F,EAAE,CAAU8rB,KAAKkT,GAAG1yB,QAAQzQ,EAAEmyB,GAAEpyB,EAAE,OAAOujC,GAAE/kC,EAAE,GAAGy3B,GAAE,KAAKuN,GAAE,EAAEhlC,EAAE6hC,GAAE,CAAC,GAAG,IAAI7hC,EAAE,CAAyC,GAAxC,IAAIA,IAAY,KAARwB,EAAEsT,GAAG/U,MAAWwB,EAAEC,EAAExB,EAAEgnC,GAAGjnC,EAAEyB,KAAQ,IAAIxB,EAAE,MAAMC,EAAEglC,GAAG4B,GAAG9mC,EAAE,GAAGgmC,GAAGhmC,EAAEwB,GAAGykC,GAAGjmC,EAAE8S,MAAK5S,EAAE,GAAG,IAAID,EAAE+lC,GAAGhmC,EAAEwB,OAChf,CAAuB,GAAtBC,EAAEzB,EAAEmS,QAAQV,UAAa,KAAO,GAAFjQ,KAGnC,SAAYxB,GAAG,IAAI,IAAIC,EAAED,IAAI,CAAC,GAAW,MAARC,EAAE0R,MAAY,CAAC,IAAIzR,EAAED,EAAE8yB,YAAY,GAAG,OAAO7yB,GAAe,QAAXA,EAAEA,EAAE23B,QAAiB,IAAI,IAAIr2B,EAAE,EAAEA,EAAEtB,EAAEE,OAAOoB,IAAI,CAAC,IAAIC,EAAEvB,EAAEsB,GAAGE,EAAED,EAAE81B,YAAY91B,EAAEA,EAAEkG,MAAM,IAAI,IAAI4b,GAAG7hB,IAAID,GAAG,OAAM,CAAE,CAAC,MAAME,GAAG,OAAM,CAAE,CAAC,CAAC,CAAW,GAAVzB,EAAED,EAAEgS,MAAwB,MAAfhS,EAAEsgC,cAAoB,OAAOrgC,EAAEA,EAAEwR,OAAOzR,EAAEA,EAAEC,MAAM,CAAC,GAAGD,IAAID,EAAE,MAAM,KAAK,OAAOC,EAAEiS,SAAS,CAAC,GAAG,OAAOjS,EAAEyR,QAAQzR,EAAEyR,SAAS1R,EAAE,OAAM,EAAGC,EAAEA,EAAEyR,MAAM,CAACzR,EAAEiS,QAAQR,OAAOzR,EAAEyR,OAAOzR,EAAEA,EAAEiS,OAAO,CAAC,CAAC,OAAM,CAAE,CAHvXg1B,CAAGzlC,KAAe,KAAVxB,EAAE2mC,GAAG5mC,EAAEwB,MAAmB,KAARE,EAAEqT,GAAG/U,MAAWwB,EAAEE,EAAEzB,EAAEgnC,GAAGjnC,EAAE0B,KAAK,IAAIzB,GAAG,MAAMC,EAAEglC,GAAG4B,GAAG9mC,EAAE,GAAGgmC,GAAGhmC,EAAEwB,GAAGykC,GAAGjmC,EAAE8S,MAAK5S,EAAqC,OAAnCF,EAAEmnC,aAAa1lC,EAAEzB,EAAEonC,cAAc5lC,EAASvB,GAAG,KAAK,EAAE,KAAK,EAAE,MAAMgF,MAAMlF,EAAE,MAAM,KAAK,EAC8B,KAAK,EAAEsnC,GAAGrnC,EAAEslC,GAAGE,IAAI,MAD7B,KAAK,EAAU,GAARQ,GAAGhmC,EAAEwB,IAAS,UAAFA,KAAeA,GAAiB,IAAbvB,EAAEgkC,GAAG,IAAInxB,MAAU,CAAC,GAAG,IAAI0B,GAAGxU,EAAE,GAAG,MAAyB,KAAnByB,EAAEzB,EAAE0U,gBAAqBlT,KAAKA,EAAE,CAACg4B,KAAIx5B,EAAE2U,aAAa3U,EAAE0U,eAAejT,EAAE,KAAK,CAACzB,EAAEsnC,cAAc3c,GAAG0c,GAAG1e,KAAK,KAAK3oB,EAAEslC,GAAGE,IAAIvlC,GAAG,KAAK,CAAConC,GAAGrnC,EAAEslC,GAAGE,IAAI,MAAM,KAAK,EAAU,GAARQ,GAAGhmC,EAAEwB,IAAS,QAAFA,KAC9eA,EAAE,MAAqB,IAAfvB,EAAED,EAAEmV,WAAe1T,GAAG,EAAE,EAAED,GAAG,CAAC,IAAIG,EAAE,GAAGmS,GAAGtS,GAAGE,EAAE,GAAGC,GAAEA,EAAE1B,EAAE0B,IAAKF,IAAIA,EAAEE,GAAGH,IAAIE,CAAC,CAAqG,GAApGF,EAAEC,EAAqG,IAA3FD,GAAG,KAAXA,EAAEsR,KAAItR,GAAW,IAAI,IAAIA,EAAE,IAAI,KAAKA,EAAE,KAAK,KAAKA,EAAE,KAAK,IAAIA,EAAE,IAAI,KAAKA,EAAE,KAAK,KAAKmjC,GAAGnjC,EAAE,OAAOA,GAAU,CAACxB,EAAEsnC,cAAc3c,GAAG0c,GAAG1e,KAAK,KAAK3oB,EAAEslC,GAAGE,IAAIhkC,GAAG,KAAK,CAAC6lC,GAAGrnC,EAAEslC,GAAGE,IAAI,MAA+B,QAAQ,MAAMvgC,MAAMlF,EAAE,MAAO,CAAC,CAAW,OAAVkmC,GAAGjmC,EAAE8S,MAAY9S,EAAEkmC,eAAehmC,EAAEwmC,GAAG/d,KAAK,KAAK3oB,GAAG,IAAI,CACrX,SAASinC,GAAGjnC,EAAEC,GAAG,IAAIC,EAAEmlC,GAA2G,OAAxGrlC,EAAEmS,QAAQN,cAAcqF,eAAe4vB,GAAG9mC,EAAEC,GAAG0R,OAAO,KAAe,KAAV3R,EAAE4mC,GAAG5mC,EAAEC,MAAWA,EAAEqlC,GAAGA,GAAGplC,EAAE,OAAOD,GAAGmhC,GAAGnhC,IAAWD,CAAC,CAAC,SAASohC,GAAGphC,GAAG,OAAOslC,GAAGA,GAAGtlC,EAAEslC,GAAGn1B,KAAKY,MAAMu0B,GAAGtlC,EAAE,CAE5L,SAASgmC,GAAGhmC,EAAEC,GAAuD,IAApDA,IAAImlC,GAAGnlC,IAAIklC,GAAGnlC,EAAE0U,gBAAgBzU,EAAED,EAAE2U,cAAc1U,EAAMD,EAAEA,EAAEmmC,gBAAgB,EAAElmC,GAAG,CAAC,IAAIC,EAAE,GAAG4T,GAAG7T,GAAGuB,EAAE,GAAGtB,EAAEF,EAAEE,IAAI,EAAED,IAAIuB,CAAC,CAAC,CAAC,SAASglC,GAAGxmC,GAAG,GAAG,KAAO,EAAF6zB,IAAK,MAAM5uB,MAAMlF,EAAE,MAAM4mC,KAAK,IAAI1mC,EAAEuU,GAAGxU,EAAE,GAAG,GAAG,KAAO,EAAFC,GAAK,OAAOgmC,GAAGjmC,EAAE8S,MAAK,KAAK,IAAI5S,EAAE0mC,GAAG5mC,EAAEC,GAAG,GAAG,IAAID,EAAEmG,KAAK,IAAIjG,EAAE,CAAC,IAAIsB,EAAEuT,GAAG/U,GAAG,IAAIwB,IAAIvB,EAAEuB,EAAEtB,EAAE+mC,GAAGjnC,EAAEwB,GAAG,CAAC,GAAG,IAAItB,EAAE,MAAMA,EAAEglC,GAAG4B,GAAG9mC,EAAE,GAAGgmC,GAAGhmC,EAAEC,GAAGgmC,GAAGjmC,EAAE8S,MAAK5S,EAAE,GAAG,IAAIA,EAAE,MAAM+E,MAAMlF,EAAE,MAAiF,OAA3EC,EAAEmnC,aAAannC,EAAEmS,QAAQV,UAAUzR,EAAEonC,cAAcnnC,EAAEonC,GAAGrnC,EAAEslC,GAAGE,IAAIS,GAAGjmC,EAAE8S,MAAY,IAAI,CACvd,SAASy0B,GAAGvnC,EAAEC,GAAG,IAAIC,EAAE2zB,GAAEA,IAAG,EAAE,IAAI,OAAO7zB,EAAEC,EAAE,CAAC,QAAY,KAAJ4zB,GAAE3zB,KAAU6hC,GAAGjvB,KAAI,IAAIya,IAAIG,KAAK,CAAC,CAAC,SAAS8Z,GAAGxnC,GAAG,OAAO0lC,IAAI,IAAIA,GAAGv/B,KAAK,KAAO,EAAF0tB,KAAM8S,KAAK,IAAI1mC,EAAE4zB,GAAEA,IAAG,EAAE,IAAI3zB,EAAE6kC,GAAG/sB,WAAWxW,EAAE6T,GAAE,IAAI,GAAG0vB,GAAG/sB,WAAW,KAAK3C,GAAE,EAAErV,EAAE,OAAOA,GAAG,CAAC,QAAQqV,GAAE7T,EAAEujC,GAAG/sB,WAAW9X,EAAM,KAAO,GAAX2zB,GAAE5zB,KAAaytB,IAAI,CAAC,CAAC,SAASsU,KAAKrD,GAAGD,GAAGvsB,QAAQga,GAAEuS,GAAG,CAChT,SAASoI,GAAG9mC,EAAEC,GAAGD,EAAEmnC,aAAa,KAAKnnC,EAAEonC,cAAc,EAAE,IAAIlnC,EAAEF,EAAEsnC,cAAiD,IAAlC,IAAIpnC,IAAIF,EAAEsnC,eAAe,EAAEzc,GAAG3qB,IAAO,OAAO8kC,GAAE,IAAI9kC,EAAE8kC,GAAEtzB,OAAO,OAAOxR,GAAG,CAAC,IAAIsB,EAAEtB,EAAQ,OAANquB,GAAG/sB,GAAUA,EAAE2E,KAAK,KAAK,EAA6B,QAA3B3E,EAAEA,EAAEU,KAAK4qB,yBAA4B,IAAStrB,GAAGurB,KAAK,MAAM,KAAK,EAAE2H,KAAKvI,GAAEI,IAAIJ,GAAEG,IAAG2I,KAAK,MAAM,KAAK,EAAEL,GAAGpzB,GAAG,MAAM,KAAK,EAAEkzB,KAAK,MAAM,KAAK,GAAc,KAAK,GAAGvI,GAAE0I,IAAG,MAAM,KAAK,GAAGjD,GAAGpwB,EAAEU,KAAKqE,UAAU,MAAM,KAAK,GAAG,KAAK,GAAGy7B,KAAK9hC,EAAEA,EAAEwR,MAAM,CAAqE,GAApEgmB,GAAE13B,EAAEglC,GAAEhlC,EAAEywB,GAAGzwB,EAAEmS,QAAQ,MAAM8yB,GAAEtG,GAAG1+B,EAAE6hC,GAAE,EAAEoD,GAAG,KAAKE,GAAGD,GAAGlR,GAAG,EAAEqR,GAAGD,GAAG,KAAQ,OAAO7S,GAAG,CAAC,IAAIvyB,EAC1f,EAAEA,EAAEuyB,GAAGpyB,OAAOH,IAAI,GAA2B,QAAhBuB,GAARtB,EAAEsyB,GAAGvyB,IAAO0yB,aAAqB,CAACzyB,EAAEyyB,YAAY,KAAK,IAAIlxB,EAAED,EAAE2vB,KAAKzvB,EAAExB,EAAEkzB,QAAQ,GAAG,OAAO1xB,EAAE,CAAC,IAAIC,EAAED,EAAEyvB,KAAKzvB,EAAEyvB,KAAK1vB,EAAED,EAAE2vB,KAAKxvB,CAAC,CAACzB,EAAEkzB,QAAQ5xB,CAAC,CAACgxB,GAAG,IAAI,CAAC,OAAOxyB,CAAC,CAC3K,SAASgnC,GAAGhnC,EAAEC,GAAG,OAAE,CAAC,IAAIC,EAAE8kC,GAAE,IAAuB,GAAnBrT,KAAKwD,GAAGhjB,QAAQikB,GAAMV,GAAG,CAAC,IAAI,IAAIl0B,EAAE+zB,GAAE1jB,cAAc,OAAOrQ,GAAG,CAAC,IAAIC,EAAED,EAAEg1B,MAAM,OAAO/0B,IAAIA,EAAE2xB,QAAQ,MAAM5xB,EAAEA,EAAE2vB,IAAI,CAACuE,IAAG,CAAE,CAA4C,GAA3CJ,GAAG,EAAEG,GAAED,GAAED,GAAE,KAAKI,IAAG,EAAGC,GAAG,EAAEkP,GAAG3yB,QAAQ,KAAQ,OAAOjS,GAAG,OAAOA,EAAEwR,OAAO,CAACowB,GAAE,EAAEoD,GAAGjlC,EAAE+kC,GAAE,KAAK,KAAK,CAAChlC,EAAE,CAAC,IAAI0B,EAAE1B,EAAE2B,EAAEzB,EAAEwR,OAAO7L,EAAE3F,EAAE4F,EAAE7F,EAAqB,GAAnBA,EAAEglC,GAAEp/B,EAAE8L,OAAO,MAAS,OAAO7L,GAAG,kBAAkBA,GAAG,oBAAoBA,EAAEslB,KAAK,CAAC,IAAIxlB,EAAEE,EAAEkL,EAAEnL,EAAEmrB,EAAEhgB,EAAE7K,IAAI,GAAG,KAAY,EAAP6K,EAAEse,QAAU,IAAI0B,GAAG,KAAKA,GAAG,KAAKA,GAAG,CAAC,IAAIC,EAAEjgB,EAAES,UAAUwf,GAAGjgB,EAAE+hB,YAAY9B,EAAE8B,YAAY/hB,EAAEa,cAAcof,EAAEpf,cACxeb,EAAEmhB,MAAMlB,EAAEkB,QAAQnhB,EAAE+hB,YAAY,KAAK/hB,EAAEa,cAAc,KAAK,CAAC,IAAIqf,EAAEwM,GAAG/7B,GAAG,GAAG,OAAOuvB,EAAE,CAACA,EAAEvf,QAAQ,IAAIgsB,GAAGzM,EAAEvvB,EAAEkE,EAAEnE,EAAEzB,GAAU,EAAPixB,EAAE5B,MAAQiO,GAAG77B,EAAEkE,EAAE3F,GAAO6F,EAAEF,EAAE,IAAIkjB,GAAZ7oB,EAAEixB,GAAc6B,YAAY,GAAG,OAAOjK,EAAE,CAAC,IAAIC,EAAE,IAAIxoB,IAAIwoB,EAAEpoB,IAAImF,GAAG7F,EAAE8yB,YAAYhK,CAAC,MAAMD,EAAEnoB,IAAImF,GAAG,MAAM9F,CAAC,CAAM,GAAG,KAAO,EAAFC,GAAK,CAACs9B,GAAG77B,EAAEkE,EAAE3F,GAAGkgC,KAAK,MAAMngC,CAAC,CAAC8F,EAAEb,MAAMlF,EAAE,KAAM,MAAM,GAAG2uB,IAAU,EAAP7oB,EAAEypB,KAAO,CAAC,IAAItG,EAAE0U,GAAG/7B,GAAG,GAAG,OAAOqnB,EAAE,CAAC,KAAa,MAARA,EAAErX,SAAeqX,EAAErX,OAAO,KAAKgsB,GAAG3U,EAAErnB,EAAEkE,EAAEnE,EAAEzB,GAAG4vB,GAAGyM,GAAGx2B,EAAED,IAAI,MAAM7F,CAAC,CAAC,CAAC0B,EAAEoE,EAAEw2B,GAAGx2B,EAAED,GAAG,IAAIi8B,KAAIA,GAAE,GAAG,OAAOuD,GAAGA,GAAG,CAAC3jC,GAAG2jC,GAAGl1B,KAAKzO,GAAGA,EAAEC,EAAE,EAAE,CAAC,OAAOD,EAAEyE,KAAK,KAAK,EAAEzE,EAAEiQ,OAAO,MACpf1R,IAAIA,EAAEyB,EAAEywB,OAAOlyB,EAAkB8zB,GAAGryB,EAAbq7B,GAAGr7B,EAAEoE,EAAE7F,IAAW,MAAMD,EAAE,KAAK,EAAE6F,EAAEC,EAAE,IAAIqjB,EAAEznB,EAAEQ,KAAKgnB,EAAExnB,EAAEsO,UAAU,GAAG,KAAa,IAARtO,EAAEiQ,SAAa,oBAAoBwX,EAAEgU,0BAA0B,OAAOjU,GAAG,oBAAoBA,EAAEkU,oBAAoB,OAAOC,KAAKA,GAAGhV,IAAIa,KAAK,CAACxnB,EAAEiQ,OAAO,MAAM1R,IAAIA,EAAEyB,EAAEywB,OAAOlyB,EAAkB8zB,GAAGryB,EAAbw7B,GAAGx7B,EAAEmE,EAAE5F,IAAW,MAAMD,CAAC,EAAE0B,EAAEA,EAAEgQ,MAAM,OAAO,OAAOhQ,EAAE,CAAC+lC,GAAGvnC,EAAE,CAAC,MAAMwpB,GAAIzpB,EAAEypB,EAAGsb,KAAI9kC,GAAG,OAAOA,IAAI8kC,GAAE9kC,EAAEA,EAAEwR,QAAQ,QAAQ,CAAC,KAAK,CAAS,CAAC,SAASm1B,KAAK,IAAI7mC,EAAE6kC,GAAG1yB,QAAsB,OAAd0yB,GAAG1yB,QAAQikB,GAAU,OAAOp2B,EAAEo2B,GAAGp2B,CAAC,CACrd,SAASmgC,KAAQ,IAAI2B,IAAG,IAAIA,IAAG,IAAIA,KAAEA,GAAE,GAAE,OAAOpK,IAAG,KAAQ,UAAHzD,KAAe,KAAQ,UAAHkR,KAAea,GAAGtO,GAAEuN,GAAE,CAAC,SAAS2B,GAAG5mC,EAAEC,GAAG,IAAIC,EAAE2zB,GAAEA,IAAG,EAAE,IAAIryB,EAAEqlC,KAAqC,IAA7BnP,KAAI13B,GAAGilC,KAAIhlC,IAAEulC,GAAG,KAAKsB,GAAG9mC,EAAEC,UAAUynC,KAAK,KAAK,CAAC,MAAMjmC,GAAGulC,GAAGhnC,EAAEyB,EAAE,CAAgC,GAAtBkwB,KAAKkC,GAAE3zB,EAAE2kC,GAAG1yB,QAAQ3Q,EAAK,OAAOwjC,GAAE,MAAM//B,MAAMlF,EAAE,MAAiB,OAAX23B,GAAE,KAAKuN,GAAE,EAASnD,EAAC,CAAC,SAAS4F,KAAK,KAAK,OAAO1C,IAAG2C,GAAG3C,GAAE,CAAC,SAAS+B,KAAK,KAAK,OAAO/B,KAAItyB,MAAMi1B,GAAG3C,GAAE,CAAC,SAAS2C,GAAG3nC,GAAG,IAAIC,EAAEykC,GAAG1kC,EAAEyR,UAAUzR,EAAE2+B,IAAI3+B,EAAE0vB,cAAc1vB,EAAEivB,aAAa,OAAOhvB,EAAEwnC,GAAGznC,GAAGglC,GAAE/kC,EAAE6kC,GAAG3yB,QAAQ,IAAI,CAC1d,SAASs1B,GAAGznC,GAAG,IAAIC,EAAED,EAAE,EAAE,CAAC,IAAIE,EAAED,EAAEwR,UAAqB,GAAXzR,EAAEC,EAAEyR,OAAU,KAAa,MAARzR,EAAE0R,QAAc,GAAgB,QAAbzR,EAAEihC,GAAGjhC,EAAED,EAAE0+B,KAAkB,YAAJqG,GAAE9kC,OAAc,CAAW,GAAG,QAAbA,EAAE+hC,GAAG/hC,EAAED,IAAmC,OAAnBC,EAAEyR,OAAO,WAAMqzB,GAAE9kC,GAAS,GAAG,OAAOF,EAAmE,OAAX8hC,GAAE,OAAEkD,GAAE,MAA5DhlC,EAAE2R,OAAO,MAAM3R,EAAEugC,aAAa,EAAEvgC,EAAE+uB,UAAU,IAA4B,CAAa,GAAG,QAAf9uB,EAAEA,EAAEiS,SAAyB,YAAJ8yB,GAAE/kC,GAAS+kC,GAAE/kC,EAAED,CAAC,OAAO,OAAOC,GAAG,IAAI6hC,KAAIA,GAAE,EAAE,CAAC,SAASuF,GAAGrnC,EAAEC,EAAEC,GAAG,IAAIsB,EAAE6T,GAAE5T,EAAEsjC,GAAG/sB,WAAW,IAAI+sB,GAAG/sB,WAAW,KAAK3C,GAAE,EAC3Y,SAAYrV,EAAEC,EAAEC,EAAEsB,GAAG,GAAGmlC,WAAW,OAAOjB,IAAI,GAAG,KAAO,EAAF7R,IAAK,MAAM5uB,MAAMlF,EAAE,MAAMG,EAAEF,EAAEmnC,aAAa,IAAI1lC,EAAEzB,EAAEonC,cAAc,GAAG,OAAOlnC,EAAE,OAAO,KAA2C,GAAtCF,EAAEmnC,aAAa,KAAKnnC,EAAEonC,cAAc,EAAKlnC,IAAIF,EAAEmS,QAAQ,MAAMlN,MAAMlF,EAAE,MAAMC,EAAEkmC,aAAa,KAAKlmC,EAAEsmC,iBAAiB,EAAE,IAAI5kC,EAAExB,EAAEiyB,MAAMjyB,EAAE6xB,WAA8J,GAzNtT,SAAY/xB,EAAEC,GAAG,IAAIC,EAAEF,EAAEyU,cAAcxU,EAAED,EAAEyU,aAAaxU,EAAED,EAAE0U,eAAe,EAAE1U,EAAE2U,YAAY,EAAE3U,EAAEomC,cAAcnmC,EAAED,EAAE4nC,kBAAkB3nC,EAAED,EAAE4U,gBAAgB3U,EAAEA,EAAED,EAAE6U,cAAc,IAAIrT,EAAExB,EAAEmV,WAAW,IAAInV,EAAEA,EAAEmmC,gBAAgB,EAAEjmC,GAAG,CAAC,IAAIuB,EAAE,GAAGqS,GAAG5T,GAAGwB,EAAE,GAAGD,EAAExB,EAAEwB,GAAG,EAAED,EAAEC,IAAI,EAAEzB,EAAEyB,IAAI,EAAEvB,IAAIwB,CAAC,CAAC,CAyN5GmmC,CAAG7nC,EAAE0B,GAAG1B,IAAI03B,KAAIsN,GAAEtN,GAAE,KAAKuN,GAAE,GAAG,KAAoB,KAAf/kC,EAAEqgC,eAAoB,KAAa,KAARrgC,EAAEyR,QAAa8zB,KAAKA,IAAG,EAAGgB,GAAGnzB,IAAG,WAAgB,OAALqzB,KAAY,IAAI,KAAIjlC,EAAE,KAAa,MAARxB,EAAEyR,OAAgB,KAAoB,MAAfzR,EAAEqgC,eAAqB7+B,EAAE,CAACA,EAAEqjC,GAAG/sB,WAAW+sB,GAAG/sB,WAAW,KAChf,IAAIrW,EAAE0T,GAAEA,GAAE,EAAE,IAAIxP,EAAEguB,GAAEA,IAAG,EAAEiR,GAAG3yB,QAAQ,KA1CpC,SAAYnS,EAAEC,GAAgB,GAAbsqB,GAAGzS,GAAauM,GAAVrkB,EAAEikB,MAAc,CAAC,GAAG,mBAAmBjkB,EAAE,IAAIE,EAAE,CAACykB,MAAM3kB,EAAE6kB,eAAeD,IAAI5kB,EAAE8kB,mBAAmB9kB,EAAE,CAA8C,IAAIwB,GAAjDtB,GAAGA,EAAEF,EAAE2I,gBAAgBzI,EAAE8kB,aAAankB,QAAeokB,cAAc/kB,EAAE+kB,eAAe,GAAGzjB,GAAG,IAAIA,EAAE2jB,WAAW,CAACjlB,EAAEsB,EAAE4jB,WAAW,IAAI3jB,EAAED,EAAE6jB,aAAa3jB,EAAEF,EAAE8jB,UAAU9jB,EAAEA,EAAE+jB,YAAY,IAAIrlB,EAAEwK,SAAShJ,EAAEgJ,QAAQ,CAAC,MAAM0e,GAAGlpB,EAAE,KAAK,MAAMF,CAAC,CAAC,IAAI2B,EAAE,EAAEkE,GAAG,EAAEC,GAAG,EAAEF,EAAE,EAAEoL,EAAE,EAAEggB,EAAEhxB,EAAEixB,EAAE,KAAKhxB,EAAE,OAAO,CAAC,IAAI,IAAIixB,EAAKF,IAAI9wB,GAAG,IAAIuB,GAAG,IAAIuvB,EAAEtmB,WAAW7E,EAAElE,EAAEF,GAAGuvB,IAAItvB,GAAG,IAAIF,GAAG,IAAIwvB,EAAEtmB,WAAW5E,EAAEnE,EAAEH,GAAG,IAAIwvB,EAAEtmB,WAAW/I,GACnfqvB,EAAErmB,UAAUvK,QAAW,QAAQ8wB,EAAEF,EAAE7mB,aAAkB8mB,EAAED,EAAEA,EAAEE,EAAE,OAAO,CAAC,GAAGF,IAAIhxB,EAAE,MAAMC,EAA8C,GAA5CgxB,IAAI/wB,KAAK0F,IAAInE,IAAIoE,EAAElE,GAAGsvB,IAAIvvB,KAAKsP,IAAIxP,IAAIsE,EAAEnE,GAAM,QAAQuvB,EAAEF,EAAEnN,aAAa,MAAUoN,GAAJD,EAAEC,GAAMvhB,UAAU,CAACshB,EAAEE,CAAC,CAAChxB,GAAG,IAAI2F,IAAI,IAAIC,EAAE,KAAK,CAAC6e,MAAM9e,EAAE+e,IAAI9e,EAAE,MAAM5F,EAAE,IAAI,CAACA,EAAEA,GAAG,CAACykB,MAAM,EAAEC,IAAI,EAAE,MAAM1kB,EAAE,KAA+C,IAA1CsqB,GAAG,CAAChG,YAAYxkB,EAAEykB,eAAevkB,GAAG4X,IAAG,EAAOwqB,GAAEriC,EAAE,OAAOqiC,IAAG,GAAOtiC,GAAJC,EAAEqiC,IAAMrwB,MAAM,KAAoB,KAAfhS,EAAEsgC,eAAoB,OAAOvgC,EAAEA,EAAE0R,OAAOzR,EAAEqiC,GAAEtiC,OAAO,KAAK,OAAOsiC,IAAG,CAACriC,EAAEqiC,GAAE,IAAI,IAAIxZ,EAAE7oB,EAAEwR,UAAU,GAAG,KAAa,KAARxR,EAAE0R,OAAY,OAAO1R,EAAEkG,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GACvK,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,MAA3W,KAAK,EAAE,GAAG,OAAO2iB,EAAE,CAAC,IAAIC,EAAED,EAAE4G,cAAc1G,EAAEF,EAAEjX,cAAcoX,EAAEhpB,EAAE+P,UAAUmZ,EAAEF,EAAEiT,wBAAwBj8B,EAAE6uB,cAAc7uB,EAAEiC,KAAK6mB,EAAE8R,GAAG56B,EAAEiC,KAAK6mB,GAAGC,GAAGC,EAAEub,oCAAoCrb,CAAC,CAAC,MAAM,KAAK,EAAE,IAAID,EAAEjpB,EAAE+P,UAAUmH,cAAc,IAAI+R,EAAExe,SAASwe,EAAExf,YAAY,GAAG,IAAIwf,EAAExe,UAAUwe,EAAExE,iBAAiBwE,EAAE9e,YAAY8e,EAAExE,iBAAiB,MAAyC,QAAQ,MAAMzf,MAAMlF,EAAE,MAAO,CAAC,MAAMqpB,GAAGoZ,GAAEviC,EAAEA,EAAEyR,OAAO0X,EAAE,CAAa,GAAG,QAAfppB,EAAEC,EAAEiS,SAAoB,CAAClS,EAAE0R,OAAOzR,EAAEyR,OAAO4wB,GAAEtiC,EAAE,KAAK,CAACsiC,GAAEriC,EAAEyR,MAAM,CAACoX,EAAE4Z,GAAGA,IAAG,CAAW,CAwCldoF,CAAG9nC,EAAEE,GAAG4jC,GAAG5jC,EAAEF,GAAGukB,GAAGiG,IAAI1S,KAAKyS,GAAGC,GAAGD,GAAG,KAAKvqB,EAAEmS,QAAQjS,EAAEkkC,GAAGlkC,EAAEF,EAAEyB,GAAGmR,KAAKihB,GAAEhuB,EAAEwP,GAAE1T,EAAEojC,GAAG/sB,WAAWtW,CAAC,MAAM1B,EAAEmS,QAAQjS,EAAsF,GAApFulC,KAAKA,IAAG,EAAGC,GAAG1lC,EAAE2lC,GAAGlkC,GAAGC,EAAE1B,EAAEyU,aAAa,IAAI/S,IAAI27B,GAAG,MAhOmJ,SAAYr9B,GAAG,GAAG6T,IAAI,oBAAoBA,GAAGk0B,kBAAkB,IAAIl0B,GAAGk0B,kBAAkBn0B,GAAG5T,OAAE,EAAO,OAAuB,IAAhBA,EAAEmS,QAAQR,OAAW,CAAC,MAAM1R,GAAG,CAAC,CAgOxR+nC,CAAG9nC,EAAE8P,WAAai2B,GAAGjmC,EAAE8S,MAAQ,OAAO7S,EAAE,IAAIuB,EAAExB,EAAEioC,mBAAmB/nC,EAAE,EAAEA,EAAED,EAAEG,OAAOF,IAAIuB,EAAExB,EAAEC,GAAGsB,EAAEC,EAAEkG,MAAM,CAAC21B,eAAe77B,EAAEyD,MAAMs3B,OAAO/6B,EAAE+6B,SAAS,GAAGQ,GAAG,MAAMA,IAAG,EAAGh9B,EAAEi9B,GAAGA,GAAG,KAAKj9B,EAAE,KAAQ,EAAH2lC,KAAO,IAAI3lC,EAAEmG,KAAKwgC,KAAKjlC,EAAE1B,EAAEyU,aAAa,KAAO,EAAF/S,GAAK1B,IAAI6lC,GAAGD,MAAMA,GAAG,EAAEC,GAAG7lC,GAAG4lC,GAAG,EAAElY,IAAgB,CAFxFwa,CAAGloC,EAAEC,EAAEC,EAAEsB,EAAE,CAAC,QAAQujC,GAAG/sB,WAAWvW,EAAE4T,GAAE7T,CAAC,CAAC,OAAO,IAAI,CAGhc,SAASmlC,KAAK,GAAG,OAAOjB,GAAG,CAAC,IAAI1lC,EAAEsV,GAAGqwB,IAAI1lC,EAAE8kC,GAAG/sB,WAAW9X,EAAEmV,GAAE,IAAmC,GAA/B0vB,GAAG/sB,WAAW,KAAK3C,GAAE,GAAGrV,EAAE,GAAGA,EAAK,OAAO0lC,GAAG,IAAIlkC,GAAE,MAAO,CAAmB,GAAlBxB,EAAE0lC,GAAGA,GAAG,KAAKC,GAAG,EAAK,KAAO,EAAF9R,IAAK,MAAM5uB,MAAMlF,EAAE,MAAM,IAAI0B,EAAEoyB,GAAO,IAALA,IAAG,EAAMyO,GAAEtiC,EAAEmS,QAAQ,OAAOmwB,IAAG,CAAC,IAAI5gC,EAAE4gC,GAAE3gC,EAAED,EAAEuQ,MAAM,GAAG,KAAa,GAARqwB,GAAE3wB,OAAU,CAAC,IAAI9L,EAAEnE,EAAEqtB,UAAU,GAAG,OAAOlpB,EAAE,CAAC,IAAI,IAAIC,EAAE,EAAEA,EAAED,EAAEzF,OAAO0F,IAAI,CAAC,IAAIF,EAAEC,EAAEC,GAAG,IAAIw8B,GAAE18B,EAAE,OAAO08B,IAAG,CAAC,IAAItxB,EAAEsxB,GAAE,OAAOtxB,EAAE7K,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAGw8B,GAAG,EAAE3xB,EAAEtP,GAAG,IAAIsvB,EAAEhgB,EAAEiB,MAAM,GAAG,OAAO+e,EAAEA,EAAEtf,OAAOV,EAAEsxB,GAAEtR,OAAO,KAAK,OAAOsR,IAAG,CAAK,IAAIrR,GAARjgB,EAAEsxB,IAAUpwB,QAAQgf,EAAElgB,EAAEU,OAAa,GAANoxB,GAAG9xB,GAAMA,IACnfpL,EAAE,CAAC08B,GAAE,KAAK,KAAK,CAAC,GAAG,OAAOrR,EAAE,CAACA,EAAEvf,OAAOwf,EAAEoR,GAAErR,EAAE,KAAK,CAACqR,GAAEpR,CAAC,CAAC,CAAC,CAAC,IAAIpI,EAAEpnB,EAAE+P,UAAU,GAAG,OAAOqX,EAAE,CAAC,IAAIC,EAAED,EAAE7W,MAAM,GAAG,OAAO8W,EAAE,CAACD,EAAE7W,MAAM,KAAK,EAAE,CAAC,IAAI+W,EAAED,EAAE7W,QAAQ6W,EAAE7W,QAAQ,KAAK6W,EAAEC,CAAC,OAAO,OAAOD,EAAE,CAAC,CAACuZ,GAAE5gC,CAAC,CAAC,CAAC,GAAG,KAAoB,KAAfA,EAAE6+B,eAAoB,OAAO5+B,EAAEA,EAAE+P,OAAOhQ,EAAE4gC,GAAE3gC,OAAO1B,EAAE,KAAK,OAAOqiC,IAAG,CAAK,GAAG,KAAa,MAApB5gC,EAAE4gC,IAAY3wB,OAAY,OAAOjQ,EAAEyE,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAGw8B,GAAG,EAAEjhC,EAAEA,EAAEgQ,QAAQ,IAAIuX,EAAEvnB,EAAEwQ,QAAQ,GAAG,OAAO+W,EAAE,CAACA,EAAEvX,OAAOhQ,EAAEgQ,OAAO4wB,GAAErZ,EAAE,MAAMhpB,CAAC,CAACqiC,GAAE5gC,EAAEgQ,MAAM,CAAC,CAAC,IAAIyX,EAAEnpB,EAAEmS,QAAQ,IAAImwB,GAAEnZ,EAAE,OAAOmZ,IAAG,CAAK,IAAIpZ,GAARvnB,EAAE2gC,IAAUrwB,MAAM,GAAG,KAAoB,KAAftQ,EAAE4+B,eAAoB,OAClfrX,EAAEA,EAAExX,OAAO/P,EAAE2gC,GAAEpZ,OAAOjpB,EAAE,IAAI0B,EAAEwnB,EAAE,OAAOmZ,IAAG,CAAK,GAAG,KAAa,MAApBz8B,EAAEy8B,IAAY3wB,OAAY,IAAI,OAAO9L,EAAEM,KAAK,KAAK,EAAE,KAAK,GAAG,KAAK,GAAGy8B,GAAG,EAAE/8B,GAAG,CAAC,MAAM6jB,GAAI8Y,GAAE38B,EAAEA,EAAE6L,OAAOgY,EAAG,CAAC,GAAG7jB,IAAIlE,EAAE,CAAC2gC,GAAE,KAAK,MAAMriC,CAAC,CAAC,IAAImpB,EAAEvjB,EAAEqM,QAAQ,GAAG,OAAOkX,EAAE,CAACA,EAAE1X,OAAO7L,EAAE6L,OAAO4wB,GAAElZ,EAAE,MAAMnpB,CAAC,CAACqiC,GAAEz8B,EAAE6L,MAAM,CAAC,CAAU,GAATmiB,GAAEpyB,EAAEisB,KAAQ7Z,IAAI,oBAAoBA,GAAGs0B,sBAAsB,IAAIt0B,GAAGs0B,sBAAsBv0B,GAAG5T,EAAE,CAAC,MAAM0pB,GAAI,CAACloB,GAAE,CAAE,CAAC,OAAOA,CAAC,CAAC,QAAQ6T,GAAEnV,EAAE6kC,GAAG/sB,WAAW/X,CAAC,CAAC,CAAC,OAAM,CAAE,CAAC,SAASmoC,GAAGpoC,EAAEC,EAAEC,GAAyBF,EAAE4zB,GAAG5zB,EAAjBC,EAAE88B,GAAG/8B,EAAfC,EAAEq8B,GAAGp8B,EAAED,GAAY,GAAY,GAAGA,EAAEu5B,KAAI,OAAOx5B,IAAIkV,GAAGlV,EAAE,EAAEC,GAAGgmC,GAAGjmC,EAAEC,GAAG,CACze,SAASuiC,GAAExiC,EAAEC,EAAEC,GAAG,GAAG,IAAIF,EAAEmG,IAAIiiC,GAAGpoC,EAAEA,EAAEE,QAAQ,KAAK,OAAOD,GAAG,CAAC,GAAG,IAAIA,EAAEkG,IAAI,CAACiiC,GAAGnoC,EAAED,EAAEE,GAAG,KAAK,CAAM,GAAG,IAAID,EAAEkG,IAAI,CAAC,IAAI3E,EAAEvB,EAAE+P,UAAU,GAAG,oBAAoB/P,EAAEiC,KAAKi7B,0BAA0B,oBAAoB37B,EAAE47B,oBAAoB,OAAOC,KAAKA,GAAGhV,IAAI7mB,IAAI,CAAuBvB,EAAE2zB,GAAG3zB,EAAjBD,EAAEk9B,GAAGj9B,EAAfD,EAAEs8B,GAAGp8B,EAAEF,GAAY,GAAY,GAAGA,EAAEw5B,KAAI,OAAOv5B,IAAIiV,GAAGjV,EAAE,EAAED,GAAGimC,GAAGhmC,EAAED,IAAI,KAAK,CAAC,CAACC,EAAEA,EAAEyR,MAAM,CAAC,CACnV,SAAS+rB,GAAGz9B,EAAEC,EAAEC,GAAG,IAAIsB,EAAExB,EAAEw9B,UAAU,OAAOh8B,GAAGA,EAAE+U,OAAOtW,GAAGA,EAAEu5B,KAAIx5B,EAAE2U,aAAa3U,EAAE0U,eAAexU,EAAEw3B,KAAI13B,IAAIilC,GAAE/kC,KAAKA,IAAI,IAAI4hC,IAAG,IAAIA,KAAM,UAAFmD,MAAeA,IAAG,IAAInyB,KAAImxB,GAAG6C,GAAG9mC,EAAE,GAAGolC,IAAIllC,GAAG+lC,GAAGjmC,EAAEC,EAAE,CAAC,SAASooC,GAAGroC,EAAEC,GAAG,IAAIA,IAAI,KAAY,EAAPD,EAAEsvB,MAAQrvB,EAAE,GAAGA,EAAEqU,GAAU,KAAQ,WAAfA,KAAK,MAAuBA,GAAG,WAAW,IAAIpU,EAAEs5B,KAAc,QAAVx5B,EAAE4yB,GAAG5yB,EAAEC,MAAciV,GAAGlV,EAAEC,EAAEC,GAAG+lC,GAAGjmC,EAAEE,GAAG,CAAC,SAASkgC,GAAGpgC,GAAG,IAAIC,EAAED,EAAE6R,cAAc3R,EAAE,EAAE,OAAOD,IAAIC,EAAED,EAAEmvB,WAAWiZ,GAAGroC,EAAEE,EAAE,CACjZ,SAAS0jC,GAAG5jC,EAAEC,GAAG,IAAIC,EAAE,EAAE,OAAOF,EAAEmG,KAAK,KAAK,GAAG,IAAI3E,EAAExB,EAAEgQ,UAAcvO,EAAEzB,EAAE6R,cAAc,OAAOpQ,IAAIvB,EAAEuB,EAAE2tB,WAAW,MAAM,KAAK,GAAG5tB,EAAExB,EAAEgQ,UAAU,MAAM,QAAQ,MAAM/K,MAAMlF,EAAE,MAAO,OAAOyB,GAAGA,EAAE+U,OAAOtW,GAAGooC,GAAGroC,EAAEE,EAAE,CAQqK,SAASumC,GAAGzmC,EAAEC,GAAG,OAAOqS,GAAGtS,EAAEC,EAAE,CACjZ,SAASqoC,GAAGtoC,EAAEC,EAAEC,EAAEsB,GAAGI,KAAKuE,IAAInG,EAAE4B,KAAKuc,IAAIje,EAAE0B,KAAKsQ,QAAQtQ,KAAKqQ,MAAMrQ,KAAK8P,OAAO9P,KAAKoO,UAAUpO,KAAKM,KAAKN,KAAKktB,YAAY,KAAKltB,KAAK4uB,MAAM,EAAE5uB,KAAKouB,IAAI,KAAKpuB,KAAKqtB,aAAahvB,EAAE2B,KAAKqwB,aAAarwB,KAAKiQ,cAAcjQ,KAAKmxB,YAAYnxB,KAAK8tB,cAAc,KAAK9tB,KAAK0tB,KAAK9tB,EAAEI,KAAK2+B,aAAa3+B,KAAK+P,MAAM,EAAE/P,KAAKmtB,UAAU,KAAKntB,KAAKmwB,WAAWnwB,KAAKuwB,MAAM,EAAEvwB,KAAK6P,UAAU,IAAI,CAAC,SAASod,GAAG7uB,EAAEC,EAAEC,EAAEsB,GAAG,OAAO,IAAI8mC,GAAGtoC,EAAEC,EAAEC,EAAEsB,EAAE,CAAC,SAAS08B,GAAGl+B,GAAiB,UAAdA,EAAEA,EAAEkB,aAAuBlB,EAAEuoC,iBAAiB,CAEpd,SAAS9X,GAAGzwB,EAAEC,GAAG,IAAIC,EAAEF,EAAEyR,UACuB,OADb,OAAOvR,IAAGA,EAAE2uB,GAAG7uB,EAAEmG,IAAIlG,EAAED,EAAEme,IAAIne,EAAEsvB,OAAQR,YAAY9uB,EAAE8uB,YAAY5uB,EAAEgC,KAAKlC,EAAEkC,KAAKhC,EAAE8P,UAAUhQ,EAAEgQ,UAAU9P,EAAEuR,UAAUzR,EAAEA,EAAEyR,UAAUvR,IAAIA,EAAE+uB,aAAahvB,EAAEC,EAAEgC,KAAKlC,EAAEkC,KAAKhC,EAAEyR,MAAM,EAAEzR,EAAEqgC,aAAa,EAAErgC,EAAE6uB,UAAU,MAAM7uB,EAAEyR,MAAc,SAAR3R,EAAE2R,MAAezR,EAAE6xB,WAAW/xB,EAAE+xB,WAAW7xB,EAAEiyB,MAAMnyB,EAAEmyB,MAAMjyB,EAAE+R,MAAMjS,EAAEiS,MAAM/R,EAAEwvB,cAAc1vB,EAAE0vB,cAAcxvB,EAAE2R,cAAc7R,EAAE6R,cAAc3R,EAAE6yB,YAAY/yB,EAAE+yB,YAAY9yB,EAAED,EAAEiyB,aAAa/xB,EAAE+xB,aAAa,OAAOhyB,EAAE,KAAK,CAACkyB,MAAMlyB,EAAEkyB,MAAMD,aAAajyB,EAAEiyB,cAC/ehyB,EAAEgS,QAAQlS,EAAEkS,QAAQhS,EAAEswB,MAAMxwB,EAAEwwB,MAAMtwB,EAAE8vB,IAAIhwB,EAAEgwB,IAAW9vB,CAAC,CACxD,SAAS0wB,GAAG5wB,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,GAAG,IAAIC,EAAE,EAAM,GAAJH,EAAExB,EAAK,oBAAoBA,EAAEk+B,GAAGl+B,KAAK2B,EAAE,QAAQ,GAAG,kBAAkB3B,EAAE2B,EAAE,OAAO3B,EAAE,OAAOA,GAAG,KAAK+D,EAAG,OAAOgtB,GAAG7wB,EAAEoJ,SAAS7H,EAAEC,EAAEzB,GAAG,KAAK+D,EAAGrC,EAAE,EAAEF,GAAG,EAAE,MAAM,KAAKwC,EAAG,OAAOjE,EAAE6uB,GAAG,GAAG3uB,EAAED,EAAI,EAAFwB,IAAOqtB,YAAY7qB,EAAGjE,EAAEmyB,MAAMzwB,EAAE1B,EAAE,KAAKqE,EAAG,OAAOrE,EAAE6uB,GAAG,GAAG3uB,EAAED,EAAEwB,IAAKqtB,YAAYzqB,EAAGrE,EAAEmyB,MAAMzwB,EAAE1B,EAAE,KAAKsE,EAAG,OAAOtE,EAAE6uB,GAAG,GAAG3uB,EAAED,EAAEwB,IAAKqtB,YAAYxqB,EAAGtE,EAAEmyB,MAAMzwB,EAAE1B,EAAE,KAAKyE,EAAG,OAAOq7B,GAAG5/B,EAAEuB,EAAEC,EAAEzB,GAAG,QAAQ,GAAG,kBAAkBD,GAAG,OAAOA,EAAE,OAAOA,EAAEsG,UAAU,KAAKpC,EAAGvC,EAAE,GAAG,MAAM3B,EAAE,KAAKmE,EAAGxC,EAAE,EAAE,MAAM3B,EAAE,KAAKoE,EAAGzC,EAAE,GACpf,MAAM3B,EAAE,KAAKuE,EAAG5C,EAAE,GAAG,MAAM3B,EAAE,KAAKwE,EAAG7C,EAAE,GAAGH,EAAE,KAAK,MAAMxB,EAAE,MAAMiF,MAAMlF,EAAE,IAAI,MAAMC,EAAEA,SAASA,EAAE,KAAuD,OAAjDC,EAAE4uB,GAAGltB,EAAEzB,EAAED,EAAEwB,IAAKqtB,YAAY9uB,EAAEC,EAAEiC,KAAKV,EAAEvB,EAAEkyB,MAAMzwB,EAASzB,CAAC,CAAC,SAAS8wB,GAAG/wB,EAAEC,EAAEC,EAAEsB,GAA2B,OAAxBxB,EAAE6uB,GAAG,EAAE7uB,EAAEwB,EAAEvB,IAAKkyB,MAAMjyB,EAASF,CAAC,CAAC,SAAS8/B,GAAG9/B,EAAEC,EAAEC,EAAEsB,GAAuE,OAApExB,EAAE6uB,GAAG,GAAG7uB,EAAEwB,EAAEvB,IAAK6uB,YAAYrqB,EAAGzE,EAAEmyB,MAAMjyB,EAAEF,EAAEgQ,UAAU,CAACg0B,UAAS,GAAWhkC,CAAC,CAAC,SAAS0wB,GAAG1wB,EAAEC,EAAEC,GAA8B,OAA3BF,EAAE6uB,GAAG,EAAE7uB,EAAE,KAAKC,IAAKkyB,MAAMjyB,EAASF,CAAC,CAC5W,SAAS8wB,GAAG9wB,EAAEC,EAAEC,GAA8J,OAA3JD,EAAE4uB,GAAG,EAAE,OAAO7uB,EAAEsJ,SAAStJ,EAAEsJ,SAAS,GAAGtJ,EAAEme,IAAIle,IAAKkyB,MAAMjyB,EAAED,EAAE+P,UAAU,CAACmH,cAAcnX,EAAEmX,cAAcqxB,gBAAgB,KAAK3X,eAAe7wB,EAAE6wB,gBAAuB5wB,CAAC,CACtL,SAASwoC,GAAGzoC,EAAEC,EAAEC,EAAEsB,EAAEC,GAAGG,KAAKuE,IAAIlG,EAAE2B,KAAKuV,cAAcnX,EAAE4B,KAAKulC,aAAavlC,KAAK47B,UAAU57B,KAAKuQ,QAAQvQ,KAAK4mC,gBAAgB,KAAK5mC,KAAK0lC,eAAe,EAAE1lC,KAAKskC,aAAatkC,KAAKw9B,eAAex9B,KAAK0wB,QAAQ,KAAK1wB,KAAK0kC,iBAAiB,EAAE1kC,KAAKuT,WAAWF,GAAG,GAAGrT,KAAKukC,gBAAgBlxB,IAAI,GAAGrT,KAAKgT,eAAehT,KAAKwlC,cAAcxlC,KAAKgmC,iBAAiBhmC,KAAKwkC,aAAaxkC,KAAK+S,YAAY/S,KAAK8S,eAAe9S,KAAK6S,aAAa,EAAE7S,KAAKiT,cAAcI,GAAG,GAAGrT,KAAKg5B,iBAAiBp5B,EAAEI,KAAKqmC,mBAAmBxmC,EAAEG,KAAK8mC,gCAC/e,IAAI,CAAC,SAASC,GAAG3oC,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,EAAEkE,EAAEC,GAAgN,OAA7M9F,EAAE,IAAIyoC,GAAGzoC,EAAEC,EAAEC,EAAE2F,EAAEC,GAAG,IAAI7F,GAAGA,EAAE,GAAE,IAAKyB,IAAIzB,GAAG,IAAIA,EAAE,EAAEyB,EAAEmtB,GAAG,EAAE,KAAK,KAAK5uB,GAAGD,EAAEmS,QAAQzQ,EAAEA,EAAEsO,UAAUhQ,EAAE0B,EAAEmQ,cAAc,CAACgU,QAAQrkB,EAAE0V,aAAahX,EAAE0oC,MAAM,KAAKnK,YAAY,KAAKoK,0BAA0B,MAAM/V,GAAGpxB,GAAU1B,CAAC,CACzP,SAAS8oC,GAAG9oC,GAAG,IAAIA,EAAE,OAAOqsB,GAAuBrsB,EAAE,CAAC,GAAGwR,GAA1BxR,EAAEA,EAAEk7B,mBAA8Bl7B,GAAG,IAAIA,EAAEmG,IAAI,MAAMlB,MAAMlF,EAAE,MAAM,IAAIE,EAAED,EAAE,EAAE,CAAC,OAAOC,EAAEkG,KAAK,KAAK,EAAElG,EAAEA,EAAE+P,UAAUsiB,QAAQ,MAAMtyB,EAAE,KAAK,EAAE,GAAG6sB,GAAG5sB,EAAEiC,MAAM,CAACjC,EAAEA,EAAE+P,UAAUod,0CAA0C,MAAMptB,CAAC,EAAEC,EAAEA,EAAEyR,MAAM,OAAO,OAAOzR,GAAG,MAAMgF,MAAMlF,EAAE,KAAM,CAAC,GAAG,IAAIC,EAAEmG,IAAI,CAAC,IAAIjG,EAAEF,EAAEkC,KAAK,GAAG2qB,GAAG3sB,GAAG,OAAO+sB,GAAGjtB,EAAEE,EAAED,EAAE,CAAC,OAAOA,CAAC,CACpW,SAAS8oC,GAAG/oC,EAAEC,EAAEC,EAAEsB,EAAEC,EAAEC,EAAEC,EAAEkE,EAAEC,GAAwK,OAArK9F,EAAE2oC,GAAGzoC,EAAEsB,GAAE,EAAGxB,EAAEyB,EAAEC,EAAEC,EAAEkE,EAAEC,IAAKwsB,QAAQwW,GAAG,MAAM5oC,EAAEF,EAAEmS,SAAsBzQ,EAAE6xB,GAAhB/xB,EAAEg4B,KAAI/3B,EAAE43B,GAAGn5B,KAAeyzB,cAAS,IAAS1zB,GAAG,OAAOA,EAAEA,EAAE,KAAK2zB,GAAG1zB,EAAEwB,EAAED,GAAGzB,EAAEmS,QAAQggB,MAAM1wB,EAAEyT,GAAGlV,EAAEyB,EAAED,GAAGykC,GAAGjmC,EAAEwB,GAAUxB,CAAC,CAAC,SAASgpC,GAAGhpC,EAAEC,EAAEC,EAAEsB,GAAG,IAAIC,EAAExB,EAAEkS,QAAQzQ,EAAE83B,KAAI73B,EAAE03B,GAAG53B,GAAsL,OAAnLvB,EAAE4oC,GAAG5oC,GAAG,OAAOD,EAAEqyB,QAAQryB,EAAEqyB,QAAQpyB,EAAED,EAAEm/B,eAAel/B,GAAED,EAAEszB,GAAG7xB,EAAEC,IAAK+xB,QAAQ,CAAC7N,QAAQ7lB,GAAuB,QAApBwB,OAAE,IAASA,EAAE,KAAKA,KAAavB,EAAE0zB,SAASnyB,GAAe,QAAZxB,EAAE4zB,GAAGnyB,EAAExB,EAAE0B,MAAcq2B,GAAGh4B,EAAEyB,EAAEE,EAAED,GAAGoyB,GAAG9zB,EAAEyB,EAAEE,IAAWA,CAAC,CAC3b,SAASsnC,GAAGjpC,GAAe,OAAZA,EAAEA,EAAEmS,SAAcF,OAAyBjS,EAAEiS,MAAM9L,IAAoDnG,EAAEiS,MAAMjC,WAAhF,IAA0F,CAAC,SAASk5B,GAAGlpC,EAAEC,GAAqB,GAAG,QAArBD,EAAEA,EAAE6R,gBAA2B,OAAO7R,EAAE8R,WAAW,CAAC,IAAI5R,EAAEF,EAAEovB,UAAUpvB,EAAEovB,UAAU,IAAIlvB,GAAGA,EAAED,EAAEC,EAAED,CAAC,CAAC,CAAC,SAASkpC,GAAGnpC,EAAEC,GAAGipC,GAAGlpC,EAAEC,IAAID,EAAEA,EAAEyR,YAAYy3B,GAAGlpC,EAAEC,EAAE,CAnB7SykC,GAAG,SAAS1kC,EAAEC,EAAEC,GAAG,GAAG,OAAOF,EAAE,GAAGA,EAAE0vB,gBAAgBzvB,EAAEgvB,cAAc1C,GAAGpa,QAAQigB,IAAG,MAAO,CAAC,GAAG,KAAKpyB,EAAEmyB,MAAMjyB,IAAI,KAAa,IAARD,EAAE0R,OAAW,OAAOygB,IAAG,EAzE1I,SAAYpyB,EAAEC,EAAEC,GAAG,OAAOD,EAAEkG,KAAK,KAAK,EAAEg5B,GAAGl/B,GAAG2vB,KAAK,MAAM,KAAK,EAAE+E,GAAG10B,GAAG,MAAM,KAAK,EAAE4sB,GAAG5sB,EAAEiC,OAAOirB,GAAGltB,GAAG,MAAM,KAAK,EAAEu0B,GAAGv0B,EAAEA,EAAE+P,UAAUmH,eAAe,MAAM,KAAK,GAAG,IAAI3V,EAAEvB,EAAEiC,KAAKqE,SAAS9E,EAAExB,EAAEyvB,cAAc/nB,MAAMykB,GAAEmF,GAAG/vB,EAAEqwB,eAAerwB,EAAEqwB,cAAcpwB,EAAE,MAAM,KAAK,GAAqB,GAAG,QAArBD,EAAEvB,EAAE4R,eAA2B,OAAG,OAAOrQ,EAAEsQ,YAAkBsa,GAAEyI,GAAY,EAAVA,GAAE1iB,SAAWlS,EAAE0R,OAAO,IAAI,MAAQ,KAAKzR,EAAED,EAAEgS,MAAM8f,YAAmB6N,GAAG5/B,EAAEC,EAAEC,IAAGksB,GAAEyI,GAAY,EAAVA,GAAE1iB,SAA8B,QAAnBnS,EAAEg+B,GAAGh+B,EAAEC,EAAEC,IAAmBF,EAAEkS,QAAQ,MAAKka,GAAEyI,GAAY,EAAVA,GAAE1iB,SAAW,MAAM,KAAK,GAC7d,GADge3Q,EAAE,KAAKtB,EACrfD,EAAE8xB,YAAe,KAAa,IAAR/xB,EAAE2R,OAAW,CAAC,GAAGnQ,EAAE,OAAOw/B,GAAGhhC,EAAEC,EAAEC,GAAGD,EAAE0R,OAAO,GAAG,CAA6F,GAA1E,QAAlBlQ,EAAExB,EAAE4R,iBAAyBpQ,EAAEk/B,UAAU,KAAKl/B,EAAEq/B,KAAK,KAAKr/B,EAAEm2B,WAAW,MAAMxL,GAAEyI,GAAEA,GAAE1iB,SAAY3Q,EAAE,MAAW,OAAO,KAAK,KAAK,GAAG,KAAK,GAAG,OAAOvB,EAAEkyB,MAAM,EAAEmM,GAAGt+B,EAAEC,EAAEC,GAAG,OAAO89B,GAAGh+B,EAAEC,EAAEC,EAAE,CAwE7GkpC,CAAGppC,EAAEC,EAAEC,GAAGkyB,GAAG,KAAa,OAARpyB,EAAE2R,MAAmB,MAAMygB,IAAG,EAAG1D,IAAG,KAAa,QAARzuB,EAAE0R,QAAgB0c,GAAGpuB,EAAE6tB,GAAG7tB,EAAEuwB,OAAiB,OAAVvwB,EAAEkyB,MAAM,EAASlyB,EAAEkG,KAAK,KAAK,EAAE,IAAI3E,EAAEvB,EAAEiC,KAAK48B,GAAG9+B,EAAEC,GAAGD,EAAEC,EAAEgvB,aAAa,IAAIxtB,EAAEgrB,GAAGxsB,EAAEqsB,GAAEna,SAAS6f,GAAG/xB,EAAEC,GAAGuB,EAAEu0B,GAAG,KAAK/1B,EAAEuB,EAAExB,EAAEyB,EAAEvB,GAAG,IAAIwB,EAAE20B,KACvI,OAD4Ip2B,EAAE0R,OAAO,EAAE,kBAAkBlQ,GAAG,OAAOA,GAAG,oBAAoBA,EAAE2E,aAAQ,IAAS3E,EAAE6E,UAAUrG,EAAEkG,IAAI,EAAElG,EAAE4R,cAAc,KAAK5R,EAAE8yB,YAC1e,KAAKlG,GAAGrrB,IAAIE,GAAE,EAAGyrB,GAAGltB,IAAIyB,GAAE,EAAGzB,EAAE4R,cAAc,OAAOpQ,EAAEk6B,YAAO,IAASl6B,EAAEk6B,MAAMl6B,EAAEk6B,MAAM,KAAK7I,GAAG7yB,GAAGwB,EAAEm6B,QAAQZ,GAAG/6B,EAAE+P,UAAUvO,EAAEA,EAAEy5B,gBAAgBj7B,EAAE+7B,GAAG/7B,EAAEuB,EAAExB,EAAEE,GAAGD,EAAEi/B,GAAG,KAAKj/B,EAAEuB,GAAE,EAAGE,EAAExB,KAAKD,EAAEkG,IAAI,EAAEuoB,IAAGhtB,GAAG4sB,GAAGruB,GAAG69B,GAAG,KAAK79B,EAAEwB,EAAEvB,GAAGD,EAAEA,EAAEgS,OAAchS,EAAE,KAAK,GAAGuB,EAAEvB,EAAE6uB,YAAY9uB,EAAE,CAAqF,OAApF8+B,GAAG9+B,EAAEC,GAAGD,EAAEC,EAAEgvB,aAAuBztB,GAAVC,EAAED,EAAEiF,OAAUjF,EAAEgF,UAAUvG,EAAEiC,KAAKV,EAAEC,EAAExB,EAAEkG,IAQtU,SAAYnG,GAAG,GAAG,oBAAoBA,EAAE,OAAOk+B,GAAGl+B,GAAG,EAAE,EAAE,QAAG,IAASA,GAAG,OAAOA,EAAE,CAAc,IAAbA,EAAEA,EAAEsG,YAAgBlC,EAAG,OAAO,GAAG,GAAGpE,IAAIuE,EAAG,OAAO,EAAE,CAAC,OAAO,CAAC,CAR2L8kC,CAAG7nC,GAAGxB,EAAE66B,GAAGr5B,EAAExB,GAAUyB,GAAG,KAAK,EAAExB,EAAEo+B,GAAG,KAAKp+B,EAAEuB,EAAExB,EAAEE,GAAG,MAAMF,EAAE,KAAK,EAAEC,EAAE4+B,GAAG,KAAK5+B,EAAEuB,EAAExB,EAAEE,GAAG,MAAMF,EAAE,KAAK,GAAGC,EAAE89B,GAAG,KAAK99B,EAAEuB,EAAExB,EAAEE,GAAG,MAAMF,EAAE,KAAK,GAAGC,EAAEg+B,GAAG,KAAKh+B,EAAEuB,EAAEq5B,GAAGr5B,EAAEU,KAAKlC,GAAGE,GAAG,MAAMF,EAAE,MAAMiF,MAAMlF,EAAE,IACvgByB,EAAE,IAAK,CAAC,OAAOvB,EAAE,KAAK,EAAE,OAAOuB,EAAEvB,EAAEiC,KAAKT,EAAExB,EAAEgvB,aAA2CoP,GAAGr+B,EAAEC,EAAEuB,EAArCC,EAAExB,EAAE6uB,cAActtB,EAAEC,EAAEo5B,GAAGr5B,EAAEC,GAAcvB,GAAG,KAAK,EAAE,OAAOsB,EAAEvB,EAAEiC,KAAKT,EAAExB,EAAEgvB,aAA2C4P,GAAG7+B,EAAEC,EAAEuB,EAArCC,EAAExB,EAAE6uB,cAActtB,EAAEC,EAAEo5B,GAAGr5B,EAAEC,GAAcvB,GAAG,KAAK,EAAEF,EAAE,CAAO,GAANm/B,GAAGl/B,GAAM,OAAOD,EAAE,MAAMiF,MAAMlF,EAAE,MAAMyB,EAAEvB,EAAEgvB,aAA+BxtB,GAAlBC,EAAEzB,EAAE4R,eAAkBgU,QAAQyN,GAAGtzB,EAAEC,GAAG+zB,GAAG/zB,EAAEuB,EAAE,KAAKtB,GAAG,IAAIyB,EAAE1B,EAAE4R,cAA0B,GAAZrQ,EAAEG,EAAEkkB,QAAWnkB,EAAEwV,aAAY,CAAC,GAAGxV,EAAE,CAACmkB,QAAQrkB,EAAE0V,cAAa,EAAG0xB,MAAMjnC,EAAEinC,MAAMC,0BAA0BlnC,EAAEknC,0BAA0BpK,YAAY98B,EAAE88B,aAAax+B,EAAE8yB,YAAYC,UAChftxB,EAAEzB,EAAE4R,cAAcnQ,EAAU,IAARzB,EAAE0R,MAAU,CAAuB1R,EAAEo/B,GAAGr/B,EAAEC,EAAEuB,EAAEtB,EAAjCuB,EAAE66B,GAAGr3B,MAAMlF,EAAE,MAAME,IAAmB,MAAMD,CAAC,CAAM,GAAGwB,IAAIC,EAAE,CAAuBxB,EAAEo/B,GAAGr/B,EAAEC,EAAEuB,EAAEtB,EAAjCuB,EAAE66B,GAAGr3B,MAAMlF,EAAE,MAAME,IAAmB,MAAMD,CAAC,CAAM,IAAIyuB,GAAGjD,GAAGvrB,EAAE+P,UAAUmH,cAAchN,YAAYqkB,GAAGvuB,EAAEyuB,IAAE,EAAGC,GAAG,KAAKzuB,EAAEoxB,GAAGrxB,EAAE,KAAKuB,EAAEtB,GAAGD,EAAEgS,MAAM/R,EAAEA,GAAGA,EAAEyR,OAAe,EAATzR,EAAEyR,MAAS,KAAKzR,EAAEA,EAAEgS,OAAQ,KAAI,CAAM,GAAL0d,KAAQpuB,IAAIC,EAAE,CAACxB,EAAE+9B,GAAGh+B,EAAEC,EAAEC,GAAG,MAAMF,CAAC,CAAC89B,GAAG99B,EAAEC,EAAEuB,EAAEtB,EAAE,CAACD,EAAEA,EAAEgS,KAAK,CAAC,OAAOhS,EAAE,KAAK,EAAE,OAAO00B,GAAG10B,GAAG,OAAOD,GAAGuvB,GAAGtvB,GAAGuB,EAAEvB,EAAEiC,KAAKT,EAAExB,EAAEgvB,aAAavtB,EAAE,OAAO1B,EAAEA,EAAE0vB,cAAc,KAAK/tB,EAAEF,EAAE6H,SAASmhB,GAAGjpB,EAAEC,GAAGE,EAAE,KAAK,OAAOD,GAAG+oB,GAAGjpB,EAAEE,KAAKzB,EAAE0R,OAAO,IACnfitB,GAAG5+B,EAAEC,GAAG69B,GAAG99B,EAAEC,EAAE0B,EAAEzB,GAAGD,EAAEgS,MAAM,KAAK,EAAE,OAAO,OAAOjS,GAAGuvB,GAAGtvB,GAAG,KAAK,KAAK,GAAG,OAAO2/B,GAAG5/B,EAAEC,EAAEC,GAAG,KAAK,EAAE,OAAOs0B,GAAGv0B,EAAEA,EAAE+P,UAAUmH,eAAe3V,EAAEvB,EAAEgvB,aAAa,OAAOjvB,EAAEC,EAAEgS,MAAMof,GAAGpxB,EAAE,KAAKuB,EAAEtB,GAAG49B,GAAG99B,EAAEC,EAAEuB,EAAEtB,GAAGD,EAAEgS,MAAM,KAAK,GAAG,OAAOzQ,EAAEvB,EAAEiC,KAAKT,EAAExB,EAAEgvB,aAA2C8O,GAAG/9B,EAAEC,EAAEuB,EAArCC,EAAExB,EAAE6uB,cAActtB,EAAEC,EAAEo5B,GAAGr5B,EAAEC,GAAcvB,GAAG,KAAK,EAAE,OAAO49B,GAAG99B,EAAEC,EAAEA,EAAEgvB,aAAa/uB,GAAGD,EAAEgS,MAAM,KAAK,EAAmD,KAAK,GAAG,OAAO6rB,GAAG99B,EAAEC,EAAEA,EAAEgvB,aAAa3lB,SAASpJ,GAAGD,EAAEgS,MAAM,KAAK,GAAGjS,EAAE,CACxZ,GADyZwB,EAAEvB,EAAEiC,KAAKqE,SAAS9E,EAAExB,EAAEgvB,aAAavtB,EAAEzB,EAAEyvB,cAClf/tB,EAAEF,EAAEkG,MAAMykB,GAAEmF,GAAG/vB,EAAEqwB,eAAerwB,EAAEqwB,cAAclwB,EAAK,OAAOD,EAAE,GAAG6hB,GAAG7hB,EAAEiG,MAAMhG,IAAI,GAAGD,EAAE4H,WAAW7H,EAAE6H,WAAWijB,GAAGpa,QAAQ,CAAClS,EAAE+9B,GAAGh+B,EAAEC,EAAEC,GAAG,MAAMF,CAAC,OAAO,IAAc,QAAV0B,EAAEzB,EAAEgS,SAAiBvQ,EAAEgQ,OAAOzR,GAAG,OAAOyB,GAAG,CAAC,IAAImE,EAAEnE,EAAEuwB,aAAa,GAAG,OAAOpsB,EAAE,CAAClE,EAAED,EAAEuQ,MAAM,IAAI,IAAInM,EAAED,EAAEqsB,aAAa,OAAOpsB,GAAG,CAAC,GAAGA,EAAEwsB,UAAU9wB,EAAE,CAAC,GAAG,IAAIE,EAAEyE,IAAI,EAACL,EAAEytB,IAAI,EAAErzB,GAAGA,IAAKiG,IAAI,EAAE,IAAIP,EAAElE,EAAEqxB,YAAY,GAAG,OAAOntB,EAAE,CAAY,IAAIoL,GAAfpL,EAAEA,EAAEutB,QAAeC,QAAQ,OAAOpiB,EAAElL,EAAEqrB,KAAKrrB,GAAGA,EAAEqrB,KAAKngB,EAAEmgB,KAAKngB,EAAEmgB,KAAKrrB,GAAGF,EAAEwtB,QAAQttB,CAAC,CAAC,CAACpE,EAAEywB,OAAOjyB,EAAgB,QAAd4F,EAAEpE,EAAE+P,aAAqB3L,EAAEqsB,OAAOjyB,GAAG4xB,GAAGpwB,EAAEgQ,OAClfxR,EAAED,GAAG4F,EAAEssB,OAAOjyB,EAAE,KAAK,CAAC4F,EAAEA,EAAEqrB,IAAI,CAAC,MAAM,GAAG,KAAKzvB,EAAEyE,IAAIxE,EAAED,EAAEQ,OAAOjC,EAAEiC,KAAK,KAAKR,EAAEuQ,WAAW,GAAG,KAAKvQ,EAAEyE,IAAI,CAAY,GAAG,QAAdxE,EAAED,EAAEgQ,QAAmB,MAAMzM,MAAMlF,EAAE,MAAM4B,EAAEwwB,OAAOjyB,EAAgB,QAAd2F,EAAElE,EAAE8P,aAAqB5L,EAAEssB,OAAOjyB,GAAG4xB,GAAGnwB,EAAEzB,EAAED,GAAG0B,EAAED,EAAEwQ,OAAO,MAAMvQ,EAAED,EAAEuQ,MAAM,GAAG,OAAOtQ,EAAEA,EAAE+P,OAAOhQ,OAAO,IAAIC,EAAED,EAAE,OAAOC,GAAG,CAAC,GAAGA,IAAI1B,EAAE,CAAC0B,EAAE,KAAK,KAAK,CAAa,GAAG,QAAfD,EAAEC,EAAEuQ,SAAoB,CAACxQ,EAAEgQ,OAAO/P,EAAE+P,OAAO/P,EAAED,EAAE,KAAK,CAACC,EAAEA,EAAE+P,MAAM,CAAChQ,EAAEC,CAAC,CAACm8B,GAAG99B,EAAEC,EAAEwB,EAAE6H,SAASpJ,GAAGD,EAAEA,EAAEgS,KAAK,CAAC,OAAOhS,EAAE,KAAK,EAAE,OAAOwB,EAAExB,EAAEiC,KAAKV,EAAEvB,EAAEgvB,aAAa3lB,SAAS0oB,GAAG/xB,EAAEC,GAAWsB,EAAEA,EAAVC,EAAE4wB,GAAG5wB,IAAUxB,EAAE0R,OAAO,EAAEmsB,GAAG99B,EAAEC,EAAEuB,EAAEtB,GACpfD,EAAEgS,MAAM,KAAK,GAAG,OAAgBxQ,EAAEo5B,GAAXr5B,EAAEvB,EAAEiC,KAAYjC,EAAEgvB,cAA6BgP,GAAGj+B,EAAEC,EAAEuB,EAAtBC,EAAEo5B,GAAGr5B,EAAEU,KAAKT,GAAcvB,GAAG,KAAK,GAAG,OAAOk+B,GAAGp+B,EAAEC,EAAEA,EAAEiC,KAAKjC,EAAEgvB,aAAa/uB,GAAG,KAAK,GAAG,OAAOsB,EAAEvB,EAAEiC,KAAKT,EAAExB,EAAEgvB,aAAaxtB,EAAExB,EAAE6uB,cAActtB,EAAEC,EAAEo5B,GAAGr5B,EAAEC,GAAGq9B,GAAG9+B,EAAEC,GAAGA,EAAEkG,IAAI,EAAE0mB,GAAGrrB,IAAIxB,GAAE,EAAGmtB,GAAGltB,IAAID,GAAE,EAAGgyB,GAAG/xB,EAAEC,GAAGu7B,GAAGx7B,EAAEuB,EAAEC,GAAGu6B,GAAG/7B,EAAEuB,EAAEC,EAAEvB,GAAGg/B,GAAG,KAAKj/B,EAAEuB,GAAE,EAAGxB,EAAEE,GAAG,KAAK,GAAG,OAAO8gC,GAAGhhC,EAAEC,EAAEC,GAAG,KAAK,GAAG,OAAOo+B,GAAGt+B,EAAEC,EAAEC,GAAG,MAAM+E,MAAMlF,EAAE,IAAIE,EAAEkG,KAAM,EAYxC,IAAImjC,GAAG,oBAAoBC,YAAYA,YAAY,SAASvpC,GAAG28B,QAAQC,MAAM58B,EAAE,EAAE,SAASwpC,GAAGxpC,GAAG4B,KAAK6nC,cAAczpC,CAAC,CACjI,SAAS0pC,GAAG1pC,GAAG4B,KAAK6nC,cAAczpC,CAAC,CAC5J,SAAS2pC,GAAG3pC,GAAG,SAASA,GAAG,IAAIA,EAAE0K,UAAU,IAAI1K,EAAE0K,UAAU,KAAK1K,EAAE0K,SAAS,CAAC,SAASk/B,GAAG5pC,GAAG,SAASA,GAAG,IAAIA,EAAE0K,UAAU,IAAI1K,EAAE0K,UAAU,KAAK1K,EAAE0K,WAAW,IAAI1K,EAAE0K,UAAU,iCAAiC1K,EAAE2K,WAAW,CAAC,SAASk/B,KAAK,CAExa,SAASC,GAAG9pC,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,IAAIC,EAAExB,EAAEijC,oBAAoB,GAAGzhC,EAAE,CAAC,IAAIC,EAAED,EAAE,GAAG,oBAAoBD,EAAE,CAAC,IAAIoE,EAAEpE,EAAEA,EAAE,WAAW,IAAIzB,EAAEipC,GAAGtnC,GAAGkE,EAAE5C,KAAKjD,EAAE,CAAC,CAACgpC,GAAG/oC,EAAE0B,EAAE3B,EAAEyB,EAAE,MAAME,EADxJ,SAAY3B,EAAEC,EAAEC,EAAEsB,EAAEC,GAAG,GAAGA,EAAE,CAAC,GAAG,oBAAoBD,EAAE,CAAC,IAAIE,EAAEF,EAAEA,EAAE,WAAW,IAAIxB,EAAEipC,GAAGtnC,GAAGD,EAAEuB,KAAKjD,EAAE,CAAC,CAAC,IAAI2B,EAAEonC,GAAG9oC,EAAEuB,EAAExB,EAAE,EAAE,MAAK,EAAG,EAAG,GAAG6pC,IAAmF,OAA/E7pC,EAAEmjC,oBAAoBxhC,EAAE3B,EAAEspB,IAAI3nB,EAAEwQ,QAAQuW,GAAG,IAAI1oB,EAAE0K,SAAS1K,EAAE0P,WAAW1P,GAAGwnC,KAAY7lC,CAAC,CAAC,KAAKF,EAAEzB,EAAEyK,WAAWzK,EAAEoK,YAAY3I,GAAG,GAAG,oBAAoBD,EAAE,CAAC,IAAIqE,EAAErE,EAAEA,EAAE,WAAW,IAAIxB,EAAEipC,GAAGnjC,GAAGD,EAAE5C,KAAKjD,EAAE,CAAC,CAAC,IAAI8F,EAAE6iC,GAAG3oC,EAAE,GAAE,EAAG,KAAK,GAAK,EAAG,EAAG,GAAG6pC,IAA0G,OAAtG7pC,EAAEmjC,oBAAoBr9B,EAAE9F,EAAEspB,IAAIxjB,EAAEqM,QAAQuW,GAAG,IAAI1oB,EAAE0K,SAAS1K,EAAE0P,WAAW1P,GAAGwnC,IAAG,WAAWwB,GAAG/oC,EAAE6F,EAAE5F,EAAEsB,EAAE,IAAUsE,CAAC,CACpUikC,CAAG7pC,EAAED,EAAED,EAAEyB,EAAED,GAAG,OAAOynC,GAAGtnC,EAAE,CAHpL+nC,GAAGxoC,UAAUkF,OAAOojC,GAAGtoC,UAAUkF,OAAO,SAASpG,GAAG,IAAIC,EAAE2B,KAAK6nC,cAAc,GAAG,OAAOxpC,EAAE,MAAMgF,MAAMlF,EAAE,MAAMipC,GAAGhpC,EAAEC,EAAE,KAAK,KAAK,EAAEypC,GAAGxoC,UAAU8oC,QAAQR,GAAGtoC,UAAU8oC,QAAQ,WAAW,IAAIhqC,EAAE4B,KAAK6nC,cAAc,GAAG,OAAOzpC,EAAE,CAAC4B,KAAK6nC,cAAc,KAAK,IAAIxpC,EAAED,EAAEmX,cAAcqwB,IAAG,WAAWwB,GAAG,KAAKhpC,EAAE,KAAK,KAAK,IAAGC,EAAEqpB,IAAI,IAAI,CAAC,EACzTogB,GAAGxoC,UAAU+oC,2BAA2B,SAASjqC,GAAG,GAAGA,EAAE,CAAC,IAAIC,EAAEyV,KAAK1V,EAAE,CAAC2W,UAAU,KAAKpH,OAAOvP,EAAEiX,SAAShX,GAAG,IAAI,IAAIC,EAAE,EAAEA,EAAEkW,GAAGhW,QAAQ,IAAIH,GAAGA,EAAEmW,GAAGlW,GAAG+W,SAAS/W,KAAKkW,GAAG8zB,OAAOhqC,EAAE,EAAEF,GAAG,IAAIE,GAAG6W,GAAG/W,EAAE,CAAC,EAEXuV,GAAG,SAASvV,GAAG,OAAOA,EAAEmG,KAAK,KAAK,EAAE,IAAIlG,EAAED,EAAEgQ,UAAU,GAAG/P,EAAEkS,QAAQN,cAAcqF,aAAa,CAAC,IAAIhX,EAAEqU,GAAGtU,EAAEwU,cAAc,IAAIvU,IAAIkV,GAAGnV,EAAI,EAAFC,GAAK+lC,GAAGhmC,EAAE6S,MAAK,KAAO,EAAF+gB,MAAOkO,GAAGjvB,KAAI,IAAI4a,MAAM,CAAC,MAAM,KAAK,GAAG8Z,IAAG,WAAW,IAAIvnC,EAAE2yB,GAAG5yB,EAAE,GAAG,GAAG,OAAOC,EAAE,CAAC,IAAIC,EAAEs5B,KAAIxB,GAAG/3B,EAAED,EAAE,EAAEE,EAAE,CAAC,IAAGipC,GAAGnpC,EAAE,GAAG,EAC/bwV,GAAG,SAASxV,GAAG,GAAG,KAAKA,EAAEmG,IAAI,CAAC,IAAIlG,EAAE2yB,GAAG5yB,EAAE,WAAW,GAAG,OAAOC,EAAa+3B,GAAG/3B,EAAED,EAAE,UAAXw5B,MAAwB2P,GAAGnpC,EAAE,UAAU,CAAC,EAAEyV,GAAG,SAASzV,GAAG,GAAG,KAAKA,EAAEmG,IAAI,CAAC,IAAIlG,EAAEo5B,GAAGr5B,GAAGE,EAAE0yB,GAAG5yB,EAAEC,GAAG,GAAG,OAAOC,EAAa83B,GAAG93B,EAAEF,EAAEC,EAAXu5B,MAAgB2P,GAAGnpC,EAAEC,EAAE,CAAC,EAAEyV,GAAG,WAAW,OAAOL,EAAC,EAAEM,GAAG,SAAS3V,EAAEC,GAAG,IAAIC,EAAEmV,GAAE,IAAI,OAAOA,GAAErV,EAAEC,GAAG,CAAC,QAAQoV,GAAEnV,CAAC,CAAC,EAClSyP,GAAG,SAAS3P,EAAEC,EAAEC,GAAG,OAAOD,GAAG,IAAK,QAAyB,GAAjBuI,EAAGxI,EAAEE,GAAGD,EAAEC,EAAE+F,KAAQ,UAAU/F,EAAEgC,MAAM,MAAMjC,EAAE,CAAC,IAAIC,EAAEF,EAAEE,EAAEwP,YAAYxP,EAAEA,EAAEwP,WAAsF,IAA3ExP,EAAEA,EAAEiqC,iBAAiB,cAAcC,KAAKC,UAAU,GAAGpqC,GAAG,mBAAuBA,EAAE,EAAEA,EAAEC,EAAEE,OAAOH,IAAI,CAAC,IAAIuB,EAAEtB,EAAED,GAAG,GAAGuB,IAAIxB,GAAGwB,EAAE8oC,OAAOtqC,EAAEsqC,KAAK,CAAC,IAAI7oC,EAAEwO,GAAGzO,GAAG,IAAIC,EAAE,MAAMwD,MAAMlF,EAAE,KAAK0H,EAAGjG,GAAGgH,EAAGhH,EAAEC,EAAE,CAAC,CAAC,CAAC,MAAM,IAAK,WAAW+H,GAAGxJ,EAAEE,GAAG,MAAM,IAAK,SAAmB,OAAVD,EAAEC,EAAEyH,QAAeoB,GAAG/I,IAAIE,EAAEohC,SAASrhC,GAAE,GAAI,EAAEoQ,GAAGk3B,GAAGj3B,GAAGk3B,GACpa,IAAI+C,GAAG,CAACC,uBAAsB,EAAGC,OAAO,CAAC16B,GAAGyS,GAAGvS,GAAGC,GAAGE,GAAGm3B,KAAKmD,GAAG,CAACC,wBAAwB3zB,GAAG4zB,WAAW,EAAEC,QAAQ,SAASC,oBAAoB,aAC1IC,GAAG,CAACH,WAAWF,GAAGE,WAAWC,QAAQH,GAAGG,QAAQC,oBAAoBJ,GAAGI,oBAAoBE,eAAeN,GAAGM,eAAeC,kBAAkB,KAAKC,4BAA4B,KAAKC,4BAA4B,KAAKC,cAAc,KAAKC,wBAAwB,KAAKC,wBAAwB,KAAKC,gBAAgB,KAAKC,mBAAmB,KAAKC,eAAe,KAAKC,qBAAqBjoC,EAAG2xB,uBAAuBuW,wBAAwB,SAAS3rC,GAAW,OAAO,QAAfA,EAAEgS,GAAGhS,IAAmB,KAAKA,EAAEgQ,SAAS,EAAE26B,wBAAwBD,GAAGC,yBARjN,WAAc,OAAO,IAAI,EASpUiB,4BAA4B,KAAKC,gBAAgB,KAAKC,aAAa,KAAKC,kBAAkB,KAAKC,gBAAgB,KAAKC,kBAAkB,mCAAmC,GAAG,qBAAqBC,+BAA+B,CAAC,IAAIC,GAAGD,+BAA+B,IAAIC,GAAGC,YAAYD,GAAGE,cAAc,IAAIz4B,GAAGu4B,GAAGG,OAAOvB,IAAIl3B,GAAGs4B,EAAE,CAAC,MAAMnsC,IAAG,CAAC,CAACusC,EAAQ7oC,mDAAmD6mC,GAC/YgC,EAAQC,aAAa,SAASxsC,EAAEC,GAAG,IAAIC,EAAE,EAAEC,UAAUC,aAAQ,IAASD,UAAU,GAAGA,UAAU,GAAG,KAAK,IAAIwpC,GAAG1pC,GAAG,MAAMgF,MAAMlF,EAAE,MAAM,OAbuH,SAAYC,EAAEC,EAAEC,GAAG,IAAIsB,EAAE,EAAErB,UAAUC,aAAQ,IAASD,UAAU,GAAGA,UAAU,GAAG,KAAK,MAAM,CAACmG,SAASxC,EAAGqa,IAAI,MAAM3c,EAAE,KAAK,GAAGA,EAAE8H,SAAStJ,EAAEmX,cAAclX,EAAE4wB,eAAe3wB,EAAE,CAa1RusC,CAAGzsC,EAAEC,EAAE,KAAKC,EAAE,EAAEqsC,EAAQG,WAAW,SAAS1sC,EAAEC,GAAG,IAAI0pC,GAAG3pC,GAAG,MAAMiF,MAAMlF,EAAE,MAAM,IAAIG,GAAE,EAAGsB,EAAE,GAAGC,EAAE6nC,GAA4P,OAAzP,OAAOrpC,QAAG,IAASA,KAAI,IAAKA,EAAE0sC,sBAAsBzsC,GAAE,QAAI,IAASD,EAAE26B,mBAAmBp5B,EAAEvB,EAAE26B,uBAAkB,IAAS36B,EAAEgoC,qBAAqBxmC,EAAExB,EAAEgoC,qBAAqBhoC,EAAE0oC,GAAG3oC,EAAE,GAAE,EAAG,KAAK,EAAKE,EAAE,EAAGsB,EAAEC,GAAGzB,EAAEspB,IAAIrpB,EAAEkS,QAAQuW,GAAG,IAAI1oB,EAAE0K,SAAS1K,EAAE0P,WAAW1P,GAAU,IAAIwpC,GAAGvpC,EAAE,EACrfssC,EAAQK,YAAY,SAAS5sC,GAAG,GAAG,MAAMA,EAAE,OAAO,KAAK,GAAG,IAAIA,EAAE0K,SAAS,OAAO1K,EAAE,IAAIC,EAAED,EAAEk7B,gBAAgB,QAAG,IAASj7B,EAAE,CAAC,GAAG,oBAAoBD,EAAEoG,OAAO,MAAMnB,MAAMlF,EAAE,MAAiC,MAA3BC,EAAEiB,OAAO6M,KAAK9N,GAAGqwB,KAAK,KAAWprB,MAAMlF,EAAE,IAAIC,GAAI,CAAqC,OAA5BA,EAAE,QAAVA,EAAEgS,GAAG/R,IAAc,KAAKD,EAAEgQ,SAAkB,EAAEu8B,EAAQM,UAAU,SAAS7sC,GAAG,OAAOwnC,GAAGxnC,EAAE,EAAEusC,EAAQO,QAAQ,SAAS9sC,EAAEC,EAAEC,GAAG,IAAI0pC,GAAG3pC,GAAG,MAAMgF,MAAMlF,EAAE,MAAM,OAAO+pC,GAAG,KAAK9pC,EAAEC,GAAE,EAAGC,EAAE,EAC/YqsC,EAAQQ,YAAY,SAAS/sC,EAAEC,EAAEC,GAAG,IAAIypC,GAAG3pC,GAAG,MAAMiF,MAAMlF,EAAE,MAAM,IAAIyB,EAAE,MAAMtB,GAAGA,EAAE8sC,iBAAiB,KAAKvrC,GAAE,EAAGC,EAAE,GAAGC,EAAE2nC,GAAyO,GAAtO,OAAOppC,QAAG,IAASA,KAAI,IAAKA,EAAEysC,sBAAsBlrC,GAAE,QAAI,IAASvB,EAAE06B,mBAAmBl5B,EAAExB,EAAE06B,uBAAkB,IAAS16B,EAAE+nC,qBAAqBtmC,EAAEzB,EAAE+nC,qBAAqBhoC,EAAE8oC,GAAG9oC,EAAE,KAAKD,EAAE,EAAE,MAAME,EAAEA,EAAE,KAAKuB,EAAE,EAAGC,EAAEC,GAAG3B,EAAEspB,IAAIrpB,EAAEkS,QAAQuW,GAAG1oB,GAAMwB,EAAE,IAAIxB,EAAE,EAAEA,EAAEwB,EAAEpB,OAAOJ,IAA2ByB,GAAhBA,GAAPvB,EAAEsB,EAAExB,IAAOitC,aAAgB/sC,EAAEgtC,SAAS,MAAMjtC,EAAEyoC,gCAAgCzoC,EAAEyoC,gCAAgC,CAACxoC,EAAEuB,GAAGxB,EAAEyoC,gCAAgCv4B,KAAKjQ,EACvhBuB,GAAG,OAAO,IAAIioC,GAAGzpC,EAAE,EAAEssC,EAAQnmC,OAAO,SAASpG,EAAEC,EAAEC,GAAG,IAAI0pC,GAAG3pC,GAAG,MAAMgF,MAAMlF,EAAE,MAAM,OAAO+pC,GAAG,KAAK9pC,EAAEC,GAAE,EAAGC,EAAE,EAAEqsC,EAAQY,uBAAuB,SAASntC,GAAG,IAAI4pC,GAAG5pC,GAAG,MAAMiF,MAAMlF,EAAE,KAAK,QAAOC,EAAEmjC,sBAAqBqE,IAAG,WAAWsC,GAAG,KAAK,KAAK9pC,GAAE,GAAG,WAAWA,EAAEmjC,oBAAoB,KAAKnjC,EAAEspB,IAAI,IAAI,GAAE,KAAG,EAAM,EAAEijB,EAAQa,wBAAwB7F,GAC/UgF,EAAQc,oCAAoC,SAASrtC,EAAEC,EAAEC,EAAEsB,GAAG,IAAIooC,GAAG1pC,GAAG,MAAM+E,MAAMlF,EAAE,MAAM,GAAG,MAAMC,QAAG,IAASA,EAAEk7B,gBAAgB,MAAMj2B,MAAMlF,EAAE,KAAK,OAAO+pC,GAAG9pC,EAAEC,EAAEC,GAAE,EAAGsB,EAAE,EAAE+qC,EAAQ1B,QAAQ,iDC/T7L,IAAI75B,EAAInR,EAAQ,KAEd0sC,EAAQG,WAAa17B,EAAE07B,WACvBH,EAAQQ,YAAc/7B,EAAE+7B,4BCH1B,SAASO,IAEP,GAC4C,qBAAnCpB,gCAC4C,oBAA5CA,+BAA+BoB,SAcxC,IAEEpB,+BAA+BoB,SAASA,EAC1C,CAAE,MAAOC,GAGP5Q,QAAQC,MAAM2Q,EAChB,CACF,CAKED,GACAE,EAAOjB,QAAU,EAAjBiB,wBCzBe9rC,EAAE7B,EAAQ,IAASiG,EAAElC,OAAOC,IAAI,iBAAiB+B,EAAEhC,OAAOC,IAAI,kBAAkBmN,EAAE/P,OAAOC,UAAUC,eAAe2nB,EAAEpnB,EAAEgC,mDAAmDm6B,kBAAkB99B,EAAE,CAACoe,KAAI,EAAG6R,KAAI,EAAGyd,QAAO,EAAGC,UAAS,GAChP,SAAS1c,EAAE9wB,EAAEF,EAAE2B,GAAG,IAAI1B,EAAEuB,EAAE,CAAC,EAAEC,EAAE,KAAKoE,EAAE,KAAiF,IAAI5F,UAAhF,IAAS0B,IAAIF,EAAE,GAAGE,QAAG,IAAS3B,EAAEme,MAAM1c,EAAE,GAAGzB,EAAEme,UAAK,IAASne,EAAEgwB,MAAMnqB,EAAE7F,EAAEgwB,KAAchwB,EAAEgR,EAAE/N,KAAKjD,EAAEC,KAAKF,EAAEoB,eAAelB,KAAKuB,EAAEvB,GAAGD,EAAEC,IAAI,GAAGC,GAAGA,EAAE46B,aAAa,IAAI76B,KAAKD,EAAEE,EAAE46B,kBAAe,IAASt5B,EAAEvB,KAAKuB,EAAEvB,GAAGD,EAAEC,IAAI,MAAM,CAACqG,SAASR,EAAE5D,KAAKhC,EAAEie,IAAI1c,EAAEuuB,IAAInqB,EAAE8qB,MAAMnvB,EAAEyuB,OAAOnH,EAAE3W,QAAQ,CAAoBo6B,EAAQoB,IAAI3c,EAAEub,EAAQqB,KAAK5c,eCD7V,IAAIprB,EAAEhC,OAAOC,IAAI,iBAAiBilB,EAAEllB,OAAOC,IAAI,gBAAgB9D,EAAE6D,OAAOC,IAAI,kBAAkBmtB,EAAEptB,OAAOC,IAAI,qBAAqBotB,EAAErtB,OAAOC,IAAI,kBAAkBklB,EAAEnlB,OAAOC,IAAI,kBAAkBqlB,EAAEtlB,OAAOC,IAAI,iBAAiBtC,EAAEqC,OAAOC,IAAI,qBAAqBslB,EAAEvlB,OAAOC,IAAI,kBAAkBolB,EAAErlB,OAAOC,IAAI,cAAcqtB,EAAEttB,OAAOC,IAAI,cAAcxB,EAAEuB,OAAOe,SACzW,IAAImO,EAAE,CAACmoB,UAAU,WAAW,OAAM,CAAE,EAAEI,mBAAmB,WAAW,EAAED,oBAAoB,WAAW,EAAED,gBAAgB,WAAW,GAAG9lB,EAAEpU,OAAO8D,OAAOojB,EAAE,CAAC,EAAE,SAASgE,EAAEnsB,EAAEC,EAAEwB,GAAGG,KAAK+uB,MAAM3wB,EAAE4B,KAAK0wB,QAAQryB,EAAE2B,KAAKuuB,KAAKhI,EAAEvmB,KAAKg6B,QAAQn6B,GAAGqR,CAAC,CACwI,SAASsW,IAAI,CAAyB,SAASgD,EAAEpsB,EAAEC,EAAEwB,GAAGG,KAAK+uB,MAAM3wB,EAAE4B,KAAK0wB,QAAQryB,EAAE2B,KAAKuuB,KAAKhI,EAAEvmB,KAAKg6B,QAAQn6B,GAAGqR,CAAC,CADxPqZ,EAAEjrB,UAAUqnC,iBAAiB,CAAC,EACpQpc,EAAEjrB,UAAU2sC,SAAS,SAAS7tC,EAAEC,GAAG,GAAG,kBAAkBD,GAAG,oBAAoBA,GAAG,MAAMA,EAAE,MAAMiF,MAAM,yHAAyHrD,KAAKg6B,QAAQT,gBAAgBv5B,KAAK5B,EAAEC,EAAE,WAAW,EAAEksB,EAAEjrB,UAAU4sC,YAAY,SAAS9tC,GAAG4B,KAAKg6B,QAAQP,mBAAmBz5B,KAAK5B,EAAE,cAAc,EAAgBopB,EAAEloB,UAAUirB,EAAEjrB,UAAsF,IAAIorB,EAAEF,EAAElrB,UAAU,IAAIkoB,EACrfkD,EAAErlB,YAAYmlB,EAAE/W,EAAEiX,EAAEH,EAAEjrB,WAAWorB,EAAEkP,sBAAqB,EAAG,IAAI9M,EAAE7lB,MAAMC,QAAQkgB,EAAE/nB,OAAOC,UAAUC,eAAe0yB,EAAE,CAAC1hB,QAAQ,MAAM0iB,EAAE,CAAC1W,KAAI,EAAG6R,KAAI,EAAGyd,QAAO,EAAGC,UAAS,GACtK,SAASnY,EAAEv1B,EAAEC,EAAEwB,GAAG,IAAID,EAAEtB,EAAE,CAAC,EAAE4F,EAAE,KAAKD,EAAE,KAAK,GAAG,MAAM5F,EAAE,IAAIuB,UAAK,IAASvB,EAAE+vB,MAAMnqB,EAAE5F,EAAE+vB,UAAK,IAAS/vB,EAAEke,MAAMrY,EAAE,GAAG7F,EAAEke,KAAKle,EAAE+oB,EAAE/lB,KAAKhD,EAAEuB,KAAKqzB,EAAE1zB,eAAeK,KAAKtB,EAAEsB,GAAGvB,EAAEuB,IAAI,IAAIG,EAAExB,UAAUC,OAAO,EAAE,GAAG,IAAIuB,EAAEzB,EAAEoJ,SAAS7H,OAAO,GAAG,EAAEE,EAAE,CAAC,IAAI,IAAID,EAAEmH,MAAMlH,GAAGqP,EAAE,EAAEA,EAAErP,EAAEqP,IAAItP,EAAEsP,GAAG7Q,UAAU6Q,EAAE,GAAG9Q,EAAEoJ,SAAS5H,CAAC,CAAC,GAAG1B,GAAGA,EAAE86B,aAAa,IAAIt5B,KAAKG,EAAE3B,EAAE86B,kBAAe,IAAS56B,EAAEsB,KAAKtB,EAAEsB,GAAGG,EAAEH,IAAI,MAAM,CAAC8E,SAASV,EAAE1D,KAAKlC,EAAEme,IAAIrY,EAAEkqB,IAAInqB,EAAE8qB,MAAMzwB,EAAE+vB,OAAO4D,EAAE1hB,QAAQ,CAChV,SAASsjB,EAAEz1B,GAAG,MAAM,kBAAkBA,GAAG,OAAOA,GAAGA,EAAEsG,WAAWV,CAAC,CAAoG,IAAIkwB,EAAE,OAAO,SAAS4B,EAAE13B,EAAEC,GAAG,MAAM,kBAAkBD,GAAG,OAAOA,GAAG,MAAMA,EAAEme,IAA7K,SAAgBne,GAAG,IAAIC,EAAE,CAAC,IAAI,KAAK,IAAI,MAAM,MAAM,IAAID,EAAEuD,QAAQ,SAAQ,SAASvD,GAAG,OAAOC,EAAED,EAAE,GAAE,CAA+E+tC,CAAO,GAAG/tC,EAAEme,KAAKle,EAAEiK,SAAS,GAAG,CAC/W,SAASsvB,EAAEx5B,EAAEC,EAAEwB,EAAED,EAAEtB,GAAG,IAAI4F,SAAS9F,EAAK,cAAc8F,GAAG,YAAYA,IAAE9F,EAAE,MAAK,IAAI6F,GAAE,EAAG,GAAG,OAAO7F,EAAE6F,GAAE,OAAQ,OAAOC,GAAG,IAAK,SAAS,IAAK,SAASD,GAAE,EAAG,MAAM,IAAK,SAAS,OAAO7F,EAAEsG,UAAU,KAAKV,EAAE,KAAKkjB,EAAEjjB,GAAE,GAAI,GAAGA,EAAE,OAAW3F,EAAEA,EAAN2F,EAAE7F,GAASA,EAAE,KAAKwB,EAAE,IAAIk2B,EAAE7xB,EAAE,GAAGrE,EAAEktB,EAAExuB,IAAIuB,EAAE,GAAG,MAAMzB,IAAIyB,EAAEzB,EAAEuD,QAAQuyB,EAAE,OAAO,KAAK0D,EAAEt5B,EAAED,EAAEwB,EAAE,IAAG,SAASzB,GAAG,OAAOA,CAAC,KAAI,MAAME,IAAIu1B,EAAEv1B,KAAKA,EADnW,SAAWF,EAAEC,GAAG,MAAM,CAACqG,SAASV,EAAE1D,KAAKlC,EAAEkC,KAAKic,IAAIle,EAAE+vB,IAAIhwB,EAAEgwB,IAAIW,MAAM3wB,EAAE2wB,MAAMV,OAAOjwB,EAAEiwB,OAAO,CACyQuF,CAAEt1B,EAAEuB,IAAIvB,EAAEie,KAAKtY,GAAGA,EAAEsY,MAAMje,EAAEie,IAAI,IAAI,GAAGje,EAAEie,KAAK5a,QAAQuyB,EAAE,OAAO,KAAK91B,IAAIC,EAAEkQ,KAAKjQ,IAAI,EAAyB,GAAvB2F,EAAE,EAAErE,EAAE,KAAKA,EAAE,IAAIA,EAAE,IAAOktB,EAAE1uB,GAAG,IAAI,IAAI2B,EAAE,EAAEA,EAAE3B,EAAEI,OAAOuB,IAAI,CAC/e,IAAID,EAAEF,EAAEk2B,EADwe5xB,EACrf9F,EAAE2B,GAAeA,GAAGkE,GAAG2zB,EAAE1zB,EAAE7F,EAAEwB,EAAEC,EAAExB,EAAE,MAAM,GAAGwB,EAPsU,SAAW1B,GAAG,OAAG,OAAOA,GAAG,kBAAkBA,EAAS,KAAsC,oBAAjCA,EAAEqC,GAAGrC,EAAEqC,IAAIrC,EAAE,eAA0CA,EAAE,IAAI,CAO5b8E,CAAE9E,GAAG,oBAAoB0B,EAAE,IAAI1B,EAAE0B,EAAEuB,KAAKjD,GAAG2B,EAAE,IAAImE,EAAE9F,EAAEmxB,QAAQC,MAA6BvrB,GAAG2zB,EAA1B1zB,EAAEA,EAAE6B,MAA0B1H,EAAEwB,EAAtBC,EAAEF,EAAEk2B,EAAE5xB,EAAEnE,KAAkBzB,QAAQ,GAAG,WAAW4F,EAAE,MAAM7F,EAAEme,OAAOpe,GAAGiF,MAAM,mDAAmD,oBAAoBhF,EAAE,qBAAqBgB,OAAO6M,KAAK9N,GAAGqwB,KAAK,MAAM,IAAIpwB,GAAG,6EAA6E,OAAO4F,CAAC,CACzZ,SAASq7B,EAAElhC,EAAEC,EAAEwB,GAAG,GAAG,MAAMzB,EAAE,OAAOA,EAAE,IAAIwB,EAAE,GAAGtB,EAAE,EAAmD,OAAjDs5B,EAAEx5B,EAAEwB,EAAE,GAAG,IAAG,SAASxB,GAAG,OAAOC,EAAEgD,KAAKxB,EAAEzB,EAAEE,IAAI,IAAUsB,CAAC,CAAC,SAASsgC,EAAE9hC,GAAG,IAAI,IAAIA,EAAEguC,QAAQ,CAAC,IAAI/tC,EAAED,EAAEiuC,SAAQhuC,EAAEA,KAAMmrB,MAAK,SAASnrB,GAAM,IAAID,EAAEguC,UAAU,IAAIhuC,EAAEguC,UAAQhuC,EAAEguC,QAAQ,EAAEhuC,EAAEiuC,QAAQhuC,EAAC,IAAE,SAASA,GAAM,IAAID,EAAEguC,UAAU,IAAIhuC,EAAEguC,UAAQhuC,EAAEguC,QAAQ,EAAEhuC,EAAEiuC,QAAQhuC,EAAC,KAAI,IAAID,EAAEguC,UAAUhuC,EAAEguC,QAAQ,EAAEhuC,EAAEiuC,QAAQhuC,EAAE,CAAC,GAAG,IAAID,EAAEguC,QAAQ,OAAOhuC,EAAEiuC,QAAQC,QAAQ,MAAMluC,EAAEiuC,OAAQ,CAC5Z,IAAI9L,EAAE,CAAChwB,QAAQ,MAAMmwB,EAAE,CAACtqB,WAAW,MAAMwqB,EAAE,CAACpN,uBAAuB+M,EAAEtqB,wBAAwByqB,EAAEzE,kBAAkBhK,GAAG,SAASwP,IAAI,MAAMp+B,MAAM,2DAA4D,CACzMsnC,EAAQ4B,SAAS,CAACC,IAAIlN,EAAE3+B,QAAQ,SAASvC,EAAEC,EAAEwB,GAAGy/B,EAAElhC,GAAE,WAAWC,EAAE8Q,MAAMnP,KAAKzB,UAAU,GAAEsB,EAAE,EAAE4sC,MAAM,SAASruC,GAAG,IAAIC,EAAE,EAAuB,OAArBihC,EAAElhC,GAAE,WAAWC,GAAG,IAAUA,CAAC,EAAEquC,QAAQ,SAAStuC,GAAG,OAAOkhC,EAAElhC,GAAE,SAASA,GAAG,OAAOA,CAAC,KAAI,EAAE,EAAEuuC,KAAK,SAASvuC,GAAG,IAAIy1B,EAAEz1B,GAAG,MAAMiF,MAAM,yEAAyE,OAAOjF,CAAC,GAAGusC,EAAQiC,UAAUriB,EAAEogB,EAAQkC,SAAS1uC,EAAEwsC,EAAQmC,SAASzd,EAAEsb,EAAQoC,cAAcviB,EAAEmgB,EAAQqC,WAAW5d,EAAEub,EAAQsC,SAAS1lB,EAClcojB,EAAQ7oC,mDAAmD8+B,EAAE+J,EAAQuC,IAAIzL,EACzEkJ,EAAQwC,aAAa,SAAS/uC,EAAEC,EAAEwB,GAAG,GAAG,OAAOzB,QAAG,IAASA,EAAE,MAAMiF,MAAM,iFAAiFjF,EAAE,KAAK,IAAIwB,EAAE6T,EAAE,CAAC,EAAErV,EAAE2wB,OAAOzwB,EAAEF,EAAEme,IAAIrY,EAAE9F,EAAEgwB,IAAInqB,EAAE7F,EAAEiwB,OAAO,GAAG,MAAMhwB,EAAE,CAAoE,QAAnE,IAASA,EAAE+vB,MAAMlqB,EAAE7F,EAAE+vB,IAAInqB,EAAEguB,EAAE1hB,cAAS,IAASlS,EAAEke,MAAMje,EAAE,GAAGD,EAAEke,KAAQne,EAAEkC,MAAMlC,EAAEkC,KAAK44B,aAAa,IAAIn5B,EAAE3B,EAAEkC,KAAK44B,aAAa,IAAIp5B,KAAKzB,EAAE+oB,EAAE/lB,KAAKhD,EAAEyB,KAAKmzB,EAAE1zB,eAAeO,KAAKF,EAAEE,QAAG,IAASzB,EAAEyB,SAAI,IAASC,EAAEA,EAAED,GAAGzB,EAAEyB,GAAG,CAAC,IAAIA,EAAEvB,UAAUC,OAAO,EAAE,GAAG,IAAIsB,EAAEF,EAAE8H,SAAS7H,OAAO,GAAG,EAAEC,EAAE,CAACC,EAAEkH,MAAMnH,GACrf,IAAI,IAAIsP,EAAE,EAAEA,EAAEtP,EAAEsP,IAAIrP,EAAEqP,GAAG7Q,UAAU6Q,EAAE,GAAGxP,EAAE8H,SAAS3H,CAAC,CAAC,MAAM,CAAC2E,SAASV,EAAE1D,KAAKlC,EAAEkC,KAAKic,IAAIje,EAAE8vB,IAAIlqB,EAAE6qB,MAAMnvB,EAAEyuB,OAAOpqB,EAAE,EAAE0mC,EAAQyC,cAAc,SAAShvC,GAAqK,OAAlKA,EAAE,CAACsG,SAAS4iB,EAAE2I,cAAc7xB,EAAEivC,eAAejvC,EAAEkvC,aAAa,EAAEC,SAAS,KAAKC,SAAS,KAAKC,cAAc,KAAKC,YAAY,OAAQH,SAAS,CAAC7oC,SAASyiB,EAAExiB,SAASvG,GAAUA,EAAEovC,SAASpvC,CAAC,EAAEusC,EAAQxrC,cAAcw0B,EAAEgX,EAAQgD,cAAc,SAASvvC,GAAG,IAAIC,EAAEs1B,EAAE5M,KAAK,KAAK3oB,GAAY,OAATC,EAAEiC,KAAKlC,EAASC,CAAC,EAAEssC,EAAQiD,UAAU,WAAW,MAAM,CAACr9B,QAAQ,KAAK,EAC9do6B,EAAQkD,WAAW,SAASzvC,GAAG,MAAM,CAACsG,SAAS/E,EAAE6E,OAAOpG,EAAE,EAAEusC,EAAQmD,eAAeja,EAAE8W,EAAQoD,KAAK,SAAS3vC,GAAG,MAAM,CAACsG,SAAS4qB,EAAE1qB,SAAS,CAACwnC,SAAS,EAAEC,QAAQjuC,GAAGyG,MAAMq7B,EAAE,EAAEyK,EAAQqD,KAAK,SAAS5vC,EAAEC,GAAG,MAAM,CAACqG,SAAS2iB,EAAE/mB,KAAKlC,EAAEm+B,aAAQ,IAASl+B,EAAE,KAAKA,EAAE,EAAEssC,EAAQsD,gBAAgB,SAAS7vC,GAAG,IAAIC,EAAEqiC,EAAEtqB,WAAWsqB,EAAEtqB,WAAW,CAAC,EAAE,IAAIhY,GAAG,CAAC,QAAQsiC,EAAEtqB,WAAW/X,CAAC,CAAC,EAAEssC,EAAQuD,aAAazM,EAAEkJ,EAAQ5S,YAAY,SAAS35B,EAAEC,GAAG,OAAOkiC,EAAEhwB,QAAQwnB,YAAY35B,EAAEC,EAAE,EAAEssC,EAAQ3S,WAAW,SAAS55B,GAAG,OAAOmiC,EAAEhwB,QAAQynB,WAAW55B,EAAE,EAC3fusC,EAAQlS,cAAc,WAAW,EAAEkS,EAAQjS,iBAAiB,SAASt6B,GAAG,OAAOmiC,EAAEhwB,QAAQmoB,iBAAiBt6B,EAAE,EAAEusC,EAAQ1S,UAAU,SAAS75B,EAAEC,GAAG,OAAOkiC,EAAEhwB,QAAQ0nB,UAAU75B,EAAEC,EAAE,EAAEssC,EAAQ7R,MAAM,WAAW,OAAOyH,EAAEhwB,QAAQuoB,OAAO,EAAE6R,EAAQzS,oBAAoB,SAAS95B,EAAEC,EAAEwB,GAAG,OAAO0gC,EAAEhwB,QAAQ2nB,oBAAoB95B,EAAEC,EAAEwB,EAAE,EAAE8qC,EAAQxS,mBAAmB,SAAS/5B,EAAEC,GAAG,OAAOkiC,EAAEhwB,QAAQ4nB,mBAAmB/5B,EAAEC,EAAE,EAAEssC,EAAQvS,gBAAgB,SAASh6B,EAAEC,GAAG,OAAOkiC,EAAEhwB,QAAQ6nB,gBAAgBh6B,EAAEC,EAAE,EACzdssC,EAAQtS,QAAQ,SAASj6B,EAAEC,GAAG,OAAOkiC,EAAEhwB,QAAQ8nB,QAAQj6B,EAAEC,EAAE,EAAEssC,EAAQrS,WAAW,SAASl6B,EAAEC,EAAEwB,GAAG,OAAO0gC,EAAEhwB,QAAQ+nB,WAAWl6B,EAAEC,EAAEwB,EAAE,EAAE8qC,EAAQpS,OAAO,SAASn6B,GAAG,OAAOmiC,EAAEhwB,QAAQgoB,OAAOn6B,EAAE,EAAEusC,EAAQnS,SAAS,SAASp6B,GAAG,OAAOmiC,EAAEhwB,QAAQioB,SAASp6B,EAAE,EAAEusC,EAAQ9R,qBAAqB,SAASz6B,EAAEC,EAAEwB,GAAG,OAAO0gC,EAAEhwB,QAAQsoB,qBAAqBz6B,EAAEC,EAAEwB,EAAE,EAAE8qC,EAAQhS,cAAc,WAAW,OAAO4H,EAAEhwB,QAAQooB,eAAe,EAAEgS,EAAQ1B,QAAQ,uBCtBla2C,EAAOjB,QAAU,EAAjBiB,oBCAAA,EAAOjB,QAAU,EAAjBiB,kBCMW,SAAS9rC,EAAE1B,EAAEC,GAAG,IAAIC,EAAEF,EAAEI,OAAOJ,EAAEmQ,KAAKlQ,GAAGD,EAAE,KAAK,EAAEE,GAAG,CAAC,IAAIsB,EAAEtB,EAAE,IAAI,EAAEuB,EAAEzB,EAAEwB,GAAG,KAAG,EAAEG,EAAEF,EAAExB,IAA0B,MAAMD,EAA7BA,EAAEwB,GAAGvB,EAAED,EAAEE,GAAGuB,EAAEvB,EAAEsB,CAAc,CAAC,CAAC,SAASqE,EAAE7F,GAAG,OAAO,IAAIA,EAAEI,OAAO,KAAKJ,EAAE,EAAE,CAAC,SAAS8F,EAAE9F,GAAG,GAAG,IAAIA,EAAEI,OAAO,OAAO,KAAK,IAAIH,EAAED,EAAE,GAAGE,EAAEF,EAAE+vC,MAAM,GAAG7vC,IAAID,EAAE,CAACD,EAAE,GAAGE,EAAEF,EAAE,IAAI,IAAIwB,EAAE,EAAEC,EAAEzB,EAAEI,OAAO+oB,EAAE1nB,IAAI,EAAED,EAAE2nB,GAAG,CAAC,IAAInY,EAAE,GAAGxP,EAAE,GAAG,EAAE6T,EAAErV,EAAEgR,GAAG8X,EAAE9X,EAAE,EAAEiY,EAAEjpB,EAAE8oB,GAAG,GAAG,EAAEnnB,EAAE0T,EAAEnV,GAAG4oB,EAAErnB,GAAG,EAAEE,EAAEsnB,EAAE5T,IAAIrV,EAAEwB,GAAGynB,EAAEjpB,EAAE8oB,GAAG5oB,EAAEsB,EAAEsnB,IAAI9oB,EAAEwB,GAAG6T,EAAErV,EAAEgR,GAAG9Q,EAAEsB,EAAEwP,OAAQ,MAAG8X,EAAErnB,GAAG,EAAEE,EAAEsnB,EAAE/oB,IAA0B,MAAMF,EAA7BA,EAAEwB,GAAGynB,EAAEjpB,EAAE8oB,GAAG5oB,EAAEsB,EAAEsnB,CAAc,EAAC,CAAC,OAAO7oB,CAAC,CAC3c,SAAS0B,EAAE3B,EAAEC,GAAG,IAAIC,EAAEF,EAAEgwC,UAAU/vC,EAAE+vC,UAAU,OAAO,IAAI9vC,EAAEA,EAAEF,EAAEoY,GAAGnY,EAAEmY,EAAE,CAAC,GAAG,kBAAkB63B,aAAa,oBAAoBA,YAAY31B,IAAI,CAAC,IAAI1U,EAAEqqC,YAAY1D,EAAQx5B,aAAa,WAAW,OAAOnN,EAAE0U,KAAK,CAAC,KAAK,CAAC,IAAIva,EAAEsa,KAAK2W,EAAEjxB,EAAEua,MAAMiyB,EAAQx5B,aAAa,WAAW,OAAOhT,EAAEua,MAAM0W,CAAC,CAAC,CAAC,IAAIC,EAAE,GAAGlI,EAAE,GAAGG,EAAE,EAAE3nB,EAAE,KAAK2vB,EAAE,EAAE7uB,GAAE,EAAGyC,GAAE,EAAGgO,GAAE,EAAGqV,EAAE,oBAAoByC,WAAWA,WAAW,KAAKuB,EAAE,oBAAoBrB,aAAaA,aAAa,KAAK1B,EAAE,qBAAqB8mB,aAAaA,aAAa,KACnT,SAAS9jB,EAAEpsB,GAAG,IAAI,IAAIC,EAAE4F,EAAEkjB,GAAG,OAAO9oB,GAAG,CAAC,GAAG,OAAOA,EAAE0zB,SAAS7tB,EAAEijB,OAAQ,MAAG9oB,EAAEkwC,WAAWnwC,GAAgD,MAA9C8F,EAAEijB,GAAG9oB,EAAE+vC,UAAU/vC,EAAEmwC,eAAe1uC,EAAEuvB,EAAEhxB,EAAa,CAACA,EAAE4F,EAAEkjB,EAAE,CAAC,CAAC,SAASuD,EAAEtsB,GAAa,GAAV8S,GAAE,EAAGsZ,EAAEpsB,IAAO8E,EAAE,GAAG,OAAOe,EAAEorB,GAAGnsB,GAAE,EAAG4pB,EAAE1F,OAAO,CAAC,IAAI/oB,EAAE4F,EAAEkjB,GAAG,OAAO9oB,GAAG4zB,EAAEvH,EAAErsB,EAAEkwC,UAAUnwC,EAAE,CAAC,CACra,SAASgpB,EAAEhpB,EAAEC,GAAG6E,GAAE,EAAGgO,IAAIA,GAAE,EAAGqZ,EAAE0I,GAAGA,GAAG,GAAGxyB,GAAE,EAAG,IAAInC,EAAEgxB,EAAE,IAAS,IAAL9E,EAAEnsB,GAAOsB,EAAEsE,EAAEorB,GAAG,OAAO1vB,MAAMA,EAAE6uC,eAAenwC,IAAID,IAAIu1B,MAAM,CAAC,IAAI/zB,EAAED,EAAEoyB,SAAS,GAAG,oBAAoBnyB,EAAE,CAACD,EAAEoyB,SAAS,KAAKzC,EAAE3vB,EAAE8uC,cAAc,IAAI5uC,EAAED,EAAED,EAAE6uC,gBAAgBnwC,GAAGA,EAAEssC,EAAQx5B,eAAe,oBAAoBtR,EAAEF,EAAEoyB,SAASlyB,EAAEF,IAAIsE,EAAEorB,IAAInrB,EAAEmrB,GAAG7E,EAAEnsB,EAAE,MAAM6F,EAAEmrB,GAAG1vB,EAAEsE,EAAEorB,EAAE,CAAC,GAAG,OAAO1vB,EAAE,IAAI4nB,GAAE,MAAO,CAAC,IAAInY,EAAEnL,EAAEkjB,GAAG,OAAO/X,GAAG6iB,EAAEvH,EAAEtb,EAAEm/B,UAAUlwC,GAAGkpB,GAAE,CAAE,CAAC,OAAOA,CAAC,CAAC,QAAQ5nB,EAAE,KAAK2vB,EAAEhxB,EAAEmC,GAAE,CAAE,CAAC,CAD1a,qBAAqBiuC,gBAAW,IAASA,UAAUC,iBAAY,IAASD,UAAUC,WAAWC,gBAAgBF,UAAUC,WAAWC,eAAe7nB,KAAK2nB,UAAUC,YAC2Q,IACzPrP,EAD6P1L,GAAE,EAAGC,EAAE,KAAKZ,GAAG,EAAEiB,EAAE,EAAE4B,GAAG,EACvc,SAASnC,IAAI,QAAOgX,EAAQx5B,eAAe2kB,EAAE5B,EAAO,CAAC,SAAS0D,IAAI,GAAG,OAAO/D,EAAE,CAAC,IAAIz1B,EAAEusC,EAAQx5B,eAAe2kB,EAAE13B,EAAE,IAAIC,GAAE,EAAG,IAAIA,EAAEw1B,GAAE,EAAGz1B,EAAE,CAAC,QAAQC,EAAEihC,KAAK1L,GAAE,EAAGC,EAAE,KAAK,CAAC,MAAMD,GAAE,CAAE,CAAO,GAAG,oBAAoBpM,EAAE8X,EAAE,WAAW9X,EAAEoQ,EAAE,OAAO,GAAG,qBAAqBiX,eAAe,CAAC,IAAI3O,EAAE,IAAI2O,eAAetO,EAAEL,EAAE4O,MAAM5O,EAAE6O,MAAMC,UAAUpX,EAAE0H,EAAE,WAAWiB,EAAE0O,YAAY,KAAK,CAAC,MAAM3P,EAAE,WAAW/Y,EAAEqR,EAAE,EAAE,EAAE,SAAS9K,EAAE1uB,GAAGy1B,EAAEz1B,EAAEw1B,IAAIA,GAAE,EAAG0L,IAAI,CAAC,SAASrN,EAAE7zB,EAAEC,GAAG40B,EAAE1M,GAAE,WAAWnoB,EAAEusC,EAAQx5B,eAAe,GAAE9S,EAAE,CAC5dssC,EAAQ54B,sBAAsB,EAAE44B,EAAQp5B,2BAA2B,EAAEo5B,EAAQ94B,qBAAqB,EAAE84B,EAAQh5B,wBAAwB,EAAEg5B,EAAQuE,mBAAmB,KAAKvE,EAAQl5B,8BAA8B,EAAEk5B,EAAQ95B,wBAAwB,SAASzS,GAAGA,EAAE2zB,SAAS,IAAI,EAAE4Y,EAAQwE,2BAA2B,WAAWjsC,GAAGzC,IAAIyC,GAAE,EAAG4pB,EAAE1F,GAAG,EAC1UujB,EAAQyE,wBAAwB,SAAShxC,GAAG,EAAEA,GAAG,IAAIA,EAAE28B,QAAQC,MAAM,mHAAmH9G,EAAE,EAAE91B,EAAE+T,KAAKk9B,MAAM,IAAIjxC,GAAG,CAAC,EAAEusC,EAAQt5B,iCAAiC,WAAW,OAAOie,CAAC,EAAEqb,EAAQ2E,8BAA8B,WAAW,OAAOrrC,EAAEorB,EAAE,EAAEsb,EAAQ4E,cAAc,SAASnxC,GAAG,OAAOkxB,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAIjxB,EAAE,EAAE,MAAM,QAAQA,EAAEixB,EAAE,IAAIhxB,EAAEgxB,EAAEA,EAAEjxB,EAAE,IAAI,OAAOD,GAAG,CAAC,QAAQkxB,EAAEhxB,CAAC,CAAC,EAAEqsC,EAAQ6E,wBAAwB,WAAW,EAC9f7E,EAAQ15B,sBAAsB,WAAW,EAAE05B,EAAQ8E,yBAAyB,SAASrxC,EAAEC,GAAG,OAAOD,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,QAAQA,EAAE,EAAE,IAAIE,EAAEgxB,EAAEA,EAAElxB,EAAE,IAAI,OAAOC,GAAG,CAAC,QAAQixB,EAAEhxB,CAAC,CAAC,EAChMqsC,EAAQh6B,0BAA0B,SAASvS,EAAEC,EAAEC,GAAG,IAAIsB,EAAE+qC,EAAQx5B,eAA8F,OAA/E,kBAAkB7S,GAAG,OAAOA,EAAaA,EAAE,kBAAZA,EAAEA,EAAEoxC,QAA6B,EAAEpxC,EAAEsB,EAAEtB,EAAEsB,EAAGtB,EAAEsB,EAASxB,GAAG,KAAK,EAAE,IAAIyB,GAAG,EAAE,MAAM,KAAK,EAAEA,EAAE,IAAI,MAAM,KAAK,EAAEA,EAAE,WAAW,MAAM,KAAK,EAAEA,EAAE,IAAI,MAAM,QAAQA,EAAE,IAAmN,OAAzMzB,EAAE,CAACoY,GAAG8Q,IAAIyK,SAAS1zB,EAAEowC,cAAcrwC,EAAEmwC,UAAUjwC,EAAEkwC,eAAvD3uC,EAAEvB,EAAEuB,EAAoEuuC,WAAW,GAAG9vC,EAAEsB,GAAGxB,EAAEgwC,UAAU9vC,EAAEwB,EAAEqnB,EAAE/oB,GAAG,OAAO6F,EAAEorB,IAAIjxB,IAAI6F,EAAEkjB,KAAKjW,GAAGqZ,EAAE0I,GAAGA,GAAG,GAAG/hB,GAAE,EAAG+gB,EAAEvH,EAAEpsB,EAAEsB,MAAMxB,EAAEgwC,UAAUvuC,EAAEC,EAAEuvB,EAAEjxB,GAAG8E,GAAGzC,IAAIyC,GAAE,EAAG4pB,EAAE1F,KAAYhpB,CAAC,EACneusC,EAAQ55B,qBAAqB4iB,EAAEgX,EAAQgF,sBAAsB,SAASvxC,GAAG,IAAIC,EAAEixB,EAAE,OAAO,WAAW,IAAIhxB,EAAEgxB,EAAEA,EAAEjxB,EAAE,IAAI,OAAOD,EAAE+Q,MAAMnP,KAAKzB,UAAU,CAAC,QAAQ+wB,EAAEhxB,CAAC,CAAC,CAAC,iBCf7JstC,EAAOjB,QAAU,EAAjBiB,OCFEgE,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAapF,QAGrB,IAAIiB,EAASgE,EAAyBE,GAAY,CAGjDnF,QAAS,CAAC,GAOX,OAHAsF,EAAoBH,GAAUlE,EAAQA,EAAOjB,QAASkF,GAG/CjE,EAAOjB,OACf,CAGAkF,EAAoBzgC,EAAI6gC,ECxBxBJ,EAAoBjwC,EAAI,CAAC+qC,EAASuF,KACjC,IAAI,IAAI3zB,KAAO2zB,EACXL,EAAoBM,EAAED,EAAY3zB,KAASszB,EAAoBM,EAAExF,EAASpuB,IAC5Eld,OAAOuE,eAAe+mC,EAASpuB,EAAK,CAAE/W,YAAY,EAAMF,IAAK4qC,EAAW3zB,IAE1E,ECNDszB,EAAoB/vC,EAAI,CAAC,EAGzB+vC,EAAoBhwC,EAAKuwC,GACjBhnB,QAAQinB,IAAIhxC,OAAO6M,KAAK2jC,EAAoB/vC,GAAGwwC,QAAO,CAACC,EAAUh0B,KACvEszB,EAAoB/vC,EAAEyc,GAAK6zB,EAASG,GAC7BA,IACL,KCNJV,EAAoBvoB,EAAK8oB,GAEjB,aAAeA,EAAf,qBCFRP,EAAoBW,SAAYJ,IAEf,ECHjBP,EAAoB9vC,EAAI,WACvB,GAA0B,kBAAf0wC,WAAyB,OAAOA,WAC3C,IACC,OAAOzwC,MAAQ,IAAI0wC,SAAS,cAAb,EAChB,CAAE,MAAO7wC,GACR,GAAsB,kBAAXZ,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB4wC,EAAoBM,EAAI,CAACQ,EAAKC,IAAUvxC,OAAOC,UAAUC,eAAe8B,KAAKsvC,EAAKC,SCAlF,IAAIC,EAAa,CAAC,EACdC,EAAoB,mBAExBjB,EAAoB7rC,EAAI,CAACgc,EAAKwP,EAAMjT,EAAK6zB,KACxC,GAAGS,EAAW7wB,GAAQ6wB,EAAW7wB,GAAKzR,KAAKihB,OAA3C,CACA,IAAIuhB,EAAQC,EACZ,QAAWhB,IAARzzB,EAEF,IADA,IAAI00B,EAAU/xC,SAASgyC,qBAAqB,UACpCC,EAAI,EAAGA,EAAIF,EAAQzyC,OAAQ2yC,IAAK,CACvC,IAAIC,EAAIH,EAAQE,GAChB,GAAGC,EAAEC,aAAa,QAAUrxB,GAAOoxB,EAAEC,aAAa,iBAAmBP,EAAoBv0B,EAAK,CAAEw0B,EAASK,EAAG,KAAO,CACpH,CAEGL,IACHC,GAAa,GACbD,EAAS7xC,SAASC,cAAc,WAEzBmyC,QAAU,QACjBP,EAAOQ,QAAU,IACb1B,EAAoB2B,IACvBT,EAAOtvC,aAAa,QAASouC,EAAoB2B,IAElDT,EAAOtvC,aAAa,eAAgBqvC,EAAoBv0B,GAExDw0B,EAAOlO,IAAM7iB,GAEd6wB,EAAW7wB,GAAO,CAACwP,GACnB,IAAIiiB,EAAmB,CAACC,EAAMrxB,KAE7B0wB,EAAOY,QAAUZ,EAAOa,OAAS,KACjC1oB,aAAaqoB,GACb,IAAIM,EAAUhB,EAAW7wB,GAIzB,UAHO6wB,EAAW7wB,GAClB+wB,EAAOjjC,YAAcijC,EAAOjjC,WAAWtF,YAAYuoC,GACnDc,GAAWA,EAAQlxC,SAASmxC,GAAQA,EAAGzxB,KACpCqxB,EAAM,OAAOA,EAAKrxB,EAAM,EAExBkxB,EAAUvoB,WAAWyoB,EAAiB1qB,KAAK,UAAMipB,EAAW,CAAE1vC,KAAM,UAAWqN,OAAQojC,IAAW,MACtGA,EAAOY,QAAUF,EAAiB1qB,KAAK,KAAMgqB,EAAOY,SACpDZ,EAAOa,OAASH,EAAiB1qB,KAAK,KAAMgqB,EAAOa,QACnDZ,GAAc9xC,SAAS6yC,KAAKtpC,YAAYsoC,EApCkB,CAoCX,MCvChDlB,EAAoBxgB,EAAKsb,IACH,qBAAX3oC,QAA0BA,OAAOgwC,aAC1C3yC,OAAOuE,eAAe+mC,EAAS3oC,OAAOgwC,YAAa,CAAEjsC,MAAO,WAE7D1G,OAAOuE,eAAe+mC,EAAS,aAAc,CAAE5kC,OAAO,GAAO,ECL9D8pC,EAAoB1xC,EAAI,UCKxB,IAAI8zC,EAAkB,CACrB,IAAK,GAGNpC,EAAoB/vC,EAAEoyC,EAAI,CAAC9B,EAASG,KAElC,IAAI4B,EAAqBtC,EAAoBM,EAAE8B,EAAiB7B,GAAW6B,EAAgB7B,QAAWJ,EACtG,GAA0B,IAAvBmC,EAGF,GAAGA,EACF5B,EAAShiC,KAAK4jC,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAIhpB,SAAQ,CAACG,EAAS8oB,IAAYF,EAAqBF,EAAgB7B,GAAW,CAAC7mB,EAAS8oB,KAC1G9B,EAAShiC,KAAK4jC,EAAmB,GAAKC,GAGtC,IAAIpyB,EAAM6vB,EAAoB1xC,EAAI0xC,EAAoBvoB,EAAE8oB,GAEpDpV,EAAQ,IAAI33B,MAgBhBwsC,EAAoB7rC,EAAEgc,GAfFK,IACnB,GAAGwvB,EAAoBM,EAAE8B,EAAiB7B,KAEf,KAD1B+B,EAAqBF,EAAgB7B,MACR6B,EAAgB7B,QAAWJ,GACrDmC,GAAoB,CACtB,IAAIG,EAAYjyB,IAAyB,SAAfA,EAAM/f,KAAkB,UAAY+f,EAAM/f,MAChEiyC,EAAUlyB,GAASA,EAAM1S,QAAU0S,EAAM1S,OAAOk1B,IACpD7H,EAAML,QAAU,iBAAmByV,EAAU,cAAgBkC,EAAY,KAAOC,EAAU,IAC1FvX,EAAM32B,KAAO,iBACb22B,EAAM16B,KAAOgyC,EACbtX,EAAMwX,QAAUD,EAChBJ,EAAmB,GAAGnX,EACvB,CACD,GAEwC,SAAWoV,EAASA,EAE/D,CACD,EAcF,IAAIqC,EAAuB,CAACC,EAA4Bz3B,KACvD,IAKI60B,EAAUM,EALVuC,EAAW13B,EAAK,GAChB23B,EAAc33B,EAAK,GACnB43B,EAAU53B,EAAK,GAGIk2B,EAAI,EAC3B,GAAGwB,EAASG,MAAMt8B,GAAgC,IAAxBy7B,EAAgBz7B,KAAa,CACtD,IAAIs5B,KAAY8C,EACZ/C,EAAoBM,EAAEyC,EAAa9C,KACrCD,EAAoBzgC,EAAE0gC,GAAY8C,EAAY9C,IAGhD,GAAG+C,EAAsBA,EAAQhD,EAClC,CAEA,IADG6C,GAA4BA,EAA2Bz3B,GACrDk2B,EAAIwB,EAASn0C,OAAQ2yC,IACzBf,EAAUuC,EAASxB,GAChBtB,EAAoBM,EAAE8B,EAAiB7B,IAAY6B,EAAgB7B,IACrE6B,EAAgB7B,GAAS,KAE1B6B,EAAgB7B,GAAW,CAC5B,EAIG2C,EAAqBC,KAAkC,4BAAIA,KAAkC,6BAAK,GACtGD,EAAmBpyC,QAAQ8xC,EAAqB1rB,KAAK,KAAM,IAC3DgsB,EAAmBxkC,KAAOkkC,EAAqB1rB,KAAK,KAAMgsB,EAAmBxkC,KAAKwY,KAAKgsB,6BC7EvF,MAAAjmB,SAPU7tB,OAAW,IACNA,OAEAg0C,EAAAA,ECNA,SAASp0B,EAAOhf,GAE/B,SAASoE,EAAIksC,GACZ,IAAIhpB,EAAUjoB,SAASC,cAAc,OAKrC,OAJegxC,GAAa,IAAIzvC,MAAM,KAC9BC,SAAQ,SAASumB,GACxBC,EAAQ+rB,UAAUn0C,IAAImoB,EACxB,IACQC,CACR,CACA,IAAI/oB,EAAY,CACf+0C,eAAgB,WACf,OAAOlvC,EAAI,gCACX,EACDmvC,IAAK,WACJ,OAAOnvC,EAAI,qBACX,EACD6U,KAAM,SAAUq3B,GACf,IAAIhpB,EAAUljB,EAAI,eAiBlB,OAhBAkjB,EAAQ1lB,aAAa,OAAQ0uC,EAAOr3B,KAAO,QAC3CqO,EAAQ1lB,aAAa,WAAY0uC,EAAOr3B,MAErCjZ,EAAUwzC,OAAOC,mBAChBnD,EAAOoD,UACTpsB,EAAQ+rB,UAAUn0C,IAAI,qBACdoxC,EAAOqD,SACfrsB,EAAQ+rB,UAAUn0C,IAAI,oBACG,SAAhBoxC,EAAOr3B,MAChBqO,EAAQ+rB,UAAUn0C,IAAI,0BAGpBoxC,EAAOsD,eACTtsB,EAAQ+rB,UAAUn0C,IAAI,0BAGjBooB,CACP,EACD9H,KAAM,WACL,OAAOpb,EAAI,eACX,EACD6V,OAAQ,SAAUq2B,GACjB,OAAOlsC,EAAI,2DACX,EACDyvC,cAAe,SAAUvD,GACxB,OAAOlsC,EAAI,WAAaksC,EAAOr3B,KAAO,6BACtC,EACD66B,OAAQ,WACP,OAAO1vC,EAAI,sBACX,EACD2vC,mBAAoB,SAASzD,GAC5B,IAAIhpB,EAAkBljB,EAAI,oBAmB1B,OAlBIksC,EAAO0D,OAAU1sB,EAAgB2sB,iBAEpCj0C,EAAUwgB,MAAM8G,EAAiB,SAAS,WACrCtnB,EAAUk0C,oBACbl0C,EAAUm0C,kBAEVn0C,EAAUo0C,eAAe,CACxBC,SAAUl0C,KACVqf,KAAMxf,EAAUs0C,WAAW90B,KAC3B+0B,YAAA,EACAC,QAAS,SAAUntB,EAAMkqB,GACxBvxC,EAAUy0C,eAAeptB,GACzBrnB,EAAUm0C,iBACV,GAGP,IAES7sB,CACP,EACDotB,aAAc,SAAUpE,GACvB,OAAOlsC,EAAI,sBACX,GAoCF,SAASorB,EAAc8gB,GACtB,IAAIhpB,EAlCL,SAAsB7oB,GACrB,IAAIgpB,EACJ,GAAIhpB,EAAOwa,KACV,OAAQxa,EAAOwa,MACd,IAAK,QACL,IAAK,OACL,IAAK,OACJwO,EAAWlpB,EAAUs1C,cACrB,MACD,IAAK,OACJpsB,EAAWlpB,EAAUihB,KACrB,MACD,IAAK,SACJiI,EAAWlpB,EAAUu1C,OACrB,MACD,IAAK,SACJrsB,EAAWlpB,EAAU0b,OACrB,MACD,IAAK,eACJwN,EAAWlpB,EAAUw1C,mBACrB,MACD,QACCtsB,EAAWlpB,EAAU0a,UAGdxa,EAAOk2C,KAChBltB,EAAWlpB,EAAU+0C,eACZ70C,EAAOm2C,OAChBntB,EAAWlpB,EAAUg1C,KAEtB,OAAO9rB,CACR,CA/BA,CAkC6B6oB,GAC5B,GAAIhpB,EAAJ,CAGA,IAAID,EAAUC,EAASgpB,GAyBvB,GAxBGA,EAAOuE,KACTxtB,EAAQgsB,UAAUn0C,IAAIoxC,EAAOuE,KAE3BvE,EAAOlzB,SACLm0B,EAAQjB,EAAOlzB,SACE,EAARm0B,IACZA,GAAS,MAEVlqB,EAAQnb,MAAMkR,MAAQm0B,GAEpBjB,EAAOjzB,UACLk0B,EAAQjB,EAAOjzB,UACE,EAARk0B,IACZA,GAAS,MAEVlqB,EAAQnb,MAAMmR,OAASk0B,GAEpBjB,EAAO0D,OACVh0C,EAAUwgB,MAAM6G,EAAS,QAASipB,EAAO0D,OAEtC1D,EAAOwE,OACVztB,EAAQ9e,UAAY+nC,EAAOwE,MAGxBxE,EAAOyE,MAAO,CACjB,IAAIxD,EAAQ,GACQ,SAAhBjB,EAAOyE,MACVxD,EAAQ,WACiB,QAAhBjB,EAAOyE,QAChBxD,EAAQ,cAETlqB,EAAQnb,MAAM8oC,eAAiBzD,CAC/B,CACD,OAAOlqB,CAnCN,CAoCF,CAEA,SAAStnB,EAAcuwC,GAStB,MARsB,iBAAXA,IACVA,EAAS,CACRr3B,KAAMq3B,IAGHA,EAAOr3B,MAASq3B,EAAOqE,MAASrE,EAAOsE,OAC3CtE,EAAOr3B,KAAO,UAERq3B,CACR,CAEA,SAASgB,EAAahB,GACrB,IACIhpB,EADAD,EAAWhoB,SAAS41C,yBAGvB3tB,EADElgB,MAAMC,QAAQipC,GACRA,EAEA,CAACA,GAGV,IAAK,IAAIiB,EAAI,EAAGA,EAAIjqB,EAAM3oB,OAAQ4yC,IAAK,CACtC,IAkBK9yC,EAlBDgpB,EAAO1nB,EAAcunB,EAAMiqB,IAEd,QAAd9pB,EAAKxO,MAAkBqO,EAAMiqB,EAAI,KAElB,UADb9yC,EAAOsB,EAAcunB,EAAMiqB,EAAI,KAC3Bt4B,MAAiC,UAAdxa,EAAKwa,OAC/BwO,EAAKisB,WAAY,EACjBjsB,EAAKmsB,eAAA,IAIU,SAAdnsB,EAAKxO,MAAmBqO,EAAMiqB,EAAI,KAEnB,UADb9yC,EAAOsB,EAAcunB,EAAMiqB,EAAI,KAC3Bt4B,MAAiC,UAAdxa,EAAKwa,OAC/BwO,EAAKmsB,eAAA,IAIU,UAAdnsB,EAAKxO,MAAoBqO,EAAMiqB,EAAI,KAEpB,UADb9yC,EAAOsB,EAAcunB,EAAMiqB,EAAI,KAC3Bt4B,MAAiC,QAAdxa,EAAKwa,OAC/BwO,EAAKksB,UAAA,EACLlsB,EAAKmsB,eAAgB,IAIvB,IAAI9zC,EAAU0vB,EAAc/H,GAE5BJ,EAASze,YAAY9I,IAClB2nB,EAAKmtB,MAAQntB,EAAKktB,OACpB70C,EAAQ8I,YAAY0oC,EAAa7pB,EAAKmtB,MAAQntB,EAAKktB,MAEpD,CACD,OAAOttB,CACR,CAEArnB,EAAUk1C,cAAgB,SAAU5E,GACnC,IAAIhpB,EAASnnB,KAAKg1C,WAAWC,cAAc,oBAC3C,OAAK9tB,KACJA,EAASjoB,SAASC,cAAc,QACzB+1C,UAAY,uCACnBr1C,EAAUs1C,gBAAgBhF,EAAOhpB,GAC1BA,EAGT,EAGA,IAAIiuB,EAAiB,KACrBv1C,EAAUs1C,gBAAkB,SAAUhF,EAAQhpB,GAE7C,GAAIgpB,EAAJ,CAGA,IAAIjpB,GAAgB,EAGhBkqB,EAAYjB,EAAOjzB,QAAUrd,EAAUw1C,GAAGC,WAExB,OAAnBF,GACAA,IAAmBhE,IACrBlqB,GAAA,GAMEA,IACFrnB,EAAUw1C,GAAGC,WAAalE,GAG1BjqB,EAAU/e,UAAY,GACtB+e,EAAU1e,YAAY0oC,EAAahB,IAInCtwC,EAAU01C,gBACV11C,EAAU21C,KAAO,GACjB31C,EAAU41C,eACV51C,EAAU61C,cAIVvuB,EAAUpb,MAAMw2B,QADA,IAAd6O,EACwB,OAEA,GAG3BgE,EAAiBhE,CAnChB,CAoCF,CAEA,CCvQA,MAAMjyB,EACL9Z,WAAAA,GACCrF,KAAK21C,cAAA,EACL31C,KAAKsgB,UAAY,CAAC,CAClB,CACDs1B,YAAAA,GACC51C,KAAK21C,cAAA,CACL,CACDE,UAAAA,GACC71C,KAAK21C,cAAA,CACL,EAGF,MAAM/2B,EAAqB,SAAS/e,GACnC,IAAIoE,EAAW,CAAC,EACZ7F,EAAQ,EACZ,MAAMixB,EAAe,WACpB,IAAIzvB,GAAiB,EACrB,UAAUuxC,KAAKltC,EAAS,CACvB,MAAMmxC,EAAgBnxC,EAASktC,GAAGhiC,MAAMtP,EAAKtB,WAC7CqB,EAAeA,GAAkBw1C,CACjC,CACD,OAAOx1C,CACT,EAgCC,OA/BAyvB,EAAaymB,SAAS,SAASl2C,EAASuxC,GACvC,GAAwB,mBAAZvxC,EAAuB,CAClC,IAAIw1C,EAQJ,GAPGjE,GAAYA,EAAS36B,GACvB4+B,EAAYjE,EAAS36B,IAErB4+B,EAAYh3C,EACZA,KAGE+yC,GAAYA,EAAS4E,KAAK,CAC5B,MAAM5F,EAAkBvwC,EACxBA,EAAU,WACTuwC,IACA9gB,EAAa2mB,YAAYZ,EAC9B,CACI,CAGD,OADAnxC,EAASmxC,GAAax1C,EACfw1C,CACP,CACD,OAAO,CACT,EACC/lB,EAAa2mB,YAAY,SAASp2C,UAC1BqE,EAASrE,EAClB,EAECyvB,EAAa4mB,MAAQ,WACpBhyC,EAAW,CAAC,CACd,EAEQorB,CACR,EAEA,SAASyG,EAAcj2B,GAEtB,MAAMoE,EAAY,IAAIkb,EACtBtf,EAAI0hB,YAAY,SAASnjB,EAAWixB,EAASzvB,GAC5CxB,EAAY,MAAMA,EAAUwC,cACvBqD,EAAUqc,UAAUliB,KACxB6F,EAAUqc,UAAUliB,GAAawgB,EAAmB5e,OAGlDJ,GAAYA,EAASs2C,aACvB7mB,EAAUA,EAAQtI,KAAKnnB,EAASs2C,aAKjC,IAAI/E,EAAa/yC,EAAU,IAFX6F,EAAUqc,UAAUliB,GAAW03C,SAASzmB,EAASzvB,GAMjE,OAHGA,GAAYA,EAAS4W,KACvB26B,EAAYvxC,EAAS4W,IAEf26B,CACT,EAECtxC,EAAIs2C,UAAY,SAAS/3C,GACxB4B,KAAKuhB,YAAY,aAAcnjB,EACjC,EAECyB,EAAIu2C,UAAU,SAASh4C,EAAMixB,GAC5B,GAAIprB,EAAU0xC,aAAc,OAAO,EAEnC,MAAM/1C,EAAc,MAAMxB,EAAKwC,cAEzBuwC,EAAYltC,EAAUqc,UAK5B,OAJI6wB,EAAyBkF,eAC5BlF,EAAyBkF,cAAElnC,MAAMnP,KAAM,CAAC5B,GAAM8nB,OAAOmJ,KAGlD8hB,EAAUvxC,IACNuxC,EAAUvxC,GAAauP,MAAMnP,KAAMqvB,EAE7C,EAECxvB,EAAIy2C,WAAW,SAASl4C,GAEvB,QADkB6F,EAAUqc,UACR,MAAMliB,EAAKwC,cACjC,EAECf,EAAIuhB,YAAY,SAAShjB,GACxB,GAAIA,EAAG,CACN,IAAIixB,EAAYprB,EAAUqc,UAC1B,UAAU6wB,KAAK9hB,EACdA,EAAU8hB,GAAG6E,YAAY53C,GAG1B,MAAMwB,EAAOxB,EAAGsC,MAAM,KAEtB,GADA2uB,EAAYprB,EAAUqc,UACH,IAAhB1gB,EAAKpB,OAAa,CACpB,MAAM2yC,EAAYvxC,EAAK,GACjBw1C,EAAUx1C,EAAK,GAClByvB,EAAU8hB,IACZ9hB,EAAU8hB,GAAW6E,YAAYZ,EAElC,CACD,CACH,EACCv1C,EAAI02C,gBAAkB,WACrB,IAAK,MAAMn4C,KAAQ6F,EAAUqc,UAC5Brc,EAAUqc,UAAUliB,GAAM63C,OAE7B,CAEA,CChIA,MAAen3B,EAAA,CACduB,MAAO,SAAUxgB,EAAIoE,EAAO7F,GACvByB,EAAGmP,iBACNnP,EAAGmP,iBAAiB/K,EAAO7F,GAAA,GAEnByB,EAAG0hB,aACX1hB,EAAG0hB,YAAY,KAAKtd,EAAO7F,EAC5B,EACDo4C,YAAa,SAAU32C,EAAIoE,EAAO7F,GAC7ByB,EAAGoP,oBACNpP,EAAGoP,oBAAoBhL,EAAO7F,GAAS,GAE/ByB,EAAGuhB,aACXvhB,EAAGuhB,YAAY,KAAKnd,EAAO7F,EAC5B,GCdF,IAAIwiB,EAAUnI,KAAKC,MAiCnB,SAAS0qB,EAAOvjC,GACf,SAAIA,GAAsB,iBAARA,OACPA,EAAI42C,aAAe52C,EAAI62C,UAAY72C,EAAI82C,QAInD,CAiCA,MAAejW,EAAA,CACdkW,IAxED,WACC,OAAOh2B,GACR,EAuECi2B,MAAO,SAAgBh3C,EAAQoE,EAAQ7F,GACtC,IAAK,IAAIixB,KAAKprB,QAAA,IACPpE,EAAOwvB,IAAqBjxB,KAAQyB,EAAOwvB,GAAGprB,EAAOorB,IAC5D,OAAOxvB,CACP,EACDi3C,KAAM,SAASj3C,EAAKoE,GACnB,IAAI7F,EAAGixB,EA1EQzvB,EAUOuxC,EAkEtB,GAAIltC,GAA2B,iBAAVA,EAEpB,QAAQ,GACP,KAAMm/B,EAAOn/B,GACZorB,EAAS,IAAI5W,KAAKxU,GAClB,MACD,KAlFarE,EAkFCqE,EAjFdgD,MAAMC,QACDD,MAAMC,QAAQtH,GAGbA,QAAsB,IAAfA,EAAIpB,QAAwBoB,EAAIuuC,KAAOvuC,EAAI2O,KA+EvD,IADA8gB,EAAS,IAAIpoB,MAAMhD,EAAOzF,QACtBJ,EAAI,EAAGA,EAAI6F,EAAOzF,OAAQJ,IAC7BixB,EAAOjxB,GAAKyB,EAAKoE,EAAO7F,IAEzB,MACD,KA9EoB+yC,EA8ECltC,EA7EjBktC,GAAsB,iBAARA,GACkC,wCAAtDT,SAASpxC,UAAUgJ,SAASjH,KAAK8vC,EAAI9rC,aA6ElCgqB,EAAS,IAAI7S,OAAOvY,GACpB,MACD,KA3EJ,SAAwBktC,GACvB,OAAOA,GAAsB,iBAARA,GACkC,wCAAtDT,SAASpxC,UAAUgJ,SAASjH,KAAK8vC,EAAI9rC,YACvC,CAHA,CA2EyBpB,GACpBorB,EAAS,IAAI0nB,OAAO9yC,GACpB,MACD,KAxEJ,SAAyBktC,GACxB,OAAOA,GAAsB,iBAARA,GACkC,yCAAtDT,SAASpxC,UAAUgJ,SAASjH,KAAK8vC,EAAI9rC,YACvC,CAHA,CAwE0BpB,GACrBorB,EAAS,IAAI2nB,QAAQ/yC,GACrB,MACD,QAEC,IAAK7F,KADLixB,EAAS,CAAC,EACAprB,EAAQ,CACjB,MAAMktC,SAAiBltC,EAAO7F,GAEd,WAAZ+yC,GAAoC,WAAZA,GAAoC,YAAZA,EACnD9hB,EAAOjxB,GAAK6F,EAAO7F,GACVglC,EAAOn/B,EAAO7F,IACvBixB,EAAOjxB,GAAK,IAAIqa,KAAKxU,EAAO7F,IACnBiB,OAAOC,UAAUC,eAAe4P,MAAMlL,EAAQ,CAAC7F,MACxDixB,EAAOjxB,GAAKyB,EAAKoE,EAAO7F,IACzB,EAIJ,OAAOixB,GAAUprB,CACjB,EACDgzC,QA/ED,SAAiBp3C,GAChB,YAAsB,IAARA,CACf,EA8ECq3C,OACA9T,EAAAsM,MA7ED,SAAgB7vC,EAAUoE,GACzB,IAAI7F,EAEAixB,EAAS,WACZA,EAAO8nB,iBACP9nB,EAAO+nB,UAAW,EAClB,IAAIx3C,EAAOqH,MAAM3H,UAAU2B,MAAMI,KAAK9C,WACtCH,EAAQ4qB,YAAW,WAClBnpB,EAASsP,MAAMnP,KAAMJ,GACrByvB,EAAO+nB,UAAA,CACP,GAAEnzC,EACL,EAaC,OAXAorB,EAAO+nB,UAAW,EAClB/nB,EAAO8nB,eAAiB,WACvBjuB,aAAa9qB,GACbixB,EAAO+nB,UAAW,CACpB,EACC/nB,EAAOgoB,SAAW,WACjB,IAAIz3C,EAAOqH,MAAM3H,UAAU2B,MAAMI,KAAK9C,WACtCsB,EAASsP,MAAMnP,KAAMJ,GACrByvB,EAAO8nB,gBACT,EAEQ9nB,CACR,GCMA,SAASlP,EAAatgB,GACrB,IAAIA,EAAM,MAAO,GAEjB,IAAIoE,EAAYpE,EAAKq1C,WAAa,GAOlC,OANGjxC,EAAUqzC,UACZrzC,EAAYA,EAAUqzC,SAEnBrzC,EAAU+H,UACb/H,EAAY,IAENA,GAAa,EACrB,CAgBA,SAASib,EAAUrf,EAAGoE,EAAW7F,QAClB,IAAXA,IACFA,GAAA,GAKD,QAHIixB,EAAMxvB,EAAE8N,QAAU9N,EAAE+N,WACpBhO,EAAM,GAEHyvB,GAAI,CAGV,GAFAzvB,EAAMugB,EAAakP,GAEZ,CACN,IAAI8hB,EAAMvxC,EAAIoM,QAAQ/H,GACtB,GAAIktC,GAAO,EAAE,CACZ,IAAK/yC,EACJ,OAAOixB,EAGR,IAAI+lB,EAAgB,IAARjE,KAAkBvxC,EAAIuM,OAAOglC,EAAM,IAAI,IAAI5tC,OACnD4sC,EAAUgB,EAAMltC,EAAUzF,QAAUoB,EAAIpB,SAAgBoB,EAAIuM,OAAOglC,EAAMltC,EAAUzF,QAAS+E,OAEhG,GAAI6xC,GAAQjF,EACX,OAAO9gB,CACR,CACD,CAEDA,EAAIA,EAAIvhB,UACR,CACD,OAAO,IACR,CAIA,SAASiR,EAAUlf,GAClB,IAAIoE,GAAU,EACb7F,GAAa,EACd,GAAGa,OAAOs4C,iBAAiB,CAC1B,IAAIloB,EAAQpwB,OAAOs4C,iBAAiB13C,EAAM,MAC1CoE,EAAUorB,EAAekT,QACzBnkC,EAAaixB,EAAkBmoB,UACjC,MAAU33C,EAAK43C,eACbxzC,EAAUpE,EAAK43C,aAAsBlV,QACrCnkC,EAAayB,EAAK43C,aAAyBD,YAG5C,IAAI53C,GAAgB,EAChBuxC,EAAmBjyB,EAAU,CAACvR,OAAO9N,GAAO,sBAMhD,OALGsxC,IACFvxC,EAAoD,OAAjCuxC,EAAiBplC,MAAMmR,QAE3Ctd,EAAgBA,IAAmBC,EAAiB63C,aAEjC,QAAXzzC,GAAmC,UAAd7F,IAA2BwB,CACzD,CAEA,SAASihB,EAAuBhhB,GAC/B,OAAQsB,MAAMtB,EAAKwxC,aAAa,cAA+C,EAA9BxxC,EAAKwxC,aAAa,aAAiB,CACrF,CAEA,SAASryB,EAAQnf,GAEhB,OADkB,CAACzB,GAAK,EAAMmO,MAAQ,GACvB1M,EAAKoF,SAAS0yC,kBACnB93C,EAAKwxC,aAAa,OAG7B,CAEA,SAASnxB,EAAUrgB,GAElB,OADiB,CAACiN,OAAQ,EAAM8qC,QAAS,EAAMC,UAAW,EAAM/9B,QAAS,EAAMg+B,QAAS,GAC1Ej4C,EAAKoF,SAASrE,iBACnBf,EAAKk4C,aAAa,WAI5B,CAyDA,SAASt3B,IACR,OAAOvhB,SAAS6yC,KAAKiG,kBAAoB94C,SAAS6yC,KAAKkG,YACxD,CAwBA,SAASt3B,EAAY9gB,GAIpB,IAHKA,IAGA4gB,IACJ,OAAOvhB,SAASgH,KAEjB,KAAOrG,EAAQiO,aAAejO,EAAUA,EAAQiO,aAC/C,GAAIjO,aAAmBq4C,WACtB,OAAOr4C,EAAQs4C,KAGjB,OAAOj5C,SAASgH,IACjB,CAMA,MAAekpB,EAAA,CAOdgpB,gBAAiB,SAAyBv4C,GACzC,OAAOG,KAAKq4C,UAAUx4C,GAAYqkB,IAClC,EAODo0B,eAAgB,SAAwBz4C,GACvC,OAAOG,KAAKq4C,UAAUx4C,GAAYukB,GAClC,EAEDm0B,aAAc,SAAsB14C,GAEnC,QADIoE,EAAI,EAAG7F,EAAK,EACVyB,GACLoE,GAAYu0C,SAAS34C,EAAK44C,WAC1Br6C,GAAco6C,SAAS34C,EAAK64C,YAC5B74C,EAAOA,EAAK84C,aAEb,MAAO,CAACv0B,IAAKngB,EAAKigB,KAAM9lB,EACxB,EAEDw6C,cAAe,SAAuB/4C,GACrC,IAAIoE,EAAMpE,EAAKg5C,wBAEXz6C,EAAM,EACTixB,EAAO,EAGR,GAAK,OAAO/tB,KAAKotC,UAAUoK,WAUrB,CAIL,IAAIl5C,EAAQV,SAASC,cAAc,OACnCS,EAAMmM,MAAMmoC,SAAS,WACrBt0C,EAAMmM,MAAMmY,KAAK,MACjBtkB,EAAMmM,MAAMqY,IAAI,MAChBxkB,EAAMmM,MAAMkR,MAAM,MAClBrd,EAAMmM,MAAMmR,OAAS,MAErBhe,SAASgH,KAAKuC,YAAY7I,GAC1B,IAAIuxC,EAAWvxC,EAAMi5C,wBACrBz6C,EAAO6F,EAAImgB,IAAM+sB,EAAS/sB,IAC1BiL,EAAOprB,EAAIigB,KAAOitB,EAASjtB,KAE3BtkB,EAAMkO,WAAWtF,YAAY5I,EAC7B,KA3BsC,CACtC,IAAIw1C,EAAOl2C,SAASgH,KAChBiqC,EAAUjxC,SAAS4jB,gBACnBqE,EAAYloB,OAAO85C,aAAe5I,EAAQ9rB,WAAa+wB,EAAK/wB,UAC5D6C,EAAajoB,OAAO+5C,aAAe7I,EAAQhsB,YAAcixB,EAAKjxB,WAC9DitB,EAAYjB,EAAQ8I,WAAa7D,EAAK6D,WAAa,EACnD36C,EAAa6xC,EAAQ+I,YAAc9D,EAAK8D,YAAc,EAE1D96C,EAAO6F,EAAImgB,IAAO+C,EAAYiqB,EAC9B/hB,EAAOprB,EAAIigB,KAAOgD,EAAa5oB,CAClC,CAmBE,MAAO,CAAE8lB,IAAKjS,KAAKgnC,MAAM/6C,GAAM8lB,KAAM/R,KAAKgnC,MAAM9pB,GAChD,EAEDgpB,UAAW,SAAmBx4C,GAC7B,OAAIA,EAAKg5C,sBACD74C,KAAK44C,cAAc/4C,GAEnBG,KAAKu4C,aAAa14C,EAE1B,EAEDu5C,QAAS,SAASv5C,EAASoE,GAC1B,OAAIpE,GAAYoE,EAGTguB,EAAQpyB,EAASoE,GAFhB,IAGR,EACDo1C,YAAa,SAASx5C,EAASoE,GAC3BA,EAAcge,YAChBhe,EAAc6J,WAAWwzB,aAAazhC,EAASoE,EAAcge,aAE7Dhe,EAAc6J,WAAWrF,YAAY5I,EAEtC,EACDy5C,OAAQ,SAASz5C,GACZA,GAAQA,EAAKiO,YAChBjO,EAAKiO,WAAWtF,YAAY3I,EAE7B,EACD05C,UAAW,SAAS15C,EAAOoE,GAC1B,OAAOA,EAAOke,SAAStiB,EACvB,EACD25C,kBArMD,SAA2B35C,GAiB1B,QAhBIoE,EAAQpE,EAAK0oC,iBAAiB,CACjC,UACA,aACA,QACA,SACA,WACA,SACA,SACA,SACA,QACA,aACA,qBACC9Z,KAAK,OAEHrwB,EAAa6I,MAAM3H,UAAU2B,MAAMI,KAAK4C,EAAO,GAE3CorB,EAAI,EAAGA,EAAIjxB,EAAWI,OAAQ6wB,IACrCjxB,EAAWixB,GAAGoqB,UAAYpqB,EAwB3B,IAlBAjxB,EAAWs7C,MAAK,SAASvI,EAAGiE,GAC3B,OAAkB,IAAfjE,EAAEwI,UAAiC,IAAfvE,EAAEuE,SACjB,EAEU,IAAfxI,EAAEwI,UAAiC,IAAfvE,EAAEuE,UAChB,EAGLxI,EAAEwI,WAAavE,EAAEuE,SAEbxI,EAAEsI,UAAYrE,EAAEqE,UAEpBtI,EAAEwI,SAAWvE,EAAEuE,UAAA,EAGZ,CACT,IAEStqB,EAAI,EAAGA,EAAIjxB,EAAWI,OAAQ6wB,IAAI,CACzC,IAAIzvB,EAAOxB,EAAWixB,IACPxO,EAAuBjhB,IAAUsgB,EAAUtgB,IAASof,EAAQpf,KAAUmf,EAAUnf,KAE9FxB,EAAWkqC,OAAOjZ,EAAG,GACrBA,IAED,CACD,OAAOjxB,CACR,EAmJCw7C,aAAAz5B,EACA05B,UACA36B,EAAA46B,YAAAn5B,EACAo5B,gBA1GD,SAAyBl6C,GACxB,QAAS8gB,EAAY9gB,EACtB,EAyGCm6C,qBAAAv5B,EACAw5B,iBA5ID,WACC,IAAIp6C,EAAgBX,SAAS+G,cAQ7B,OAPIpG,EAAcq6C,aACjBr6C,EAAgBA,EAAcq6C,WAAWj0C,eAEtCpG,IAAkBX,SAASgH,MAAQhH,SAASmkB,eAC/CxjB,EAAgBX,SAASmkB,eAAeK,WAAaxkB,SAASgH,MAGxDrG,CACR,EAmICs6C,yBA5VD,SAAkCt6C,EAAIoE,GACrC,IAAI7F,EAAIc,SAAS4jB,gBACbuM,EApCL,SAAyBzvB,GACxB,IAAIuxC,EAAI,EAAGiE,EAAK,EAAGjF,EAAM,EAAGhpB,EAAO,EACnC,GAAIvnB,EAAKi5C,sBAAuB,CAC/B,IAAI3xB,EAAMtnB,EAAKi5C,wBACXzH,EAAOlyC,SAASgH,KAChB5H,EAAWY,SAAS4jB,iBACvB5jB,SAASgH,KAAK4H,YACd5O,SAASgH,KAENohB,EAAYroB,OAAO85C,aAAez6C,EAAQ+lB,WAAa+sB,EAAK/sB,UAC5D1kB,EAAaV,OAAO+5C,aAAe16C,EAAQ6lB,YAAcitB,EAAKjtB,WAC9D/U,EAAY9Q,EAAQ26C,WAAa7H,EAAK6H,WAAa,EACnDj1C,EAAa1F,EAAQ46C,YAAc9H,EAAK8H,YAAc,EAC1D/H,EAAOjqB,EAAI9C,IAAOkD,EAAYlY,EAC9BgmC,EAAOluB,EAAIhD,KAAOvkB,EAAaqE,EAE/BmsC,EAAQjxC,SAASgH,KAAKk0C,YAAclzB,EAAImzB,MACxClzB,EAASjoB,SAASgH,KAAKwxC,aAAexwB,EAAIozB,MAC5C,KAAQ,CACN,KAAM16C,GACLuxC,GAAYqH,SAAS54C,EAAK64C,UAAU,IACpCrD,GAAcoD,SAAS54C,EAAK84C,WAAW,IACvC94C,EAAOA,EAAK+4C,aAGbxI,EAAQjxC,SAASgH,KAAKk0C,YAAcx6C,EAAKw6C,YAAchF,EACvDjuB,EAASjoB,SAASgH,KAAKwxC,aAAe93C,EAAK83C,aAAevG,CAC1D,CACD,MAAO,CAAE7hB,EAAGnd,KAAKgnC,MAAMhI,GAAM9pB,EAAGlV,KAAKgnC,MAAM/D,GAAOn4B,MAAMrd,EAAKw6C,YAAal9B,OAAOtd,EAAK83C,aAAc2C,MAAOloC,KAAKgnC,MAAMhJ,GAAQmK,OAAQnoC,KAAKgnC,MAAMhyB,GAClJ,CA7BA,CAoC2BljB,GAE1B,MAAO,CACNojB,EAAGxnB,EAAGuZ,QAAUhb,EAAE+lB,WAAa/lB,EAAE86C,WAAa7pB,EAAIhI,EAAIpjB,EAAKkgB,WAC3DmL,EAAGzvB,EAAGwZ,QAAUjb,EAAEimB,UAAYjmB,EAAE66C,UAAY5pB,EAAIC,EAAIrrB,EAAKogB,UAE3D,EAqVCk2B,cAvSD,SAAuB16C,GACtB,IAAIoE,EAUJ,OATIpE,EAAEgzB,QACL5uB,EAAMpE,GAGNoE,GADApE,EAAIA,GAAKZ,OAAOohB,OACR1S,QAAU9N,EAAE+N,YACZssC,YAAcr6C,EAAE26C,eACvBv2C,EAAMpE,EAAE26C,eAAe,IAGlBv2C,CACR,EA4RCw2C,gBApVD,SAAyB56C,GACxB,IAAIoE,EAAI,EAAG7F,EAAK,EAAGixB,EAAM,EAAGzvB,EAAO,EACnC,GAAIC,EAAKg5C,sBAAuB,CAC/B,IAAI1H,EAAMtxC,EAAKg5C,wBACXzD,EAAOl2C,SAASgH,KAChBiqC,EAAWjxC,SAAS4jB,iBACvB5jB,SAASgH,KAAK4H,YACd5O,SAASgH,KAENihB,EAAYloB,OAAO85C,aAAe5I,EAAQ9rB,WAAa+wB,EAAK/wB,UAC5D6C,EAAajoB,OAAO+5C,aAAe7I,EAAQhsB,YAAcixB,EAAKjxB,WAC9DitB,EAAYjB,EAAQ8I,WAAa7D,EAAK6D,WAAa,EACnD36C,EAAa6xC,EAAQ+I,YAAc9D,EAAK8D,YAAc,EAC1Dj1C,EAAOktC,EAAI/sB,IAAO+C,EAAYiqB,EAC9BhzC,EAAO+yC,EAAIjtB,KAAOgD,EAAa5oB,EAE/B+wB,EAAQnwB,SAASgH,KAAKk0C,YAAcjJ,EAAIkJ,MACxCz6C,EAASV,SAASgH,KAAKwxC,aAAevG,EAAImJ,MAC5C,KAAQ,CACN,KAAMz6C,GACLoE,GAAYu0C,SAAS34C,EAAK44C,UAAU,IACpCr6C,GAAco6C,SAAS34C,EAAK64C,WAAW,IACvC74C,EAAOA,EAAK84C,aAGbtpB,EAAQnwB,SAASgH,KAAKk0C,YAAcv6C,EAAKu6C,YAAch8C,EACvDwB,EAASV,SAASgH,KAAKwxC,aAAe73C,EAAK63C,aAAezzC,CAC1D,CACD,MAAO,CAAEqrB,EAAGnd,KAAKgnC,MAAMl1C,GAAMojB,EAAGlV,KAAKgnC,MAAM/6C,GAAO6e,MAAMpd,EAAKu6C,YAAal9B,OAAOrd,EAAK63C,aAAc2C,MAAOloC,KAAKgnC,MAAM9pB,GAAQirB,OAAQnoC,KAAKgnC,MAAMv5C,GAClJ,GA0TA,IAAIqyB,EACJ,GAAGyoB,QAAQp7C,UAAU85C,QACpBnnB,EAAU,SAASpyB,EAASoE,GAC3B,OAAOpE,EAAQu5C,QAAQn1C,EACzB,MACK,CACJ,IAAIsc,EAAUm6B,QAAQp7C,UAAUq7C,SAAWD,QAAQp7C,UAAUs7C,mBAAqBF,QAAQp7C,UAAUu7C,sBACpG5oB,EAAU,SAASpyB,EAASoE,GAC3B,IAAI7F,EAAKyB,EACT,EAAG,CACF,GAAI0gB,EAAQlf,KAAKjD,EAAI6F,GACpB,OAAO7F,EAERA,EAAKA,EAAG08C,eAAiB18C,EAAG0P,UAC5B,OAAe,OAAP1P,GAA+B,IAAhBA,EAAG0K,UAC3B,OAAO,IACT,CACA,CCpZA,IAAIoI,SAA2BjS,OAAW,IAI1C,MAAe+hB,EAAA,CACd+5B,KAAM7pC,IAAsBw9B,UAAUoK,UAAU9sC,QAAQ,SAAW,GAAK0iC,UAAUoK,UAAU9sC,QAAQ,YAAc,GAClHgvC,QAAS9pC,GAAsBw9B,UAAUoK,UAAU9sC,QAAQ,UAAY,EACvEivC,SAAU/pC,GAAsBw9B,UAAUoK,UAAU9sC,QAAQ,WAAa,EACzEkvC,QAAShqC,IAAsBw9B,UAAUoK,UAAU9sC,QAAQ,WAAa,GAAK0iC,UAAUoK,UAAU9sC,QAAQ,cAAgB,GACzHmvC,KAAMjqC,GAAsBw9B,UAAUoK,UAAU9sC,QAAQ,YAAc,EACtEovC,OAAQlqC,GAAsBw9B,UAAUoK,UAAUl5B,OAAO,WAAa,EACtEy7B,OAAQnqC,IAAA,GAAsBw9B,UAAUoK,UAAU9sC,QAAQ,QAC1DsvC,QAAUpqC,UAA4Bw9B,UAAa,KCbrC,SAAQ9N,EAAC/gC,GACvB,GAAoB,iBAATA,GAAqC,iBAATA,EACtC,OAAOA,EAER,IAAIoE,EAAS,GACb,IAAK,IAAI7F,KAAOyB,EAAM,CACrB,IAAIwvB,EAAa,GACbxvB,EAAKN,eAAenB,KAQvBixB,EAAajxB,EAAM,KANlBixB,EADwB,iBAAdxvB,EAAKzB,GACFK,mBAAmBoB,EAAKzB,IACN,iBAAdyB,EAAKzB,GACTyB,EAAKzB,GAELK,mBAAmB+pC,KAAKC,UAAU5oC,EAAKzB,MAIjD6F,EAAOzF,SACV6wB,EAAa,IAAMA,GAEpBprB,GAAUorB,EAEX,CACD,OAAOprB,CACR,CCxBe,SAAQmc,EAACvgB,GACvB,OAAO,WACN,IAAIoE,EAAM,CAAC,EACX,IAAK,IAAI7F,KAAK4B,KAAKu7C,QAAQ,CAC1B,IAAIlsB,EAAKrvB,KAAKu7C,QAAQn9C,IAAA,GAClBixB,EAAG7Y,GAAGlO,WAAW0D,QAAQ,OAC5B/H,EAAIorB,EAAG7Y,IAAM6Y,EAEd,CACD,OAAOprB,CACP,EAAE8iB,KAAKlnB,EACT,CCXe,SAAS4hB,EAAoB5hB,EAAWoE,GACtDjE,KAAKw7C,WAAa37C,EAClBG,KAAKy7C,IAAMx3C,EACXjE,KAAK07C,uBAAyB,GAE9B17C,KAAK27C,OAAS,WACb,IAAIv9C,EAAK4B,KAAKy7C,IACVpsB,EAAYrvB,KAAKw7C,WAErBx7C,KAAK07C,uBAAuBntC,KAAK8gB,EAAU9N,YAAY,gBAAgB,SAAS3hB,IAC1EI,KAAK47C,UAAY57C,KAAK67C,SAASj8C,IACpCxB,EAAG09C,WAAWl8C,GAAG,EAAK,WACtB,KAEDI,KAAK07C,uBAAuBntC,KAAK8gB,EAAU9N,YAAY,gCAAgC,SAAS3hB,GAC/F,GAAKI,KAAK67C,SAASj8C,GAAnB,CACA,IAAIuxC,EAAE/yC,EAAG+1C,SAASv0C,GAElB,MAAO,YAAHuxC,GAAiBnxC,KAAK+7C,YAAc39C,EAAG09C,WAAWl8C,GAAA,IAAkB,GACjE,WAAHuxC,IACG,gBAAHA,IAEJ/yC,EAAG09C,WAAWl8C,GAAG,EAAK,YACf,GARwB,CAS/B,KAEDI,KAAK07C,uBAAuBntC,KAAK8gB,EAAU9N,YAAY,kBAAkB,SAAS3hB,IAC5EI,KAAK47C,UAAY57C,KAAK67C,SAASj8C,IACpCxB,EAAG09C,WAAWl8C,GAAG,EAAK,UACtB,KAEDI,KAAK07C,uBAAuBntC,KAAK8gB,EAAU9N,YAAY,cAAc,WAEpEnjB,EAAG49C,aAAa,CAAC,EACjB59C,EAAG69C,SAAS,CAAC,EACb79C,EAAG89C,YAAc,GACjB99C,EAAG+9C,UAAY,CACf,KAED/9C,EAAGmjB,YAAY,iBAAkB8N,EAAU+sB,kBAC3Ch+C,EAAGmjB,YAAY,iBAAkB8N,EAAU+sB,kBAC3Ch+C,EAAGmjB,YAAY,kBAAkB,SAAS3hB,EAAKuxC,GAC1C9hB,EAAUgtB,SAASlL,IACtB9hB,EAAUitB,YAAYnL,EAAInxC,KAAKu8C,aAAc,gBAC7CltB,EAAUmtB,YAAYrL,IACZ9hB,EAAUotB,iBACpBptB,EAAU+sB,iBAAiBx8C,EAAKuxC,EACpC,GACA,EAECnxC,KAAK08C,OAAS,WACb,IAAK,IAAIt+C,KAAO4B,KAAK07C,uBAAwB,CAC5C,IAAIrsB,EAAUrvB,KAAK07C,uBAAuBt9C,GAC1C4B,KAAKw7C,WAAWp6B,YAAYiO,EAC5B,CACDrvB,KAAK07C,uBAAyB,EAChC,CACA,CC/CO,SAASlxB,EAAc3qB,GA+B7B,OA9BAG,KAAK28C,gBAAkB98C,EACvBG,KAAKu8C,aAAe,uBAEpBv8C,KAAK83C,OAAS,KACd93C,KAAKk8C,YAAc,GAEnBl8C,KAAK48C,YAAa,EAClB58C,KAAK68C,WAAa,OAClB78C,KAAK88C,OAAS,MACd98C,KAAK+8C,SAAW,KAChB/8C,KAAK4E,SAAW,KAChB5E,KAAKg9C,WAAa,IAElBh9C,KAAKm8C,UAAY,EACjBn8C,KAAKg8C,aAAe,CAAC,EACrBh8C,KAAKi8C,SAAW,CAAC,EACjBj8C,KAAKi9C,SAAW,GAEhBj9C,KAAKk9C,OAAS,CACbC,QAAS,oBACTC,SAAU,oBACVC,QAAS,kCACTC,QAAS,2BACTC,aAAc,+BACdviB,MAAO,aACPib,MAAO,4CAERj2C,KAAKw9C,mBAAA,GACL1nB,EAAU91B,MAEHA,IACR,CCtCe,SAAQwhB,EAAC3hB,GAEvB,IAAIoE,EAAe,cAEf7F,EAAe,KAEnB,SAASixB,EAAStvB,EAAQ5B,GACzB,IAAImxB,EAAWvvB,EAAOgyB,SACtB3iB,EAASquC,KAAK19C,EAAO29C,KAErBt/C,EAAe2B,EAAO29C,IAAM,KACzBpuB,GACFA,EAASnxB,EACV,CAED,SAASyB,EAAUG,GAClB,GAAI3B,EAAc,CAEjB,IAAID,EAAO4B,EAAM+c,OAAS/c,EAAMkX,QAC5BqY,GAAiB,EAErB,GAAItrB,EAAW25C,SAAU,CACxB,GAAY,IAARx/C,GAAsB,IAARA,EAAY,CAG7B,IAAIopB,EAASxnB,EAAM4N,QAAU5N,EAAM6N,WAC/BwhB,EAAWwqB,aAAaryB,GAAQvb,QAAQ,2BAA6B,GAAKub,EAAOssB,MACpFtsB,EAAOssB,SAEPxkB,EAASjxB,GAAA,GACTkxB,GAAA,EAED,CAEW,IAARnxB,IACHkxB,EAASjxB,GAAA,GACTkxB,GAAA,EAED,CAED,OAAIA,GACCvvB,EAAM8X,gBACT9X,EAAM8X,mBAEE9X,EAAM+X,cAAA,SAEhB,CACA,CACD,CAID,SAASq5B,EAASpxC,GACZoxC,EAASyM,QACbzM,EAASyM,MAAQ1+C,SAASC,cAAc,OAExCU,EAAUwgB,MAAM8wB,EAASyM,MAAO,UAAWh+C,GAC3CuxC,EAASyM,MAAM1I,UAAY,kBAC3Bh2C,SAASgH,KAAKuC,YAAY0oC,EAASyM,QAGpCzM,EAASyM,MAAM7xC,MAAMw2B,QAAUxiC,EAAO,eAAiB,MACvD,CAED,SAASq1C,EAAOr1C,EAAM5B,EAAYmxB,GACjC,IAAI/H,EAAkB1nB,EAAUg+C,SAASC,wBAAwB/9C,GAC7D1B,GAAQF,GAAc,IAAIyC,cAAce,QAAQ,KAAM,KAE1D,MAAO,QAAPukB,OAAeqB,EADC,mEAAArB,OAAa7nB,EAAsB,mBAAA6nB,OAAA7nB,EAAA,8BAAA6nB,OAC4DoJ,EAAmB,cAAApJ,OAAAoJ,EAAA,YAAApJ,OAAiBnmB,EACnJ,gBAsCD,SAASowC,IAGR,IAAK,IAFDpwC,EAAS,GAAGkB,MAAMkO,MAAM5Q,UAAW,CAAC,IAE/BJ,EAAI,EAAGA,EAAI4B,EAAOvB,OAAQL,IAClC,GAAI4B,EAAO5B,GACV,OAAO4B,EAAO5B,EAIhB,CAqED,SAASgpB,EAAWpnB,EAAQ5B,EAAImxB,GAC/B,IAAI/H,EAAMxnB,EAAO8yB,QAAU9yB,EApE5B,SAAuBwqB,EAAQhE,EAAIc,GAClC,IAAIiY,EAAMpgC,SAASC,cAAc,OAE7By0B,EAAY8M,EAAMkW,MACtB/2C,EAAUg+C,SAASE,iBAAiBze,EAAK1L,GAGzC0L,EAAI4V,UAAY,mDAAqD3qB,EAAOjqB,KAAO,WAAaiqB,EAAOjqB,KACvGg/B,EAAI79B,aAAawC,EAAc,GAE/B,IAAI0vB,EAAQ,GAcZ,GAZIpJ,EAAOtN,QACVqiB,EAAIvzB,MAAMkR,MAAQsN,EAAOtN,OACtBsN,EAAOrN,SACVoiB,EAAIvzB,MAAMmR,OAASqN,EAAOrN,QACvBqN,EAAOyzB,QACVrqB,GAAS,yDAA2DpJ,EAAOyzB,MAAQ,UACpFrqB,GAAS,2DAA6DC,EAAY,YAAcrJ,EAAO0zB,QAAU,GAAK1zB,EAAOzK,MAAQ,6EACjIyG,IACHoN,GAASyhB,EAAOjF,EAAgB5lB,EAAO4Y,GAAItjC,EAAUgd,OAAOqhC,OAAOC,WAAY,MAAO,UACnF92B,IACHsM,GAASyhB,EAAOjF,EAAgB5lB,EAAO6zB,OAAQv+C,EAAUgd,OAAOqhC,OAAOG,eAAgB,UAAW,cAE/F9zB,EAAOxQ,QACV,IAAK,IAAI7W,EAAI,EAAGA,EAAIqnB,EAAOxQ,QAAQvb,OAAQ0E,IAAK,CAC/C,IAAIuQ,EAAM8W,EAAOxQ,QAAQ7W,GAMxBywB,GALiB,iBAAPlgB,EAKD2hC,EAHG3hC,EAAI6qC,MACN7qC,EAAIihC,KAAQ,aAAejhC,EAAI6qC,MAAM19C,cAAgB,kBAAoB6S,EAAI6qC,MAAM19C,cAAgB,UACjG6S,EAAI1N,OAAS7C,GAGhBkyC,EAAO3hC,EAAKA,EAAKvQ,EAE3B,CAMF,GAHAywB,GAAS,SACT2L,EAAIl3B,UAAYurB,EAEZpJ,EAAO0zB,QAAS,CACnB,IAAI/d,EAAO3V,EAAO0zB,QACC,iBAAR/d,IACVA,EAAOhhC,SAASq/C,eAAere,IACN,QAAtBA,EAAKn0B,MAAMw2B,UACdrC,EAAKn0B,MAAMw2B,QAAU,IACtBjD,EAAIkf,WAAWj0B,EAAOyzB,MAAQ,EAAI,GAAGv1C,YAAYy3B,EACjD,CAeD,OAbArgC,EAAUwgB,MAAMif,EAAK,SAAS,SAAUzL,GACvC,IAAIZ,EAASY,EAAMlmB,QAAUkmB,EAAMjmB,WAEnC,GADKqlB,EAAOiiB,YAAWjiB,EAASA,EAAOnlB,YACnCshB,EAAWgqB,QAAQnmB,EAAQ,2BAA4B,CAC1D,IAAIvI,EAASuI,EAAOoe,aAAa,eAEjChiB,EAAS9E,EADTG,EAAoB,QAAVA,GAAgC,SAAVA,GAA4BA,EAE5D,CACJ,IACEH,EAAOmzB,IAAMpe,GACT/Y,GAAMc,KACTjpB,EAAemsB,GAET+U,CACP,CAjED,CAoEmDv/B,EAAQ5B,EAAImxB,GAEzDvvB,EAAO0+C,QACXtN,GAAS,GACVjyC,SAASgH,KAAKuC,YAAY8e,GAC1B,IAAIlpB,EAAI8T,KAAKusC,IAAIvsC,KAAKk9B,QAAQpwC,OAAO0/C,YAAcz/C,SAAS4jB,gBAAgBs3B,aAAe7yB,EAAI6yB,aAAe,IAC1Gl2C,EAAIiO,KAAKusC,IAAIvsC,KAAKk9B,QAAQpwC,OAAO2/C,aAAe1/C,SAAS4jB,gBAAgB40B,cAAgBnwB,EAAImwB,cAAgB,IAejH,MAduB,OAAnB33C,EAAOm0C,SACV3sB,EAAIxb,MAAMqY,IAAM,OAEhBmD,EAAIxb,MAAMqY,IAAMlgB,EAAI,KACrBqjB,EAAIxb,MAAMmY,KAAO7lB,EAAI,KAErBwB,EAAUwgB,MAAMkH,EAAK,UAAW3nB,GAEhCwP,EAASkV,MAAMiD,GAEXxnB,EAAO0+C,QACVrvC,EAASquC,KAAKl2B,GAEf1nB,EAAUu2C,UAAU,iBAAkB,CAAC7uB,IAChCA,CACP,CAED,SAASL,EAAWnnB,GACnB,OAAOonB,EAAWpnB,GAAQ,KAC1B,CAED,SAASqxC,EAAarxC,GACrB,OAAOonB,EAAWpnB,GAAA,GAAc,EAChC,CAED,SAASzB,EAASyB,GACjB,OAAOonB,EAAWpnB,EAClB,CAED,SAASunB,EAAWvnB,EAAM5B,EAAMmxB,GAQ/B,MAPmB,iBAARvvB,IACS,mBAAR5B,IACVmxB,EAAWnxB,EACXA,EAAO,IAER4B,EAAO,CAAC+f,KAAM/f,EAAMO,KAAMnC,EAAM4zB,SAAUzC,IAEpCvvB,CACP,CAED,SAASJ,EAAOI,EAAM5B,EAAMmxB,EAAQ/H,GAKnC,MAJmB,iBAARxnB,IACVA,EAAO,CAAC+f,KAAM/f,EAAMO,KAAMnC,EAAM0gD,OAAQvvB,EAAQ9Y,GAAI+Q,IACrDxnB,EAAKyW,GAAKzW,EAAKyW,IAAMkqB,EAAMkW,MAC3B72C,EAAK8+C,OAAS9+C,EAAK8+C,QAAU76C,EAAW66C,OACjC9+C,CACP,CA7LDF,EAAUwgB,MAAMnhB,SAAU,UAAWU,GAAW,GA+LhD,IAUIwP,EAAW,WACd,IAAIrP,EAAOunB,EAAWnY,MAAMnP,KAAMzB,WAElC,OADAwB,EAAKO,KAAOP,EAAKO,MAAQ,QAClBhC,EAASyB,EAClB,EACCqP,EAASquC,KAAO,SAAU19C,GACzB,KAAOA,GAAQA,EAAKsxC,eAAiBtxC,EAAKsxC,aAAaptC,IACtDlE,EAAOA,EAAK+N,WACT/N,IACHA,EAAK+N,WAAWtF,YAAYzI,GAC5BoxC,GAAA,GAEAtxC,EAAUu2C,UAAU,sBAAuB,CAACr2C,IAE/C,EAECqP,EAASkV,MAAQ,SAAUvkB,GAC1BipB,YAAW,WACV,IAAI7qB,EAAYixB,EAAWoqB,kBAAkBz5C,GACzC5B,EAAUK,QACTL,EAAU,GAAGmmB,OAAOnmB,EAAU,GAAGmmB,OAEtC,GAAE,EACL,EAEC,IAAItgB,EAAa,SAAUjE,EAAM5B,EAAMmxB,EAAQ/H,GAK9C,QAJAxnB,EAAOJ,EAAOwP,MAAMnP,KAAMzB,YACrB+B,KAAOP,EAAKO,MAAQ,OAEXP,EAAKO,KAAKI,MAAM,KAAK,IAElC,IAAK,QACJ,OAAOwmB,EAAWnnB,GACnB,IAAK,UACJ,OAAOqxC,EAAarxC,GACrB,IAAK,WACJ,OAAOzB,EAASyB,GACjB,QACC,OA1NH,SAAc1B,GACR2F,EAAWuI,OACfvI,EAAWuI,KAAOrN,SAASC,cAAc,OACzC6E,EAAWuI,KAAK2oC,UAAY,6CAC5BlxC,EAAWuI,KAAKR,MAAM/H,EAAWkwC,UAAY,MAC7Ch1C,SAASgH,KAAKuC,YAAYzE,EAAWuI,OAGtCvI,EAAWy5C,KAAKp/C,EAAKmY,IACrB,IAAItS,EAAUhF,SAASC,cAAc,OAwBrC,OAvBA+E,EAAQkE,UAAY,QAAU/J,EAAKyhB,KAAO,SAC1C5b,EAAQgxC,UAAY,wCAA0C72C,EAAKiC,KAAO,WAAajC,EAAKiC,KAC5FT,EAAUwgB,MAAMnc,EAAS,SAAQ,WAChCF,EAAWy5C,KAAKp/C,EAAKmY,IACrBnY,EAAO,IACV,IAEEwB,EAAUg+C,SAASiB,gBAAgB56C,GAER,UAAvBF,EAAWkwC,UAAwBlwC,EAAWuI,KAAKhE,WACtDvE,EAAWuI,KAAK+0B,aAAap9B,EAASF,EAAWuI,KAAKhE,YAEtDvE,EAAWuI,KAAK9D,YAAYvE,GAEzB7F,EAAKwgD,OAAS,IACjB76C,EAAW+6C,OAAO1gD,EAAKmY,IAAMvX,OAAO+pB,YAAW,WAE1ChlB,GAAYA,EAAWy5C,KAAKp/C,EAAKmY,GACzC,GAAMnY,EAAKwgD,SAET76C,EAAWg7C,KAAK3gD,EAAKmY,IAAMtS,EAC3BA,EAAU,KAEH7F,EAAKmY,EACZ,CAlCD,CA0NezW,GAEhB,EAECiE,EAAWi7C,MAAA,IAAYxmC,MAAQpQ,UAC/BrE,EAAW4yC,IAAMlW,EAAMkW,IACvB5yC,EAAW66C,OAAS,IACpB76C,EAAW25C,UAAA,EACX35C,EAAWkwC,SAAW,MACtBlwC,EAAWg7C,KAAO,CAAC,EACnBh7C,EAAW+6C,OAAS,CAAC,EAErB/6C,EAAWk7C,QAAU,WACpB,IAAK,IAAIn/C,KAAOiE,EAAWg7C,KAC1Bh7C,EAAWy5C,KAAK19C,EACnB,EACCiE,EAAWy5C,KAAO,SAAU19C,GAC3B,IAAI5B,EAAM6F,EAAWg7C,KAAKj/C,GACtB5B,GAAOA,EAAI2P,aACd7O,OAAO+pB,YAAW,WACjB7qB,EAAI2P,WAAWtF,YAAYrK,GAC3BA,EAAM,IACN,GAAE,KACHA,EAAI+2C,WAAa,UAEblxC,EAAW+6C,OAAOh/C,IACrBd,OAAOiqB,aAAallB,EAAW+6C,OAAOh/C,WAChCiE,EAAWg7C,KAAKj/C,GAE1B,EAEC,IAAID,EAAS,GA+Bb,OA9BAD,EAAU0hB,YAAY,kBAAkB,SAASxhB,GAChDD,EAAOyO,KAAKxO,EACd,IACCF,EAAU0hB,YAAY,uBAAuB,SAASxhB,GACrD,QAAQ5B,EAAI,EAAGA,EAAI2B,EAAOtB,OAAQL,IAC9B2B,EAAO3B,KAAO4B,IAChBD,EAAOwoC,OAAOnqC,EAAG,GACjBA,IAGJ,IAEC0B,EAAU0hB,YAAY,aAAa,WAC/B4vB,EAASyM,OAASzM,EAASyM,MAAM9vC,YACnCqjC,EAASyM,MAAM9vC,WAAWtF,YAAY2oC,EAASyM,OAGhD,QAAQ79C,EAAI,EAAGA,EAAID,EAAOtB,OAAQuB,IAC9BD,EAAOC,GAAG+N,YACZhO,EAAOC,GAAG+N,WAAWtF,YAAY1I,EAAOC,IAG1CD,EAAS,KAENkE,EAAWuI,MAAQvI,EAAWuI,KAAKuB,YACrC9J,EAAWuI,KAAKuB,WAAWtF,YAAYxE,EAAWuI,MAEnDvI,EAAa,IACf,IAEQ,CACNm7C,MA/Gc,WACd,IAAIp/C,EAAOunB,EAAWnY,MAAMnP,KAAMzB,WAElC,OADAwB,EAAKO,KAAOP,EAAKO,MAAQ,UAClB4mB,EAAWnnB,EACpB,EA4GEq/C,QA3GgB,WAChB,IAAIr/C,EAAOunB,EAAWnY,MAAMnP,KAAMzB,WAElC,OADAwB,EAAKO,KAAOP,EAAKO,MAAQ,QAClB8wC,EAAarxC,EACtB,EAwGE46B,QAAS32B,EACTq7C,SAAUjwC,EAEZ,CD9TAob,EAAclrB,UAAY,CACzBggD,mBAAoB,SAAUz/C,EAAMoE,GAChB,iBAARpE,GACVG,KAAK88C,OAASj9C,EAAK6tB,MAAQ1tB,KAAK88C,YAAA,IAE5Bj9C,EAAK0/C,UACRv/C,KAAK+8C,SAAWl9C,EAAK0/C,cAGD,IAAjB1/C,EAAKiyB,UACR9xB,KAAK4E,SAAW/E,EAAKiyB,SAEtB9xB,KAAKw/C,SAAWv7C,IAEhBjE,KAAK88C,OAASj9C,EACdG,KAAKw/C,OAASv7C,GAGI,QAAfjE,KAAK88C,SACR98C,KAAKw/C,QAAA,EACLx/C,KAAKy/C,QAAA,GAGc,SAAhBz/C,KAAK88C,QAAqC,cAAhB98C,KAAK88C,QAClC98C,KAAKw/C,QAAS,EACdx/C,KAAKy/C,QAAA,EACLz/C,KAAK0/C,kBAAmB,EACxB1/C,KAAK+8C,SAAW/8C,KAAK+8C,UAAY,CAAC,EAClC/8C,KAAK+8C,SAAS,gBAAkB,oBAE7B/8C,KAAK+8C,WAAa/8C,KAAK+8C,SAAS,kBAClC/8C,KAAK+8C,SAAS,gBAAkB,qCAId,WAAhB/8C,KAAK88C,SACR98C,KAAKw/C,QAAA,EACLx/C,KAAKy/C,QAAS,EACdz/C,KAAK2/C,QAAU9/C,EAAK+/C,OAErB,EACDzT,OAAQ,SAAUtsC,GACjB,OAAIG,KAAK6/C,KACDphD,mBAAmBoB,GAEnBssC,OAAOtsC,EACf,EAMD29C,kBAAmB,SAAU39C,GAC5BG,KAAK6/C,OAAShgD,CACd,EAMDigD,eAAgB,SAAUjgD,GACzBG,KAAK+/C,SAA0B,iBAAPlgD,EAAmBA,EAAIa,MAAM,KAAOb,CAC5D,EAMDmgD,aAAc,WACb,OAAQhgD,KAAKk8C,YAAY19C,MACzB,EAMDyhD,gBAAiB,SAAUpgD,GAC1BG,KAAKy/C,SAAW5/C,CAChB,EAMDqgD,sBAAuB,SAAUrgD,GAChCG,KAAKmgD,WAAatgD,CAClB,EAMDugD,cAAe,SAAUvgD,EAAMoE,GAC9BjE,KAAK48C,WAAsB,QAAR/8C,EACnBG,KAAK68C,WAAah9C,EAClBG,KAAKqgD,IAAMp8C,CACX,EACDq8C,OAAQ,SAAUzgD,EAAMoE,GACvBjE,KAAK21C,cAAe,EACpB91C,EAAKwB,KAAK4C,GAAUhF,QACpBe,KAAK21C,cAAe,CACpB,EAQDmG,WAAY,SAAUj8C,EAAOoE,EAAO7F,GACnC,IAAI4B,KAAK21C,aAAT,CACA,IAAItmB,EAAMrvB,KAAKugD,QAAQ1gD,GAEvBzB,EAAOA,GAAQ,UACf,IAAIwB,EAAWI,KAAKw7C,WAAWgF,YAAY3gD,EAAOG,KAAKu8C,cACnD38C,GAAoB,WAARxB,IAAmBA,EAAOwB,GACtCqE,GACHjE,KAAKygD,YAAY5gD,GAAO,GACxBG,KAAKk8C,YAAY7sB,GAAOxvB,EACxBG,KAAKw7C,WAAWc,YAAYz8C,EAAOG,KAAKu8C,aAAcn+C,GAClD4B,KAAKg8C,aAAan8C,KACrBG,KAAKg8C,aAAan8C,GAAS,SAEvBG,KAAK0gD,WAAW7gD,KACpBG,KAAKk8C,YAAY5T,OAAOjZ,EAAK,GAC7BrvB,KAAKw7C,WAAWc,YAAYz8C,EAAOG,KAAKu8C,aAAc,KAIxDv8C,KAAK2gD,QAAQ9gD,EAAOoE,EAAO7F,GACvB6F,GAASjE,KAAK48C,YAAY58C,KAAK4gD,SAAS/gD,EApBd,CAqB9B,EAED8gD,QAAS,SAAU9gD,EAAIoE,EAAO7F,GAC7B,IAAIixB,EAAM,GACNzvB,EAAUI,KAAK0gD,WAAW7gD,GAK9B,GAJID,IACHyvB,EAAMrvB,KAAKk9C,OAAOt9C,GAClBqE,GAAQ,GAELjE,KAAKo2C,UAAU,YAAa,CAACv2C,EAAIoE,EAAO7F,EAAMwB,MAEjDyvB,EAAMrvB,KAAKk9C,OAAOj5C,EAAQ7F,EAAO,SAAWixB,EAE5CrvB,KAAKw7C,WAAWx7C,KAAK6gD,SAAS,IAAIhhD,EAAIwvB,GAElCzvB,GAAWA,EAAQkhD,SAAS,CAC/BzxB,GAAOrvB,KAAKk9C,OAAOt9C,EAAU,SAC7B,IAAK,IAAIuxC,EAAI,EAAGA,EAAIvxC,EAAQkhD,QAAQtiD,OAAQ2yC,IACvCvxC,EAAQkhD,QAAQ3P,IACnBnxC,KAAKw7C,WAAWx7C,KAAK6gD,SAAS,IAAIhhD,EAAIsxC,EAAG9hB,EAC3C,CAEF,EACD0xB,iBAAkB,SAASlhD,GAC1B,MAAc,aAAVA,EACI,SAEM,YAAVA,EACI,SAEM,YAAVA,EACI,SAED,QACP,EAEDs0C,SAAU,SAAUt0C,GACnB,OAAOG,KAAKw7C,WAAWgF,YAAY3gD,EAAIG,KAAKu8C,aAC5C,EACDmE,WAAY,SAAU7gD,GACrB,OAAOG,KAAKi8C,SAASp8C,EACrB,EACD4gD,YAAa,SAAU5gD,EAAIoE,EAAM7F,GAC5BA,IAAS6F,EAAO,CACnB8B,MAAO9B,EAAM68C,QAAS1iD,EAASkK,SAAU,WACxC,OAAOtI,KAAK+F,MAAMuC,UAClB,IAEFtI,KAAKi8C,SAASp8C,GAAMoE,CACpB,EAMD+8C,kBAAmB,SAAUnhD,GAC5B,OAAO,CACP,EAMD+gD,SAAU,SAAU/gD,GAGnB,OAFIG,KAAKw7C,WAAWyF,UAAUjhD,KAAKw7C,WAAWyF,gBAE1B,IAATphD,GAAwBG,KAAKw/C,OAAex/C,KAAKkhD,eACxDlhD,KAAKg8C,aAAan8C,KAEtBG,KAAKi9C,SAAW,MACXj9C,KAAKghD,kBAAkBnhD,IAAUG,KAAKo2C,UAAU,oBAAqB,CAACv2C,EAAOG,KAAKi9C,kBACvFj9C,KAAKmhD,gBAAgBnhD,KAAKohD,YAAYvhD,GAAQA,GAC9C,EACDshD,gBAAiB,SAAUthD,EAAMoE,GAChC,IAAKjE,KAAKo2C,UAAU,iBAAkB,CAACnyC,EAAOjE,KAAKm0C,SAASlwC,GAAQpE,IAAQ,SAC5EG,KAAKqhD,UAAUxhD,EAAMoE,EACrB,EACDq9C,UAAW,SAAUzhD,EAAMoE,GAC1B,GAAIjE,KAAK0/C,iBACR,OAAQ1/C,KAAKuhD,iBAAiB1hD,GAG/B,GAAmB,iBAARA,EACV,OAAOA,EACR,QAAiB,IAANoE,EACV,OAAOjE,KAAKwhD,cAAc3hD,EAAM,IAEhC,IAAIzB,EAAQ,GACRixB,EAAO,GACX,IAAK,IAAIzvB,KAAOC,EACXA,EAAKN,eAAeK,KACvBxB,EAAMmQ,KAAKvO,KAAKwhD,cAAc3hD,EAAKD,GAAMA,EAAMI,KAAKg9C,aACpD3tB,EAAK9gB,KAAK3O,IAKZ,OAHAxB,EAAMmQ,KAAK,OAASvO,KAAKmsC,OAAO9c,EAAKZ,KAAK,OACtCzuB,KAAKw7C,WAAWiG,cACnBrjD,EAAMmQ,KAAK,gBAAmBvO,KAAKw7C,WAAuBiG,cACpDrjD,EAAMqwB,KAAK,IAEnB,EACD+yB,cAAe,SAAU3hD,EAAMoE,GAC9B,GAAmB,iBAARpE,EACV,OAAOA,EACR,IAAIzB,EAAQ,GACRixB,EAAa,GACjB,IAAK,IAAIzvB,KAAOC,EACf,GAAIA,EAAKN,eAAeK,GAAM,CAC7B,IAAY,MAAPA,GAAeA,GAAOI,KAAKu8C,eAAgC,QAAfv8C,KAAK88C,OAAkB,SAEvEztB,EADwB,iBAAdxvB,EAAKD,IAA0C,iBAAdC,EAAKD,GACnCC,EAAKD,GAEL4oC,KAAKC,UAAU5oC,EAAKD,IAElCxB,EAAMmQ,KAAKvO,KAAKmsC,QAAQloC,GAAQ,IAAMrE,GAAO,IAAMI,KAAKmsC,OAAO9c,GAC/D,CACF,OAAOjxB,EAAMqwB,KAAK,IAClB,EACDizB,cAAe,SAAU7hD,GACxB,IAAIoE,EAAOjE,KAAKw7C,WAAWmG,KAC3B,GAAI3hD,KAAK4E,SACR,IAAK,IAAIxG,KAAO4B,KAAK4E,SACpB/E,EAAMA,EAAMoE,EAAK29C,aAAa/hD,GAAOG,KAAKmsC,OAAO/tC,GAAO,IAAM4B,KAAKmsC,OAAOnsC,KAAK4E,SAASxG,IAC1F,OAAOyB,CACP,EACDwhD,UAAW,SAAUxhD,EAAYoE,GAChC,GAAKpE,EAAL,CAGA,IAAKG,KAAKo2C,UAAU,sBAAuBnyC,EAAQ,CAACA,EAAOjE,KAAKm0C,SAASlwC,GAAQpE,GAAc,CAAC,KAAM,KAAMA,IAC3G,SAGGoE,IACHjE,KAAKg8C,aAAa/3C,IAAS,IAAKwU,MAAQpQ,WAGzC,IAAIjK,EAAO4B,KACPqvB,EAAOrvB,KAAKw7C,WAAWmG,KAE3B,GAAoB,WAAhB3hD,KAAK88C,OAAT,CAqEA,IAmBIl9C,EAnBAuxC,EAAc,CACjBpf,SAAU,SAAS3iB,GAClB,IAAIpL,EAAM,GAEV,GAAIC,EACHD,EAAIuK,KAAKtK,QAAA,GACCpE,EACV,IAAK,IAAIC,KAAOD,EACfmE,EAAIuK,KAAKzO,GAIX,OAAO1B,EAAKyjD,YAAYzjD,EAAMgR,EAAKpL,EACnC,EACDu7C,QAASnhD,EAAK2+C,UAGX3H,EAAYp1C,KAAK28C,iBAAmB38C,KAAK8hD,MAASzyB,EAAKuyB,aAAa5hD,KAAK28C,iBAAmB,CAAC,YAAc38C,KAAK8hD,MAAO,eAAiB9hD,KAAKw7C,WAAWgF,YAAY,EAAG,YAAY/xB,KAAK,KAAQ,IAChM0hB,EAAMnwC,KAAK0hD,cAActM,GAG7B,OAAQp1C,KAAK88C,QACZ,IAAK,MACJl9C,EAAOI,KAAK+hD,4BAA4BliD,GACxCsxC,EAAYnxB,IAAMmwB,EAAM9gB,EAAKuyB,aAAazR,GAAOnwC,KAAKshD,UAAU1hD,EAAMqE,GACtEktC,EAAY6Q,OAAS,MACrB,MACD,IAAK,OACJpiD,EAAOI,KAAK+hD,4BAA4BliD,GACxCsxC,EAAYnxB,IAAMmwB,EAClBgB,EAAY6Q,OAAS,OACrB7Q,EAAYl2B,KAAOjb,KAAKshD,UAAU1hD,EAAMqE,GACxC,MACD,IAAK,OACJrE,EAAO,CAAC,EACR,IAAIunB,EAAmBnnB,KAAKiiD,uBAAuBpiD,GACnD,IAAK,IAAIqnB,KAAOC,EACXD,IAAQlnB,KAAKu8C,cAAwB,OAARr1B,GAAwB,UAARA,IAGjDtnB,EAAKsnB,GAAOC,EAAiBD,IAG9BiqB,EAAYnxB,IAAMmwB,EAClBgB,EAAY6Q,OAAS,OACrB7Q,EAAYl2B,KAAOutB,KAAKC,UAAU,CACjCjyB,GAAIvS,EACJgxB,OAAQp1B,EAAWG,KAAKu8C,cACxBthC,KAAMrb,IAEP,MACD,IAAK,OACL,IAAK,YAIJ,OAHAuwC,EAAMiF,EAAUzzC,QAAQ,qBAAsB,IAC9C/B,EAAO,GAECI,KAAKm0C,SAASlwC,IACrB,IAAK,WACJktC,EAAY6Q,OAAS,OACrB7Q,EAAYl2B,KAAOjb,KAAKshD,UAAUzhD,EAAYoE,GAC9C,MACD,IAAK,UACJktC,EAAY6Q,OAAS,SACrB7R,EAAMA,GAAyB,MAAlBA,EAAIlvC,OAAA,GAAoB,GAAK,KAAOgD,EACjD,MACD,QACCktC,EAAY6Q,OAAS,MACrB7Q,EAAYl2B,KAAOjb,KAAKshD,UAAUzhD,EAAYoE,GAC9CksC,EAAMA,GAAyB,MAAlBA,EAAIlvC,OAAA,GAAoB,GAAK,KAAOgD,EAGnDktC,EAAYnxB,IAAMhgB,KAAK0hD,cAAcvR,GAKvC,OADAnwC,KAAKm8C,YACE9sB,EAAK6yB,MAAM/Q,EA9EjB,CAnED,CACC,IAAIC,EAAQpxC,KAAKm0C,SAASlwC,GACtB3F,EAAS0B,KAAK+gD,iBAAiB3P,GAC/B9pB,EAA0B,SAAUtjB,GACvC,IAAIlE,EAAcsxC,EAClB,GAAGptC,GAAOA,EAAIm+C,cAAgBn+C,EAAIo+C,iBAAiB,CAChC,MAAfp+C,EAAIq+C,SACNviD,EAAc,SAEf,IACCkE,EAAMwkC,KAAK8Z,MAAMt+C,EAAIm+C,aAC3B,OAAkB,CACb,CAEDriD,EAAcA,GAAe,UAC7B,IAAIC,EAAMkE,EACN9F,EAAM8F,EAEND,IACHlE,EAAckE,EAAIixB,QAAUn1B,EAC5BC,EAAMiE,EAAIu+C,KAAOxiD,EACjB5B,EAAM6F,EAAIwS,IAAMxS,EAAIw+C,KAAOrkD,GAE5BC,EAAKqkD,oBAAoB1iD,EAAK5B,EAAK2B,EAAakE,EACpD,EAEG,MAAMoL,EAAa,QACnB,IAAIzP,EACJ,GAAIK,KAAK2/C,mBAAmBjP,SAC3B/wC,EAAgBK,KAAK2/C,QAAQvwC,EAAY9Q,EAAQuB,EAAYoE,QAE7D,OAAQmtC,GACP,IAAK,WACJzxC,EAAgBK,KAAK2/C,QAAQvwC,GAAYmnB,OAAO12B,GAChD,MACD,IAAK,UACJF,EAAgBK,KAAK2/C,QAAQvwC,GAAYuF,OAAO1Q,GAChD,MACD,QACCtE,EAAgBK,KAAK2/C,QAAQvwC,GAAYszC,OAAO7iD,EAAYoE,GAK/D,GAAGtE,EAAc,CAEhB,IAAIA,EAAc6pB,WACK,IAArB7pB,EAAc6W,SAAA,IAAoB7W,EAAc6iD,UAA8C,IAAzB7iD,EAAcs1B,OACpF,MAAM,IAAI5xB,MAAM,6EAGd1D,EAAc6pB,KAChB7pB,EAAc6pB,KAAKlC,GAAyBmC,OAAM,SAASzlB,GACvDA,GAASA,EAAMixB,OACjB3N,EAAwBtjB,GAExBsjB,EAAwB,CAAE2N,OAAQ,QAASlvB,MAAO/B,GAEzD,IAGKsjB,EAAwB3nB,EAE7B,MACI2nB,EAAwB,KAGzB,CA/EA,CA8JD,EACD45B,YAAa,WACZ,GAAKlhD,KAAKk8C,YAAY19C,QAA8B,QAApBwB,KAAK68C,WAArC,CAIA78C,KAAKi9C,SAAW,GAChB,IAAIp9C,GAAA,EAMJ,GAJAG,KAAK2iD,oBAAmB,SAAS1+C,GAChCpE,EAAQA,GAASG,KAAKghD,kBAAkB/8C,EAC3C,KAEOpE,IAAUG,KAAKo2C,UAAU,oBAAqB,CAAC,GAAIp2C,KAAKi9C,WAC5D,OAAO,EAGJj9C,KAAKw/C,OACRx/C,KAAKqhD,UAAUrhD,KAAK4iD,eAEpB5iD,KAAK2iD,oBAAmB,SAAS1+C,GAChC,IAAKjE,KAAKg8C,aAAa/3C,GAAQ,CAC9B,GAAIjE,KAAK0gD,WAAWz8C,GACnB,OAEDjE,KAAKmhD,gBAAgBnhD,KAAKohD,YAAYn9C,GAAQA,EAC9C,CACL,GAvBG,CAyBD,EAED2+C,YAAa,SAAU/iD,GACtB,IAAIoE,EAAM,CAAC,EACP7F,GAAA,EAaJ,OAZA4B,KAAK2iD,oBAAmB,SAAStzB,GAChC,IAAIrvB,KAAKg8C,aAAa3sB,KAAOrvB,KAAK0gD,WAAWrxB,GAA7C,CAGA,IAAIzvB,EAAMI,KAAKohD,YAAY/xB,GACtBrvB,KAAKo2C,UAAU,iBAAkB,CAAC/mB,EAAIrvB,KAAKm0C,SAAS9kB,GAAKzvB,MAG9DqE,EAAIorB,GAAMzvB,EACVxB,GAAA,EACA4B,KAAKg8C,aAAa3sB,IAAA,IAAW5W,MAAQpQ,UAPpC,CAQJ,IACSjK,EAAU6F,EAAM,IACvB,EAEDs8C,QAAS,SAAU1gD,GAClB,IAAIoE,EAAI,EACR,IAAKA,EAAI,EAAGA,EAAIjE,KAAKk8C,YAAY19C,QAC5BqB,GAAWG,KAAKk8C,YAAYj4C,GADQA,KAEzC,OAAOA,CACP,EAQD4+C,aAAc,SAAUhjD,EAAMoE,GACxBjE,KAAK8iD,YAAW9iD,KAAK8iD,UAAY,CAAC,GACvC9iD,KAAK8iD,UAAUjjD,GAAQoE,CACvB,EAUDw+C,oBAAqB,SAAU5iD,EAAKoE,EAAK7F,EAAQixB,GAChD,GAAIrvB,KAAKw7C,WAAT,CAKA,IAAI57C,EAASC,EACTsxC,EAAsB,UAAX/yC,GAAiC,YAAXA,EAIrC,GAHK+yC,GACJnxC,KAAKygD,YAAY5gD,EAAKzB,GAElB4B,KAAc8iD,WAAM9iD,KAAK8iD,UAAU1kD,KAAc4B,KAAK8iD,UAAU1kD,GAAQixB,GAC5E,cAAervB,KAAKg8C,aAAap8C,GAGA,SAA9BI,KAAKg8C,aAAap8C,IACrBI,KAAK87C,WAAWj8C,GAAA,GAGjB,IAAIu1C,EAAcv1C,EAElB,OAAQzB,GACP,IAAK,WACL,IAAK,SACA6F,GAAOpE,IACVG,KAAK87C,WAAWj8C,GAAK,GACrBG,KAAKw7C,WAAWx7C,KAAK6gD,SAAS,IAAIhhD,EAAKoE,GACvCpE,EAAMoE,GAEP,MACD,IAAK,SACL,IAAK,UAIJ,OAHAjE,KAAKw7C,WAAWc,YAAYz8C,EAAKG,KAAKu8C,aAAc,gBACpDv8C,KAAKw7C,WAAWx7C,KAAK6gD,SAAS,IAAIhhD,EAAKoE,UAChCjE,KAAKg8C,aAAap8C,GAClBI,KAAKo2C,UAAU,gBAAiB,CAACv2C,EAAKzB,EAAQ6F,EAAKorB,IAG1B,SAA9BrvB,KAAKg8C,aAAap8C,IACjBuxC,GACHnxC,KAAKw7C,WAAWc,YAAYz8C,EAAKG,KAAKu8C,aAAc,WAE9Cv8C,KAAKg8C,aAAap8C,YAElBI,KAAKg8C,aAAap8C,GACzBI,KAAK87C,WAAW73C,GAAA,EAAWjE,KAAKw7C,WAAWgF,YAAY3gD,EAAKG,KAAKu8C,gBAGlEv8C,KAAKo2C,UAAU,gBAAiB,CAAChB,EAAah3C,EAAQ6F,EAAKorB,GA5C1D,CA6CD,EAED0zB,eAAgB,SAAUljD,EAAKoE,GAI9B,OAHGjE,KAAKw7C,YAAcx7C,KAAKw7C,WAAWpF,WACrCp2C,KAAKw7C,WAAWpF,UAAU,cAAe,CAACnyC,EAAIpE,EAAImjD,SAE5ChjD,KAAKijD,YAAYh/C,EACxB,EAEDi/C,2BAA4B,WACvBljD,KAAK28C,kBACR38C,KAAKs/C,mBAAmB,QAAQ,GAChCt/C,KAAK28C,mBAA2D,IAAvC38C,KAAK28C,gBAAgB3wC,QAAQ,KAAc,IAAM,KAAO,eACjFhM,KAAKmjD,iBAAmBnjD,KAAK28C,gBAE9B,EAODkF,YAAa,SAAUhiD,EAAMoE,EAAK7F,GACjC,IAAIixB,EAAOrvB,KAAKw7C,WAAWmG,KAE3B,GAA0B,MAAtB19C,EAAI++C,OAAOX,OAAf,CAMA,IAAIziD,EACJ,IACCA,EAAM4oC,KAAK8Z,MAAMr+C,EAAI++C,OAAOb,aAC5B,OAEKl+C,EAAI++C,OAAOb,aAAa3jD,SAC5BoB,EAAM,CAAC,EAER,CAED,GAAIA,EAAK,CACR,IAAIuxC,EAASvxC,EAAIq1B,QAAUj1B,KAAKm0C,SAAS/1C,IAAO,UAC5Cg3C,EAAMx1C,EAAI2iD,KAAOnkD,EAAG,GACpB+xC,EAAMvwC,EAAI4iD,KAAOpkD,EAAG,GAGxB,OAFAyB,EAAK4iD,oBAAoBrN,EAAKjF,EAAKgB,EAAQvxC,QAC3CC,EAAKujD,gBAEL,CAGD,IAAIj8B,EAAMkI,EAAKg0B,OAAO,OAAQp/C,EAAI++C,QAClC,IAAK77B,EACJ,OAAOnnB,KAAK+iD,eAAe9+C,EAAK7F,GAEjC,IAAI8oB,EAAOmI,EAAKi0B,MAAM,gBAAiBn8B,GACvC,IAAKD,EAAK1oB,OACT,OAAOwB,KAAK+iD,eAAe9+C,EAAK7F,GAGjC,IAAK,IAAIgzC,EAAI,EAAGA,EAAIlqB,EAAK1oB,OAAQ4yC,IAAK,CACrC,IAAI9yC,EAAO4oB,EAAKkqB,GACZD,EAAS7yC,EAAK+yC,aAAa,QAC3B+D,EAAM92C,EAAK+yC,aAAa,OACxBlB,EAAM7xC,EAAK+yC,aAAa,OAE5BxxC,EAAK4iD,oBAAoBrN,EAAKjF,EAAKgB,EAAQ7yC,EAC3C,CACDuB,EAAKujD,gBAxCJ,MAFApjD,KAAK+iD,eAAe9+C,EAAK7F,EA2C1B,EACD6kD,YAAa,SAAUpjD,GACtB,GAAIA,EACH,IAAK,IAAIoE,EAAI,EAAGA,EAAIpE,EAAGrB,OAAQyF,WACvBjE,KAAKg8C,aAAan8C,EAAGoE,GAC9B,EACDm/C,eAAgB,WACXpjD,KAAKm8C,WAAWn8C,KAAKm8C,YAEzBn8C,KAAKo2C,UAAU,sBAAuB,IACjCp2C,KAAKk8C,YAAY19C,QACrBwB,KAAKo2C,UAAU,aAAc,GAC9B,EAODmN,KAAM,SAAU1jD,GACf,IAAIG,KAAKwjD,aAAT,CAGAxjD,KAAKw7C,WAAa37C,EACdG,KAAKw7C,WAAWiI,UACnBzjD,KAAKw7C,WAAWiI,SAASzjD,MAG1BA,KAAKkjD,6BAELljD,KAAK6gD,SAAS7gD,KAAK6gD,UAAU,CAAC,wBAAwB,GAAG,sBAAsB,mBD/mBjDziD,ECgnBd4B,KAAKw7C,WDhnBoBnsB,ECgnBRrvB,KD/mBlC5B,EAAUy9C,SAAS,SAASj8C,GAC3B,OAAGI,KAAK0jD,oBACC1jD,KAAK0jD,kBAAkB9jD,EAGlC,EACCxB,EAAUk+C,YAAY,SAAS18C,EAAGuxC,EAAKiE,GACtC,GAAIx1C,EAAG,CACN,IAAIuwC,EAAKnwC,KAAKq8C,SAASz8C,GACpBuwC,IAAIA,EAAGgB,GAAMiE,EACnB,MACGp1C,KAAK2jD,UAAUxS,GAAMiE,CAExB,EACCh3C,EAAUoiD,YAAY,SAAS5gD,EAAGuxC,GACjC,GAAIvxC,EAAG,CACN,IAAIw1C,EAAKp1C,KAAKq8C,SAASz8C,GACvB,OAAGw1C,EACKA,EAAGjE,GAEH,IACX,CACG,OAAOnxC,KAAK2jD,UAAUxS,EAEzB,EACC/yC,EAAUwlD,sBAAsB,SAAShkD,EAAGuxC,GAC3C,GAAI/yC,EAAUi+C,SAASz8C,GAAvB,CAEAI,KAAK6jD,aAAajkD,GAAG,SAASuwC,GAC7BA,EAAEpkC,MAAM+3C,SAAS,IAAI3S,CACxB,IACE,IAAIiE,EAAKp1C,KAAKq8C,SAASz8C,GACvBw1C,EAAgB2O,YAAE5S,EAClBnxC,KAAKgkD,cAAc5O,EANX,CAOV,EACCh3C,EAAUg+C,iBAAmB,SAASx8C,EAAIuxC,GACzC,IAAIiE,EAAOh3C,EAAU6lD,eAAerkD,EAAI2I,YAEnB,QAAjB6sC,EAAK8O,WAAoB9O,EAAK+O,YAAc,QAChD/O,EAAKt1B,KAAOs1B,EAAKt1B,MAAMs1B,EAAKgP,UAC5BhP,EAAKiP,WAAajmD,EAAUkmD,SAASC,UAAUnP,EAAKiP,YACpDjP,EAAKoP,SAAWpmD,EAAUkmD,SAASC,UAAUnP,EAAKoP,UAClDpmD,EAAU03C,SAASV,GACfh3C,EAAUq+C,iBACbr+C,EAAUk2C,gBACb,EACCl2C,EAAUqmD,oBAAsB,SAAS7kD,EAAIuxC,GACxC/yC,EAAUi+C,SAASz8C,IAEvBxB,EAAUsmD,cAAc9kD,EAAIuxC,EAC9B,EACC/yC,EAAUumD,gBAAkB,SAAS/kD,EAAIuxC,GACxC,GAAI/yC,EAAUi+C,SAASz8C,GASvB,OANGuxC,GAAUvxC,GAAMuxC,IAC0B,gBAAzCnxC,KAAKwgD,YAAY5gD,EAAIyvB,EAAGktB,eAC1Bv8C,KAAKs8C,YAAY18C,EAAIyvB,EAAGktB,aAAc,WAEvCv8C,KAAK0kD,cAAc9kD,EAAIuxC,IAEjBnxC,KAAKw8C,YAAYrL,GAAA,EAC1B,EAEC/yC,EAAUwmD,MAAQ,WACjB5kD,KAAK6kD,IAAMx1B,CACb,EACCjxB,EAAUwmD,QC6iBT,IAAI3gD,EAAsB,IAAIwd,EAAoBzhB,KAAKw7C,WAAYx7C,MACnEiE,EAAoB03C,SACpB37C,KAAKuhB,YAAY,aAAa,kBACtBvhB,KAAKohD,mBAELphD,KAAKw7C,WAAWqJ,WAChB7kD,KAAKw7C,WAAWsJ,sBAChB9kD,KAAKw7C,WAAWoI,6BAChB5jD,KAAKw7C,WAAWiJ,2BAChBzkD,KAAKw7C,WAAWmJ,uBAChB3kD,KAAKw7C,WACZv3C,EAAoBy4C,QACvB,IACE18C,KAAKw7C,WAAWpF,UAAU,uBAAwB,CAACp2C,OACnDA,KAAKwjD,cAAA,EAEL3jD,EAAUilD,eAAe9kD,IA1BxB,CDvmBI,IAAyB5B,EAAWixB,CCkoBzC,EAED01B,iBAAkB,SAAUllD,GAC3BG,KAAKuhB,YAAY,gBAAiB1hB,EAClC,EACDmlD,yBAA0B,SAAUnlD,GACnCG,KAAKuhB,YAAY,sBAAuB1hB,EACxC,EAKDolD,cAAe,SAAUplD,EAAUoE,GAClCpE,EAAWA,GAAY,IAEvBG,KAAK8hD,MAAQ79C,IAAA,IAAawU,MAAQpQ,UAClCrI,KAAKklD,cAAe,EAEpBllD,KAAKmlD,cAAA,EAELnlD,KAAKuhB,YAAY,iBAAiB,SAAU3hB,EAAKuxC,EAAQiE,EAAKjF,GAC7DnwC,KAAKolD,gBAAgBxlD,EAAKuxC,EAAQiE,EAAKjF,EAC1C,IACEnwC,KAAKuhB,YAAY,cAAc,WAC9BvhB,KAAKqlD,UACR,IAEE,IAAIjnD,EAAO4B,KACX,IAAIqvB,EAAavC,EAAOw4B,aAAY,WACnClnD,EAAKmnD,YACL,GAAE1lD,GACHG,KAAKuhB,YAAY,aAAa,WAC7BikC,cAAcn2B,EACjB,GACE,EAMD+1B,gBAAiB,SAAUvlD,EAAKoE,EAAQ7F,EAAKixB,GAC5C,MAAc,aAAVprB,IACHjE,KAAKklD,cAAe,KAKrB,EAKDG,SAAU,WAKT,OAJIrlD,KAAKklD,eACRllD,KAAKklD,cAAe,EACpBllD,KAAKulD,eAAA,CAGN,EAIDE,WAAY,SAAU5lD,EAAKoE,GAC1B,IAAI7F,EAAO4B,KAAKw7C,WAAWmG,KAC3B,GAAI3hD,KAAKmlD,aACR,OAAO,EAEPnlD,KAAKmlD,cAAe,EAErB/mD,EAAKkH,IAAIzF,EAAKoE,EACd,EAMDyhD,iBAAkB,SAAS7lD,GAC1B,OAAIA,EAAK0I,WACD1I,EAAK0I,WAAWQ,UAEjB,EACP,EAIDw8C,WAAY,WACX,IAAI1lD,EAAOG,KACPiE,EAAOjE,KAAKw7C,WAAWmG,KACvBvjD,EAAU4B,KAAKw7C,WAAWgF,YAAY,EAAG,WACzCnxB,EAAMrvB,KAAK28C,gBAAkB14C,EAAK29C,aAAa5hD,KAAK28C,iBAAmB,CAAC,YAAc38C,KAAK8hD,MAAO,eAAiB1jD,GAASqwB,KAAK,KACrIY,EAAMA,EAAI1tB,QAAQ,gBAAiB,IACnC3B,KAAKylD,WAAWp2B,GAAK,SAAUzvB,GAC9B,IAAIuxC,EAAOltC,EAAKq/C,MAAM,aAAc1jD,GACpCC,EAAK27C,WAAWc,YAAY,EAAG,UAAWz8C,EAAK6lD,iBAAiBvU,EAAK,KAErE,IAAIiE,EAAUnxC,EAAKq/C,MAAM,WAAY1jD,GACrC,GAAIw1C,EAAQ52C,OAAQ,CACnBqB,EAAK81C,cAAe,EAEpB,IAAK,IAAIxF,EAAI,EAAGA,EAAIiF,EAAQ52C,OAAQ2xC,IAAK,CACxC,IAAIhpB,EAASiuB,EAAQjF,GAAGkB,aAAa,UACjCnqB,EAAKkuB,EAAQjF,GAAGkB,aAAa,MAC7BD,EAASgE,EAAQjF,GAAGkB,aAAa,UACrC,OAAQlqB,GACP,IAAK,WACJnnB,KAAKo2C,UAAU,iBAAkB,CAAChB,EAAQjF,GAAIjpB,EAAIkqB,IAClD,MACD,IAAK,UACJpxC,KAAKo2C,UAAU,iBAAkB,CAAChB,EAAQjF,GAAIjpB,EAAIkqB,IAClD,MACD,IAAK,UACJpxC,KAAKo2C,UAAU,iBAAkB,CAAChB,EAAQjF,GAAIjpB,EAAIkqB,IAGpD,CACDvxC,EAAK81C,cAAe,CACpB,CACD91C,EAAKslD,cAAe,EACpBtlD,EAAO,IACV,GACE,EAED8lD,WAAY,WACX3lD,KAAKo2C,UAAU,YAAa,IAC5Bp2C,KAAKu2C,kBAELv2C,KAAKk8C,YAAc,GACnBl8C,KAAKg8C,aAAe,CAAC,EACrBh8C,KAAKi8C,SAAW,CAAC,EACjBj8C,KAAK+8C,SAAW,KAChB/8C,KAAK4E,SAAW,YACT5E,KAAKwjD,YACZ,EAEDxjC,IAAK,SAASngB,GACbG,KAAK28C,gBAAkB38C,KAAKmjD,iBAAmBtjD,CAC/C,EAED0hD,iBAAkB,SAAS1hD,GAC1B,GAAoB,iBAATA,EACV,OAAOA,EAGR,IAAIoE,EAAOjE,KAAKw7C,WAAWoK,MAAM9O,KAAKj3C,GAMtC,MALoB,cAAhBG,KAAK88C,gBACD74C,EAAKuS,UACLvS,EAAKjE,KAAKu8C,eAGX/T,KAAKC,UAAUxkC,EACtB,EAID89C,4BAA6B,SAASliD,GACrC,IAAIoE,EACJ,QAAqC,IAAlCpE,EAAWG,KAAKu8C,cAElB,QAAQn+C,KADR6F,EAAgB,CAAC,EACJpE,EACZoE,EAAc7F,GAAK4B,KAAK+hD,4BAA4BliD,EAAWzB,SAGhE6F,EAAgBjE,KAAKiiD,uBAAuBpiD,GAE7C,OAAOoE,CACP,EACDg+C,uBAAwB,SAASpiD,GAChC,IAAIoE,EAAS,KAUb,OATGpE,IACoC,YAAnCA,EAAYG,KAAKu8C,gBACnBt4C,EAAS,CAAC,GACHuS,GAAK3W,EAAY2W,GACxBvS,EAAOjE,KAAKu8C,cAAgB18C,EAAYG,KAAKu8C,eAE7Ct4C,EAASpE,GAGJoE,CACP,EAED0+C,mBAAoB,SAAS9iD,GAE5B,IAAK,IADDoE,EAAcjE,KAAKk8C,YAAYj7C,QAC1B7C,EAAI,EAAGA,EAAI6F,EAAYzF,OAAQJ,IAAK,CAC5C,IAAIixB,EAAQprB,EAAY7F,GACpB4B,KAAKw7C,WAAWgF,YAAYnxB,EAAOrvB,KAAKu8C,eAC3C18C,EAAKwB,KAAKrB,KAAMqvB,EAEjB,CACD,EAEDw2B,iBAAkB,SAAShmD,GAC1B,IAAIoE,EAAgB,CAAC,EACjB7F,EAAY4B,KAAKw7C,WACjBnsB,EAAOjxB,EAAUwnD,MAAM9O,KAAKj3C,GAChC,IAAK,IAAID,KAAKyvB,EACU,IAAnBzvB,EAAEoM,QAAQ,MAEHqjB,EAAKzvB,KACZyvB,EAAKzvB,GAAGkmD,eACV7hD,EAAcrE,GAAKxB,EAAUkmD,SAASyB,WAAW12B,EAAKzvB,IAC3B,iBAAXyvB,EAAKzvB,GACrBqE,EAAcrE,GAAKI,KAAK6lD,iBAAiBx2B,EAAKzvB,IACzB,OAAZyvB,EAAKzvB,GACdqE,EAAcrE,GAAK,GAEnBqE,EAAcrE,GAAKyvB,EAAKzvB,IAK3B,OADAqE,EAAcjE,KAAKu8C,cAAgBn+C,EAAUoiD,YAAY3gD,EAAK2W,GAAIxW,KAAKu8C,cAChEt4C,CACP,EACDm9C,YAAa,SAASvhD,GACrB,IAAIoE,EAAWjE,KAAKw7C,WAAWa,SAASx8C,GAIxC,OAHKoE,IACJA,EAAW,CAAEuS,GAAI3W,IAEXG,KAAK6lD,iBAAiB5hD,EAC7B,GEv5BF,MAAeygB,EAAA,CACdrF,KAAM,CACL2mC,WAAY,CAAC,sEAAgB,2BAAQ,2BAAQ,iCAAS,2BAAQ,uCAAU,2BAAQ,eAAM,iCAAS,gEAAe,sEAAgB,iEAC9HC,YAAa,CAAC,iCAAS,uCAAU,2BAAQ,iCAAS,2BAAQ,iCAAS,iCAAS,iCAAS,uCAAU,uCAAU,uCAAU,wCACnHC,SAAU,CAAC,iCAAS,6CAAW,mDAAY,mDAAY,uCAAU,uCAAU,kCAC3EC,UAAW,CAAC,qBAAO,iCAAS,uCAAU,uCAAU,2BAAQ,2BAAQ,uBAEjEjI,OAAQ,CACPkI,qBAAsB,iCACtBC,QAAS,qBACTC,SAAU,iCACVC,UAAW,qBACXC,UAAW,8CACXC,UAAW,2BACXC,YAAa,iCACbC,aAAc,uCACdC,UAAW,iCACXC,YAAa,qBACbC,gBAAiB,2KACjBC,iBAAkB,0MAClBC,oBAAqB,iCACrBC,aAAc,kFACdC,SAAU,0DAEVC,kBAAmB,0PACnBC,kBAAmB,gEACnBC,iBAAkB,iCAClBC,sBAAuB,iCACvBC,mBAAoB,gEACpBC,uBAAwB,0DAGxBC,SAAU,2BAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC9CKtlC,EAAA,CACdpD,KAAM,CACL2mC,WAAY,CAAC,mDAAY,2BAAQ,6CAAW,mDAAY,WAAO,6CAAW,uCAAU,6CAAW,mDAAY,+DAAc,mDAAY,8CACrIC,YAAa,CAAC,iCAAS,qBAAO,qBAAO,2BAAQ,WAAO,qBAAO,qBAAO,2BAAQ,qBAAO,2BAAQ,2BAAQ,4BACjGC,SAAU,CAAE,6CAAW,+DAAc,6CAAW,uCAAU,uCAAU,6CAAW,wCAC/EC,UAAW,CAAC,eAAM,eAAM,qBAAO,eAAM,qBAAO,eAAM,iBAEnDjI,OAAQ,CACPkI,qBAAsB,iCACtBC,QAAS,iCACTC,SAAU,6CACVC,UAAW,iCACXC,UAAW,sEACXC,UAAW,mDACXC,YAAa,mDACbC,aAAc,uCACdC,UAAW,6CACXC,YAAa,mDACbC,gBAAiB,GACjBC,iBAAkB,mPAClBC,oBAAqB,mDACrBC,aAAc,gEACdC,SAAU,gEAEVC,kBAAmB,gQACnBC,kBAAmB,+DACnBC,iBAAkB,yDAClBC,sBAAuB,mDACvBC,mBAAoB,8FACpBC,uBAAwB,0GAGxBQ,WAAY,2BACZ3oC,KAAM,2BACN4oC,YAAa,mDAGbC,SAAU,qBAGVC,gBAAiB,2BAGjBV,SAAU,iBAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,iCAClBC,kBAAmB,6CACnBC,mBAAoB,iCACpBC,kBAAmB,qBACnBC,sBAAuB,iCACvBC,sBAAuB,iCACvBC,uBAAwB,iHACxBC,YAAa,yFACbC,uBAAwB,6CACxBC,wBAAyB,yDACzBC,yBAA0B,GAC1BC,sBAAuB,6EACvBC,wBAAyB,uCACzBC,gCAAiC,kCACjCC,+BAAgC,iCAChCC,kBAAmB,GACnBC,iBAAkB,GAClBC,qBAAsB,iCACtBC,kBAAmB,GACnBC,iBAAkB,2GAClBC,6BAA8B,mDAC9BC,kBAAmB,GACnBC,kBAAmB,gBACnBC,oBAAqB,CAAC,mDAAY,uCAAU,mDAAY,yDAAa,qBAAO,6CAAW,kCAAU,uCAAU,6CAAW,qEAAe,yDAAa,wCAClJC,kBAAmB,CAAC,6CAAW,+DAAc,6CAAW,uCAAU,uCAAU,6CAAW,0CCvF1EvnC,EAAA,CACdhD,KAAM,CACL2mC,WAAY,CAAC,QAAS,SAAU,UAAQ,QAAS,OAAQ,OAAQ,SAAU,QAAS,WAAY,UAAW,WAAY,YACvHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,WAAY,UAAW,UAAW,WAAY,SAAU,YAAa,YAChFC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,MACtBC,QAAS,MACTC,SAAU,UACVC,UAAW,MACXC,UAAW,mBACXC,UAAW,UACXC,YAAa,gBACbC,aAAc,UACdC,UAAW,SACXC,YAAa,WACbC,gBAAiB,GACjBC,iBAAkB,4DAClBC,oBAAqB,gBACrBC,aAAc,mBACdC,SAAU,aAEVC,kBAAmB,6DACnBC,kBAAmB,4BACnBC,iBAAkB,UAClBC,sBAAuB,YACvBC,mBAAoB,gBACpBC,uBAAwB,qBAGxBQ,WAAY,SACZ3oC,KAAM,OACN4oC,YAAa,gBAGbC,SAAU,MAGVC,gBAAiB,SAGjBV,SAAU,QAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WCxDK5mC,EAAA,CACd9B,KAAM,CACL2mC,WAAY,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,sBAChFC,YAAa,CAAC,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,WAAO,WAAO,YAClFC,SAAU,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBACrDC,UAAW,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,WAE3CjI,OAAQ,CACPkI,qBAAsB,eACtBC,QAAS,SACTC,SAAU,SACVC,UAAW,SACXC,UAAW,2BACXC,UAAW,eACXC,YAAa,eACbC,aAAc,eACdC,UAAW,eACXC,YAAa,eACbC,gBAAiB,0DACjBC,iBAAkB,wCAClBC,oBAAqB,eACrBC,aAAc,2BACdC,SAAU,eAEVC,kBAAkB,wFAClBC,kBAAkB,2BAClBC,iBAAiB,eACjBC,sBAAsB,eACtBC,mBAAoB,2BACpBC,uBAAwB,2BAGxBQ,WAAW,eACX3oC,KAAK,eACL4oC,YAAY,eAGZC,SAAS,eAGTC,gBAAiB,eAGjBV,SAAS,eAGTC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,eAClBC,kBAAmB,eACnBC,mBAAoB,eACpBC,kBAAmB,eACnBC,sBAAuB,SACvBC,sBAAuB,SACvBC,uBAAwB,iCACxBC,YAAa,uBACbC,uBAAwB,sBACxBC,wBAAyB,eACzBC,yBAA0B,SAC1BC,sBAAuB,gBACvBC,wBAAyB,SACzBC,gCAAiC,SACjCC,+BAAgC,SAChCC,kBAAmB,SACnBC,iBAAkB,SAClBC,qBAAsB,SACtBC,kBAAmB,SACnBC,iBAAkB,iCAClBC,6BAA8B,qBAC9BC,kBAAmB,eACnBC,kBAAmB,qBACnBC,oBAAqB,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,qBAAO,sBACzFC,kBAAmB,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,wBC9FjDtoC,EAAA,CACdjC,KAAM,CACL2mC,WAAY,CAAC,QAAS,UAAQ,cAAU,QAAS,cAAU,cAAU,gBAAY,QAAS,kBAAQ,gBAAS,WAAY,YACvHC,YAAa,CAAC,MAAO,QAAM,WAAO,MAAO,WAAO,WAAO,WAAO,MAAO,kBAAQ,cAAO,OAAQ,OAC5FC,SAAU,CAAC,cAAU,kBAAW,cAAS,cAAU,eAAW,WAAS,UACvEC,UAAW,CAAC,KAAM,KAAM,QAAM,KAAM,UAAM,QAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,MACTC,SAAU,WACVC,UAAW,gBACXC,UAAW,qBACXC,UAAW,cACXC,YAAa,YACbC,aAAc,SACdC,UAAW,SACXC,YAAa,SACbC,gBAAiB,GACjBC,iBAAkB,8CAClBC,oBAAqB,cACrBC,aAAc,iBAGdE,kBAAmB,yEACnBC,kBAAmB,8BACnBC,iBAAkB,UAClBC,sBAAuB,UACvBC,mBAAoB,cACpBC,uBAAwB,mBAGxBQ,WAAY,UACZ3oC,KAAM,QACN4oC,YAAa,cAGbC,SAAU,MACVhB,SAAU,WAGViB,gBAAiB,UAGjBV,SAAU,sBAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,aAClBC,kBAAmB,gBACnBC,mBAAoB,4BACpBC,kBAAmB,kBACnBC,sBAAuB,gBACvBC,sBAAuB,MACvBC,uBAAwB,kBACxBC,YAAa,0BACbC,uBAAwB,oBACxBC,wBAAyB,oBACzBC,yBAA0B,KAC1BC,sBAAuB,sBACvBC,wBAAyB,gBACzBC,gCAAiC,gBACjCC,+BAAgC,gBAChCC,kBAAmB,KACnBC,iBAAkB,IAClBC,qBAAsB,QACtBC,kBAAmB,GACnBC,iBAAkB,4BAClBC,6BAA8B,cAC9BC,kBAAmB,KACnBC,kBAAmB,QACnBC,oBAAqB,CAAC,QAAS,UAAQ,cAAU,QAAS,cAAU,cAAU,gBAAY,QAAS,kBAAQ,gBAAS,WAAY,YAChIC,kBAAmB,CAAC,eAAW,kBAAW,cAAS,cAAU,eAAW,WAAS,YCxFpEjlC,EAAA,CACdtF,KAAM,CACL2mC,WAAY,CAAC,SAAU,UAAW,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACzHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,YAAU,SAAU,UAAW,SAAU,UAAW,SAAU,aACzEC,UAAW,CAAC,SAAO,MAAO,MAAO,MAAO,MAAO,MAAO,WAEvDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,MACTC,SAAU,MACVC,UAAW,WACXC,UAAW,gBACXC,UAAW,MACXC,YAAa,UACbC,aAAc,WACdC,UAAW,SACXC,YAAa,OACbC,gBAAiB,gDACjBC,iBAAkB,0DAClBC,oBAAqB,cACrBC,aAAc,cAGdE,kBAAmB,wDACnBC,kBAAmB,oBACnBC,iBAAkB,YAClBC,sBAAuB,YACvBC,mBAAoB,iBACpBC,uBAAwB,kBAGxBQ,WAAY,YACZ3oC,KAAM,OACN4oC,YAAa,cAGbC,SAAU,QAGVC,gBAAiB,YAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,SAClBC,kBAAmB,UACnBC,mBAAoB,cACpBC,kBAAmB,WACnBC,sBAAuB,OACvBC,sBAAuB,MACvBC,uBAAwB,wBACxBC,YAAa,qBACbC,uBAAwB,8BACxBC,wBAAyB,WACzBC,yBAA0B,MAC1BC,sBAAuB,UACvBC,wBAAyB,WACzBC,gCAAiC,OACjCC,+BAAgC,WAChCC,kBAAmB,MACnBC,iBAAkB,IAClBC,qBAAsB,QACtBC,kBAAmB,GACnBC,iBAAkB,iBAClBC,6BAA8B,aAC9BC,kBAAmB,QACnBC,kBAAmB,OACnBC,oBAAqB,CAAC,SAAU,UAAW,UAAQ,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACjIC,kBAAmB,CAAC,YAAU,SAAU,UAAW,SAAU,UAAW,SAAU,eCvFrEjnC,EAAA,CACdtD,KAAM,CACL2mC,WAAY,CAAC,UAAW,WAAY,YAAU,SAAU,OAAQ,QAAS,QAAS,UAAW,cAAe,WAAY,aAAc,aACtIC,YAAa,CAAC,MAAO,MAAO,SAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAE,UAAW,SAAU,WAAY,YAAa,cAAe,UAAW,WACpFC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,QACtBC,QAAS,MACTC,SAAU,QACVC,UAAW,QACXC,UAAW,gBACXC,UAAW,YACXC,YAAa,YACbC,aAAc,UACdC,UAAW,YACXC,YAAa,aACbC,gBAAiB,GACjBC,iBAAkB,+BAClBC,oBAAqB,eACrBC,aAAc,aACdC,SAAU,aAEVC,kBAAmB,4EACnBC,kBAAmB,eACnBC,iBAAkB,MAClBC,sBAAuB,KACvBC,mBAAoB,2BACpBC,uBAAwB,4BAGxBQ,WAAY,SACZ3oC,KAAM,QACN4oC,YAAa,eAGbC,SAAU,QAGVC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,aAClBC,kBAAmB,iBACnBC,mBAAoB,YACpBC,kBAAmB,cACnBC,sBAAuB,QACvBC,sBAAuB,MACvBC,uBAAwB,sBACxBC,YAAa,wBACbC,uBAAwB,YACxBC,wBAAyB,WACzBC,yBAA0B,KAC1BC,sBAAuB,kBACvBC,wBAAyB,SACzBC,gCAAiC,QACjCC,+BAAgC,SAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,qBAAsB,SACtBC,kBAAmB,GACnBC,iBAAkB,gBAClBC,6BAA8B,cAC9BE,kBAAmB,YACnBD,kBAAmB,OACnBE,oBAAqB,CAAC,SAAU,UAAW,UAAQ,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACjIC,kBAAmB,CAAC,UAAW,SAAU,WAAY,WAAY,aAAc,UAAW,aCvF7ErkC,EAAA,CACdlG,KAAM,CACL2mC,WAAY,CAAC,+DAAc,qEAAe,6CAAW,mDAAY,iCAAS,6CAAW,6CAAW,yDAAa,qEAAe,yDAAa,yDAAa,gEACtJC,YAAa,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,2BAAQ,2BAAQ,qBAAO,qBAAO,qBAAO,qBAAO,sBAC7FC,SAAU,CAAC,6CAAW,6CAAW,iCAAS,6CAAW,uCAAU,yDAAa,8CAC5EC,UAAW,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAEjDjI,OAAQ,CACPkI,qBAAsB,uCACtBC,QAAS,iCACTC,SAAU,mDACVC,UAAW,iCACXC,UAAW,8CACXC,UAAW,+DACXC,YAAa,iCACbC,aAAc,2EACdC,UAAW,qEACXC,YAAa,mDACbC,gBAAiB,GACjBC,iBAAkB,8QAClBC,oBAAqB,yDACrBC,aAAc,8FACdC,SAAU,sEAGVC,kBAAmB,sYACnBC,kBAAmB,4HACnBC,iBAAkB,mDAClBC,sBAAuB,uCACvBC,mBAAoB,mIACpBC,uBAAwB,+IAGxBQ,WAAY,8FACZ3oC,KAAM,+DACN4oC,YAAa,yDAGbC,SAAU,2BAGVC,gBAAiB,8FAGjBV,SAAU,uCAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,yDAClBC,kBAAmB,2EACnBC,mBAAoB,mDACpBC,kBAAmB,6CACnBC,sBAAuB,2BACvBC,sBAAuB,iCACvBC,uBAAwB,4EACxBC,YAAa,mFACbC,uBAAwB,6JACxBC,wBAAyB,yDACzBC,yBAA0B,qBAC1BC,sBAAuB,0DACvBC,wBAAyB,2BACzBC,gCAAiC,2BACjCC,+BAAgC,2BAChCC,kBAAmB,qBACnBC,iBAAkB,qBAClBC,qBAAsB,iCACtBC,kBAAmB,2BACnBC,iBAAkB,mIAClBC,6BAA8B,qEAC9BE,kBAAmB,oDACnBD,kBAAmB,8CACnBE,oBAAqB,CAAC,+DAAc,qEAAe,6CAAW,mDAAY,iCAAS,6CAAW,6CAAW,yDAAa,qEAAe,yDAAa,yDAAa,gEAC/JC,kBAAmB,CAAC,6CAAW,6CAAW,iCAAS,6CAAW,uCAAU,yDAAa,gDCxFxEjoC,EAAA,CACdtC,KAAK,CACJ2mC,WAAW,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAC1HC,YAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,SAAS,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC5EC,UAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAEtDjI,OAAO,CACNkI,qBAAqB,QACrBC,QAAQ,MACRC,SAAS,OACTC,UAAU,QACVC,UAAU,YACVC,UAAU,OACVC,YAAY,SACZC,aAAa,UACbC,UAAU,OACVC,YAAY,SACZC,gBAAgB,GAChBC,iBAAiB,mDACjBC,oBAAoB,cACpBC,aAAa,cACbC,SAAS,WAGTC,kBAAkB,wDAClBC,kBAAkB,eAClBC,iBAAiB,WACjBC,sBAAsB,UACtBC,mBAAoB,cACpBC,uBAAwB,kBAGxBQ,WAAW,SACX3oC,KAAK,OACL4oC,YAAY,cAGZC,SAAS,OAGTC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,QAClBC,kBAAmB,SACnBC,mBAAoB,UACpBC,kBAAmB,SACnBC,sBAAuB,QACvBC,sBAAuB,MACvBC,uBAAwB,gBACxBC,YAAa,gBACbC,uBAAwB,kBACxBC,wBAAyB,SACzBC,yBAA0B,KAC1BC,sBAAuB,YACvBC,wBAAyB,QACzBC,gCAAiC,QACjCC,+BAAgC,QAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,qBAAsB,MACtBC,kBAAmB,QACnBC,iBAAkB,cAClBC,6BAA8B,cAC9BC,kBAAmB,QACnBC,kBAAmB,SACnBC,oBAAqB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACpIC,kBAAmB,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,cCrFzE1nC,EAAA,CACd7C,KAAM,CACL2mC,WAAY,CAAC,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,aAAc,UAAW,YAAa,aAC7HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,UAAW,QAAS,SAAU,eAAa,SAAU,UAAW,aAC3EC,UAAW,CAAC,MAAO,MAAO,MAAO,SAAO,MAAO,MAAO,WAEvDjI,OAAQ,CACPkI,qBAAsB,MACtBC,QAAS,SACTC,SAAU,SACVC,UAAW,MACXC,UAAW,eACXC,UAAW,UACXC,YAAa,WACbC,aAAc,WACdC,UAAW,SACXC,YAAa,WACbC,gBAAiB,GACjBC,iBAAkB,0DAClBC,oBAAqB,iBACrBC,aAAc,aACdC,SAAU,iBAEVC,kBAAmB,wDACnBC,kBAAmB,mBACnBC,iBAAkB,WAClBC,sBAAuB,YACvBC,mBAAoB,kBACpBC,uBAAwB,qBAGxBQ,WAAY,SACZ3oC,KAAM,QACN4oC,YAAa,iBAGbC,SAAU,SAGVC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,cAClBC,kBAAmB,eACnBC,mBAAoB,eACpBC,kBAAmB,aACnBC,sBAAuB,OACvBC,sBAAuB,MACvBC,uBAAwB,0BACxBC,YAAa,gBACbC,uBAAwB,UACxBC,wBAAyB,SACzBC,yBAA0B,KAC1BC,sBAAuB,YACvBC,wBAAyB,MACzBC,gCAAiC,OACjCC,+BAAgC,MAChCC,kBAAmB,KACnBC,iBAAkB,MAClBC,qBAAsB,MACtBC,kBAAmB,MACnBC,iBAAkB,+BAClBC,6BAA8B,cAC9BE,kBAAmB,MACnBD,kBAAmB,gBACnBE,oBAAqB,CAAC,QAAS,UAAW,kBAAS,aAAS,OAAQ,QAAS,QAAS,cAAU,YAAa,UAAW,YAAa,aACrIC,kBAAmB,CAAC,UAAW,QAAS,SAAU,eAAa,SAAU,UAAW,YC1FvE3oC,EAAA,CACd5B,KAAM,CACL2mC,WAAY,CAAC,WAAY,WAAY,YAAa,WAAY,WAAY,eAAgB,gBAAiB,SAAU,UAAW,UAAW,YAAa,YACxJC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,YAAa,YAAa,UAAW,cAAe,UAAW,YAAa,YACvFC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,kBACtBC,QAAS,cACTC,SAAU,SACVC,UAAW,WACXC,UAAW,iBACXC,UAAW,WACXC,YAAa,OACbC,aAAc,SACdC,UAAW,UACXC,YAAa,SACbC,gBAAiB,GACjBC,iBAAkB,wCAClBC,oBAAqB,SACrBC,aAAc,YACdC,SAAU,mBAEVC,kBAAmB,kEACnBC,kBAAmB,mBACnBC,iBAAkB,6BAClBC,sBAAuB,0BACvBC,mBAAoB,gBACpBC,uBAAwB,gBAGxBQ,WAAY,cACZ3oC,KAAM,4BACN4oC,YAAa,SAGbC,SAAU,SAGVC,gBAAiB,cAGjBV,SAAU,YAGVC,eAAe,8BACfC,aAAa,+BAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,uBAClBC,kBAAmB,cACnBC,mBAAoB,gBACpBC,kBAAmB,aACnBC,sBAAuB,OACvBC,sBAAuB,kBACvBC,uBAAwB,2BACxBC,YAAa,cACbC,uBAAwB,4CACxBC,wBAAyB,SACzBC,yBAA0B,GAC1BC,sBAAuB,8BACvBC,wBAAyB,WACzBC,gCAAiC,OACjCC,+BAAgC,WAChCC,kBAAmB,GACnBC,iBAAkB,GAClBC,qBAAsB,kBACtBC,kBAAmB,WACnBC,iBAAkB,mBAClBC,6BAA8B,uBAC9BE,kBAAmB,SACnBD,kBAAmB,GACnBE,oBAAqB,CAAC,WAAY,WAAY,YAAa,WAAY,WAAY,eAAgB,gBAAiB,SAAU,UAAW,UAAW,YAAa,YACjKC,kBAAmB,CAAC,YAAa,YAAa,UAAW,cAAe,UAAW,YAAa,cCvFnF1hC,EAAA,CACd7I,KAAM,CACL2mC,WAAY,CAAC,UAAW,aAAW,OAAQ,QAAS,MAAO,OAAQ,UAAW,UAAQ,YAAa,UAAW,WAAY,eAC1HC,YAAa,CAAC,MAAO,SAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,SAAO,MAAO,MAAO,MAAO,UAC7FC,SAAU,CAAC,WAAY,QAAS,QAAS,WAAY,QAAS,WAAY,UAC1EC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,cACtBC,QAAS,OACTC,SAAU,UACVC,UAAW,OACXC,UAAW,yBACXC,UAAW,cACXC,YAAa,UACbC,aAAc,aACdC,UAAW,WACXC,YAAa,UACbC,gBAAiB,GACjBC,iBAAkB,qEAClBC,oBAAqB,cACrBC,aAAc,aACdC,SAAU,yBAEVC,kBAAmB,gFACnBC,kBAAmB,oBACnBC,iBAAkB,kBAClBC,sBAAuB,YACvBC,mBAAoB,uBACpBC,uBAAwB,qBAGxBQ,WAAY,OACZ3oC,KAAM,OACN4oC,YAAa,cAGbC,SAAU,WAGVC,gBAAiB,OAGjBV,SAAU,SAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,cAClBC,kBAAmB,eACnBC,mBAAoB,YACpBC,kBAAmB,WACnBC,sBAAuB,SACvBC,sBAAuB,OACvBC,uBAAwB,+BACxBC,YAAa,4BACbC,uBAAwB,WACxBC,wBAAyB,gBACzBC,yBAA0B,KAC1BC,sBAAuB,cACvBC,wBAAyB,OACzBC,gCAAiC,SACjCC,+BAAgC,OAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,qBAAsB,OACtBC,kBAAmB,OACnBC,iBAAkB,mCAClBC,6BAA8B,cAC9BE,kBAAmB,MACnBD,kBAAmB,WACnBE,oBAAqB,CAAC,UAAW,aAAW,OAAQ,QAAS,MAAO,OAAQ,UAAW,UAAQ,YAAa,UAAW,WAAY,eACnIC,kBAAmB,CAAC,WAAY,QAAS,QAAS,WAAY,QAAS,WAAY,YCvFtErlC,EAAA,CACdlF,KAAM,CACL2mC,WAAY,CAAC,iCAAS,uCAAU,qBAAO,iCAAS,qBAAO,2BAAQ,2BAAQ,uCAAU,uCAAU,6CAAW,uCAAU,kCAChHC,YAAa,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBAC3FC,SAAU,CAAC,iCAAS,qBAAO,iCAAS,iCAAS,iCAAS,2BAAQ,sBAC9DC,UAAW,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,WAE3CjI,OAAQ,CACPkI,qBAAsB,2BACtBC,QAAS,qBACTC,SAAU,2BACVC,UAAW,2BACXC,UAAW,8CACXC,UAAW,2BACXC,YAAa,qBACbC,aAAc,iCACdC,UAAW,2BACXC,YAAa,qBACbC,gBAAiB,GACjBC,iBAAkB,yHAClBC,oBAAqB,iCACrBC,aAAc,iCAEdE,kBAAmB,gNACnBC,kBAAmB,gEACnBC,iBAAkB,wCAClBC,sBAAuB,2BACvBJ,SAAU,wCACVK,mBAAoB,uEACpBC,uBAAwB,0DAGxBQ,WAAY,wCACZ3oC,KAAM,iCACN4oC,YAAa,iCAGbC,SAAU,2BAGVC,gBAAiB,wCAGjBV,SAAU,2BAGVC,eAAe,iBACfC,aAAa,6EAGbxJ,WAAW,KACXE,eAAe,qBAGf9uB,KAAM,qBACNmiB,KAAM,iCACNkW,KAAM,qBACNpoC,MAAO,2BACPqoC,IAAK,qBACLC,KAAK,qBACLC,OAAQ,qBAGRK,iBAAkB,2BAClBC,kBAAmB,iCACnBC,mBAAoB,iCACpBC,kBAAmB,2BACnBC,sBAAuB,wCACvBC,sBAAuB,2BACvBC,uBAAwB,0FACxBC,YAAa,yCACbC,uBAAwB,wEACxBC,wBAAyB,wCACzBC,yBAA0B,eAC1BC,sBAAuB,wCACvBC,wBAAyB,uCACzBC,gCAAiC,wCACjCC,+BAAgC,2BAChCC,kBAAmB,eACnBC,iBAAkB,iCAClBC,qBAAsB,2BACtBC,kBAAmB,2BACnBC,iBAAkB,mFAClBC,6BAA8B,6CAC9BE,kBAAmB,8CACnBD,kBAAmB,2BACnBE,oBAAqB,CAAC,iCAAS,uCAAU,qBAAO,iCAAS,qBAAO,2BAAQ,2BAAQ,uCAAU,uCAAU,6CAAW,uCAAU,kCACzHC,kBAAmB,CAAC,iCAAS,qBAAO,iCAAS,iCAAS,iCAAS,2BAAQ,wBCvF1D/kC,EAAA,CACdxF,KAAM,CACL2mC,WAAY,CAAC,YAAU,aAAW,aAAW,aAAW,WAAS,YAAU,YAAU,YAAa,aAAc,aAAW,WAAY,YACvIC,YAAa,CAAC,MAAO,MAAO,SAAO,SAAO,SAAO,SAAO,SAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,cAAY,cAAS,OAAQ,SAAU,qBAAa,YAAU,WACzEC,UAAW,CAAC,KAAM,QAAM,KAAM,MAAO,SAAO,QAAM,QAEnDjI,OAAQ,CACPkI,qBAAsB,KACtBC,QAAS,MACTC,SAAU,SACVC,UAAW,WACXC,UAAW,mBACXC,UAAW,YACXC,YAAa,WACbC,aAAc,eACdC,UAAW,iBACXC,YAAa,eACbC,gBAAiB,GACjBC,iBAAkB,wDAClBC,oBAAqB,eACrBC,aAAc,aACdC,SAAU,cAGVC,kBAAmB,mGACnBC,kBAAmB,6BACnBC,iBAAkB,YAClBC,sBAAuB,qBACvBC,mBAAoB,cACpBC,uBAAwB,kCAGxBQ,WAAY,WACZ3oC,KAAM,WACN4oC,YAAa,eAGbC,SAAU,QAGVR,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WCvDKnmC,EAAA,CACdvC,KAAM,CACL2mC,WAAY,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,UAAW,YAAa,UAAW,WAAY,YAC5HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,SAAU,QAAS,SAAU,OAAQ,QAAS,QAAS,SAClEC,UAAW,CAAC,OAAQ,MAAO,MAAO,MAAO,MAAO,MAAO,QAExDjI,OAAQ,CACPkI,qBAAsB,WACtBC,QAAS,OACTC,SAAU,SACVC,UAAW,QACXC,UAAW,aACXC,UAAW,SACXC,YAAa,QACbC,aAAc,SACdC,UAAW,OACXC,YAAa,QACbC,gBAAiB,GACjBC,iBAAkB,qBAClBC,oBAAqB,aACrBC,aAAc,UACdC,SAAU,aAGVC,kBAAmB,kCACnBC,kBAAmB,cACnBC,iBAAkB,oBAClBC,sBAAuB,cACvBC,mBAAoB,gBACpBC,uBAAwB,mBAGxBQ,WAAY,SACZ3oC,KAAM,UACN4oC,YAAa,aAGbC,SAAU,QAGVC,gBAAiB,SAGjBV,SAAU,QAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC7DK1mC,EAAA,CACdhC,KAAM,CACL2mC,WAAY,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YACnIC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,WAAY,YAAU,aAAW,eAAa,aAAW,aAAW,UAC/EC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,SACTC,SAAU,YACVC,UAAW,OACXC,UAAW,eACXC,UAAW,QACXC,YAAa,SACbC,aAAc,WACdC,UAAW,WACXC,YAAa,UACbC,gBAAiB,GACjBC,iBAAkB,4CAClBC,oBAAqB,cACrBC,aAAc,mBACdC,SAAU,kBAEVC,kBAAmB,4CACnBC,kBAAmB,oBACnBC,iBAAkB,cAClBC,sBAAuB,WACvBC,mBAAoB,sBACpBC,uBAAwB,uBAGxBQ,WAAY,SACZ3oC,KAAM,OACN4oC,YAAa,cAGbC,SAAU,OAGVC,gBAAiB,SAGjBV,SAAU,UAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,aAClBC,kBAAmB,cACnBC,mBAAoB,UACpBC,kBAAmB,UACnBC,sBAAuB,OACvBC,sBAAuB,SACvBC,uBAAwB,2BACxBC,YAAa,iBACbC,uBAAwB,aACxBC,wBAAyB,WACzBC,yBAA0B,KAC1BC,sBAAuB,cACvBC,wBAAyB,OACzBC,gCAAiC,OACjCC,+BAAgC,OAChCC,kBAAmB,KACnBC,iBAAkB,MAClBC,qBAAsB,SACtBC,kBAAmB,OACnBC,iBAAkB,oBAClBC,6BAA8B,YAC9BE,kBAAmB,OACnBD,kBAAmB,OACnBE,oBAAqB,CAAC,UAAW,WAAY,QAAS,SAAU,SAAU,SAAU,SAAU,SAAU,YAAa,UAAW,WAAY,YAC5IC,kBAAmB,CAAC,WAAY,YAAU,aAAW,eAAa,YAAU,aAAW,YCpF1EnlC,EAAA,CACdpF,KAAM,CACL2mC,WAAY,CAAC,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,WAAO,WAAO,YACjFC,YAAa,CAAE,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,UAAM,WAAO,WAAO,YACnFC,SAAU,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBACrDC,UAAW,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,WAE3CjI,OAAQ,CACPkI,qBAAsB,eACtBC,QAAS,SACTC,SAAU,SACVC,UAAW,SACXC,UAAW,iCACXC,UAAW,eACXC,YAAa,iCACbC,aAAc,eACdC,UAAW,eACXC,YAAa,eACbC,gBAAiB,GACjBC,iBAAkB,iIAClBC,oBAAqB,mDACrBC,aAAc,eACdE,kBAAmB,uIACnBC,kBAAmB,yDACnBC,iBAAkB,eAClBC,sBAAuB,eACvBJ,SAAU,eACVK,mBAAoB,+DACpBC,uBAAwB,uCAGxBQ,WAAY,qBACZ3oC,KAAM,eACN4oC,YAAa,eAGbC,SAAU,eAGVC,gBAAiB,qBAGjBV,SAAU,2BAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC9DK,MAAMvnC,EACpBnb,WAAAA,CAAYpB,GACXjE,KAAK6pD,SAAW,CAAC,EACjB,UAAUzrD,KAAK6F,EACdjE,KAAK6pD,SAASzrD,GAAK6F,EAAO7F,EAE3B,CAED0rD,SAAAA,CAAU7lD,EAAM7F,GACf4B,KAAK6pD,SAAS5lD,GAAQ7F,CACtB,CAED2rD,SAAAA,CAAU9lD,GACT,OAAOjE,KAAK6pD,SAAS5lD,EACrB,ECdF,MAAeyd,EAAA,CACdrC,KAAM,CACL2mC,WAAY,CAAC,SAAU,UAAW,OAAQ,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACxHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,YAAU,SAAU,UAAW,SAAU,UAAW,SAAU,aACzEC,UAAW,CAAC,SAAO,MAAO,MAAO,MAAO,MAAO,MAAO,WAEvDjI,OAAQ,CACPkI,qBAAsB,QACtBC,QAAS,MACTC,SAAU,MACVC,UAAW,WACXC,UAAW,cACXC,UAAW,QACXC,YAAa,SACbC,aAAc,WACdC,UAAW,UACXC,YAAa,QACbC,gBAAiB,GACjBC,iBAAkB,qDAClBC,oBAAqB,cACrBC,aAAc,cAGdE,kBAAmB,8DACnBC,kBAAmB,oBACnBC,iBAAkB,KAClBC,sBAAuB,QACvBC,mBAAoB,iBACpBC,uBAAwB,mBAGxBQ,WAAY,SACZ3oC,KAAM,OACN4oC,YAAa,cAGbC,SAAU,QAGVC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,SAClBC,kBAAmB,WACnBC,mBAAoB,cACpBC,kBAAmB,WACnBC,sBAAuB,OACvBC,sBAAuB,MACvBC,uBAAwB,iBACxBC,YAAa,gBACbC,uBAAwB,aACxBC,wBAAyB,aACzBC,yBAA0B,QAC1BC,sBAAuB,WACvBC,wBAAyB,WACzBC,gCAAiC,OACjCC,+BAAgC,WAChCC,kBAAmB,QACnBC,iBAAkB,IAClBC,qBAAsB,QACtBC,kBAAmB,GACnBC,iBAAkB,kBAClBC,6BAA8B,YAC9BE,kBAAmB,WACnBD,kBAAmB,QACnBE,oBAAqB,CAAC,SAAU,UAAW,OAAQ,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACjIC,kBAAmB,CAAC,SAAU,SAAU,UAAW,SAAU,UAAW,SAAU,eCvFrE/nC,EAAA,CACdxC,KAAM,CACL2mC,WAAY,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,WAAY,YAAa,UAAW,WAAY,YAC7HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,SAAU,UAAW,UAAW,WAAY,YAAa,UAAW,YAC/EC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,UACtBC,QAAS,MACTC,SAAU,OACVC,UAAW,QACXC,UAAW,aACXC,UAAW,UACXC,YAAa,YACbC,aAAc,UACdC,UAAW,WACXC,YAAa,cACbC,gBAAiB,GACjBC,iBAAkB,kDAClBC,oBAAqB,eACrBC,aAAc,eACdC,SAAU,WAEVC,kBAAmB,4CACnBC,kBAAmB,gBACnBC,iBAAkB,MAClBC,sBAAuB,MACvBC,mBAAoB,kBACpBC,uBAAwB,mBAGxBQ,WAAY,SACZ3oC,KAAM,QACN4oC,YAAa,eAGbC,SAAU,OAGVC,gBAAiB,SAGjBV,SAAU,QAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,YAClBC,kBAAmB,YACnBC,mBAAoB,cACpBC,kBAAmB,YACnBC,sBAAuB,OACvBC,sBAAuB,UACvBC,uBAAwB,eACxBC,YAAa,gBACbC,uBAAwB,6BACxBC,wBAAyB,UACzBC,yBAA0B,KAC1BC,sBAAuB,aACvBC,wBAAyB,UACzBC,gCAAiC,SACjCC,+BAAgC,UAChCC,kBAAmB,KACnBC,iBAAkB,MAClBC,qBAAsB,MACtBC,kBAAmB,QACnBC,iBAAkB,kBAClBC,6BAA8B,QAC9BE,kBAAmB,cACnBD,kBAAmB,KACnBE,oBAAqB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,WAAY,YAAa,UAAW,WAAY,YACtIC,kBAAmB,CAAC,SAAU,UAAW,UAAW,WAAY,YAAa,UAAW,cCvF3EhlC,EAAA,CACdvF,KAAM,CACL2mC,WAAY,CAAC,SAAU,UAAW,OAAQ,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACxHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,YAAU,SAAU,UAAW,SAAU,UAAW,SAAU,aACzEC,UAAW,CAAC,SAAO,MAAO,MAAO,MAAO,MAAO,MAAO,WAEvDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,MACTC,SAAU,MACVC,UAAW,WACXC,UAAW,KACXC,UAAW,QACXC,YAAa,SACbC,aAAc,WACdC,UAAW,QACXC,YAAa,QACbC,gBAAiB,4CACjBC,iBAAkB,gDAClBC,oBAAqB,cACrBC,aAAc,cACdC,SAAU,WAGVC,kBAAmB,2DACnBC,kBAAmB,2BACnBC,iBAAkB,aAClBC,sBAAuB,QACvBC,mBAAoB,iBACpBC,uBAAwB,mBAGxBQ,WAAY,SACZ3oC,KAAM,OACN4oC,YAAa,cAGbC,SAAU,QAGVC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC7DK3iC,EAAA,CACd/F,KAAM,CACL2mC,WAAY,CAAC,eAAW,OAAQ,SAAU,gBAAY,MAAO,WAAY,SAAU,gBAAY,gBAAY,mBAAe,WAAY,iBACtIC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,WAAO,MAAO,OAC3FC,SAAU,CAAC,YAAa,oBAAgB,SAAU,aAAS,WAAY,cAAU,UACjFC,UAAW,CAAC,MAAO,MAAO,MAAO,WAAO,MAAO,WAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,YACtBC,QAAS,aACTC,SAAU,eACVC,UAAW,eACXC,UAAW,iBACXC,UAAW,SACXC,YAAa,SACbC,aAAc,oBACdC,UAAW,SACXC,YAAa,YACbC,gBAAiB,GACjBC,iBAAkB,gEAClBC,oBAAqB,OACrBC,aAAc,cACdC,SAAU,uBAGVC,kBAAmB,yFACnBC,kBAAmB,uBACnBC,iBAAkB,aAClBC,sBAAuB,UACvBC,mBAAoB,oBACpBC,uBAAwB,oBAGxBQ,WAAY,SACZ3oC,KAAM,OACN4oC,YAAa,OAGbC,SAAU,MAGVC,gBAAiB,SAGjBV,SAAU,SAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,aAClBC,kBAAmB,YACnBC,mBAAoB,YACpBC,kBAAmB,SACnBC,sBAAuB,SACvBC,sBAAuB,OACvBC,uBAAwB,wBACxBC,YAAa,oBACbC,uBAAwB,kBACxBC,wBAAyB,SACzBC,yBAA0B,IAC1BC,sBAAuB,cACvBC,wBAAyB,UACzBC,gCAAiC,SACjCC,+BAAgC,UAChCC,kBAAmB,IACnBC,iBAAkB,UAClBC,qBAAsB,eACtBC,kBAAmB,GACnBC,iBAAkB,mBAClBC,6BAA8B,iBAC9BE,kBAAmB,WACnBD,kBAAmB,KACnBE,oBAAqB,CAAC,WAAY,SAAU,QAAS,WAAY,OAAQ,UAAW,QAAS,WAAY,UAAW,aAAc,YAAa,WAC/IC,kBAAmB,CAAC,YAAa,cAAe,SAAU,OAAQ,WAAY,QAAS,YC9E1E9kC,GAAA,CACdzF,KAAM,CACL2mC,WAAY,CAAC,UAAW,YAAa,WAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YAC9HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,UAAW,UAAW,WAAS,SAAU,SAAU,QAAS,aACvEC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,MACTC,SAAU,SACVC,UAAW,SACXC,UAAW,cACXC,UAAW,SACXC,YAAa,WACbC,aAAc,WACdC,UAAW,SACXC,YAAa,UACbC,gBAAiB,GACjBC,iBAAkB,kCAClBC,oBAAqB,kBACrBC,aAAc,sBACdC,SAAU,cAEVC,kBAAmB,+CACnBC,kBAAmB,iBACnBC,iBAAkB,cAClBC,sBAAuB,YACvBC,mBAAoB,oBACpBC,uBAAwB,sBAGxBQ,WAAY,MACZ3oC,KAAM,OACN4oC,YAAa,kBAGbC,SAAU,MAGVC,gBAAiB,MAGjBV,SAAU,QAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,YAClBC,kBAAmB,UACnBC,mBAAoB,SACpBC,kBAAmB,QACnBC,sBAAuB,OACvBC,sBAAuB,SACvBC,uBAAwB,0BACxBC,YAAa,eACbC,uBAAwB,UACxBC,wBAAyB,UACzBC,yBAA0B,KAC1BC,sBAAuB,WACvBC,wBAAyB,SACzBC,gCAAiC,OACjCC,+BAAgC,SAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,qBAAsB,MACtBC,kBAAmB,SACnBC,iBAAkB,iBAClBC,6BAA8B,iBAC9BE,kBAAmB,MACnBD,kBAAmB,SACnBE,oBAAqB,CAAC,UAAW,YAAa,WAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,WAAY,UAAW,WAAY,YACvIC,kBAAmB,CAAC,UAAW,UAAW,WAAS,SAAU,SAAU,QAAS,eC7FnE9nC,GAAA,CACdzC,KAAK,CACJ2mC,WAAW,CAAC,WAAY,YAAa,SAAU,UAAW,MAAO,QAAS,QAAS,SAAU,aAAc,YAAa,WAAY,YACpIC,YAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC1FC,SAAS,CAAC,WAAY,OAAQ,QAAS,WAAY,MAAO,SAAU,WACpEC,UAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAEhDjI,OAAO,CACNkI,qBAAqB,SACrBC,QAAQ,KACRC,SAAS,YACTC,UAAU,OACVC,UAAU,gBACVC,UAAU,WACVC,YAAY,WACZC,aAAa,UACbC,UAAU,WACVC,YAAY,SACZC,gBAAgB,6CAChBC,iBAAiB,iDACjBC,oBAAoB,YACpBC,aAAa,WACbC,SAAS,aAGTC,kBAAkB,sDAClBC,kBAAkB,WAClBC,iBAAiB,cACjBC,sBAAsB,WACtBC,mBAAoB,iBACpBC,uBAAwB,wBAGxBQ,WAAW,SACX3oC,KAAK,OACL4oC,YAAY,YAGZC,SAAS,KAGTC,gBAAiB,SAGjBV,SAAU,QAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,SAClBC,kBAAmB,aACnBC,mBAAoB,QACpBC,kBAAmB,QACnBC,sBAAuB,aACvBC,sBAAuB,SACvBC,uBAAwB,wBACxBC,YAAa,qBACbC,uBAAwB,iCACxBC,wBAAyB,YACzBC,yBAA0B,OAC1BC,sBAAuB,gBACvBC,wBAAyB,OACzBC,gCAAiC,aACjCC,+BAAgC,OAChCC,kBAAmB,KACnBC,iBAAkB,UAClBC,qBAAsB,aACtBC,kBAAmB,GACnBC,iBAAkB,uBAClBC,6BAA8B,aAC9BE,kBAAmB,UACnBD,kBAAmB,OACnBE,oBAAqB,CAAC,WAAY,YAAa,SAAU,UAAW,MAAO,QAAS,QAAS,SAAU,aAAc,YAAa,YAAa,aAC/IC,kBAAmB,CAAC,WAAY,OAAQ,QAAS,WAAY,MAAO,SAAU,aC5FjEI,GAAA,CACd3qC,KAAM,CACL2mC,WAAY,CAAC,uCAAU,6CAAW,2BAAQ,uCAAU,WAAO,2BAAQ,2BAAQ,uCAAU,mDAAY,wCAAW,uCAAU,8CACtHC,YAAa,CAAC,qBAAO,qBAAO,WAAO,gBAAO,WAAO,qBAAO,qBAAO,gBAAO,qBAAO,qBAAO,qBAAO,sBAC3FC,SAAU,CAAE,qEAAe,qEAAe,6CAAW,iCAAS,6CAAW,6CAAW,8CACpFC,UAAW,CAAC,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,iBAEjDjI,OAAQ,CACPkI,qBAAsB,6CACtBC,QAAS,2BACTC,SAAU,uCACVC,UAAW,iCACXC,UAAW,4EACXC,UAAW,yDACXC,YAAa,mDACbC,aAAc,uCACdC,UAAW,mDACXC,YAAa,6CACbC,gBAAiB,GACjBC,iBAAkB,+PAClBC,oBAAqB,mDACrBC,aAAc,kFACdC,SAAU,oDAEVC,kBAAmB,kRACnBC,kBAAmB,+DACnBC,iBAAkB,yDAClBC,sBAAuB,mDACvBC,mBAAoB,gHACpBC,uBAAwB,wIAGxBQ,WAAY,uCACZ3oC,KAAM,2BACN4oC,YAAa,mDAGbC,SAAU,qBAGVC,gBAAiB,uCAGjBV,SAAU,6CAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,2BAClBC,kBAAmB,uCACnBC,mBAAoB,iCACpBC,kBAAmB,qBACnBC,sBAAuB,uCACvBC,sBAAuB,2BACvBC,uBAAwB,2GACxBC,YAAa,+FACbC,uBAAwB,iDACxBC,wBAAyB,yDACzBC,yBAA0B,GAC1BC,sBAAuB,wEACvBC,wBAAyB,iCACzBC,gCAAiC,wCACjCC,+BAAgC,iCAChCC,kBAAmB,GACnBC,iBAAkB,GAClBC,qBAAsB,2BACtBC,kBAAmB,GACnBC,iBAAkB,qGAClBC,6BAA8B,+DAC9BE,kBAAmB,gBACnBD,kBAAmB,GACnBE,oBAAqB,CAAC,uCAAU,6CAAW,iCAAS,uCAAU,qBAAO,2BAAQ,2BAAQ,6CAAW,mDAAY,6CAAW,uCAAU,8CACjIC,kBAAmB,CAAC,qEAAe,qEAAe,6CAAW,iCAAS,6CAAW,6CAAW,gDCvF/EzkC,GAAA,CACd9F,KAAM,CACL2mC,WAAY,CAAC,SAAU,UAAW,QAAS,QAAS,MAAO,QAAS,QAAS,SAAU,YAAa,UAAW,WAAY,YAC3HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,UAAW,aAAc,QAAS,QAAS,eAAW,QAAS,UAC1EC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,WAAO,MAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,QACtBC,QAAS,MACTC,SAAU,QACVC,UAAW,QACXC,UAAW,cACXC,UAAW,SACXC,YAAa,gBACbC,aAAc,cACdC,UAAW,QACXC,YAAa,eACbC,gBAAiB,GACjBC,iBAAkB,gDAClBC,oBAAqB,OACrBC,aAAc,qBACdC,SAAU,UAGVC,kBAAmB,+DACnBC,kBAAmB,iBACnBC,iBAAkB,mBAClBC,sBAAuB,iBACvBC,mBAAoB,cACpBC,uBAAwB,kBAGxBQ,WAAY,SACZ3oC,KAAM,QACN4oC,YAAa,OAGbC,SAAU,OAGVC,gBAAiB,SAGjBV,SAAU,OAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC7DK1iC,GAAA,CACdhG,KAAM,CACL2mC,WAAY,CAAC,YAAU,aAAW,QAAS,WAAS,SAAO,SAAO,SAAO,SAAU,YAAa,aAAW,WAAY,YACvHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,SAAO,SAAO,SAAO,MAAO,OAAQ,MAAO,MAAO,OAC5FC,SAAU,CAAC,cAAU,WAAY,SAAU,SAAU,eAAW,SAAU,UAC1EC,UAAW,CAAC,KAAM,KAAM,KAAM,KAAM,UAAM,KAAM,OAEjDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,WACTC,SAAU,sBACVC,UAAW,SACXC,UAAW,uBACXC,UAAW,mBACXC,YAAa,eACbC,aAAc,SACdC,UAAW,SACXC,YAAa,cACbC,gBAAiB,4DACjBC,iBAAkB,yDAClBC,oBAAqB,cACrBC,aAAc,iBAGdE,kBAAmB,mEACnBC,kBAAmB,sBACnBC,iBAAkB,aAClBC,sBAAuB,aACvBC,mBAAoB,0BACpBC,uBAAwB,8BAGxBQ,WAAY,UACZ3oC,KAAM,WACN4oC,YAAa,cAGbC,SAAU,MACVhB,SAAU,mBAGViB,gBAAiB,UAGjBV,SAAU,eAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,QAClBC,kBAAmB,mBACnBC,mBAAoB,aACpBC,kBAAmB,WACnBC,sBAAuB,gBACvBC,sBAAuB,SACvBC,uBAAwB,6BACxBC,YAAa,wBACbC,uBAAwB,gCACxBC,wBAAyB,UACzBC,yBAA0B,KAC1BC,sBAAuB,uBACvBC,wBAAyB,SACzBC,gCAAiC,gBACjCC,+BAAgC,SAChCC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAsB,SACtBC,kBAAmB,SACnBC,iBAAkB,6BAClBC,6BAA8B,cAC9BE,kBAAmB,YACnBD,kBAAmB,KACnBE,oBAAqB,CAAC,YAAU,aAAW,QAAS,WAAS,SAAO,SAAO,SAAO,SAAU,YAAa,aAAW,WAAY,YAChIC,kBAAmB,CAAC,YAAU,WAAY,SAAU,SAAU,eAAW,SAAU,YCxFtEplC,GAAA,CACdnF,KAAM,CACL2mC,WAAY,CAAC,UAAW,WAAY,OAAQ,QAAS,MAAO,OAAQ,OAAQ,UAAW,YAAa,UAAW,WAAY,YAC3HC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,YAAU,YAAU,SAAU,SAAU,UAAW,SAAU,aACxEC,UAAW,CAAC,SAAO,SAAO,MAAO,MAAO,MAAO,MAAO,WAEvDjI,OAAQ,CACPkI,qBAAsB,OACtBC,QAAS,MACTC,SAAU,QACVC,UAAW,WACXC,UAAW,iBACXC,UAAW,QACXC,YAAa,WACbC,aAAc,WACdC,UAAW,WACXC,YAAa,UACbC,gBAAiB,GACjBC,iBAAkB,sEAClBC,oBAAqB,cACrBC,aAAc,MACdC,SAAU,aAGVC,kBAAmB,6DACnBC,kBAAmB,sBACnBC,iBAAkB,cAClBC,sBAAuB,YACvBC,mBAAoB,kBACpBC,uBAAwB,oBAGxBQ,WAAY,aACZ3oC,KAAM,QACN4oC,YAAa,cAGbC,SAAU,QAGVC,gBAAiB,aAGjBV,SAAU,SAGVC,eAAe,0BACfC,aAAa,wBAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,WAClBC,kBAAmB,WACnBC,mBAAoB,eACpBC,kBAAmB,aACnBC,sBAAuB,MACvBC,sBAAuB,MACvBC,uBAAwB,kBACxBC,YAAa,eACbC,uBAAwB,qBACxBC,wBAAyB,UACzBC,yBAA0B,MAC1BC,sBAAuB,YACvBC,wBAAyB,WACzBC,gCAAiC,MACjCC,+BAAgC,WAChCC,kBAAmB,MACnBC,iBAAkB,IAClBC,qBAAsB,QACtBC,kBAAmB,WACnBC,iBAAkB,kBAClBC,6BAA8B,eAC9BE,kBAAmB,cACnBD,kBAAmB,QACnBE,oBAAqB,CAAC,UAAW,WAAY,OAAQ,QAAS,MAAO,OAAQ,OAAQ,UAAW,YAAa,UAAW,WAAY,YACpIC,kBAAmB,CAAC,YAAU,YAAU,SAAU,SAAU,UAAW,SAAU,eCxFpEK,GAAA,CACd5qC,KAAM,CACL2mC,WAAY,CAAC,OAAQ,WAAS,OAAQ,QAAS,WAAS,UAAW,SAAU,aAAW,WAAS,OAAQ,WAAS,aAClHC,YAAa,CAAC,MAAO,SAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SAAO,MAAO,MAAO,MAAO,OAC3FC,SAAU,CAAC,QAAS,YAAa,UAAQ,iBAAY,cAAY,OAAQ,aACzEC,UAAW,CAAC,MAAO,MAAO,MAAO,SAAO,MAAO,MAAO,QAEvDjI,OAAQ,CACPkI,qBAAsB,WACtBC,QAAS,SACTC,SAAU,QACVC,UAAW,KACXC,UAAW,QACXC,UAAW,SACXC,YAAa,WACbC,aAAc,WACdC,UAAW,aACXC,YAAa,MACbC,gBAAiB,GACjBC,iBAAkB,6BAClBC,oBAAqB,iBACrBC,aAAc,yBACdC,SAAU,aAGVC,kBAAmB,mDACnBC,kBAAmB,wBACnBC,iBAAkB,QAClBC,sBAAuB,QACvBC,mBAAoB,oBACpBC,uBAAwB,wCAGxBQ,WAAY,SACZ3oC,KAAM,QACN4oC,YAAa,iBAGbC,SAAU,SAGVC,gBAAiB,SAGjBV,SAAU,SAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,WC7DKmC,GAAA,CACd7qC,KAAM,CACL2mC,WAAY,CAAC,uCAAU,iCAAS,mDAAY,6CAAW,6CAAW,6CAAW,uCAAU,6CAAW,mDAAY,6CAAW,mDAAY,8CACrIC,YAAa,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sBAC3FC,SAAU,CAAC,uCAAU,yDAAa,mDAAY,uCAAU,uCAAU,8CAAY,wCAC9EC,UAAW,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,uBAEvDjI,OAAQ,CACPkI,qBAAsB,mDACtBC,QAAS,2BACTC,SAAU,6CACVC,UAAW,uCACXC,UAAW,0DACXC,UAAW,mDACXC,YAAa,6CACbC,aAAc,uCACdC,UAAW,+DACXC,YAAa,mDACbC,gBAAiB,GACjBC,iBAAkB,+MAClBC,oBAAqB,2BACrBC,aAAc,8FACdC,SAAU,oDAGVC,kBAAmB,iRACnBC,kBAAmB,oGACnBC,iBAAkB,+DAClBC,sBAAuB,mDACvBC,mBAAoB,8FACpBC,uBAAwB,sHAGxBQ,WAAY,6CACZ3oC,KAAM,2BACN4oC,YAAa,2BAGbC,SAAU,qBAGVC,gBAAiB,6CAGjBV,SAAU,6CAGVC,eAAe,iBACfC,aAAa,eAGbxJ,WAAW,KACXE,eAAe,SAGf9uB,KAAM,OACNmiB,KAAM,WACNkW,KAAM,OACNpoC,MAAO,QACPqoC,IAAK,MACLC,KAAK,OACLC,OAAQ,SAGRK,iBAAkB,2BAClBC,kBAAmB,6CACnBC,mBAAoB,uCACpBC,kBAAmB,qBACnBC,sBAAuB,uCACvBC,sBAAuB,2BACvBC,uBAAwB,2GACxBC,YAAa,qGACbC,uBAAwB,6DACxBC,wBAAyB,qEACzBC,yBAA0B,GAC1BC,sBAAuB,wEACvBC,wBAAyB,uCACzBC,gCAAiC,kCACjCC,+BAAgC,uCAChCC,kBAAmB,GACnBC,iBAAkB,GAClBC,qBAAsB,2BACtBC,kBAAmB,GACnBC,iBAAkB,2GAClBC,6BAA8B,yDAC9BE,kBAAmB,gBACnBD,kBAAmB,GACnBE,oBAAqB,CAAC,iCAAS,uCAAU,6CAAW,uCAAU,uCAAU,uCAAU,iCAAS,uCAAU,6CAAW,uCAAU,yDAAa,wCACvIC,kBAAmB,CAAC,6CAAW,+DAAc,yDAAa,6CAAW,yDAAa,oDAAa,gDCtF1F,MAAMO,GACZ9kD,WAAAA,CAAYpB,EAAW7F,GACtB,IADiCixB,EAAA9wB,UAAAC,OAAA,QAAAwxC,IAAAzxC,UAAA,GAAAA,UAAA,GAAQ,CAAC,EAC1CyB,KAAK+5B,MAAQ,CACZ1a,KAAM,IAAI5G,KACV2xC,MAAO,CAAC,OAAQ,SAAU,SAC1BC,aAAc,GACdC,WAAY,GACZC,iBAAkB,KACfl7B,GAEJrvB,KAAKwqD,UAAY,KACjBxqD,KAAKikB,QAAU,KACfjkB,KAAKyqD,sBAAwB,GAC7BzqD,KAAK0qD,UAAYzmD,EACjBjE,KAAK2qD,WAAa1mD,EAAU2mD,uBAC5B5qD,KAAK+5B,MAAQ/5B,KAAKm0C,WAClBre,EAAU91B,MACP5B,IAEF4B,KAAKwqD,UAAYpsD,EACjB4B,KAAKwE,OAAOxE,KAAKwqD,YAGlBxqD,KAAK6qD,eAAc,CAACjrD,EAAUuxC,KAC7BnxC,KAAKo2C,UAAU,gBAAiB,CAACjF,EAAUvxC,GAAA,GAE5C,CAEDu0C,QAAAA,GACC,MAAO,IACHn0C,KAAK+5B,MACRrM,KAAM1tB,KAAK+5B,MAAMqwB,MAAMpqD,KAAK+5B,MAAMwwB,kBAEnC,CAEDte,QAAAA,CAAShoC,GACR,MAAM7F,EAAW,IAAK4B,KAAK+5B,OACxB91B,EAASypB,OACXzpB,EAASsmD,iBAAmBvqD,KAAK+5B,MAAMqwB,MAAMp+C,QAAQ/H,EAASypB,OAE/D1tB,KAAK+5B,MAAQ,IAAK/5B,KAAK+5B,SAAU91B,GAEjCjE,KAAK8qD,mBAAmB1sD,EAAU4B,KAAK+5B,OAEnC/5B,KAAKwqD,WACRxqD,KAAKwE,OAAOxE,KAAKwqD,UAElB,CAEDK,aAAAA,CAAc5mD,GAIb,OAHAjE,KAAKyqD,sBAAsBl8C,KAAKtK,GAGzB,KACN,MAAM7F,EAAQ4B,KAAKyqD,sBAAsBz+C,QAAQ/H,IAAA,IAC7C7F,GACH4B,KAAKyqD,sBAAsBniB,OAAOlqC,EAAO,EACzC,CAEF,CAED0sD,kBAAAA,CAAmB7mD,EAAU7F,GAC5B4B,KAAKyqD,sBAAsB9pD,SAAQ0uB,GAAWA,EAAQprB,EAAU7F,IAChE,CAED2sD,WAAAA,CAAY9mD,GAEX,MAAMypB,KAACtvB,EAAIihB,KAAEgQ,GAAQrvB,KAAKm0C,WACpBv0C,EAAU,IAAI6Y,KAAK4W,GACZ,SAATjxB,EACHwB,EAAQorD,SAAS37B,EAAKqnB,WAAazyC,GAChB,WAAT7F,EACVwB,EAAQqrD,YAAY57B,EAAKonB,cAAgBxyC,GAEzCrE,EAAQqrD,YAAY57B,EAAKonB,cAA4B,GAAZxyC,GAE1CjE,KAAKisC,SAAS,CAAE5sB,KAAMzf,GACtB,CAEDsrD,WAAAA,GACC,MAAMjnD,GAAYjE,KAAK+5B,MAAMwwB,iBAAmB,GAAKvqD,KAAK+5B,MAAMqwB,MAAM5rD,OACtEwB,KAAKisC,SAAS,CAAEse,iBAAkBtmD,GAClC,CAEDknD,qBAAAA,CAAsBlnD,GACrB,MAAMypB,KAACtvB,EAAIihB,KAAEgQ,GAAQrvB,KAAKm0C,WAEpBv0C,EAASV,SAASC,cAAc,OACtCS,EAAOszC,UAAUn0C,IAAI,6BAErB,MAAMoyC,EAAgBjyC,SAASC,cAAc,UAE7CgyC,EAAc+B,UAAUn0C,IAAI,2BAA4B,iBAAkB,cAC1Ea,EAAO6I,YAAY0oC,GAEnB,MAAMiE,EAAal2C,SAASC,cAAc,OAG1C,GAFAi2C,EAAWlC,UAAUn0C,IAAI,4BAEZ,SAATX,EACHg3C,EAAWgW,UAAY/7B,EAAKg8B,eAAe,UAAW,CAAE7rC,MAAO,SAAY,IAAM6P,EAAKonB,mBAChF,GAAa,WAATr4C,EACVg3C,EAAWgW,UAAY/7B,EAAKonB,kBACtB,CACN,MAAMtvB,EAAkD,GAAtChV,KAAKk9B,MAAMhgB,EAAKonB,cAAgB,IAClDrB,EAAWgW,UAAA,GAAAllC,OAAeiB,EAAe,OAAAjB,OAAAiB,EAAY,EACrD,CAEDnnB,KAAK2qD,WAAWhP,OAAOvG,EAAY,QAASp1C,KAAKkrD,YAAYnkC,KAAK/mB,OAClEJ,EAAO6I,YAAY2sC,GAEnB,MAAMjF,EAAejxC,SAASC,cAAc,UAE5CgxC,EAAa+C,UAAUn0C,IAAI,2BAA4B,iBAAkB,eACzEa,EAAO6I,YAAY0nC,GAEnBlsC,EAAUwE,YAAY7I,GAEtBI,KAAK2qD,WAAWhP,OAAOxK,EAAe,QAASnxC,KAAK+qD,YAAYhkC,KAAK/mB,MAAO,IAC5EA,KAAK2qD,WAAWhP,OAAOxL,EAAc,QAASnwC,KAAK+qD,YAAYhkC,KAAK/mB,KAAM,GAC1E,CAEDwE,MAAAA,CAAOP,GACNjE,KAAK2qD,WAAWW,YAChBtrD,KAAKwqD,UAAYvmD,GAAajE,KAAKwqD,UACnCxqD,KAAKwqD,UAAUpiD,UAAY,GAEvBpI,KAAKikB,UACRjkB,KAAKikB,QAAU/kB,SAASC,cAAc,OACtCa,KAAKikB,QAAQivB,UAAUn0C,IAAI,uBAE5BiB,KAAKikB,QAAQ7b,UAAY,GACzBpI,KAAKwqD,UAAU/hD,YAAYzI,KAAKikB,SAEhCjkB,KAAKmrD,sBAAsBnrD,KAAKikB,SAChC,MAAM7lB,EAAgBc,SAASC,cAAc,OAC7Cf,EAAc80C,UAAUn0C,IAAI,2BAC5BiB,KAAKikB,QAAQxb,YAAYrK,GAEzB,MAAMsvB,KAAC2B,GAAQrvB,KAAKm0C,WACP,SAAT9kB,EACHrvB,KAAKurD,eAAentD,GACD,WAATixB,EACVrvB,KAAKwrD,iBAAiBptD,GAEtB4B,KAAKyrD,gBAAgBrtD,EAEtB,CAEDstD,oBAAAA,CAAqBznD,GACpB,MAAMob,KAACjhB,GAAQ4B,KAAKm0C,WACd9kB,EAAYrvB,KAAK0qD,UAEvB,IAAI9qD,EAAcyvB,EAAUhQ,KAAKssC,WAAW,IAAIlzC,KAAKra,IACrD,MAAM+yC,EAAU9hB,EAAUhQ,KAAKtgB,IAAIswB,EAAUhQ,KAAKssC,WAAW,IAAIlzC,KAAKra,IAAQ,EAAG,QAEjF6F,EAAoBivC,UAAUn0C,IAAI,2BAElC,MAAMq2C,EAAc/lB,EAAUhQ,KAAKusC,YAAY,MAE/C,KAAOhsD,EAAYyI,UAAY8oC,EAAQ9oC,WAAW,CACjD,MAAM8nC,EAAQiF,EAAYx1C,GAEpBunB,EAAajoB,SAASC,cAAc,OAC1CgoB,EAAW1lB,aAAa,WAAY7B,EAAYisD,UAChD1kC,EAAW+rB,UAAUn0C,IAAI,8BACzBooB,EAAWikC,UAAYjb,EACvBlsC,EAAoBwE,YAAY0e,GAEhCvnB,EAAcyvB,EAAUhQ,KAAKtgB,IAAIa,EAAa,EAAG,MACjD,CAED,CAEDksD,aAAAA,CAAc7nD,EAAK7F,GAClB,MAAMixB,EAAYrvB,KAAK0qD,UACvB,IAAI9qD,EAAQ,EACRuxC,EAAW,IAAI14B,KAAKxU,GACxB,KAAMktC,EAAS9oC,UAAYjK,EAAIiK,WAC9BzI,GAAS,EACTuxC,EAAW9hB,EAAUhQ,KAAKssC,WAAWt8B,EAAUhQ,KAAKtgB,IAAIoyC,EAAU,EAAG,SAEtE,OAAOvxC,CACP,CAED2rD,cAAAA,CAAetnD,GACd,MAAMob,KAACjhB,EAAIisD,aAAEh7B,EAAYi7B,WAAE1qD,EAAUmsD,SAAE5a,GAAYnxC,KAAKm0C,WAExD,IAAIiB,EAAmB/lB,EAAa,GAChC8gB,EAAmB9gB,EAAa,GAEpC,MAAMlI,EAAiBvnB,EAAW0wC,QAAO,CAAChhB,EAAK/H,KAE9C+H,EADiBtvB,KAAK0qD,UAAUrrC,KAAK2sC,UAAU,IAAIvzC,KAAK8O,IAC3Clf,YAAa,EACnBinB,IACL,CAAE,GAICpI,EAAsBhoB,SAASC,cAAc,OACnDa,KAAK0rD,qBAAqBxkC,GAC1BjjB,EAAUwE,YAAYye,GAEtB,MAAMkqB,EAAYpxC,KAAK0qD,UACjBpsD,EAAY8yC,EAAU/xB,KAAKssC,WAAWva,EAAU/xB,KAAK4sC,YAAY,IAAIxzC,KAAKra,KAC1EkpB,EAAa8pB,EAAU/xB,KAAK4sC,YAAY,IAAIxzC,KAAKra,IACjDuB,EAAWyxC,EAAU/xB,KAAKtgB,IAAIqyC,EAAU/xB,KAAK4sC,YAAY,IAAIxzC,KAAKra,IAAQ,EAAG,SACnF,IAAIgR,EAAWgiC,EAAU/xB,KAAKtgB,IAAIqyC,EAAU/xB,KAAK4sC,YAAY,IAAIxzC,KAAKra,IAAQ,EAAG,SACjF,MAAM4F,EAAiBotC,EAAU/xB,KAAK6sC,UAAU9a,EAAU+a,gBACjC,IAAtB/8C,EAASy8C,WACXz8C,EAAWgiC,EAAU/xB,KAAKtgB,IAAIqyC,EAAU/xB,KAAKssC,WAAWv8C,GAAW,EAAG,SAGvE,IAAItP,EAAQE,KAAK8rD,cAAcxtD,EAAW8Q,GACvC+hC,GAAYrxC,EAAQqxC,IACtB/hC,EAAWgiC,EAAU/xB,KAAKtgB,IAAIqQ,EAAW+hC,EAAWrxC,EAAQ,SAG7D,IAAIC,EAAWzB,EAEf,MAAMH,EAAmBe,SAASC,cAAc,OAShD,IARAhB,EAAiB+0C,UAAUn0C,IAAI,2BAE/BiB,KAAK2qD,WAAWhP,OAAOx9C,EAAkB,SAAUmxB,IAClD,MAAM/H,EAAW+H,EAAM3hB,OAAOyrC,QAAQ,oBAChC/6C,EAAO,IAAIoa,KAAK8O,EAAS8pB,aAAa,mBAC5CrxC,KAAKo2C,UAAU,cAAe,CAAC/3C,EAAMixB,GAAA,IAGhCvvB,EAASsI,UAAY+G,EAAS/G,WAAU,CAC7C,MAAMinB,EAAapwB,SAASC,cAAc,OAC1CmwB,EAAW7tB,aAAa,iBAAkB2vC,EAAUgb,UAAUC,YAAYtsD,IAC1EuvB,EAAW7tB,aAAa,WAAY1B,EAAS8rD,UAC7Cv8B,EAAWlnB,UAAYrI,EAAS42C,UAE7B52C,EAASsI,UAAYif,EAAWjf,UAClCinB,EAAW4jB,UAAUn0C,IAAI,cACjBgB,EAASsI,WAAa1I,EAAS0I,WACvCinB,EAAW4jB,UAAUn0C,IAAI,aAGD,IAAtBgB,EAAS8rD,UAAwC,IAAtB9rD,EAAS8rD,UACtCv8B,EAAW4jB,UAAUn0C,IAAI,8BAGvBgB,EAASsI,WAAarE,EAAeqE,WACvCinB,EAAW4jB,UAAUn0C,IAAI,WAGvBq2C,GAAoBjF,GACnBpwC,EAASsI,WAAa+sC,EAAiB/sC,WAAatI,EAASsI,UAAY8nC,EAAiB9nC,WAC5FinB,EAAW4jB,UAAUn0C,IAAI,8BAIxBooB,EAAepnB,EAASsI,YAC1BinB,EAAW4jB,UAAUn0C,IAAI,4BAG1BuwB,EAAW4jB,UAAUn0C,IAAI,2BAEzBZ,EAAiBsK,YAAY6mB,GAC7BvvB,EAAWqxC,EAAU/xB,KAAKtgB,IAAIgB,EAAU,EAAG,MAC3C,CAEDkE,EAAUwE,YAAYtK,EAEtB,CAEDqtD,gBAAAA,CAAiBvnD,GAChB,MAAMob,KAACjhB,GAAQ4B,KAAKm0C,WAEd9kB,EAAUnwB,SAASC,cAAc,OACvCkwB,EAAQ6jB,UAAUn0C,IAAI,6BAEtB,MAAMa,EAAS,GACf,QAAQunB,EAAI,EAAGA,EAAI,GAAIA,IACtBvnB,EAAO2O,KAAK,IAAIkK,KAAKra,EAAKq4C,cAAetvB,EAAG,IAG7C,MAAMgqB,EAAcnxC,KAAK0qD,UAAUrrC,KAAKusC,YAAY,MACpDhsD,EAAOe,SAAQwmB,IACd,MAAMD,EAAehoB,SAASC,cAAc,OAC5C+nB,EAAagsB,UAAUn0C,IAAI,4BACxBX,EAAKs4C,aAAevvB,EAAMuvB,YAC5BxvB,EAAagsB,UAAUn0C,IAAI,8BAE5BmoB,EAAazlB,aAAa,aAAc0lB,EAAMuvB,YAC9CxvB,EAAa9e,UAAY+oC,EAAYhqB,GACrCnnB,KAAK2qD,WAAWhP,OAAOz0B,EAAc,SAAS,KAC7C,MAAMkqB,EAAU,IAAI34B,KAAK0O,GACzBnnB,KAAKisC,SAAS,CACb5sB,KAAM+xB,EACN1jB,KAAM,QACL,IAEH2B,EAAQ5mB,YAAYye,EAAa,IAElCjjB,EAAUwE,YAAY4mB,GAEtB,MAAM+lB,EAAWl2C,SAASC,cAAc,OACxCi2C,EAASlC,UAAUn0C,IAAI,2BACvB,MAAMoxC,EAAUjxC,SAASC,cAAc,UACvCgxC,EAAQib,UAAY,OACpBjb,EAAQ+C,UAAUn0C,IAAI,+BACtBiB,KAAK2qD,WAAWhP,OAAOxL,EAAS,SAAS,KACxCnwC,KAAKisC,SAAS,CACbve,KAAM,QACL,IAEH0nB,EAAS3sC,YAAY0nC,GACrBlsC,EAAUwE,YAAY2sC,EACtB,CAEDqW,eAAAA,CAAgBxnD,GACf,MAAMob,KAACjhB,GAAQ4B,KAAKm0C,WACd9kB,EAAkD,GAAtCld,KAAKk9B,MAAMjxC,EAAKq4C,cAAgB,IAE5C72C,EAAUV,SAASC,cAAc,OACvCS,EAAQszC,UAAUn0C,IAAI,4BACtB,IAAK,IAAIoxC,EAAI9gB,EAAY,EAAG8gB,GAAK9gB,EAAY,GAAI8gB,IAAK,CACrD,MAAMhpB,EAAcjoB,SAASC,cAAc,OAC3CgoB,EAAYikC,UAAYjb,EACxBhpB,EAAY+rB,UAAUn0C,IAAI,2BAC1BooB,EAAY1lB,aAAa,YAAa0uC,GACnC/xC,EAAKq4C,gBAAkBtG,GACzBhpB,EAAY+rB,UAAUn0C,IAAI,8BAE3BiB,KAAK2qD,WAAWhP,OAAOx0B,EAAa,SAAS,KAC5CnnB,KAAKisC,SAAS,CACb5sB,KAAM,IAAI5G,KAAK03B,EAAG/xC,EAAKs4C,WAAY,GACnChpB,KAAM,cAGR9tB,EAAQ6I,YAAY0e,EAEpB,CACDljB,EAAUwE,YAAY7I,GAEtB,MAAMuxC,EAAWjyC,SAASC,cAAc,OACxCgyC,EAAS+B,UAAUn0C,IAAI,2BACvB,MAAMq2C,EAAUl2C,SAASC,cAAc,UACvCi2C,EAAQgW,UAAY,OACpBhW,EAAQlC,UAAUn0C,IAAI,+BACtBiB,KAAK2qD,WAAWhP,OAAOvG,EAAS,SAAS,KACxCp1C,KAAKisC,SAAS,CACbve,KAAM,UACL,IAEHyjB,EAAS1oC,YAAY2sC,GACrBnxC,EAAUwE,YAAY0oC,EACtB,CAEDwU,UAAAA,GACC3lD,KAAKyqD,sBAAwB,GAC1BzqD,KAAKikB,UACPjkB,KAAKikB,QAAQ7b,UAAY,GACzBpI,KAAKikB,QAAQq1B,UAGdt5C,KAAK2qD,WAAWW,YAChBtrD,KAAKo2C,UAAU,YAAa,IAC5Bp2C,KAAKu2C,kBAELv2C,KAAK0qD,UAAY,IACjB,ECpUa,SAAQ4B,GAACzsD,GAEvB,MAAMoE,EAAY,CAAEglC,QAAS,SC5Cf,IAAgB9hB,GD4CD,SE5CCA,GAE/B,IAAID,EAAc,CACjBqlC,OAAQ,qDACRC,KAAM,mDACNhgB,IAAK,kDACLigB,KAAM,oDACNC,SAAU,uDACVC,YAAa,yDACb/E,KAAM,mDACNgF,aAAc,gDAGXxb,EAAqB,CACxBmb,OAAQ,qCACRC,KAAM,mCACNhgB,IAAK,kCACLigB,KAAM,+BACNC,SAAU,2GACVC,YAAa,qCACb/E,KAAM,mCACNiF,MAAO,gCAGR1lC,EAAU2lC,qBAAuB,CAChCC,YAAa,SAASzuD,GACrB,IACIgpB,EAAmB8pB,EAAmB9yC,GAAS,2BAA6B8yC,EAAmB9yC,GAAQ,IAAO,GAClH,MACC,IAAIA,EAAJ,gMAHoC4oB,EAAY5oB,IAAS4oB,EAAY0lC,cAAA,MAKhDtlC,EAAoBA,EAAA,KAA2B,GACrE,EACD0lC,mBAAoB,SAAS1uD,GAC5B,MAAO,qSAGP,GAGF6oB,EAAU8lC,mBAAqB,WAC9B,MAAM,IAAI5pD,MAAM,2FAA6F+tC,EAAmBsb,SAAA,mBAE7GxlC,EAAYwlC,SAChC,EAEAvlC,EAAU+lC,gBAAkB,WAC3B,MAAM,IAAI7pD,MAAM,wFAA0F+tC,EAAmBqb,KAAA,mBAE1GvlC,EAAYulC,KAChC,EAEAtlC,EAAUgmC,eAAiB,WAC1B,MAAM,IAAI9pD,MAAM,uFAAyF+tC,EAAmBob,KAAA,mBAEzGtlC,EAAYslC,KAChC,EAEArlC,EAAUimC,kBAAoB,WAC7B,MAAM,IAAI/pD,MAAA,mLAGX,EAEA8jB,EAAU8sB,eAAiB,WAC1B,MAAM,IAAI5wC,MAAA,0KAGX,EAEA8jB,EAAUkmC,YAAc,WACvB,MAAM,IAAIhqD,MAAM,CACf,4CACA,+HACA,iFACCorB,KAAA,MACH,EAEAtH,EAAUmmC,YAAc,WACvB,MAAM,IAAIjqD,MAAM,CACf,4CACA,+HACA,iFACCorB,KAAA,MACH,CAGC,EF3C6B,CAEfxqB,GG5CA,SAAgBpE,GAG/B,IAAIoE,ECHW,WAEd,IAAI7F,EAAY,SAAUixB,EAAUzvB,GACnCyvB,EAAWA,GAAYvQ,EAAiBuB,MACxCzgB,EAAcA,GAAekf,EAAiB03B,YAC9C,IAAIrF,EAAW,GACXiE,EAAa,CAChBuG,OAAQ,SAASxL,EAAIhpB,EAAOD,EAAUkqB,GACrCD,EAAS5iC,KAAK,CAAC0V,QAASksB,EAAI9vB,MAAM8G,EAAO4K,SAAU7K,EAAUF,QAASoqB,IACtE/hB,EAAS8gB,EAAIhpB,EAAOD,EAAUkqB,EAC9B,EACDsL,OAAQ,SAASvM,EAAIhpB,EAAOD,EAAUkqB,GACrCxxC,EAAYuwC,EAAIhpB,EAAOD,EAAUkqB,GACjC,QAAQ9yC,EAAI,EAAGA,EAAI6yC,EAAS3yC,OAAQF,IAAI,CACvC,IAAIgpB,EAAU6pB,EAAS7yC,GACnBgpB,EAAQrD,UAAYksB,GAAM7oB,EAAQjH,QAAU8G,GAASG,EAAQyK,WAAa7K,GAAYI,EAAQN,UAAYoqB,IAC7GD,EAAS7I,OAAOhqC,EAAG,GACnBA,IAED,CACD,EACDgtD,UAAW,WAGV,IAAK,IAFDnb,EAAcgB,EAASlwC,QAElBkmB,EAAI,EAAGA,EAAIgpB,EAAY3xC,OAAQ2oB,IAAI,CAC3C,IAAID,EAAUipB,EAAYhpB,GAC1BiuB,EAAWsH,OAAOx1B,EAAQjD,QAASiD,EAAQ7G,MAAO6G,EAAQ6K,SAAU7K,EAAQF,SAC5EouB,EAAWsH,OAAOx1B,EAAQjD,QAASiD,EAAQ7G,MAAO6G,EAAQ6K,cAAU,GACpEqjB,EAAWsH,OAAOx1B,EAAQjD,QAASiD,EAAQ7G,MAAO6G,EAAQ6K,UAAA,GAC1DqjB,EAAWsH,OAAOx1B,EAAQjD,QAASiD,EAAQ7G,MAAO6G,EAAQ6K,UAAU,EACpE,CACDof,EAAS7I,OAAO,EAAG6I,EAAS3yC,OAC5B,EACD8kB,OAAQ,WACP,OAAOllB,EAAU4B,KAAKqgB,MAAOrgB,KAAKw2C,YAClC,GAEF,OAAOpB,CACT,EAEC,OAAOh3C,GACR,CAzCe,GDKfyB,EAAUwgB,MAAQpc,EAAU03C,OAC5B97C,EAAU22C,YAAcvyC,EAAUy4C,OAClC78C,EAAU0tD,gBAAkBtpD,EAAUqnD,UACtCzrD,EAAU+qD,qBAAuB3mD,EAAUqf,OAG3CzjB,EAAU2tD,MAAQ,SAASpvD,GAE1B,OADWoe,OAAOld,UAAUiE,MAAQ,WAAY,OAAOvD,KAAK2B,QAAQ,aAAc,GAAI,GAC1EwN,MAAM/Q,EACnB,EAEAyB,EAAU4tD,QAAU,SAASrvD,GAC5B,SAAIA,GAAqB,iBAAPA,OACPA,EAAIq4C,aAAer4C,EAAIs4C,UAAYt4C,EAAIu4C,QAInD,EAEA92C,EAAU6tD,UAAY,SAAStvD,GAC9B,OAAQA,GAAqB,iBAAPA,CACvB,CAEA,CHiBC6gB,CAAOhb,GKzCO,SAAgBkjB,GAE/B2O,EAAU3O,GAEVtI,EAAQsI,GAERA,EAAUwmC,gBAAkB,SAAS3pD,EAAIlE,EAAOC,GAC3CiE,EAAGiL,oBACNjL,EAAGiL,oBAAoBnP,EAAOC,GAAA,GAErBiE,EAAGod,aACZpd,EAAGod,YAAY,KAAKthB,EAAOC,EAE7B,EAGAonB,EAAUymC,WAAa,YCtBR,SAAgB/tD,GAE9B,SAASoE,EAAektC,GAGvB,QAFIiE,EAAOl2C,SAASgH,KAEdirC,GAAaA,GAAaiE,GAC/BjE,EAAYA,EAAUrjC,WAGvB,OAAUsnC,GAAQjE,CAClB,CAED,SAAS/yC,EAAc+yC,GACtB,MAAO,CACN5pB,EAAI4pB,EAAOwN,YAAcz/C,SAAS4jB,gBAAgB+qC,YAClD5pD,EAAIktC,EAAOyN,aAAe1/C,SAAS4jB,gBAAgBgrC,aAEpD,CAKD,SAASz+B,EAAmB8hB,EAAWiE,GACtC,IACIjF,EADAhpB,EAAU/oB,EAAcg3C,GAE5BjE,EAAU9wB,MAAM+0B,EAAQ,UAAU,WACjClsB,aAAainB,GACbA,EAAcnnB,YAAW,WAExB,GAAK/kB,EAAektC,EAAU6D,cAAe7D,EAAU4c,WAAvD,CAGA,IAda7mC,EAAEkqB,EAcX9yC,EAAUF,EAAcg3C,GAdbhE,EAiBM9yC,IAjBR4oB,EAiBDC,GAhBLI,GAAK6pB,EAAE7pB,GAAKL,EAAEjjB,GAAKmtC,EAAEntC,KAiB3BkjB,EAAU7oB,EACVsB,EAAuBuxC,GANvB,CAQD,GAAE,IACN,GACE,CAED,SAASvxC,EAAuBuxC,IAC5BA,EAAU4c,YAAe5c,EAAU6c,OAAU/pD,EAAektC,EAAU6c,QAGrE7c,EAAUiF,UAAU,oBAAqB,MAC5CjF,EAAU8c,aACV9c,EAAUiF,UAAU,yBAA0B,IAE/C,EA2BD,SAA2BjF,GAC1B,IAAIiE,EAAOjE,EAAU6D,WAE8B,UAD7B/1C,OAAOs4C,iBAAiBnC,GAC3B8Y,iBAAiB,cACnC9Y,EAAKrpC,MAAMmoC,SAAW,YAGvB,IAAI/D,EAAgBjxC,SAASC,cAAc,UAC3CgxC,EAAc+E,UAAY,qCAC1B/E,EAAcwJ,UAAY,EACvBxI,EAAUkC,OAAO8a,sBACnBhe,EAAc1uC,aAAa,OAAQ,QACnC0uC,EAAc1uC,aAAa,eAAe,IAIZxC,OAAamvD,MAAOnvD,OAAWovD,IAAKpvD,OAAaqvD,KAzCjF,SAAyBnnC,GACxB,IAAID,EAAiBC,EAAU6mC,MAAMtW,aACjCtG,EAAgBjqB,EAAU6mC,MAAM5T,aAAA,SAE3B97C,IACL6oB,EAAU4mC,aAIV5mC,EAAU6mC,QACR7mC,EAAU6mC,MAAMtW,cAAgBxwB,GACnCC,EAAU6mC,MAAM5T,aAAehJ,GAC/BxxC,EAAuBunB,GAGxBD,EAAiBC,EAAU6mC,MAAMtW,aACjCtG,EAAgBjqB,EAAU6mC,MAAM5T,aAGjCpxB,WAAW1qB,EAAuB,KAClC,CAlBmC,EAqBpC,CAvBD,CA2CkB6yC,IAEhBiE,EAAK3sC,YAAY0nC,GACbA,EAAc5tB,cACjB8M,EAAmB8hB,EAAWhB,EAAc5tB,gBAG5C6yB,EAAK5sC,YAAY2nC,GACjB9gB,EAAmB8hB,EAAWlyC,SAGhC,CA7BD,CA+BkBY,EAEnB,EDxFC0uD,CAA0BpnC,GAE1BA,EAAUymC,WAAa,YACxB,EAEA,MAAM1mC,EAEI,SAAUljB,GACjB,OAAOmjB,EAAU4tB,cAAc/wC,EAC/B,EAJGotC,EAOI,SAAUptC,GACjB,MAAMlE,EAAUZ,SAASC,cAAc,OAEvC,OADAW,EAAQo1C,UAAY,iBACbp1C,CACP,EAXGxB,EAcI,SAAU0F,GACjB,MAAMlE,EAAUZ,SAASC,cAAc,OAEvC,OADAW,EAAQo1C,UAAY,eACbp1C,CACP,EASH,SAASwnB,EAAmBtjB,GAC3B,SACCA,EAAQixC,cAAc,oBACtBjxC,EAAQixC,cAAc,kBACtBjxC,EAAQixC,cAAc,oBAExB,CAkDA9tB,EAAUo8B,KAAK,SAASv/C,EAAGlE,EAAKC,GAC/B,IAAGC,KAAK+tD,WAAR,CAmCA,GAhCAjuD,EAAKA,GAAOqnB,EAAUglC,eACtBpsD,EAAKA,GAAM,OAERC,KAAKwuD,MACPxuD,KAAKu1C,gBAGNv1C,KAAKwuD,KAAmB,iBAANxqD,EAAgB9E,SAASq/C,eAAev6C,GAAIA,EAC9DhE,KAAKg1C,WAAah1C,KAAKwuD,KACvBxuD,KAAKguD,MAAQhuD,KAAKwuD,MAEdxuD,KAAKg1C,WAAW0C,cAAgB13C,KAAKg1C,WAAWoF,aAAgD,SAAjCp6C,KAAKg1C,WAAWjpC,MAAMmR,QAExFje,OAAO87B,QAAQC,MAAM7T,EAAU2lC,qBAAqBE,qBAAsBhtD,KAAKg1C,YAG7Eh1C,KAAKqzC,OAAO8a,qBAAuBnuD,KAAKqzC,OAAOob,2BACjDzuD,KAAKg1C,WAAWvzC,aAAa,OAAQ,eAGlCzB,KAAKqzC,OAAOqb,QAAWpnC,EAAmBtnB,KAAKg1C,cAGlDh1C,KAAKqzC,OAAOqb,OA3Ed,SAA6BvwD,GAC5B,MAAMmxB,EAAQ,CACb,MACA,OACA,SAWD,GAAGnxB,EAAUwwD,OACZ,UAAUpnC,KAAKppB,EAAUwwD,OACxBr/B,EAAM/gB,KAAKgZ,GAGb,GAAGppB,EAAUywD,OACZ,UAAUrnC,KAAKppB,EAAUywD,OACxBt/B,EAAM/gB,KAAKgZ,GAIb,GAAGppB,EAAU0wD,OAAS1wD,EAAU0wD,MAAMC,MACrC,UAAUvnC,KAAKppB,EAAU0wD,MAAMC,MAC9Bx/B,EAAM/gB,KAAKgZ,GAiBb,MAbsB,CACrB,MACA,SACA,cACA,QAGa5mB,SAAQ,SAAS4mB,GAC3BppB,EAAUopB,EAAW,UACvB+H,EAAM/gB,KAAKgZ,EAEd,IAEQ+H,EAAMpJ,OAvCA,CACZ,SAsCyBA,OApCd,CACX,OACA,QACA,QAkCF,CA9CA,CA2E2ClmB,MACzCf,OAAO87B,QAAQxoB,IAAI,CAClB,mHACA,yCACA,6BAA+Bi2B,KAAKC,UAAUzoC,KAAKqzC,OAAOqb,OAAQ,KAAM,GACxE,6FACCjgC,KAAA,QAGCzuB,KAAKqzC,OAAOqb,OACf1uD,KAAKg1C,WAAW5sC,UAAY,GAC5BpI,KAAKg1C,WAAW9B,UAAUn0C,IAAI,qBAC3BiB,KAAKqzC,OAAOqb,OAAOxxC,SACrBld,KAAKq1C,GAAGC,WAAat1C,KAAKqzC,OAAOqb,OAAOxxC,QAEzCld,KAAKg1C,WAAWvsC,YAAYye,EAAqBlnB,KAAKqzC,OAAOqb,SAC7D1uD,KAAKg1C,WAAWvsC,YAAY2oC,KAC5BpxC,KAAKg1C,WAAWvsC,YAAYnK,UAG5B,IAAIgpB,EAAmBtnB,KAAKg1C,YAC3B,MAAM,IAAI3xC,MAAM,CACf,kEACA,8IACA,oLACCorB,KAAA,OAIAzuB,KAAKqzC,OAAO0b,MAAK/uD,KAAKg1C,WAAWE,WAAa,0BAG9Cl1C,KAAKgvD,YACR7nC,EAAU6nC,aAEX7nC,EAAU9H,KAAKkkC,OAEfvjD,KAAKivD,SAAA,EAELjvD,KAAKw1C,KAAK,GACVx1C,KAAKy1C,eACLz1C,KAAKkvD,iBACLlvD,KAAK01C,cAEL11C,KAAK4tD,aACL5tD,KAAKmvD,qBAELnvD,KAAKovD,YACLjoC,EAAUivB,UAAU,mBAAoB,IACxCjvB,EAAUkoC,cAAA,EACVrvD,KAAKs0C,eAAex0C,EAAKC,EA1ExB,CA4EF,EAEAonB,EAAUkuB,GAAG,CACZia,iBAAiB,GACjBC,WAAY,GACZC,YAAY,GACZC,aAAa,GACbC,aAAa,GACbC,mBAAmB,GACnBC,WAAW,GACXC,WAAW,EACXC,YAAY,EACZC,aAAa,IACbC,kBAAkB,GAClBC,oBAAqB,IAEtB9oC,EAAUjb,KAAK,CACdgkD,UAAU,GACVC,YAAY,IAGbhpC,EAAUJ,KAAO,SAAc/iB,EAASlE,GACvC,OAAGkE,EAAQ+iB,KACH/iB,EAAQ+iB,KAAKjnB,GAEb,WAAY,OAAOkE,EAAQmL,MAAMrP,EAAOvB,WACjD,EAEA4oB,EAAUioC,UAAU,WAEnB,IAAIprD,EAAIhE,KAAKowD,GAAKpwD,KAAKwuD,KAAKX,YAAY7tD,KAAKq1C,GAAGya,YAG5ChwD,EAAQE,KAAKqwD,YAAY,EAAGrwD,KAAKq1C,GAAGma,YAAYxvD,KAAKq1C,GAAGoa,aAExD1vD,EAA2BC,KAAKg1C,WAAWC,cAAc,8BAC1D9tB,EAAUmpC,qBACRvwD,KACHA,EAA2Bb,SAASC,cAAc,QACzB+1C,UAAY,4BACrCl1C,KAAKg1C,WAAW1T,aAAavhC,EAA0BC,KAAKw1C,KAAqB+a,eAAE,KAEpFxwD,EAAyBgM,MAAMw2B,QAAU,QAEzCviC,KAAKwwD,OAAOzwD,EAAyBiE,EAAEhE,KAAKq1C,GAAGqa,aAAe,EAAE,EAAG1vD,KAAKw1C,KAAqB+a,eAAE,GAAG9X,YAG/F14C,GACFA,EAAyB+N,WAAWtF,YAAYzI,GAI9CC,KAAKywD,YACJtpC,EAAU6tB,WAAWoF,YAAe,MAEvCp6C,KAAK0wD,eAAexxD,SAAS+1C,cAAc,oBAI7Cj1C,KAAK2wD,YAAc3sD,EAAElE,EAErBE,KAAKw1C,KAAsBob,gBAAE,GAAG7kD,MAAMkR,MAAQjZ,EAAI,KAClD,MAAM7F,EAAS6B,KAAKw1C,KAAqB+a,eAAE,GAC3CvwD,KAAKwwD,OAAOryD,EAAQ6B,KAAK2wD,YAAa3wD,KAAKq1C,GAAGqa,cAE9CvxD,EAAO4N,MAAMmY,KAAO,GACpB/lB,EAAO4N,MAAMsuC,MAAQ,GACjBr6C,KAAKqwD,YAOJrwD,KAAKqzC,OAAO0b,IAGf5wD,EAAO4N,MAAMsuC,MAAQ,OAFrBl8C,EAAO4N,MAAMmY,KAAO,OAPlBlkB,KAAKqzC,OAAO0b,IACd5wD,EAAO4N,MAAMsuC,MAAA,GAAAn0B,OAAWlmB,KAAKq1C,GAAGma,YAAA,MAEhCrxD,EAAO4N,MAAMmY,KAAA,GAAAgC,OAAUlmB,KAAKq1C,GAAGma,YASlC,OACAroC,EAAUqpC,OAAO,SAASxsD,EAAKlE,EAAEC,EAAE5B,EAAEmxB,GACpC,SAAS/H,EAAarjB,GACrB,IAAIqmB,EAAWrmB,EAIf,OAHI/C,MAAM41C,OAAOxsB,MAChBA,EAAWpY,KAAK0+C,IAAI,EAAEtmC,GAAY,MAE5BA,CACP,CAED,IAAIlsB,EAAY,YAEP,IAANyB,IACFkE,EAAK+H,MAAMkR,MAAQsK,EAAaznB,SAAA,IAG9BC,IACFiE,EAAK+H,MAAMmR,OAASqK,EAAaxnB,IAG9BxB,UAAUC,OAAO,aAEjBL,IACE6B,KAAKqzC,OAAO0b,MAAK1wD,EAAY,SACjC2F,EAAK+H,MAAM1N,GAAWF,EAAE,eAEtBmxB,IACFtrB,EAAK+H,MAAMqY,IAAIkL,EAAE,MAGpB,EACAnI,EAAUsuB,aAAa,WAEtB,MAAMzxC,EAAIhE,KAAKwuD,KAAKtd,qBAAqB,OACzC,IAAK,IAAIpxC,EAAE,EAAGA,EAAIkE,EAAIxF,OAAQsB,IAAI,CACjC,IAAIC,EAAYonB,EAAU2pC,cAAc9sD,EAAIlE,IAC5C,MAAM3B,EAAa6F,EAAIlE,GAAGuxC,aAAa,aAAertC,EAAIlE,GAAGuxC,aAAa,SAAW,GACjFtxC,IAAYA,EAAaA,EAAWW,MAAM,KAAK,IAC9CV,KAAKw1C,KAAKz1C,KAAaC,KAAKw1C,KAAKz1C,GAAY,IAClDC,KAAKw1C,KAAKz1C,GAAYwO,KAAKvK,EAAIlE,IAI/B,IAAIwvB,EAAQnI,EAAUtK,OAAOqhC,OAAO//C,EAAW,SAAWgpB,EAAUtK,OAAOqhC,OAAO//C,GAAY4B,GACzE,iBAAVuvB,GAAsBnxB,IAAe6F,EAAIlE,GAAGsI,YACtDknB,EAAQnxB,EAAWuC,MAAM,KAAK,IAC3B4uB,IACHtvB,KAAK69C,SAASkT,UAAU/sD,EAAIlE,GAAIwvB,GAChCtrB,EAAIlE,GAAGsI,UAAYknB,EAEpB,CACF,EAGA,MAAM3vB,EAAiBwnB,EAAUyjC,uBA2+CjC,SAASx7C,EAAkBpL,EAAWlE,GACrC,MAAMC,EAAQ,IAAI0Y,KAAKzU,GAGjB7F,GAFM,IAAIsa,KAAK3Y,GACQkxD,UAAYjxD,EAAMixD,WACN,MACzC,OAAO7+C,KAAKusC,IAAIvgD,EACjB,CA/+CAgpB,EAAUouB,cAAgB,WACzB51C,EAAe2rD,WAChB,EAEAnkC,EAAUuuB,YAAY,WACrB,IAAK,MAAM1xC,KAAKhE,KAAKw1C,KACpB,GAAIx1C,KAAKixD,OAAOjtD,GACf,QAASlE,EAAE,EAAGA,EAAIE,KAAKw1C,KAAKxxC,GAAGxF,OAAQsB,IAAI,CAC1C,MAAMC,EAAUC,KAAKw1C,KAAKxxC,GAAGlE,GACvB3B,EAAU6B,KAAKixD,OAAOjtD,GAAG+iB,KAAKhnB,GACpCJ,EAAeg8C,OAAO57C,EAAS,QAAS5B,EACxC,CAIHwB,EAAeg8C,OAAO37C,KAAKwuD,KAAM,eAAe,SAASxqD,GAExD,OADAA,EAAE6T,kBACK,CACT,IAEClY,EAAeg8C,OAAO37C,KAAKwuD,KAAM,aAAa,SAASxqD,GACjDmjB,EAAU+pC,mBACd/pC,EAAUgqC,eAAentD,EAC5B,IACCrE,EAAeg8C,OAAO37C,KAAKwuD,KAAM,aAAa,SAASxqD,GACjDmjB,EAAUiqC,oBACdjqC,EAAUkqC,eAAertD,EAC5B,IACCrE,EAAeg8C,OAAO37C,KAAKwuD,KAAM,WAAW,SAASxqD,GAC/CmjB,EAAUiqC,oBACdjqC,EAAUmqC,aAAattD,EAC1B,IACCrE,EAAeg8C,OAAO37C,KAAKwuD,KAAM,YAAY,SAASxqD,GACrDmjB,EAAUoqC,cAAcvtD,EAC1B,IACCrE,EAAeg8C,OAAO37C,KAAKwuD,KAAM,eAAe,SAASxqD,GAOxD,OANGmjB,EAAUmvB,WAAW,kBAEvBtyC,EAAM6T,iBAGasP,EAAUivB,UAAU,gBAAiB,CAACjvB,EAAUqqC,cAAcxtD,EAAM2J,QAAS3J,GAEnG,GACA,EACAmjB,EAAUywB,OAAO,SAAS5zC,GACrBhE,KAAKyxD,YAAYztD,IACrBmjB,EAAUuqC,mBACV1xD,KAAKihD,UAAA,GACFjhD,KAAKyxD,YACPzxD,KAAK2xD,WAEN3xD,KAAKyxD,WAAaztD,EAClBhE,KAAK4xD,YAAY5tD,GACjBhE,KAAKo2C,UAAU,kBAAmB,CAACpyC,IACpC,EACAmjB,EAAUwqC,SAAS,SAAS3tD,GAC3B,GAAIA,GAAMA,GAAIhE,KAAKyxD,WAClB,OAED,MAAM3xD,EAAoBE,KAAKyxD,WAC/BzxD,KAAKyxD,WAAa,KACd3xD,GAAqBE,KAAKq8C,SAASv8C,IACtCE,KAAK4xD,YAAY9xD,GAElBE,KAAKo2C,UAAU,oBAAqB,CAACt2C,GACtC,EACAqnB,EAAUgtB,SAAS,WAClB,MAAO,CACNzmB,KAAM1tB,KAAK6xD,MACXxyC,KAAM,IAAI5G,KAAKzY,KAAK8xD,OACpBC,SAAU,IAAIt5C,KAAKzY,KAAKgyD,WACxBC,SAAU,IAAIx5C,KAAKzY,KAAKkyD,WACxBC,UAAWnyD,KAAKoyD,SAChBC,YAAaryD,KAAKsyD,aAClB9L,UAAWxmD,KAAK+7C,WAChBwW,UAAWvyD,KAAKyxD,WAChBe,SAAUxyD,KAAKwyD,SACfC,QAASzyD,KAAK0yD,SACdC,UAAW3yD,KAAK4yD,WAElB,EACAzrC,EAAU8pC,OAAO,CAChB4B,aAAa,SAAS7uD,GAErB,GAAImjB,EAAUiqC,mBAKb,OAJIptD,EAAE6T,gBACL7T,EAAE6T,iBACH7T,EAAE8T,cAAe,EACjBqP,EAAUiqC,oBAAA,GACH,EAIR,MAAMtxD,EAAKqnB,EAAUqqC,cAAcxtD,EAAE2J,QAErC,GAAK7N,GAGJ,IAAMqnB,EAAUivB,UAAU,UAAU,CAACt2C,EAAGkE,KAAOmjB,EAAUksB,OAAOyf,SAAW,YAF3E3rC,EAAUivB,UAAU,eAAe,CAACjvB,EAAU4rC,cAAc/uD,GAAGqb,KAAMrb,IAKtE,GAAIlE,GAAMqnB,EAAUksB,OAAOuE,OAAQ,CAElCzwB,EAAUywB,OAAO93C,GACjB,MAAMC,EAAOiE,EAAE2J,OAAOyrC,QAAQ,kBAExBj7C,EAAOgpB,EAAU2pC,cAAc/wD,IAAA,GACjC5B,EAAK6N,QAAQ,UAChBmb,EAAU8pC,OAAOl3C,QAAQ5b,EAAKuC,MAAM,KAAK,GAAGiB,QAAQ,QAAQ,KAAK7B,EACrE,MACGqnB,EAAUuqC,mBACNvqC,EAAUgtB,WAAWoe,YAAA,IAAiB95C,MAAOpQ,WAAW8e,EAAU40B,YAAY,GAAK,KACtF50B,EAAUwqC,UAGZ,EACDqB,oBAAoB,WACnB7rC,EAAU8pC,OAAOgC,oBAAoB,GAAG,EACxC,EACDA,oBAAoB,SAASjvD,EAAMlE,GAClC,IAAIC,EAAW,EACXonB,EAAUksB,OAAO0b,MACpBjvD,GAAQA,EACRC,GAAYA,GAEbonB,EAAUmtB,eAAentB,EAAU9H,KAAKtgB,IACvCooB,EAAU9H,KAAK8H,EAAU0qC,MAAM,UAAU,IAAIp5C,KAAK0O,EAAU2qC,QAAShyD,GAAMC,EAAUonB,EAAU0qC,OAChG,EACDzL,qBAAqB,WAChBj/B,EAAUivB,UAAU,yBAA0B,KACjDjvB,EAAUmtB,eAAentB,EAAUglC,eAEpC,EACD+G,YAAY,WACX,MAAMlvD,EAAOhE,KAAKqxC,aAAa,YACzBvxC,EAAkBE,KAAKqxC,aAAa,QACpCtxC,EAAOiE,GAAQlE,EAAgBsM,UAAU,EAAGtM,EAAgB8f,OAAO,SACzEuH,EAAUmtB,eAAentB,EAAU2qC,MAAM/xD,EACzC,EACDga,QAAQ,CACPpF,OAAS,SAAS3Q,GACjB,MAAMlE,EAAIqnB,EAAUtK,OAAOqhC,OAAO6I,iBAClC5/B,EAAUgsC,gBAAgB,CAACx4B,QAAS76B,EAAGk+C,MAAO72B,EAAUtK,OAAOqhC,OAAOkV,uBAAwBrhC,SAAS,WAAY5K,EAAUq1B,YAAYx4C,EAAM,EAC/IqvC,OAAQ,CAAClQ,GAAIhc,EAAUtK,OAAOqhC,OAAO2I,cAErC,EACDwM,KAAK,SAASrvD,GAAKmjB,EAAUksC,KAAKrvD,EAAM,EACxCsvD,KAAK,SAAStvD,GAAKmjB,EAAU85B,UAAA,EAAiB,EAC9CH,QAAQ,SAAS98C,GAAKmjB,EAAUosC,aAAavvD,EAAM,EACnD0kC,KAAK,SAAS1kC,GAAKmjB,EAAUosC,aAAavvD,EAAM,EAChDo6C,OAAO,SAASp6C,GAAKmjB,EAAU85B,UAAA,EAAkB,IAGnD95B,EAAUgsC,gBAAkB,SAAAK,GAC3B,IADoC74B,QAAC32B,EAAOg6C,MAAEl+C,EAAKiyB,SAAEhyB,EAAQszC,OAAEl1C,GAC/Dq1D,EAAA,IAAKxvD,EACJ,OAAOjE,IAER5B,EAASA,GAAU,CAAC,EACpB,MAAMmxB,EAAO,IAAKnxB,EAAQ2hB,KAAM9b,GAC5BlE,IACHwvB,EAAK0uB,MAAQl+C,GAEVC,IACHuvB,EAAKyC,SAAW,SAASxK,GACpBA,GACHxnB,GAEJ,GAEConB,EAAUi4B,QAAQ9vB,EACnB,EACAnI,EAAUssC,YAAY,SAASzvD,EAAMlE,EAAIC,GACxC,IAAI5B,EAAO,CAAC,EACRgpB,EAAUumC,UAAU1pD,KAAWmjB,EAAUsmC,QAAQzpD,KACpD7F,EAAO6F,EACPA,EAAQ,MAGT,MAAMsrB,EAA+D,KAAnDtvB,KAAKqzC,OAAOqgB,gBAAgB1zD,KAAKqzC,OAAOsgB,WACrD3vD,IAAOA,EAAQ7F,EAAKkmD,YAAYlyC,KAAKgnC,MAAOhyB,EAAUglC,eAAgB9jD,UAAUinB,GAAUA,GAC/F,IAAI/H,EAAa,IAAI9O,KAAKzU,GAC1B,IAAKlE,EAAI,CACR,IAAIyqB,EAAavqB,KAAKqzC,OAAOugB,WACzBrpC,EAAahD,EAAWssC,aAC3BtsC,EAAWusC,SAASvpC,GACpBvmB,EAAQujB,EAAWlf,WAEpBvI,EAAMkE,EAAMqE,UAAUinB,CACtB,CACD,IAAIjxB,EAAW,IAAIoa,KAAK3Y,GAGrBynB,EAAWlf,WAAahK,EAASgK,WACnChK,EAAS01D,QAAQ11D,EAASgK,UAAUinB,GACrCnxB,EAAKkmD,WAAalmD,EAAKkmD,YAAY98B,EACnCppB,EAAKqmD,SAAYrmD,EAAKqmD,UAAUnmD,EAChCF,EAAK2hB,KAAO3hB,EAAK2hB,MAAM9f,KAAK6c,OAAOqhC,OAAOsI,UAC1CroD,EAAKqY,GAAKxW,KAAK0yD,SAAWv0D,EAAKqY,IAAMxW,KAAK42C,MAC1C52C,KAAK4yD,WAAW,WAChB5yD,KAAK47C,UAAA,EACL,MAAM13C,EAAUlE,KAAK81C,SAAS33C,GAM9B,OALA6B,KAAKo2C,UAAU,iBAAiB,CAACp2C,KAAK0yD,SAAS3yD,IAC/CC,KAAK47C,UAAA,EAEL57C,KAAKg0D,YAAY,CAAC,EAClBh0D,KAAKsxD,aAAavxD,GACXmE,CACR,EACAijB,EAAUoqC,cAAc,SAASvtD,EAAElE,GAElC,GADAA,EAAMA,GAAOkE,EAAE2J,OACX3N,KAAKqzC,OAAOyf,SAAU,OAC1B,MAAM/yD,EAAOonB,EAAU2pC,cAAchxD,GAAKY,MAAM,KAAK,GACrD,OAAOX,GACN,IAAK,mBACL,IAAK,uBACL,IAAK,iBACL,IAAK,kBACJ,IAAKonB,EAAUksB,OAAO4gB,gBAAiB,MACvCj0D,KAAKyzD,YAAYzzD,KAAK+yD,cAAc/uD,GAAGqb,KAAK,KAAKrb,GACjD,MACD,IAAK,gBACL,IAAK,iBACL,IAAK,kBACL,IAAK,4BACL,IAAK,iBACL,IAAK,qBACL,IAAK,sBAAuB,CAC3B,MAAM7F,EAAK6B,KAAKwxD,cAAc1xD,GAC9B,IAAKE,KAAKo2C,UAAU,aAAa,CAACj4C,EAAG6F,IAAK,OACtChE,KAAKqzC,OAAO6gB,qBAAuBl0D,KAAKqwD,cAAgBrwD,KAAKq8C,SAASl+C,GAAIg2D,SAAWn0D,KAAKqzC,OAAOuE,OACpG53C,KAAKuzD,aAAap1D,GAElB6B,KAAKqzD,KAAKl1D,GACX,KACA,CACD,IAAK,iBACL,IAAK,oBACJ,OACD,QAAS,CACR,MAAMA,EAAc6B,KAAK,YAAYD,GACrC,GAAI5B,EACHA,EAAYkD,KAAKrB,KAAKgE,QAGtB,GAAIlE,EAAIgO,YAAchO,GAAOE,KAC5B,OAAOmnB,EAAUoqC,cAAcvtD,EAAElE,EAAIgO,YAEvC,KACA,EAEH,EAEAqZ,EAAUitC,kBAAoB,SAASpwD,GACtC,IAAIlE,EAAS,EACb,GAAIE,KAAKq0D,MAAM,CACd,IAAIt0D,EAAQ,EACR5B,EAAI,EACR,KAAO4B,EAAQC,KAAKq0D,MAAMl2D,GAAK6F,GAAS7F,EAAI6B,KAAKq0D,MAAM71D,QACtDuB,GAASC,KAAKq0D,MAAMl2D,GACpBA,IAID,GAFA2B,EAAS3B,GAAK6B,KAAKq0D,MAAMl2D,IAAO6F,EAAQjE,GAAQC,KAAKq0D,MAAMl2D,GAAM,GAE7D6B,KAAKs0D,UACLx0D,GAAUE,KAAKq0D,MAAM71D,OACvB,KAAMsB,GAAU,GAAKE,KAAKs0D,SAASniD,KAAKk9B,MAAMvvC,KAC7CA,GAKH,CACD,OAAOA,CACR,EAGAqnB,EAAUotC,uBAAyB,SAASvwD,GAE3C,GAAIhE,KAAKq0D,MAEJ,CACJ,MAAMv0D,EAASE,KAAKo0D,kBAAkBpwD,EAAIqjB,GAI1C,OAFArjB,EAAIqjB,EAAElV,KAAKgR,IAAInjB,KAAKq0D,MAAM71D,OAAO,EAAG2T,KAAK0+C,IAAI,EAAE1+C,KAAK6wB,KAAKljC,GAAQ,IACjEkE,EAAIsrB,EAAEnd,KAAK0+C,IAAI,EAAE1+C,KAAK6wB,KAAW,GAANh/B,EAAIsrB,GAAMtvB,KAAKqzC,OAAOsgB,UAAU3zD,KAAKqzC,OAAOmhB,eAAe,GAAGx0D,KAAKqzC,OAAOugB,YAAY,GAAG5zD,KAAKqzC,OAAOsgB,WACzH3vD,CACP,CAPA,OAAOA,CAQT,EAEAmjB,EAAUstC,cAAc,SAASzwD,GAChC,IAAIlE,EACJ,MAAMC,EAAOb,SAASgH,KAChB/H,EAAkBe,SAAS4jB,gBAG5BhjB,EAFAE,KAAK00D,KAAK3Z,OAAS/2C,EAAGsV,QAAStV,EAAGuV,MAE9B,CACR8N,EAAErjB,EAAGoV,SAAWrZ,EAAKokB,YAAYhmB,EAAgBgmB,YAAY,GAAKpkB,EAAKm5C,WACvE5pB,EAAEtrB,EAAGqV,SAAWtZ,EAAKskB,WAAWlmB,EAAgBkmB,WAAW,GAAKtkB,EAAKk5C,WAHjE,CAAC5xB,EAAErjB,EAAGsV,MAAOgW,EAAEtrB,EAAGuV,OAMnBvZ,KAAKqzC,OAAO0b,KAAO/uD,KAAK20D,QAC3B70D,EAAIunB,EAAIrnB,KAAKg1C,WAAWC,cAAc,iBAAiBmF,YAAct6C,EAAIunB,EACzEvnB,EAAIunB,GAAKrnB,KAAK40D,YAAYxc,gBAAgBp4C,KAAKwuD,MAC5B,UAAfxuD,KAAK6xD,QACR/xD,EAAIunB,GAAKrnB,KAAKq1C,GAAGma,cAGlB1vD,EAAIunB,GAAGrnB,KAAK40D,YAAYxc,gBAAgBp4C,KAAKwuD,OAAOxuD,KAAKqwD,YAAY,EAAErwD,KAAKq1C,GAAGma,aAGhF,MAAMlgC,EAAWtvB,KAAKg1C,WAAWC,cAAc,iBAE/Cn1C,EAAIwvB,GAAGtvB,KAAK40D,YAAYtc,eAAehpB,GAAUtvB,KAAKw1C,KAAmBqd,aAAE,GAAGxuC,UAC9EvkB,EAAI+0D,GAAK7wD,EACT,MAAMujB,EAAUvnB,KAAK,SAASA,KAAK6xD,OACnC,GAAItqC,EACHznB,EAAMynB,EAAQlmB,KAAKrB,KAAKF,QAGxB,GAAKE,KAAKqwD,YAEH,CACN,MAAMhyD,EAAS2B,KAAKo0D,kBAAkBt0D,EAAIunB,GAC1C,IAAKrnB,KAAKq0D,QAAUr0D,KAAK20D,OACxB,OAAO70D,EACR,IAAIoE,EAAG,EACP,IAAKA,EAAG,EAAGA,EAAKlE,KAAK20D,OAAOG,QAAQt2D,UAC/BwB,KAAK20D,OAAOG,QAAQ5wD,GAAIpE,EAAIwvB,GADWprB,KAG5CpE,EAAIwvB,EAAEnd,KAAK6wB,KAA+C,IAAxC7wB,KAAK0+C,IAAI,EAAGxyD,GAAyB,EAAjB8T,KAAK0+C,IAAI,EAAE3sD,EAAG,IAAS,GAAGlE,KAAKqzC,OAAOsgB,YAExExsC,EAAUyrC,YAA4B,SAAd5yD,KAAK6xD,SAChC/xD,EAAIwvB,EAAuD,IAApDnd,KAAK0+C,IAAI,EAAE1+C,KAAK6wB,KAAK3kC,GAAQ,GAAoB,EAAjB8T,KAAK0+C,IAAI,EAAE3sD,EAAG,IAAS,GAAGlE,KAAKqzC,OAAOsgB,WAGvD,QAAnB3zD,KAAK4yD,YACJzrC,EAAU4tC,mBAAqB5tC,EAAUksB,OAAO2hB,kBACnDl1D,EAAIw0D,UAAW,EAEVt0D,KAAKg0D,YAAYiB,gBACrBj1D,KAAKg0D,YAAYiB,cAAgBj1D,KAAKk1D,uBAAuBl1D,KAAKg0D,YAAY3P,WAAYrkD,KAAKg0D,YAAYxP,SAAU,CAAE2Q,OAAO,EAAGC,OAAO,UAI3It1D,EAAIunB,EAAE,CACN,MAzBAvnB,EAAME,KAAKu0D,uBAAuBz0D,GA4BpC,OADAA,EAAIu1D,WAAa,IAAI58C,KACd3Y,CACR,EACAqnB,EAAUuqC,iBAAiB,WAC1B,IAAI,IAAIj5C,MAAOpQ,WAAW8e,EAAU40B,YAAY,GAAK,KAAO50B,EAAUirC,SAAS,CAC9E,MAAMpuD,EAAiBmjB,EAAUtK,OAAOqhC,OAAO4I,gBAE/C3/B,EAAUgsC,gBAAgB,CACzBx4B,QAAS32B,EACTg6C,MAAO72B,EAAUtK,OAAOqhC,OAAOoX,sBAC/BvjC,SAAU,WACT5K,EAAU85B,SAAS95B,EAAUksB,OAAOkiB,iBACpC,IAECvxD,IACFhE,KAAK0yD,SAAW1yD,KAAKw1D,UAAYx1D,KAAK4yD,WAAa,KAEpD,CACF,EACAzrC,EAAUsuC,eAAe,SAASzxD,EAAOlE,GACxC,OAAOkE,EAAmG,KAA3F,IAAKyU,KAAK0O,EAAU6qC,WAAY0D,oBAAoB,IAAKj9C,KAAKzU,GAAQ0xD,sBAA4B51D,GAAM,EAAE,EAC1H,EAEAqnB,EAAUwuC,gBAAkB,SAAS3xD,EAASlE,GAC7C,SAASC,EAAK5B,EAASmxB,EAAS/H,GAC/B,OAAUpV,KAAKusC,IAAIvgD,EAAUmxB,GAAW/H,CACxC,CAED,OAAKvjB,IAAWhE,KAAKw1D,cAOXx1D,KAAKw1D,UAAUI,YAAc51D,KAAKw1D,UAAUH,WAAcv1D,EAAQu1D,UAAYr1D,KAAKw1D,UAAUH,UAJzF,KAI+Gt1D,EAAKiE,EAAQ6wD,GAAGz7C,QAAStZ,EAAQ+0D,GAAGz7C,QAHnJ,IAGsKrZ,EAAKiE,EAAQ6wD,GAAGx7C,QAASvZ,EAAQ+0D,GAAGx7C,QAH1M,GAIf,EAEA8N,EAAU0uC,yBAA2B,SAAS7xD,GAC7C,IAAIlE,EACAqnB,EAAUwnC,SACb7uD,EAAMqnB,EAAUwnC,OAAOxnC,EAAU0qC,QAClC/xD,EAAMA,GAAQ,CAAEq1D,OAAO,EAAGC,OAAO,OAEjCpxD,EAAQ,IAAIyU,KAAKzU,GACjB,IAAIjE,EAAM,EAIV,OAHGD,EAAIg2D,mBAAqBh2D,EAAIi2D,mBAC/Bh2D,EAAyB,IAAlBD,EAAIk2D,WAAW,IAA0B,GAAjBhyD,EAAM6vD,WAAc7vD,EAAMiyD,eAAiB,GAE9D,EAANjyD,GAAWmjB,EAAU+uC,4BAA4BlyD,EAAOjE,EAAKD,GAAQC,EAC7E,EACAonB,EAAUgvC,uBAAyB,SAASnyD,EAAOlE,GAClD,IAAIC,EACAonB,EAAUwnC,SACb5uD,EAAMonB,EAAUwnC,OAAOxnC,EAAU0qC,QAElC9xD,EAAMA,GAAQ,CAAEo1D,OAAO,EAAGC,OAAO,OAEjC,MAAMj3D,EAAY,EAAN6F,EAAUmjB,EAAU+uC,4BAA4BlyD,EAAOlE,EAAUC,GAC7E,OAAO,IAAI0Y,KAAS,EAAJta,GAASgpB,EAAU+uC,4BAA4B/3D,GAAM,EAAG4B,GAAM,GAAK,GACpF,EAEAonB,EAAUgqC,eAAe,SAASntD,GACjC,GAAIhE,KAAK4yD,WAAW,CACnB,IAAI9yD,EAAIE,KAAKy0D,cAAczwD,GAC3B,GAAIhE,KAAK21D,gBAAgB31D,KAAKw1D,UAAW11D,GAAK,CAC7C,IAAIC,EAAO5B,EAIX,GAHI6B,KAAKoyD,UAAUpyD,KAAK0yD,UACvB1yD,KAAK0xD,oBAEF1xD,KAAK4yD,WACR,OAED,IAAItjC,EAAe,KAUnB,GATGtvB,KAAKw1D,YAAcx1D,KAAKw1D,UAAUI,aACpCtmC,EAAetvB,KAAKw1D,WACPI,WAAA,GAGd51D,KAAKw1D,UAAY11D,EAEjBE,KAAKw1D,UAAUI,WAAY,EAEN,UAAjB51D,KAAK4yD,WAAqB,CAa7B,GAVGtjC,IACFxvB,EAAMwvB,GAGPtvB,KAAK0xD,mBACL1xD,KAAK2xD,SAAS3xD,KAAKyxD,YACnBzxD,KAAK47C,UAAS,EAEd77C,EAAQC,KAAKo2D,mBAAmBt2D,GAAKuI,WAEhCrI,KAAKq2D,YAET,OADUr2D,KAAKo2C,UAAU,uBAAwB,CAACpyC,EAAGhE,KAAK0yD,YAO1D1yD,KAAK47C,UAAS,OACd57C,KAAKq2D,YAAYt2D,SANhBC,KAAK47C,UAAS,GAUhBz9C,EAAM4B,EACKC,KAAKq2D,YAGhB,IAAI9uC,EAAa,IAAI9O,KAAKzY,KAAKq2D,aAC3Bh4D,EAAW,IAAIoa,KAAKta,GACJ,OAAd6B,KAAK6xD,OAAgC,QAAd7xD,KAAK6xD,OAChCtqC,EAAWssC,YAAcx1D,EAASw1D,YACnCtsC,EAAW0uC,cAAgB53D,EAAS43D,eACnC53D,EAAW,IAAIoa,KAAKzY,KAAKq2D,YAAY,MAIvCr2D,KAAK0yD,SAAS1yD,KAAK42C,MACnB52C,KAAK81C,SAASvuB,EAAYlpB,EAAU2B,KAAK6c,OAAOqhC,OAAOsI,UAAWxmD,KAAK0yD,SAAU5yD,EAAIw2D,QAErFt2D,KAAKo2C,UAAU,iBAAiB,CAACp2C,KAAK0yD,SAAS1uD,IAC/ChE,KAAK47C,UAAA,EACL57C,KAAK4yD,WAAW,UAEhB,CAED,IAEI1uD,EAFAqmB,EAAWvqB,KAAKqzC,OAAOsgB,UACvBptC,EAAGvmB,KAAKq8C,SAASr8C,KAAK0yD,UAM1B,GAJIvrC,EAAUwnC,SACbzqD,EAAMijB,EAAUwnC,OAAOxnC,EAAU0qC,QAClC3tD,EAAMA,GAAQ,CAAEixD,OAAO,EAAGC,OAAO,OAEZ,QAAjBp1D,KAAK4yD,WACR7yD,EAAQC,KAAKgyD,UAAU3pD,UAAoD,KAAzCvI,EAAIwvB,EAAEtvB,KAAKqzC,OAAOsgB,UAAgB,GAAN7zD,EAAIunB,EAAK,KAClEvnB,EAAIy2D,QAAUv2D,KAAKqwD,cACvBtwD,GAA8C,IAArCC,KAAKqf,KAAKm3C,UAAUjwC,EAAG89B,cAG5BrkD,KAAKqwD,aAAerwD,KAAKy2D,qBAAA,IAAkBz2D,KAAKg0D,YAAY0C,oBAChE12D,KAAKg0D,YAAY0C,kBAAoB32D,EAAQwmB,EAAG89B,YAG7CrkD,KAAKg0D,YAAY0C,oBACpB32D,GAASC,KAAKg0D,YAAY0C,mBAG3B32D,EAAQC,KAAKy1D,eAAe11D,GAExBD,EAAIw0D,UAAYt0D,KAAKqzC,OAAO2hB,iBAAmBh1D,KAAKqwD,aAAensD,GAEtEnE,EAAQonB,EAAU0uC,yBAAyB91D,GAC3C5B,EAAMgpB,EAAUgvC,uBAAuBp2D,EAAMC,KAAKg0D,YAAYiB,gBAG9D92D,EAAMooB,EAAGi+B,SAASn8C,WAAWke,EAAG89B,WAAWh8C,UAAUtI,OAChD,CAGN,GAFAA,EAAQwmB,EAAG89B,WAAWh8C,UACtBlK,EAAMooB,EAAGi+B,SAASn8C,UACdrI,KAAKqwD,YAAa,CACrB,IAAIhpC,EAAcrnB,KAAKgyD,UAAU3pD,UAAUvI,EAAIwvB,EAAEtvB,KAAKqzC,OAAOsgB,UAAU,KAAS7zD,EAAIy2D,OAAO,EAAE,OAC7F,GAAkB,SAAdv2D,KAAK6xD,MAER,GADAxqC,EAAcrnB,KAAKy1D,eAAepuC,GAAa,GAC3CrnB,KAAK22D,iBAAmB,CAC3B,IAAIr3B,EAAM,MACNjY,GAAeF,EAAU9H,KAAK6sC,UAAU,IAAIzzC,KAAKta,EAAImhC,EAAI,IAAIj3B,YAChEtI,EAAQsnB,EAAciY,EAC9B,MACOnhC,EAAMkpB,OAGJrnB,KAAKqzC,OAAO2hB,gBACVl1D,EAAI82D,kBACP72D,EAAQonB,EAAU0uC,yBAAyBxuC,GAE3ClpB,EAAMgpB,EAAUgvC,uBAAuB9uC,EAAa,GAIjDvnB,EAAI82D,kBACP72D,EAAQsnB,EAERlpB,EAAMkpB,CAId,KAAW,CACN,IAAIuM,EAAgB5zB,KAAKqf,KAAK6sC,UAAU,IAAIzzC,KAAK8N,EAAGi+B,SAASn8C,UAAY,IAAIA,UACzEsrB,EAAe,IAAIlb,KAAKmb,GACxB1wB,EAAYlD,KAAKqzC,OAAOugB,WAExBngD,EAAiC,GAAG8W,GADzBvqB,KAAKqzC,OAAO2iB,UACJ9yD,GAEvBlD,KAAKqzC,OAAOsgB,UAAY,EACxB,IAAIzzB,EAAalgC,KAAKy0D,cAAczwD,GACpChE,KAAKqzC,OAAOsgB,UAAYppC,EAExB,IAAIsJ,EAAU/zB,EAAIwvB,EAAE/E,EAAS,IACzB0I,EAAU9gB,KAAKgR,IAAIrjB,EAAIwvB,EAAI,EAAG7b,GAAM8W,EAAS,IAC7CG,EAA2B,IAAbwV,EAAW5Q,EAI5BnxB,EADEgU,KAAKusC,IAAI7qB,EAAUnJ,GAAevY,KAAKusC,IAAIzrB,EAAUvI,GACjDkJ,EAAgBX,EAEhBW,EAAgBC,EAEvB11B,GAAuF,KAA1E,IAAKsa,KAAKta,GAAMu3D,oBAAsB/hC,EAAa+hC,qBAChE11D,KAAKw1C,KAAmBqd,aAAE,GAAG9mD,MAAM8qD,OAAO,WACxB,QAAd72D,KAAK6xD,OAAiC,OAAd7xD,KAAK6xD,QAChC1zD,EAAM6B,KAAKy1D,eAAet3D,GAC3B,CACD,GAAuB,YAAnB6B,KAAK4yD,WACR,GAAIz0D,GAAO6B,KAAKq2D,YAAY,CAC3B,IAAIniC,EAAQp0B,EAAI6V,QAAS3V,KAAKqwD,cAAgBvwD,EAAIy2D,OAAQ,MAAY,GACtEx2D,EAAQ5B,GAAK2B,EAAI6V,MAAM,EAAEue,GACzB/1B,EAAM6B,KAAKq2D,aAAaniC,GAAiB,IAAT3J,EACtC,MACMxqB,EAAQC,KAAKq2D,iBAGVl4D,GAAK4B,IACR5B,EAAI4B,EAAe,IAATwqB,EAEZ,CACD,IAAI9pB,EAAU,IAAIgY,KAAKta,EAAI,GACvB24D,EAAY,IAAIr+C,KAAK1Y,GAEzB,GAAoB,QAAjBC,KAAK4yD,YAAsBzrC,EAAUksB,OAAO0jB,kBAC5CD,GAAa3vC,EAAU6qC,YAAc7zD,GAAOgpB,EAAU+qC,WAAW,CAEnE,IAAI3rC,EAAG89B,YAAcl9B,EAAU6qC,YAAczrC,EAAGi+B,UAAYr9B,EAAU+qC,UAErE4E,EAAY,IAAIr+C,KAAK8N,EAAG89B,YACxBlmD,EAAM,IAAIsa,KAAK8N,EAAGi+B,cACd,CAEJ,IAAItS,EAAW/zC,EAAM24D,GAEjBA,GAAa3vC,EAAU6qC,WAC1B8E,EAAY,IAAIr+C,KAAK0O,EAAU6qC,WAC3BlyD,EAAIw0D,UAAYt0D,KAAKqzC,OAAO2hB,iBAAmBh1D,KAAKqwD,aACvDyG,EAAY,IAAIr+C,KAAK0O,EAAU0uC,yBAAyBiB,IACrD5yD,EAAI4xD,oBACNgB,EAAY,IAAIr+C,KAAKq+C,EAAUzuD,UAAYnE,EAAI4xD,oBAChD33D,EAAM,IAAIsa,KAAe,EAAVq+C,EAAc92D,KAAKk2D,4BAA4BY,EAAW92D,KAAKg0D,YAAYiB,cAAe/wD,KAEzG/F,EAAM,IAAIsa,MAAMq+C,EAAY5kB,KAG7B/zC,EAAM,IAAIsa,KAAK0O,EAAU+qC,WAErBpyD,EAAIw0D,UAAYt0D,KAAKqzC,OAAO2hB,iBAAmBh1D,KAAKqwD,aACpDnsD,EAAI6xD,kBACN53D,EAAM,IAAIsa,KAAKta,EAAIkK,UAAYnE,EAAI6xD,kBACpC53D,EAAM,IAAIsa,KAAS,EAAJta,EAAQ6B,KAAKk2D,4BAA4B/3D,EAAK,EAAG+F,GAAK,IACrE4yD,EAAY,IAAIr+C,KAAS,EAAJta,EAAQ6B,KAAKk2D,4BAA4B/3D,EAAK6B,KAAKg0D,YAAYiB,cAAe/wD,GAAA,IAChGlE,KAAK+0D,oBACP+B,EAAY3vC,EAAU9H,KAAKtgB,IAAI+3D,EAAW5yD,EAAIixD,OAAQjxD,EAAIkxD,QAC1Dj3D,EAAM,IAAIsa,KAAS,EAAJta,EAAQ6B,KAAKk2D,4BAA4B/3D,EAAK,EAAG+F,GAAA,IAChE/F,EAAMgpB,EAAU9H,KAAKtgB,IAAIZ,EAAK+F,EAAIixD,OAAQjxD,EAAIkxD,UAI/C0B,EAAY,IAAIr+C,MAAMta,EAAM+zC,GAK9B,CACGzxC,EAAU,IAAIgY,KAAKta,EAAI,EAC3B,CAiCD,IA5BI6B,KAAKqwD,aAAerwD,KAAKy2D,iBAC3BtvC,EAAUksB,OAAO2jB,aACf7vC,EAAU8vC,qBAAuBn3D,EAAIunB,GAAKrnB,KAAKk3D,gBAAgB,CAAC7S,WAAY,IAAI5rC,KAAK1Y,GAAQykD,SAAS,IAAI/rC,KAAK1Y,MAAa,IAAI0Y,KAAK1Y,GAAO8zD,WAAa7zD,KAAKqzC,OAAOugB,cACpK1hB,EAAW/zC,EAAM24D,EACE,QAAnB92D,KAAK4yD,aACJtzB,EAAMt/B,KAAKgyD,UAAU3pD,UAAqB,GAARvI,EAAIunB,EAAS,GAAM,KACzDyvC,EAAY,IAAIr+C,KAAK6mB,IACXw0B,SAAS9zD,KAAKqzC,OAAOugB,YAC/Bz1D,EAAM,IAAIsa,KAAKq+C,EAAUzuD,UAAY6pC,GACrCzxC,EAAU,IAAIgY,KAAKta,EAAI,KAKrB6B,KAAKqwD,aACPlpC,EAAUksB,OAAO2jB,cACf7vC,EAAUgwC,WAAar3D,EAAIunB,GAAKrnB,KAAKk3D,gBAAgB,CAAC7S,WAAY,IAAI5rC,KAAKta,GAAMqmD,SAAS,IAAI/rC,KAAKta,MAAW,IAAIsa,KAAKta,GAAK01D,YAAc7zD,KAAKqzC,OAAO2iB,aACrJ9jB,EAAW/zC,EAAM24D,EACjBx3B,EAAMt/B,KAAKgyD,UAAU3pD,UAAiB,GAANvI,EAAIunB,EAAK,GAAI,KACjDlpB,EAAMgpB,EAAU9H,KAAK6sC,UAAU,IAAIzzC,KAAK6mB,KACpCw0B,SAAS9zD,KAAKqzC,OAAO2iB,WACzBv1D,EAAU,IAAIgY,KAAKta,EAAI,GACD,QAAnB6B,KAAK4yD,aACPkE,EAAY,IAAIr+C,MAAMta,EAAM+zC,KAKzBlyC,KAAKqwD,aAAgB5vD,EAAQk2C,WAAWmgB,EAAUngB,WAAal2C,EAAQozD,WAAW7zD,KAAKqzC,OAAO2iB,WAAc7uC,EAAUiwC,WAG1H,GAFA7wC,EAAG89B,WAAWyS,EACdvwC,EAAGi+B,SAAS,IAAI/rC,KAAKta,GACjB6B,KAAKqzC,OAAOgkB,cAAc,CAE7B,IAAI7vC,EAAKL,EAAUquB,KAAmBqd,aAAE,GAAGxuC,UAC3CrkB,KAAKs3D,cACLnwC,EAAUquB,KAAmBqd,aAAE,GAAGxuC,UAAYmD,CAC9C,MACAxnB,KAAK4xD,YAAY5xD,KAAK0yD,UAEpB1yD,KAAKqwD,aACRrwD,KAAK6jD,aAAa7jD,KAAK0yD,UAAS,SAAStrC,GACxCA,EAAE8tB,WAAW,iCAClB,IAGGl1C,KAAKo2C,UAAU,cAAe,CAACp2C,KAAK0yD,SAAU1yD,KAAK4yD,WAAY5uD,GAC/D,CACH,SACMmjB,EAAUmvB,WAAW,eAAe,CACvC,IAAI/V,EAAKvgC,KAAKwxD,cAAcxtD,EAAE2J,QAAQ3J,EAAE4J,YACxC5N,KAAKo2C,UAAU,cAAc,CAAC7V,EAAGv8B,GACjC,CAEH,EACAmjB,EAAUkqC,eAAe,SAASrtD,EAAElE,GAGnC,GAAgB,GAAZkE,EAAE8V,SAGF9Z,KAAKqzC,OAAOyf,WAAY9yD,KAAK4yD,WAAjC,CACA9yD,EAAMA,GAAMkE,EAAE2J,QAAQ3J,EAAE4J,WACxB,IAAI7N,EAAYonB,EAAU2pC,cAAchxD,GAAKY,MAAM,KAAK,GASxD,OAPIV,KAAKqzC,OAAOkkB,iBAAgC,YAAbx3D,GAC/BD,EAAIgO,aAAA,IAAchO,EAAIgO,WAAWonC,UAAUlpC,QAAQ,yBACrDjM,EAAY,iBACZC,KAAKy2D,gBAAA,GAIC12D,GACP,IAAK,qBACL,IAAK,sBACAC,KAAKqwD,cACRrwD,KAAK4yD,WAAW,QACjB,MACD,IAAK,iBACL,IAAK,iBACJ5yD,KAAK4yD,WAAW,OAChB,MACD,IAAK,mBACJ5yD,KAAK4yD,WAAW,SACAzrC,EAAU2pC,cAAchxD,GACzBkM,QAAQ,wBAA0B,EAChDmb,EAAUwvC,kBAAA,EAEVxvC,EAAUwvC,kBAAmB,EAE9B,MACD,IAAK,mBACL,IAAK,uBACL,IAAK,iBACL,IAAK,kBACL,IAAK,sBACJ32D,KAAK4yD,WAAW,SAChB,MACD,IAAK,GACJ,GAAI9yD,EAAIgO,WACP,OAAOqZ,EAAUkqC,eAAertD,EAAElE,EAAIgO,YACvC,MACD,QACC,KAAKqZ,EAAUmvB,WAAW,gBAAkBnvB,EAAUivB,UAAU,cAAe,CAACr2C,EAAWiE,MACtFlE,EAAIgO,YAAchO,GAAOE,MAAqB,YAAbD,EACpC,OAAOonB,EAAUkqC,eAAertD,EAAElE,EAAIgO,YAGxC9N,KAAK4yD,WAAW,KAChB5yD,KAAK0yD,SAAS,KAGhB,GAAI1yD,KAAK4yD,WAAW,CACnB,IAAIz0D,EAAK6B,KAAKwxD,cAAc1xD,GAC5B,GAAKE,KAAKqzC,OAAO,QAAQrzC,KAAK4yD,aAAgB5yD,KAAKo2C,UAAU,eAAe,CAACj4C,EAAI6B,KAAK4yD,WAAY5uD,IAE7F,CAKJ,GAJAhE,KAAK0yD,SAAUv0D,GAEX6B,KAAKoyD,UAAUpyD,KAAK0yD,UAAa1yD,KAAKoyD,UAA+B,UAAnBpyD,KAAK4yD,aAC1D5yD,KAAK0xD,oBACF1xD,KAAK4yD,WACR,OAED5yD,KAAKg0D,YAAc7sC,EAAUqwC,YAAYx3D,KAAKq8C,SAASr8C,KAAK0yD,WAAa,IACzE1yD,KAAKw1D,UAAYx1D,KAAKy0D,cAAczwD,EACpC,MAXAhE,KAAK4yD,WAAW5yD,KAAK0yD,SAAS,CAY/B,CACD1yD,KAAKq2D,YAAY,IAnEmC,CAoErD,EAGAlvC,EAAUswC,wBAA0B,SAASzzD,GAC5C,IAAIlE,EAAS,CAAC,EACd,QAAQC,KAAKiE,EACU,IAAnBjE,EAAEiM,QAAQ,OACZlM,EAAOC,IAAA,GAGT,OAAOD,CACR,EACAqnB,EAAUuwC,4BAA8B,SAAS1zD,EAAOlE,GACvD,IAAIC,EAAUC,KAAKy3D,wBAAwBzzD,GACvC7F,EAAgB6B,KAAKy3D,wBAAwB33D,GACjD,QAAQwvB,KAAKnxB,EACR4B,EAAQuvB,WACJxvB,EAAcwvB,EAGxB,EAGAnI,EAAUmqC,aAAa,SAASttD,GAC/B,IAAIA,GAAiB,GAAZA,EAAE8V,SAAe9Z,KAAK23D,QAA/B,CACA,GAAI33D,KAAK4yD,YAAc5yD,KAAK0yD,SAAS,CACpC1yD,KAAKw1C,KAAmBqd,aAAE,GAAG9mD,MAAM8qD,OAAO,UAG1C,IAAI/2D,EAAUE,KAAK0yD,SACf3yD,EAAOC,KAAK4yD,WAEZz0D,GAAS6B,KAAKw1D,WAAax1D,KAAKw1D,UAAUI,iBACvC51D,KAAKg0D,YAAY0C,kBAExB,IAAIpnC,EAAGtvB,KAAKq8C,SAASr8C,KAAK0yD,UAC1B,GAAIv0D,IAAU6B,KAAKg0D,YAAY4D,eAAiB53D,KAAKg0D,YAAY3P,YAAc/0B,EAAG+0B,WAAWh8C,WAAWrI,KAAKg0D,YAAY3P,WAAWh8C,WAAainB,EAAGk1B,SAASn8C,WAAWrI,KAAKg0D,YAAYxP,SAASn8C,WAAW,CAC5M,IAAIkf,EAAyB,YAAjBvnB,KAAK4yD,WACjB,GAAK5yD,KAAKo2C,UAAU,uBAAuB,CAAC9mB,EAAItrB,EAAGujB,EAAQvnB,KAAKg0D,cAY/D,GADAh0D,KAAK0yD,SAAW1yD,KAAK4yD,WAAa,KAC9BrrC,GAAUvnB,KAAKqzC,OAAOwkB,eAAe,CAIxC,GAHA73D,KAAK2xD,WACL3xD,KAAK+7C,WAAW,IAAItjC,KAEhBzY,KAAKqwD,aAAerwD,KAAKqzC,OAAOykB,oBAAsB93D,KAAKqzC,OAAOuE,SAAW53C,KAAK+3D,cAAc/3D,KAAKq8C,SAASv8C,IAEjH,OADAqnB,EAAUivB,UAAU,YAAa,CAACt2C,EAASC,EAAMiE,IAC1ChE,KAAKuzD,aAAazzD,GAE1BE,KAAKw1D,WAAA,EACLx1D,KAAKyxD,WAAazxD,KAAKoyD,SAAWtyD,CACvC,MACUE,KAAK+7C,YACT/7C,KAAKo2C,UAAU7uB,EAAO,eAAe,iBAAiB,CAACznB,EAAQE,KAAKq8C,SAASv8C,UAvB3EynB,EACHvnB,KAAKw8C,YAAYltB,EAAG9Y,IAAA,IAEpBxW,KAAKg0D,YAAY4D,cAAA,EACjB53D,KAAK03D,4BAA4BpoC,EAAItvB,KAAKg0D,aAC1C7sC,EAAU6wC,WAAW1oC,EAAItvB,KAAKg0D,aAC9Bh0D,KAAK4xD,YAAYtiC,EAAG9Y,IAoBtB,CACGxW,KAAKw1D,YAAcx1D,KAAKw1D,UAAUI,YAAgC,IAAnB51D,KAAKw1D,aACvDx1D,KAAK0yD,SAAW1yD,KAAK4yD,WAAa,KAClC5yD,KAAKi4D,oBAEN9wC,EAAUivB,UAAU,YAAa,CAACt2C,EAASC,EAAMiE,GACjD,CACDhE,KAAK0yD,SAAW,KAChB1yD,KAAK4yD,WAAW,KAChB5yD,KAAKw1D,UAAU,KACfx1D,KAAKg0D,YAAc,KACnBh0D,KAAK22D,iBAAmB,IApDuB,CAqDhD,EAEAxvC,EAAU+wC,qBAAuB,WAChC,SAAIl4D,KAAKm4D,aAAcn4D,KAAKo4D,UAC3Bp4D,KAAKq4D,cAAe,EACb,GAIT,EACAlxC,EAAUmwC,YAAY,WACrBt3D,KAAKs4D,iBACLt4D,KAAKm1C,gBACJn1C,KAAKqzC,OAAOqb,OACZ1uD,KAAKg1C,WAAWC,cAAc,qBAE/B,IAAIjxC,EAAOhE,KAAKA,KAAK6xD,MAAQ,SAO7B,GANG7tD,EACFA,EAAK3C,KAAKrB,MAAM,GAEhBA,KAAKu4D,eAGFv4D,KAAKk4D,uBACR,OAAO,EAERl4D,KAAKi4D,kBACN,EAEA9wC,EAAUqxC,aAAe,SAASx0D,GACjC,SAAUmjB,EAAUnjB,EAAM,UACxBmjB,EAAU9H,KAAKrb,EAAM,WAAamjB,EAAUilC,UAAUpoD,EAAM,UAAYmjB,EAAUilC,UAAUpoD,EAAM,eACrG,EAEAmjB,EAAUsxC,wBAA0B,WAEnC,QADIz0D,EAAe,CAAC,sBAAuB,sBAAuB,cAAe,wBACzElE,EAAI,EAAGA,EAAIkE,EAAaxF,OAAQsB,IAEvC,QADIC,EAAQC,KAAKw1C,KAAKxxC,EAAalE,IAC3B3B,EAAI,EAAG4B,GAAS5B,EAAI4B,EAAMvB,OAAQL,IAAK,CAC9C,IAAImxB,EAAOvvB,EAAM5B,GAAGkzC,aAAa,aAAetxC,EAAM5B,GAAGkzC,aAAa,QAClE9pB,EAAQvnB,KAAK6c,OAAOqhC,OAAOl6C,EAAalE,IACzCwvB,IACF/H,EAAQvnB,KAAK6c,OAAOqhC,OAAO5uB,EAAO,SAAWtvB,KAAK6c,OAAOqhC,OAAO5uB,IAAS/H,GAEpD,uBAAnBvjB,EAAalE,GACfynB,EAAQvnB,KAAK6c,OAAOqhC,OAAO3uB,KACA,uBAAnBvrB,EAAalE,KACrBynB,EAAQvnB,KAAK6c,OAAOqhC,OAAOxM,MAE5B1xC,KAAK69C,SAAS6a,wBAAwB34D,EAAM5B,GAAIopB,GAAS,GACzD,CAEH,EAEAJ,EAAU8mC,WAAa,SAASjqD,EAAMlE,GAErC,IAAKE,KAAKg1C,WACT,MAAM,IAAI3xC,MAAA,6IAGXW,EAAOA,GAAQhE,KAAK8xD,MACpBhyD,EAAOA,GAAQE,KAAK6xD,MACpB,IAAI9xD,EAAe,eAEfC,KAAK6c,OAAOqhC,OAAOya,YACtB34D,KAAK6c,OAAOqhC,OAAOya,UAAY34D,KAAK6c,OAAOqhC,OAAO0I,WAGnD,IAAIzoD,EAAY6B,KAAKwuD,KACjBl/B,EAAW,iBAAmBtvB,KAAK6xD,MACnCtqC,EAAW,iBAAmBznB,EAE7BE,KAAK6xD,QAAA,GAAU1zD,EAAU+2C,UAAUlpC,QAAQsjB,GAG/CnxB,EAAU+2C,UAAY/2C,EAAU+2C,UAAUvzC,QAAQ2tB,EAAU/H,GAF5DppB,EAAU+2C,WAAa,IAAM3tB,EAK9B,IAIIlpB,EAJA6F,EAAgB,gBAEhBqmB,IAAevqB,KAAK6xD,OAAS/xD,IAAQE,KAAKqzC,OAAOulB,kBAAmB54D,KAAKw1C,KAAKz1C,GAAc,GAAGskB,UAGhGrkB,KAAKw1C,KAAKtxC,IAAkBlE,KAAKw1C,KAAKtxC,GAAe,KACvD7F,EAAiB2B,KAAKw1C,KAAKtxC,GAAe,GAAGmgB,WAI1CrkB,KAAKA,KAAK6xD,MAAQ,UAAY/xD,GAAQE,KAAK6xD,OAAS/xD,GACvDE,KAAKA,KAAK6xD,MAAQ,UAAS,GAE5B7xD,KAAK0xD,mBAED1xD,KAAKw1C,KAAKtxC,KACblE,KAAKw1C,KAAKtxC,GAAe,GAAG4J,WAAWtF,YAAYxI,KAAKw1C,KAAKtxC,GAAe,IAC5ElE,KAAKw1C,KAAKtxC,GAAiB,MAG5BlE,KAAK6xD,MAAQ/xD,EACbE,KAAK8xD,MAAQ9tD,EACbhE,KAAKqwD,YAA6B,SAAdrwD,KAAK6xD,MAEzB7xD,KAAK64D,UAAY,EAGjB74D,KAAKs3D,cAELt3D,KAAKy4D,0BAEL,IAAIlyC,EAAOvmB,KAAKw1C,KAAkB0d,YAClC,GAAG3sC,EACF,IAAK,IAAIc,EAAI,EAAGA,EAAId,EAAK/nB,OAAQ6oB,IAAK,CACrC,IAAIiY,EAAM/Y,EAAKc,GAEXiY,EAAI+R,aAAa,aAAerxC,KAAK6xD,OAASvyB,EAAI+R,aAAa,SAAWrxC,KAAK6xD,MAAQ,QAC1FvyB,EAAI4T,UAAUn0C,IAAI,UAClBiB,KAAK69C,SAASib,kBAAkBx5B,GAAA,KAEhCA,EAAI4T,UAAUoG,OAAO,UACrBt5C,KAAK69C,SAASib,kBAAkBx5B,GAAK,GAEtC,CAGwB,iBAAf/U,IACVvqB,KAAKw1C,KAAKz1C,GAAc,GAAGskB,UAAYkG,GAEZ,iBAAlBlsB,GAA8B2B,KAAKw1C,KAAKtxC,IAAkBlE,KAAKw1C,KAAKtxC,GAAe,KAC5FlE,KAAKw1C,KAAKtxC,GAAe,GAAGmgB,UAAYhmB,EAG1C,EACA8oB,EAAUmtB,eAAiB,SAAStwC,EAAMlE,GACpCE,KAAKo2C,UAAU,qBAAsB,CAACp2C,KAAK6xD,MAAO7xD,KAAK8xD,MAAOhyD,GAAQE,KAAK6xD,MAAO7tD,GAAQhE,KAAK8xD,UACpG9xD,KAAKiuD,WAAWjqD,EAAMlE,GACtBE,KAAKo2C,UAAU,eAAgB,CAACp2C,KAAK6xD,MAAO7xD,KAAK8xD,QAClD,EAEA3qC,EAAU3iB,OAAS,SAASR,EAAMlE,GACjCqnB,EAAUmtB,eAAetwC,EAAMlE,EAChC,EAEAqnB,EAAU4xC,iBAAmB,SAAS/0D,EAAElE,EAAKC,EAAK5B,EAAWmxB,GAC5DA,EAAaA,GAAc,EAE3B,IAAI/H,EAAKroB,SAASC,cAAc,OAChCooB,EAAK2tB,UAAY,gBAEdl1C,KAAKosD,UAAUpsD,KAAK6xD,MAAM,mBAE5BtqC,EAAK2tB,WAAa,IAAMl1C,KAAKosD,UAAUpsD,KAAK6xD,MAAM,iBAAiB9xD,IAGpE,IAAI1B,EAAQ2B,KAAKq0D,MAAMrwD,GAEL,SAAdhE,KAAK6xD,OAA0B,IAAN7tD,GAAWhE,KAAKqzC,OAAO2lB,cACnDzxC,EAAK2tB,WAAa,wBAClBp1C,GAAY,GAGbE,KAAKwwD,OAAOjpC,EAAMlpB,EAAO2B,KAAKq1C,GAAGqa,aAAa,EAAG5vD,EAAMwvB,GAEvD,IAAIprB,EAAmBlE,KAAKosD,UAAUpsD,KAAK6xD,MAAM,eAAe9xD,EAAKC,KAAK6xD,OAC1EtqC,EAAKnf,UAAYlE,EAEjBlE,KAAK69C,SAASob,cAAc1xC,EAAMrjB,GAElC/F,EAAUsK,YAAY8e,EACvB,EAEAJ,EAAU+xC,iBAAmB,SAASl1D,EAAMlE,GAC3C,IAAIC,EAAQ,EACZ,IAAKonB,EAAUkpC,YAAY,CAC1B,IAAIlyD,EAAUgpB,EAAU9H,KAAK,OAAO8H,EAAU0qC,MAAM,QAChD1zD,IAAS2B,EAAK3B,EAAQ6F,IAC1BjE,EAAQoS,KAAKgnC,OAAOr5C,EAAGuI,UAAUrE,EAAKqE,WAAY,MAClD,CACD,OAAOtI,CACR,EACAonB,EAAUgyC,oBAAsB,WAE/B,OAAOn5D,KAAKqf,KAAKrf,KAAK6xD,MAAM,UAAU,IAAIp5C,KAAKzY,KAAK8xD,MAAMzpD,WAC3D,EAEA8e,EAAUiyC,cAAgB,WACzB,IAAIp1D,EAAKhE,KAAKm5D,sBACVr5D,EAAKqnB,EAAU9H,KAAKtgB,IAAIiF,EAAI,EAAGhE,KAAK6xD,OACxC,IAAK1qC,EAAUkpC,YAAY,CAC1B,IAAItwD,EAAUonB,EAAU9H,KAAK,OAAO8H,EAAU0qC,MAAM,QAChD9xD,IAASD,EAAKC,EAAQiE,GAC1B,CACD,OAAOlE,CACR,EACAqnB,EAAUkyC,kBAAoB,SAASr1D,EAAOlE,EAAMC,GAEnD,IAAI5B,EAAM6B,KAAKqzC,OAAO0b,IAClBz/B,EAAOtrB,EACPujB,EAAQvnB,KAAKk5D,iBAAiBp5D,EAAMC,GAGxCC,KAAKs5D,iBAAiBx5D,EAAMynB,EAAO,MAAO,GAE1C,IAAK,IADDlpB,EAAYkpB,EAAQvnB,KAAK+0D,kBACpB7wD,EAAE,EAAGA,EAAEqjB,EAAOrjB,IAClBlE,KAAKs0D,SAASpwD,IACjBlE,KAAKq0D,MAAMnwD,GAAK,EAChB7F,KAEA2B,KAAKq0D,MAAMnwD,GAAGiO,KAAKk9B,MAAM/f,GAAMjxB,EAAU6F,IAE1CorB,GAAMtvB,KAAKq0D,MAAMnwD,GACjBlE,KAAK20D,OAAOzwD,IAAIlE,KAAKq0D,MAAMnwD,EAAE,IAAI,IAAIlE,KAAK20D,OAAOzwD,EAAE,KAAKlE,KAAKqwD,YAAY,EAAGlyD,EAAM6B,KAAKq1C,GAAGoa,aAAezvD,KAAKq1C,GAAGma,cAGlHxvD,KAAK20D,OAAmB4E,WAAIhyC,EAC5BvnB,KAAK20D,OAAOptC,GAAUvnB,KAAKq0D,MAAM9sC,EAAM,GAAGvnB,KAAK20D,OAAOptC,EAAM,IAAO,CAEpE,EAEAJ,EAAUqyC,oBAAsB,SAASx1D,EAAKlE,EAAOC,GACpD,IAAI5B,EAAI6B,KAAKqzC,OACbrzC,KAAKwwD,OAAOxsD,EAAKlE,EAAO3B,EAAEq2D,cAAcr2D,EAAE63D,UAAU73D,EAAEy1D,YAAa7zD,EAAKC,KAAKq1C,GAAGma,YAAc,EAAG,EAClG,EAEAroC,EAAUsyC,eAAiB,SAASz1D,EAAQlE,GAE3C,IAAIC,EAAK,IAAI0Y,KAAK0O,EAAU6qC,WAC3B7zD,EAAK,IAAIsa,KAAK0O,EAAU+qC,WACxB5iC,EAAQtvB,KAAKqf,KAAK6sC,UAAW/kC,EAAUglC,gBAEpC5kC,EAAOixB,SAASx0C,EAAO+H,MAAMkR,MAAM,IAAM,EACzC5e,EAAI,IAAIoa,KAAKzY,KAAKgyD,WAIlB9tD,EAAQlE,KAAKk5D,iBAAiBn5D,EAAI5B,GACtC6B,KAAKq5D,kBAAkB9xC,EAAMxnB,EAAI5B,GACjC,IAAIosB,EAAK,EAETvmB,EAAOoE,UAAY,GACnB,IAAK,IAAIme,EAAE,EAAGA,EAAEriB,EAAOqiB,IAAI,CAI1B,GAHKvmB,KAAKs0D,SAAS/tC,IAClBvmB,KAAK+4D,iBAAiBxyC,EAAEgE,EAAKlsB,EAAE2F,IAE3BhE,KAAKqwD,YAAY,CACrB,IAAIhpC,EAAOnoB,SAASC,cAAc,OAC9BmgC,EAAM,mBACNjhC,EAAEgK,WAAainB,EAAMjnB,YAAWi3B,GAAO,yBAE3CjY,EAAO5lB,aAAa,oBAAqB8kB,GACrCvmB,KAAK+0D,mBAAqB/0D,KAAKs0D,SAAS/tC,KAC3C+Y,GAAO,qBAGR,IAAK,IAAI1L,EAAyB,EAAvB5zB,KAAKqzC,OAAOugB,WAAchgC,EAAI5zB,KAAKqzC,OAAO2iB,UAAWpiC,IAAK,CACpE,MAAMD,EAAYz0B,SAASC,cAAc,OACzCw0B,EAAUuhB,UAAU,qDACpBvhB,EAAU5nB,MAAMmR,OAAOld,KAAKqzC,OAAOmhB,aAAa,EAAE,KAElD,IAAItxD,EAAW,IAAIuV,KAAKpa,EAAEo4C,cAAep4C,EAAEq4C,WAAYr4C,EAAEs4C,UAAW/iB,EAAG,GACvED,EAAUlyB,aAAa,iBAAkBzB,KAAKosD,UAAUC,YAAYnpD,IAEpE,IAAIuQ,EAAczT,KAAKosD,UAAUsN,eAAex2D,GAC7CuQ,IACFkgB,EAAUvrB,UAAYqL,GAEvB,IAAIysB,EAAWlgC,KAAKosD,UAAUuN,gBAAgBz2D,GAC3Cg9B,GACFvM,EAAUuf,UAAUn0C,IAAImhC,GAGzB7Y,EAAO5e,YAAYkrB,GAEnB,MAAME,EAAa30B,SAASC,cAAc,OAC1C00B,EAAWqhB,UAAU,sBACrBhyC,EAAW,IAAIuV,KAAKpa,EAAEo4C,cAAep4C,EAAEq4C,WAAYr4C,EAAEs4C,UAAW/iB,EAAG,IACnEC,EAAWpyB,aAAa,iBAAkBzB,KAAKosD,UAAUC,YAAYnpD,IACrE2wB,EAAW9nB,MAAMmR,OAAOld,KAAKqzC,OAAOmhB,aAAa,EAAE,KACnD/gD,EAAczT,KAAKosD,UAAUsN,eAAex2D,GACzCuQ,IACFogB,EAAWzrB,UAAYqL,GAExBysB,EAAWlgC,KAAKosD,UAAUuN,gBAAgBz2D,GACvCg9B,GACFrM,EAAWqf,UAAUn0C,IAAImhC,GAE1B7Y,EAAO5e,YAAYorB,EACnB,CAEDxM,EAAO6tB,UAAY5V,EAAI,IAAIt/B,KAAKosD,UAAUwN,gBAAgBv7D,EAAEixB,GAC5DtvB,KAAK69C,SAASgc,cAAcxyC,EAAQhpB,GACpC2B,KAAKw5D,oBAAoBnyC,EAAQrnB,KAAKq0D,MAAM9tC,GAAIgE,GAEhDzqB,EAAU2I,YAAY4e,GACtBrnB,KAAKo2C,UAAU,aAAa,CAAC/uB,EAAQhpB,GACrC,CACDksB,GAAMvqB,KAAKq0D,MAAM9tC,GAGjBloB,EAAE2B,KAAKqf,KAAKtgB,IAAIV,EAAE,EAAE,OACpBA,EAAI2B,KAAKqf,KAAK2sC,UAAU3tD,EACxB,CACF,EAEA8oB,EAAU2yC,mBAAqB,WAC9B,OAAO95D,KAAKg1C,WAAWC,cAAc,gBACtC,EAEA9tB,EAAUoxC,aAAa,WAGtB,GAAKv4D,KAAKosD,UAAUpsD,KAAK6xD,MAAQ,SAAjC,CAEA,IAAI7tD,EAAShE,KAAKw1C,KAAqB+a,eAAE,GACrCzwD,EAAYE,KAAKw1C,KAAmBqd,aAAE,GACtC9yD,EAAIC,KAAKqzC,OAEbrvC,EAAOoE,UAAY,GAEnBtI,EAAUsI,UAAY,GAEtB,IAUIjK,EAAEmxB,EAVF/H,GAAQxnB,EAAE+yD,WAAc/yD,EAAEg6D,YAAgB,qBAAuB,KAAQh6D,EAAE+yD,WAAc/yD,EAAEi6D,UAAc,mBAAqB,IAClIl6D,EAAUo1C,UAAY,eAAiB3tB,EAEvCvnB,KAAKi6D,QAAU,CAAC,EAChBj6D,KAAKq0D,MAAQ,GACbr0D,KAAK20D,OAAS,CAACz3C,OAAQ,GACvBld,KAAK64D,UAAY,EAEjB74D,KAAKovD,YAGL,IAAI/wD,EAAK2B,KAAKm5D,sBACbj1D,EAAKijB,EAAUiyC,gBAEhBj7D,EAAImxB,EAAKtvB,KAAKqwD,YAAclpC,EAAU9H,KAAKssC,WAAWttD,GAAMA,EAG5D2B,KAAKgyD,UAAU7zD,EAEf,IAAIosB,EAAgBvqB,KAAKosD,UAAUpsD,KAAK6xD,MAAM,SAASxzD,EAAG6F,EAAGlE,KAAK6xD,OAE9DtrC,EAAevmB,KAAK85D,qBASxB,GARGvzC,IACFA,EAAane,UAAYmiB,EACzBvqB,KAAK69C,SAASqc,eAAe3zC,EAAcgE,IAG5CvqB,KAAKkyD,UAAYhuD,EACjBijB,EAAUsyC,eAAez1D,EAAQlE,GAE7BE,KAAKqwD,YACRrwD,KAAKm6D,mBAAmBr6D,EAAUzB,EAAGixB,QAAA,GAErCtvB,KAAKo6D,mBAAmBt6D,EAAUzB,EAAGixB,GACjCvvB,EAAEs6D,UAAW,CAChB,IAAIhzC,EAAgB,gBAEjBrnB,KAAKw1C,KAAKnuB,KACZrnB,KAAKw1C,KAAKnuB,GAAe,GAAGvZ,WAAWtF,YAAYxI,KAAKw1C,KAAKnuB,GAAe,IAC5ErnB,KAAKw1C,KAAKnuB,GAAiB,MAG5B,IAAIiY,EAAKpgC,SAASC,cAAc,OAChCmgC,EAAG4V,UAAY7tB,EACfiY,EAAGvzB,MAAMyrC,WAAW,SACpBlY,EAAGvzB,MAAMw2B,QAAQ,OACjB,IAAI3O,EAAa5zB,KAAK20D,OAAO30D,KAAK20D,OAAO4E,YACrC5lC,EAAS5zB,EAAEgvD,IAAM/uD,KAAKq1C,GAAGma,YAAcxvD,KAAKq1C,GAAGoa,aAC/CvsD,EAAciP,KAAK0+C,IAAIj9B,EAAaD,EAAQ,GAChD3zB,KAAKwwD,OAAOlxB,EAAIp8B,EAAa,EAAG,GAChCpD,EAAUgO,WAAWwzB,aAAahC,EAAGx/B,GAErC,IAAI2T,EAAK6rB,EAAGg7B,WAAU,GACtB7mD,EAAGyhC,UAAY7tB,EAAc,QAC7B5T,EAAG1H,MAAMyrC,WAAW,SACpB/jC,EAAG1H,MAAMw2B,QAAQ,OACjBviC,KAAKwwD,OAAO/8C,EAAIzT,KAAKq1C,GAAGma,YAAc,EAAG,EAAG,GAE5ClwB,EAAG72B,YAAYgL,GACfzT,KAAKw1C,KAAKnuB,GAAe,CAACiY,EAAG7rB,GAC7B0T,EAAU9G,MAAMrgB,KAAKw1C,KAAKnuB,GAAe,GAAI,QAASrnB,KAAKixD,OAAO4B,aAClE,CAvEgD,CAyEnD,EACA1rC,EAAUizC,mBAAmB,SAASp2D,EAAElE,EAAGC,GAC1C,IAAI5B,EAAEe,SAASC,cAAc,OAC7BhB,EAAE+2C,UAAU,mBAGZ,IAAK,IADD5lB,EAAO,IAAI7W,KAAK,KAAK,EAAE,EAAEzY,KAAKqzC,OAAOugB,WAAW,EAAE,GAC7CrsC,EAAyB,EAAvBvnB,KAAKqzC,OAAOugB,WAAcrsC,EAAIvnB,KAAKqzC,OAAO2iB,UAAWzuC,IAAK,CACpE,IAAIlpB,EAAGa,SAASC,cAAc,OAC9Bd,EAAG62C,UAAU,iBACb72C,EAAG0N,MAAMmR,OAAOld,KAAKqzC,OAAOmhB,aAAa,KACzC,IAAItwD,EAAQlE,KAAKq1C,GAAGma,YAChBxvD,KAAKqzC,OAAO2lB,cACf36D,EAAG62C,WAAa,0BAEjB72C,EAAG0N,MAAMkR,MAAQ/Y,EAAQ,KAEzB,IAAIqmB,EAAUpD,EAAUilC,UAAUmO,WAAWjrC,GAC7CjxB,EAAG+J,UAAYmiB,EACfvqB,KAAK69C,SAAS2c,cAAcn8D,EAAIksB,GAEhCpsB,EAAEsK,YAAYpK,GACdixB,EAAKtvB,KAAKqf,KAAKtgB,IAAIuwB,EAAK,EAAE,OAC1B,CACDtrB,EAAEyE,YAAYtK,GACV6B,KAAKqzC,OAAOonB,cACfz2D,EAAEqgB,UAAYrkB,KAAKqzC,OAAOmhB,cAAcx0D,KAAKqzC,OAAOonB,YAAYz6D,KAAKqzC,OAAOugB,YAC9E,EAEAzsC,EAAUglC,aAAe,WACxB,OAAGhlC,EAAUksB,OAAOqnB,SACZ,IAAIjiD,KAAK0O,EAAUksB,OAAOqnB,UAE3B,IAAIjiD,IACZ,EAEA0O,EAAUmxC,eAAiB,WAC1Bt4D,KAAKs0D,SAAS,CAAC,EACft0D,KAAK+0D,kBAAoB,CAC1B,EAEA5tC,EAAUmyC,iBAAmB,SAASt1D,EAAIlE,EAAGC,EAAM5B,EAAMmxB,GACxDtvB,KAAKs4D,iBACL,IAAI/wC,EAASJ,EAAU,UAAUnnB,KAAK6xD,OACtC,GAAItqC,EAEH,IAAK,IADDlpB,EAAW,IAAIoa,KAAKzU,GACfE,EAAE,EAAGA,EAAEpE,EAAGoE,IACdqjB,EAAOlpB,KACV2B,KAAK+0D,mBAAqB,EAC1B/0D,KAAKs0D,SAASpwD,IAAA,EACVorB,GACHxvB,KAEFzB,EAAW8oB,EAAU9H,KAAKtgB,IAAIV,EAAUF,EAAM4B,GAC3ConB,EAAU9H,KAAKtf,EAAO,YACxB1B,EAAW8oB,EAAU9H,KAAKtf,EAAO,UAAU1B,GAG/C,EAEA8oB,EAAUwzC,oBAAsB,SAAS32D,EAAKlE,EAAmBC,EAAkB5B,GAGlF,IAAImxB,EAAGnI,EAAU9H,KAAKtgB,IAAIe,EAAG,EAAE,SAC9BynB,EAAa,IAAI9O,KAAK1Y,GACnB1B,EAAK8oB,EAAUglC,eACnBnsD,KAAKqf,KAAK6sC,UAAU7tD,GACpB2B,KAAKqf,KAAK6sC,UAAUnsD,GAEpB5B,EAAOA,GAAQgU,KAAK6wB,KAAK7wB,KAAKgnC,OAAO7pB,EAAGjnB,UAAUtI,EAAGsI,WAAc,OAAmB,GAGtF,IAAK,IAFDnE,EAAS,GAEJqmB,EAAE,EAAGA,GAAG,EAAGA,IAAK,CACxB,IAAIhE,EAAavmB,KAAKq0D,MAAM9pC,IAAM,EAC9BppB,MAAM41C,OAAOxwB,MAChBA,GAA0B,MAE3BriB,EAASqmB,GAAKhE,CACd,CAED,SAASc,EAAcyvC,GACtB,IAAI5kB,EAAI/qB,EAAUwtC,OAAOz3C,OAIzB,gBAHGiK,EAAUwtC,OAAOG,QAAQgC,EAAM,KACjC5kB,EAAI/qB,EAAUwtC,OAAOG,QAAQgC,EAAM,IAAM3vC,EAAUwtC,OAAOG,QAAQgC,IAAM,IAElE5kB,CACP,CAGD,IAAI5S,EAAa,EAEjB,MAAM1L,EAAQ10B,SAASC,cAAc,OAIrC,IAHAy0B,EAAMsf,UAAUn0C,IAAI,uBAGXwrB,EAAE,EAAGA,EAAEpsB,EAAMosB,IAAI,CACzB,IAAIoJ,EAAMz0B,SAASC,cAAc,OACjCw0B,EAAIuf,UAAUn0C,IAAI,qBAClB40B,EAAI5nB,MAAMmR,OAASmK,EAAckD,GAAK,KACtCqJ,EAAMnrB,YAAYkrB,GAElB,IAAK,IAAIzwB,EAAE,EAAGA,EAAE,EAAGA,IAAK,CACvB,IAAIuQ,EAAOvU,SAASC,cAAc,OAClCw0B,EAAIlrB,YAAYgL,GAEhB,IAAIysB,EAAM,qBACNngC,EAAGD,EACNogC,GAAO,cACCngC,GAAIuvB,EACZ4Q,GAAO,aACCngC,EAAGsI,WAAWhK,EAAGgK,YACzB63B,GAAO,YAEJlgC,KAAK+0D,mBAAqB/0D,KAAKs0D,SAASpxD,KAC3Cg9B,GAAO,qBAGRzsB,EAAKyhC,UAAYhV,EAAM,IAAMlgC,KAAKosD,UAAUwO,iBAAiB76D,EAAI1B,GAEjEoV,EAAKhS,aAAa,iBAAkB0lB,EAAUilC,UAAUC,YAAYtsD,IACpE,IAAI8zB,EAAa,iBACbZ,EAAa,iBAKjB,GAJU,IAAN/vB,GAAWlD,KAAKqzC,OAAO2lB,cAC1BnlC,GAAc,yBACdZ,GAAc,0BAEVjzB,KAAK+0D,mBAAsB/0D,KAAKs0D,SAASpxD,GAiB7CuQ,EAAKhL,YAAYvJ,SAASC,cAAc,QACxCsU,EAAKhL,YAAYvJ,SAASC,cAAc,YAlBQ,CAChDsU,EAAK1H,MAAMkR,MAAQ/Y,EAAShB,GAC5BlD,KAAK69C,SAASgd,cAAcpnD,EAAM1T,GAElC,IAAI2qB,EAAWxrB,SAASC,cAAc,OACtCurB,EAAS3e,MAAMmR,OAASiK,EAAUkuB,GAAG2a,kBAAoB,KACzDtlC,EAASwqB,UAAYjiB,EACrBvI,EAAStiB,UAAYpI,KAAKosD,UAAU0O,UAAU/6D,GAC9C0T,EAAKhL,YAAYiiB,GAEjB,IAAIwJ,EAAWh1B,SAASC,cAAc,OACtC+0B,EAASghB,UAAYrhB,EAGrBpgB,EAAKhL,YAAYyrB,EAErB,CAKG,IAAIzzB,EAAMV,EAAG42C,WACb52C,EAAGC,KAAKqf,KAAKtgB,IAAIgB,EAAG,EAAE,QACf42C,UAAYl2C,EAAM,IACxBV,EAAK,IAAI0Y,KAAK1Y,EAAG02C,cAAe12C,EAAG22C,WAAYj2C,EAAM,EAAG,GAAI,GAC7D,CAED0mB,EAAUwtC,OAAOG,QAAQvqC,GAAK+U,EAC9BA,GAAcjY,EAAckD,EAC5B,CAiBD,OAfAvqB,KAAKgyD,UAAYzqC,EACjBvnB,KAAKkyD,UAAYnyD,EAEjBiE,EAAIoE,UAAY,GAChBpE,EAAIyE,YAAYmrB,GAEhB5zB,KAAKi6D,QAAU,CAAC,EACJj2D,EAAIukC,iBAAiB,oBAC3B5nC,SAASm2D,IACd,MAAM5kB,EAAO/qB,EAAUilC,UAAU2O,WAAWjE,EAAKzlB,aAAa,mBACxD7pB,EAAOsvC,EAAK7hB,cAAc,mBAChCj1C,KAAKi6D,SAAS/nB,GAAQ1qB,EACtBxnB,KAAKo2C,UAAU,aAAc,CAACp2C,KAAKi6D,SAAS/nB,GAAOA,GAAA,IAG7ClyC,KAAKkyD,SACb,EAEA/qC,EAAUgzC,mBAAmB,SAASn2D,EAAElE,EAAGC,EAAG5B,GAE7C,IAAImxB,EAAGnI,EAAU9H,KAAKtgB,IAAIe,EAAG,EAAE,SAG3BynB,EAAKJ,EAAUglC,eACnBnsD,KAAKqf,KAAK6sC,UAAU3kC,GACpBvnB,KAAKqf,KAAK6sC,UAAUnsD,GAEpB5B,EAAOA,GAAQgU,KAAK6wB,KAAK7wB,KAAKgnC,OAAO7pB,EAAGjnB,UAAUtI,EAAGsI,WAAc,OAAmB,GAEtF,IAAIhK,EAAU8T,KAAKk9B,MAAMrrC,EAAE8pD,aAAa3vD,GAAQ6B,KAAKq1C,GAAG2a,kBAKxD,OAHAhwD,KAAK20D,OAAOz3C,OAAS7e,EAAS2B,KAAKq1C,GAAG2a,kBACtChwD,KAAK20D,OAAOG,QAAU,GAEf3tC,EAAUwzC,oBAAoB32D,EAAGlE,EAAIC,EAAI5B,EAEjD,EAEAgpB,EAAUgwC,QAAU,SAAUnzD,GAI7B,OAHKA,IACJA,EAAWmjB,EAAUgtB,WAAWzmB,MAE7BvG,EAAUwnC,QAAUxnC,EAAUwnC,OAAO3qD,GACjCmjB,EAAUwnC,OAAO3qD,GAGrBmjB,EAAUynC,QAAUznC,EAAUynC,OAAO5qD,GACjCmjB,EAAUynC,OAAO5qD,GAGlB,IACR,EAEAmjB,EAAU6zC,SAAW,SAASh3D,EAAUlE,GAEvC,IAAK,IADDC,EAAWC,KAAKqzC,OAAO4nB,SAASC,SAC3B/8D,EAAE,EAAGA,EAAE4B,EAASvB,OAAQL,IAChC,GAAG4B,EAAS5B,GAAGg9D,QAAUn3D,EAExB,IAAK,IADDsrB,EAAUvvB,EAAS5B,GAAGiJ,QACjBmgB,EAAE,EAAGA,EAAE+H,EAAQ9wB,OAAQ+oB,IAC/B,GAAG+H,EAAQ/H,GAAGhL,KAAOzc,EACpB,OAAOwvB,EAAQ/H,GAAG+2B,MAKtB,MAAO,EACR,EACAn3B,EAAUi0C,iBAAmB,SAASp3D,EAAWlE,GAChD,IAAIC,EAAOonB,EAAUk0C,WAAWr3D,GAChC,QAAKjE,IACLA,EAAKuoC,OAAO,EAAGvoC,EAAKvB,QACpBuB,EAAKwO,KAAKY,MAAMpP,EAAMD,GAAc,IACpCqnB,EAAUivB,UAAU,gBAAiB,IACrCjvB,EAAUm0C,gBACVn0C,EAAUo0C,aACH,EACR,EACAp0C,EAAUqwC,YAAc,SAASxzD,EAAQlE,GACxC,IAAIC,EAAG5B,EAAGmxB,EAIV,IAFAxvB,EAAQA,GAAS,GAEZC,EAAE,EAAGA,EAAED,EAAMtB,OAAQuB,GAAG,EAC5B,GAAGiE,IAAWlE,EAAMC,GACnB,OAAOD,EAAMC,EAAE,GAEjB,GAAIiE,GAA2B,iBAAVA,EAAoB,CAGxC,IAFAsrB,EAASjwB,OAAOk3B,OAAOvyB,GACvB7F,EAAI,CAAC8I,MAAMwR,KAAKs+B,OAAOv6B,OAAOw6B,SACzBj3C,EAAE,EAAGA,EAAE5B,EAAEK,OAAQuB,IACjBiE,aAAkB7F,EAAE4B,KACvBuvB,EAASvvB,EAAI,IAAI5B,EAAE4B,GAAGiE,GAAU,IAAI7F,EAAE4B,IAGxC,IAAKA,KADLD,EAAMyO,KAAKvK,EAAQsrB,GACTtrB,EACL3E,OAAOC,UAAUC,eAAe4P,MAAMnL,EAAQ,CAACjE,MAClDuvB,EAAOvvB,GAAKonB,EAAUqwC,YAAYxzD,EAAOjE,GAAID,GAE/C,CACD,OAAOwvB,GAAUtrB,CAClB,EACAmjB,EAAU6wC,WAAa,SAASh0D,EAAQlE,GACvC,IAAK,IAAIC,KAAOD,EACXA,EAAOP,eAAeQ,KACzBiE,EAAOjE,GAAOD,EAAOC,IAGvB,OAAOiE,CACR,EACAmjB,EAAUivC,mBAAqB,SAASpyD,GACvC,IAAIlE,EAAME,KAAKgyD,UAAU3pD,UAAyE,KAA9DrE,EAAIsrB,EAAEtvB,KAAKqzC,OAAOsgB,UAAqC,IAA1B3zD,KAAKqwD,YAAY,EAAErsD,EAAIqjB,GAAM,IAE9F,OAAO,IAAI5O,KAAKzY,KAAKy1D,eAAe31D,GACrC,EAEAqnB,EAAU4rC,cAAgB,SAAS/uD,GAClC,IAAIlE,EAAME,KAAKy0D,cAAczwD,GAC7B,MAAO,CACNqb,KAAKrf,KAAKo2D,mBAAmBt2D,GAC7B07D,QAAQ17D,EAAI07D,QAEd,EACAr0C,EAAUs0C,OAAS,SAASz3D,EAAMlE,GACjC,GAAIkE,GAAQA,EAAKsgB,MAChB,GAAItkB,KAAK23D,QACR14D,OAAO+pB,YAAW,WACjBhlB,EAAKsgB,OACL,GAAC,SAEF,IACKxkB,GAAUkE,EAAK4zC,QAAU5zC,EAAKo2C,aACjCp2C,EAAK4zC,SAEN5zC,EAAKsgB,OACL,OACA,CAGJ,EAWA6C,EAAU+tC,uBAAuB,SAASlxD,EAAWlE,EAASC,GAC7D,IAOC5B,EAPGmxB,EAAcxvB,EAAUkE,EAIxBujB,EAASvnB,KAAK,UAAUA,KAAK6xD,OAE7BxzD,EAAmB,EAEnB0B,EAAOyE,QACVnG,EAAmB2B,KAAK07D,gBAAgB37D,EAAQiE,GAChD7F,EAAiB6B,KAAK07D,gBAAgB37D,EAAQD,GAE3CkE,EAAUqE,UAAY8e,EAAUgtB,WAAW4d,SAAS1pD,YACtDhK,GAAoB+Q,EAAkBpL,EAAWmjB,EAAUgtB,WAAW4d,WAEpEjyD,EAAQuI,UAAY8e,EAAUgtB,WAAW8d,SAAS5pD,YACpDlK,GAAkBiR,EAAkBtP,EAASqnB,EAAUgtB,WAAW8d,YAGnE9zD,EAAiBgU,KAAKgnC,MAAM7pB,EAAY,GAAG,GAAG,IAAK,IAIpD,QADIprB,GAAA,EACG7F,EAAmBF,GAAe,CACxC,IAAIosB,EAAQpD,EAAU9H,KAAKtgB,IAAIe,GAAUC,EAAOo1D,OAAQp1D,EAAOq1D,QAC/D,GAAI7tC,GAAUA,EAAOznB,MAAcoE,GAAgBA,GAAeqjB,EAAOgD,IACxE+E,GAAgBxvB,EAAQyqB,MAEpB,CACJ,IAAIhE,EAAmB,EACvB,MAAMc,EAAgB,IAAI5O,KAAKtG,KAAK0+C,IAAItmC,EAAMliB,UAAWrE,EAAUqE,YAC7Di3B,EAAcx/B,EACd8zB,EAAsB,IAAInb,KAAK4O,EAAcovB,cAAepvB,EAAcqvB,WAAYrvB,EAAcsvB,UAAW52C,EAAO6zD,YACtHjgC,EAAoB,IAAIlb,KAAK4O,EAAcovB,cAAepvB,EAAcqvB,WAAYrvB,EAAcsvB,UAAW52C,EAAOi2D,WAAW,IAC/H9yD,EAAuB,IAAIuV,KAAK3Y,EAAQ22C,cAAe32C,EAAQ42C,WAAY52C,EAAQ62C,UAAW52C,EAAO6zD,YACrGngD,EAAqB,IAAIgF,KAAK3Y,EAAQ22C,cAAe32C,EAAQ42C,WAAY52C,EAAQ62C,UAAW52C,EAAOi2D,WAAW,IAEjH12B,EAAYj3B,UAAYoL,EAAmBpL,YAC7Cke,GAAoB+Y,EAAc7rB,GAGhC6rB,EAAYj3B,UAAYnF,EAAqBmF,UAC/Cke,GAAoBxmB,EAAO+1D,kBAE3BvvC,GAA2C,GAAvB+Y,EAAYu0B,WAAc,GAAG,IAAgC,GAAzBv0B,EAAY22B,aAAgB,IAGlF5uC,EAAchf,UAAYsrB,EAAkBtrB,YAC9Cke,GAAoBxmB,EAAOg2D,iBAGzB1uC,EAAchf,UAAYurB,EAAoBvrB,YAChDke,GAAqBqN,EAAoBvrB,UAAYgf,EAAchf,WAIpEinB,GAAe/I,EACfriB,GAAA,CACA,CACDpE,EAAUyqB,EACVpsB,GACA,CACD,OAAOmxB,CACR,EACAnI,EAAU+uC,4BAA4B,SAASlyD,EAAUlE,EAAWC,EAAK5B,GACxE,IAAImxB,EAAK,IAAI7W,KAAKzU,GACdujB,EAAMppB,GAAQ,EAAI,EAGtB,GAAI4B,EAAI+1D,mBAAqB/1D,EAAIg2D,gBAAgB,CAChD,IAAI13D,EAEHA,EADGF,EACoB,GAAdmxB,EAAGukC,WAAcvkC,EAAG2mC,aAAoC,IAAnBl2D,EAAI6zD,YAAY,GAEnC,IAAlB7zD,EAAIi2D,WAAW,IAAuB,GAAd1mC,EAAGukC,WAAcvkC,EAAG2mC,cACtD,IAAI/xD,EAA2C,IAAhCnE,EAAIi2D,UAAYj2D,EAAI6zD,YAC/BrpC,EAAOpY,KAAK6wB,MAAOljC,EAAA,IAAwBzB,GAAU6F,GACtDqmB,EAAO,IAAGA,EAAO,GACpBzqB,GAAayqB,GAAQ,KAAQrmB,GAAW,GAAK,GAC7C,CAED,IAICqiB,EAJGc,EAAK,IAAI5O,KAAc,EAATzU,EAAWlE,EAAUynB,GACnC+X,EAASt/B,KAAK,UAAUA,KAAK6xD,OAE7Bj+B,EAAa,EASjB,IAPI7zB,EAAIyE,QACPovB,EAAa5zB,KAAK07D,gBAAgB37D,EAAKuvB,GACvC/I,EAAWvmB,KAAK07D,gBAAgB37D,EAAKsnB,IAErCd,EAAWpU,KAAKgnC,MAAMr5C,EAAU,GAAG,GAAG,IAAK,IAGrC8zB,EAAWrM,GAAOhB,EAASgB,GAAI,CACrC,IAAIoM,EAAQxM,EAAU9H,KAAKtgB,IAAIuwB,EAAIvvB,EAAIo1D,OAAO5tC,EAAKxnB,EAAIq1D,QACnD91B,GAAUA,EAAOhQ,KACpBxvB,IAAc6zB,EAAMrE,GAAI/H,EACxBhB,GAAYgB,GAGb+H,EAAKqE,EACLC,GAAYrM,CACZ,CAED,OAAOznB,CACR,EAEAqnB,EAAU8vC,kBAAoB,WAC7B,OAAOj3D,KAAKm3D,SACb,EAEAhwC,EAAUw0C,sBAAwB,WACjC,OAAG37D,KAAK2uD,QAAU3uD,KAAK2uD,OAAO3uD,KAAK6xD,OAC3B7xD,KAAK2uD,OAAO3uD,KAAK6xD,OAAO+J,WACvB57D,KAAK4uD,QAAU5uD,KAAK4uD,OAAO5uD,KAAK6xD,OACjC7xD,KAAK4uD,OAAO5uD,KAAK6xD,OAAOsJ,OAEzB,IACR,EAEAh0C,EAAU00C,gBAAkB,WAC3B,IAAI73D,EAAQhE,KAAKm0C,WACjB,OAAQn0C,KAAKwuD,MAAQxqD,EAAMqb,MAAQrb,EAAM0pB,IAC1C,EACAvG,EAAU20C,kBAAoB,WAC7B,IAAI93D,EAAQhE,KAAKm0C,WACjB,OAA6B,OAAtBnwC,EAAMquD,kBAA8C,IAAtBruD,EAAMquD,WAC5C,CAEA,CAp7De,CL0CApuD,GChDgBkjB,EDiDrBljB,ECjDqB,WAK9B,IAAIijB,EAAW,IAAI60C,OAAA,eAAuB,MACtC3qB,EAAc,IAAI2qB,OAAO,KAAM,MAEnC,SAASz9D,EAAc0F,GACtB,OAAQA,EAAW,IACjBrC,QAAQulB,EAAU,KACnBvlB,QAAQyvC,EAAa,IACtB,CAED,IAAI9pB,EAAe,IAAIy0C,OAAO,IAAK,MACnC,SAASp8D,EAAaqE,GACrB,OAAQA,EAAO,IAAIrC,QAAQ2lB,EAAc,QACzC,CAwUD,QAAQlY,KAtUR+X,EAAU02B,SAAW,CACpBme,mBAAoB,SAASh4D,GAC5B,IAAIlE,EAAa,CAAC,KAClB,QAAQC,KAAKiE,EACZ,GAAqB,mBAAXA,EAAKjE,IAAsC,iBAAXiE,EAAKjE,GAAgB,CAC9D,IAAI5B,EAAOwB,EAAarB,EAAc0F,EAAKjE,KAC3CD,EAAWyO,KAAKxO,EAAI,KAAO5B,EAAO,IAClC,CAGF,OADA2B,EAAWyO,KAAK,KACTzO,EAAW2uB,KAAK,IACvB,EACDwtC,cAAe,SAASj4D,EAAKlE,GAC5B,QAAQC,KAAKD,EACZkE,EAAIvC,aAAa1B,EAAGzB,EAAcwB,EAAOC,KAE1C,OAAOiE,CACP,EAED+sD,UAAW,SAAS/sD,EAAKlE,GACxB,OAAOE,KAAKi8D,cAAcj4D,EAAK,CAAC,aAAclE,GAC9C,EACDw+C,MAAO,SAASt6C,GACf,OAAOmjB,EAAU02B,SAASme,mBAAmB,CAAC,aAAch4D,GAC5D,EAIDw2D,cAAe,SAASx2D,EAAKlE,GAC5BE,KAAK+wD,UAAU/sD,EAAKlE,EAEpB,EACD+6D,cAAe,SAAS72D,EAAKlE,GAC5BE,KAAK+wD,UAAU/sD,EAAKmjB,EAAUilC,UAAU8P,SAASp8D,GACjD,EAEDo6D,eAAgB,SAASl2D,EAAKlE,GAC7BE,KAAK+wD,UAAU/sD,EAAKlE,EACpB,EACDm5D,cAAe,SAASj1D,EAAKlE,GAC5BE,KAAK+wD,UAAU/sD,EAAKlE,EACpB,EAED+5D,cAAe,SAAS71D,EAAKlE,GAC5BE,KAAKi5D,cAAcj1D,EAAKmjB,EAAUilC,UAAU8P,SAASp8D,GACrD,EAED44D,wBAAyB,SAAS10D,EAAKlE,GACtC,OAAOE,KAAKi8D,cAAcj4D,EAAK,CAACm4D,KAAO,SAAU,aAAar8D,GAC9D,EAEDg5D,kBAAmB,SAAS90D,EAAKlE,GAChC,OAAOE,KAAKi8D,cAAcj4D,EAAK,CAAC,eAAgBlE,EAAW,OAAS,SACpE,EAGDs8D,kBAAkB,SAASp4D,GAE1B,OAAOmjB,EAAU02B,SAASme,mBAAmB,CAAC,aAAch4D,GAC5D,EAGDq4D,UAAW,SAASr4D,EAAOlE,GAC1BE,KAAKs8D,iBAAiBt4D,EAAOlE,EAC7B,EAGDw8D,iBAAkB,SAASt4D,EAAOlE,GACjCA,EAAI2B,aAAa,aAAcnD,EAAc6oB,EAAUilC,UAAUmQ,WAAWv4D,EAAMqgD,WAAYrgD,EAAMwgD,SAAUxgD,KAE3GmjB,EAAUksB,OAAOyf,UACnBhzD,EAAI2B,aAAa,iBAAiB,GAIhCuC,EAAMw4D,sBACR18D,EAAI2B,aAAa,aAAa,GAI/B3B,EAAI2B,aAAa,gBACf0lB,EAAUgtB,WAAWoe,WAAavuD,EAAMwS,GAAM,OAAS,QACzD,EAEDimD,gBAAiB,SAASz4D,EAAOlE,GAChCE,KAAKs8D,iBAAiBt4D,EAAOlE,EAC7B,EAED48D,eAAgB,SAAS14D,EAAiBlE,GACzC,IAAIC,EAAS,CACZ0B,aAAa,SAAStD,EAAMmxB,GAC3BtvB,KAAK7B,GAAQmxB,CACb,GAIF,OADAtrB,EAAgBmL,MAAMnP,KAAM,CAACF,EAAKC,IAC3BA,CAEP,EAED48D,mBAAoB,SAAS34D,GAC5B,OAAOhE,KAAKg8D,mBAAmBh8D,KAAK08D,eAAe18D,KAAKy8D,gBAAiBz4D,GACzE,EAID44D,qBAAsB,WACrB,OAAO58D,KAAKg8D,mBAAmB,CAACG,KAAM,OACtC,EACDU,qBAAsB,SAAS74D,GAC9B,OAAOhE,KAAKg8D,mBAAmB,CAACG,KAAM,eAAgB,aAAcn4D,GACpE,EACD84D,4BAA6B,SAAS94D,GACrC,OAAOhE,KAAK68D,qBAAqB74D,EACjC,EACD+4D,qBAAsB,WACrB,OAAO/8D,KAAKg8D,mBAAmB,CAACG,KAAM,QACtC,EACDa,sBAAuB,SAASh5D,GAC/B,IAAIlE,EAAQE,KAAK08D,eAAe18D,KAAKs8D,iBAAkBt4D,GAIvD,OAFAlE,EAAYq8D,KAAI,MAETn8D,KAAKg8D,mBAAmBl8D,EAE/B,EACDm9D,uBAAwB,WACvB,OAAOj9D,KAAKg8D,mBAAmB,CAACG,KAAO,SAAU,aAAah1C,EAAUtK,OAAOqhC,OAAOyI,cACtF,EAGDuW,eAAgB,WACf,OAAOl9D,KAAKg8D,mBAAmB,CAACG,KAAM,QACtC,EAEDgB,kBAAmB,SAASn5D,GAC3B,OAAOhE,KAAKg9D,sBAAsBh5D,EAClC,EAEDo5D,mBAAoB,SAASp5D,EAAOlE,EAAQC,GAC3C,OAAOC,KAAKg8D,mBAAmB,CAACG,KAAO,WAAY,aAAc,MAC9C,IAAjBr8D,EAAOw+C,MAAsBx+C,EAAO0W,GAAK1W,EAAOw+C,MACjD,KACAv+C,IAED,EAEDs9D,cAAe,WACd,OAAOr9D,KAAKk9D,gBACZ,EACDI,iBAAkB,SAASt5D,GAC1B,OAAOhE,KAAKm9D,kBAAkBn5D,EAC9B,EACDu5D,oBAAqB,WACpB,OAAOv9D,KAAKi9D,wBACZ,EAEDO,cAAe,SAASx5D,EAAKlE,GAC5BE,KAAKi8D,cAAcj4D,EAAK,CACvBwS,GAAK1W,EAAS,GACd,YAAY,YACZ,cAAc,QAGf,EACD29D,YAAa,SAASz5D,EAAKlE,GAC1BE,KAAKi8D,cAAcj4D,EAAK,CACvB,kBAAkBlE,EAAS,GAC3Bq8D,KAAO,QAER,EACDuB,WAAY,SAAS15D,GACpBhE,KAAKi8D,cAAcj4D,EAAK,CACvBm4D,KAAO,OAER,EACDwB,eAAgB,SAAS35D,EAAKlE,GAC7B,IAAIC,EAAYD,EAAKuI,UAAY8e,EAAU+qC,UAAU7pD,WAAavI,EAAKuI,WAAa8e,EAAU6qC,UAAU3pD,UACxGrI,KAAKi8D,cAAcj4D,EAAK,CACvBm4D,KAAO,WACP,aAAch1C,EAAUilC,UAAU8P,SAASp8D,GAC3C,gBAAiBC,EAAW,OAAS,SAEtC,EACD69D,gBAAiB,SAAS55D,GACzBhE,KAAKi8D,cAAcj4D,EAAK,CACvBm4D,KAAO,gBAER,EAGD0B,kBAAmB,SAAS75D,EAAKlE,GAChC,IAAIC,EAASiE,EAAIixC,cAAc,qBAC3B92C,EAAU6F,EAAIixC,cAAc,oBAC5B3lB,EAAWnI,EAAUyvB,MAAQ,GACjC52C,KAAKi8D,cAAcl8D,EAAQ,CAAEyW,GAAM8Y,IACnCtvB,KAAKi8D,cAAc99D,EAAS,CAAE,kBAAmBmxB,GAEjD,EACDwuC,gBAAiB,SAAS95D,EAAKlE,GAC9BE,KAAKq8D,UAAUv8D,EAAOkE,EACtB,EAED+5D,mBAAoB,SAAS/5D,GAC5BA,EAAIvC,aAAa,cAAe,OAChC,EAEDu8D,oBAAqB,SAASh6D,GAC7BA,EAAIvC,aAAa,cAAe,QAChC,EAEDw8D,gCAAiC,SAASj6D,GACzC,OAAOhE,KAAKg8D,mBAAmB,CAACG,KAAO,SAAU,aAAan4D,EAAOk6D,SAAW,KAChF,EAEDC,WAAY,SAASn6D,EAAKlE,GACzBE,KAAKi8D,cAAcj4D,EAAK,CACvBwS,GAAK1W,EAAS,IAEf,EACDs+D,SAAU,SAASp6D,EAAKlE,GACvBE,KAAKy9D,YAAYz5D,EAAKlE,EACtB,EACDu+D,aAAc,SAASr6D,GACtB,OAAOhE,KAAK49D,gBAAgB55D,EAC5B,EACDs6D,QAAS,SAASt6D,GACjB,OAAOhE,KAAK09D,WAAW15D,EACvB,EACDu6D,YAAa,SAASv6D,GACrBhE,KAAKi8D,cAAcj4D,EAAK,CACvBm4D,KAAO,YAER,EAEDqC,aAAc,SAASx6D,GACtBA,EAAIvC,aAAa,OAAQ,UACzBuC,EAAIvC,aAAa,cAAe,QAChCuC,EAAIuE,WAAW9G,aAAa,OAAQ,UACpC,EAEDg9D,yBAAyB,SAASz6D,GACjC,OAAOhE,KAAKg8D,mBAAmB,CAACG,KAAO,SAAU,aAAah1C,EAAUtK,OAAOqhC,OAAOl6C,GAAak6D,SAAW,KAC9G,EACDQ,oBAAqB,SAAS16D,GAC7B,OAAOhE,KAAKg8D,mBAAmB,CAACG,KAAO,SAAU,aAAah1C,EAAUtK,OAAOqhC,OAAOl6C,IACtF,EACD26D,eAAgB,SAAS36D,EAAKlE,GAC7BkE,EAAIvC,aAAa,aAAc3B,EAC/B,EAED8+D,yBAA0B,SAAS56D,GAClC,IAAIlE,EAAQ,GAEZ,OAAQkE,GACP,IAAK,KACJlE,EAAQqnB,EAAUtK,OAAOqhC,OAAO0J,KAChC,MACD,IAAK,KACJ9nD,EAAQqnB,EAAUtK,OAAOqhC,OAAO1+B,MAChC,MACD,IAAK,KACJ1f,EAAQqnB,EAAUtK,OAAOqhC,OAAO2J,IAChC,MACD,IAAK,QACJ/nD,EAAQqnB,EAAUtK,OAAOqhC,OAAO4J,KAAO,IAAM3gC,EAAUtK,OAAOqhC,OAAO6J,OAMvE,OAAO5gC,EAAU02B,SAASme,mBAAmB,CAAC,aAAcl8D,GAC5D,EAGDg+C,wBAAyB,SAAS95C,GACjC,MAAO,0CAA0CA,EAAY,GAC7D,EAED86C,gBAAiB,SAAS96C,GACzBA,EAAIvC,aAAa,OAAQ,QAEzB,EAEDs8C,iBAAkB,SAAS/5C,EAAKlE,GAC/BkE,EAAIvC,aAAa,OAAQ,UACtB3B,GACFkE,EAAIvC,aAAa,kBAAmB3B,EAIrC,EAED++D,cAAe,SAAS76D,GACvBA,EAAIvC,aAAa,OAAQ,SACzB,EAEDq9D,0BAA2B,WAC1B,MAAO,kBACP,EAEDC,gBAAiB,SAAS/6D,EAAKlE,GAC9BkE,EAAIvC,aAAa,aAAc3B,EAC/B,EAEDk/D,0BAA2B,SAASh7D,GACnC,OAAOmjB,EAAU02B,SAASme,mBAAmB,CAACG,KAAO,SAAU,aAAan4D,EAAOk6D,SAAW,KAC9F,EAEDe,YAAa,SAASj7D,GACrBA,EAAIvC,aAAa,OAAQ,UACzB,EAEDy9D,mBAAoB,SAASl7D,GAC5BA,EAAIvC,aAAa,cAAe,QAChC,EAED09D,kBAAmB,SAASn7D,GAC3BA,EAAIvC,aAAa,cAAe,OAChC,GAOW0lB,EAAU02B,SACtB12B,EAAU02B,SAASzuC,GAAK,SAAUpL,GACjC,OAAO,WACN,OANMmjB,EAAUksB,OAAO8a,oBAShBnqD,EAAQmL,MAAMnP,KAAMzB,WAFnB,GAGZ,CACG,CAPuB,CAOrB4oB,EAAU02B,SAASzuC,GAIvB,CArW8B,GDoD9BnL,EAAU2hD,MAAQllB,EAClBz8B,EAAU2wD,YAAcxlC,EACxBnrB,EAAU2hD,MAAMwZ,IAAMhwC,EACtBnrB,EAAU2yC,IAAMlW,EAAMkW,IACtB3yC,EAAU4yC,MAAQnW,EAAMmW,MACxB5yC,EAAUgzC,QAAUvW,EAAMuW,QAC1BhzC,EAAUo7D,OO1DI,SAASl4C,GACvB,OAAO,SAAgBD,EAAOkqB,GACxBlqB,GACDC,EAAUksB,OAAOisB,cAA4D,IAA7Cn4C,EAAUivB,UAAU,UAAU,CAAChF,MAC7DjqB,EAAUwT,QACbxT,EAAUwT,QAAQ,CAACr6B,KAAM,QAASwf,KAAMsxB,EAASyN,QAAS,IAI1D9jB,QAAQxoB,IAAI6+B,GAOjB,CACA,CAjBe,CP0DYntC,GAC1BA,EAAU6yC,KAAOpW,EAAMoW,KAEvB7yC,EAAUs7D,kBAAoB,SAASp4C,EAAWD,GACjD,OAAO,IAAIijC,GAAWlmD,EAAWkjB,EAAWD,EAC9C,EAMCjjB,EAAUu7D,mBAAqBpwC,EAAYoqB,kBAC3Cv1C,EAAU6sD,cAAgB1hC,EAAYwqB,aACtC31C,EAAUw7D,YAAcrwC,EAAYyqB,UAEpC,MAAMz7C,EAAaojB,EAAQvd,GQzEb,IAIJorB,EACNzvB,EACAuxC,ERoEJltC,EAAU2hD,MAAM/O,MAAM5yC,EAAW7F,GAEjC6F,EAAUy7D,IAAMz7D,EAAUywD,KAAO1zC,EACjC/c,EAAUmlB,QAAUnqB,OAAOmqB,QS7Eb,SAAgBjC,GAE/BA,EAAUw+B,WAAa,WAyBtB,QAAQz+B,KAxBRC,EAAUivB,UAAU,YAAa,IACjCp2C,KAAK2/D,WAEF3/D,KAAKg1C,aAEPh1C,KAAKg1C,WAAW5sC,UAAY,IAI1BpI,KAAKutD,iBACPvtD,KAAKutD,kBAGHvtD,KAAKs7D,eACPt7D,KAAKs7D,gBAGHt7D,KAAK6kD,KAAO7kD,KAAK6kD,IAAIc,YACvB3lD,KAAK6kD,IAAIc,aAIV3lD,KAAKu2C,kBAEQv2C,KACU,IAAnBknB,EAAElb,QAAQ,aACLhM,KAAKknB,GAGdC,EAAU4mC,YAAa,CACxB,CAEA,CAnCe,CT8EH9pD,GU5EG,SAAgBkjB,GAI/B,SAASD,EAAakqB,EAAQ9yC,GAC7B,IAAIgpB,EAAS,CACZ06B,OAAQ5Q,GAGT,GAAoB,IAAhB9yC,EAAKE,OACR,MAAM,IAAI6E,MAAM,qCAEjB,GAAoB,IAAhB/E,EAAKE,OAqBR,MApBuB,iBAAZF,EAAK,IACfgpB,EAAOtH,IAAM1hB,EAAK,GAClBgpB,EAAOs4C,OAAQ,IAEft4C,EAAOtH,IAAM1hB,EAAK,GAAG0hB,IACrBsH,EAAOs4C,MAASthE,EAAK,GAAGshE,QAAA,EACxBt4C,EAAOyK,SAAWzzB,EAAK,GAAGyzB,SAC1BzK,EAAOi4B,QAAUjhD,EAAK,GAAGihD,SAGrBjhD,EAAK,GAAG2c,KACiB,iBAAjB3c,EAAK,GAAG2c,KAClBqM,EAAOrM,KAAO2lB,EAAUtiC,EAAK,GAAG2c,MAEhCqM,EAAOrM,KAAO3c,EAAK,GAAG2c,KAGvBqM,EAAOrM,KAAO,GAGTqM,EAIR,OADAA,EAAOtH,IAAM1hB,EAAK,GACX8yC,GACN,IAAK,MACL,IAAK,SACJ9pB,EAAOyK,SAAWzzB,EAAK,GACvBgpB,EAAOi4B,QAAUjhD,EAAK,GACvB,MACA,IAAK,OACL,IAAK,MACAA,EAAK,GACe,iBAAZA,EAAK,GACfgpB,EAAOrM,KAAO2lB,EAAUtiC,EAAK,IAE7BgpB,EAAOrM,KAAO3c,EAAK,GAGpBgpB,EAAOrM,KAAO,GAEfqM,EAAOyK,SAAWzzB,EAAK,GACvBgpB,EAAOi4B,QAAUjhD,EAAK,GAGxB,OAAOgpB,CACR,CAzDAH,EAAUiC,QAAUnqB,OAAOmqB,QA0D3BjC,EAAUw6B,KAAO,CAGhB3a,OAAO,EAGPgb,OAAQ,MAER6d,uBAAwBj/B,EACxB0hB,MAAO,SAASlR,GACf,MAAoB,iBAATA,EAA0BA,GAGrCA,EAAOA,EAAKzvC,QAAQ,SAAS,WAClBm+D,UAAc,KAAgB34C,EAAUutC,KAAK3Z,UAEb,IAAzB97C,OAAO8gE,iBACxBzhE,EAAM,IAAIW,OAAO8gE,cAAc,qBAC3BH,MAAQ,QACZthE,EAAI0hE,QAAQ5uB,IAJZ9yC,GAAM,IAAKwhE,WAAaG,gBAAgB7uB,EAAM,YAMxC9yC,GATP,IAAIA,CAUJ,EACD+kD,OAAQ,SAASjS,EAAS9yC,EAAKgpB,GAC9B,YAAWhpB,EAAI+jD,QAAyB/jD,EAAI+jD,OAAS,IAAK,CACzD,IAAI1iD,EAAQrB,EAAI4hE,YAAsD5hE,EAAI4hE,aAAe5hE,EAA1D0B,KAAKsiD,MAAMhkD,EAAI6jD,cAAgB7jD,GAC9D,GAAIqB,GAA+B,OAAxBA,EAAImjB,kBAA6BnjB,EAAIuxC,qBAAqB,eAAe1yC,OACnF,OAAOmB,EAAIuxC,qBAAqBE,GAAS,EAE1C,CAED,WADI9pB,GAAYH,EAAUivB,UAAU,iBAAiB,CAAC,gBAAiB73C,UAAU,GAAI+oB,IAC9EpoB,SAASC,cAAc,MAC9B,EACDmkD,MAAO,SAASlS,EAAU9yC,GAEzB,GADKA,EAAO2G,WAAU3G,EAASA,EAAO4hE,aAAe5hE,GACjD6oB,EAAUutC,KAAK3Z,KAClB,OAAOz8C,EAAO6hE,YAAY/uB,IAAW,GAMrC,QAHI9pB,EADA3nB,EAAO,GAEPyP,GAAO9Q,EAAOyI,eAAezI,GAAQ8hE,SAAShvB,EAAU9yC,EAAQ,KAAM+hE,YAAYC,SAAU,MAG/Fh5C,EAAQlY,EAAImxD,eAEX5gE,EAAK4O,KAAK+Y,GAKZ,OAAO3nB,CAER,EACDuiD,MAAO,SAAS9Q,GACf,OAAOpxC,KAAKwgE,MACVpvB,EAAO4Q,QAAU,MAClB5Q,EAAOpxB,IACPoxB,EAAOn2B,MAAQ,GACdm2B,EAAOwuB,QAAS,EACjBxuB,EAAOrf,SACPqf,EAAOmO,QAER,EACDj6C,IAAK,SAAS8rC,EAAK9yC,EAAQgpB,GAC1B,IAAI3nB,EAASunB,EAAa,MAAO3oB,WACjC,OAAOyB,KAAKkiD,MAAMviD,EAClB,EACD8gE,QAAS,SAASrvB,EAAK9yC,GACtB,IAAIgpB,EAASJ,EAAa,MAAO3oB,WAEjC,OADA+oB,EAAOs4C,OAAQ,EACR5/D,KAAKkiD,MAAM56B,EAClB,EACDo5C,IAAK,SAAStvB,EAAK9yC,EAAUgpB,EAAQ3nB,GACpC,IAAIyP,EAAS8X,EAAa,MAAO3oB,WACjC,OAAOyB,KAAKkiD,MAAM9yC,EAClB,EACDuxD,IAAK,SAASvvB,EAAK9yC,EAAQgpB,GAO1B,IAAI3nB,EAASunB,EAAa,SAAU3oB,WACpC,OAAOyB,KAAKkiD,MAAMviD,EAClB,EACDihE,KAAM,SAASxvB,EAAK9yC,EAAUgpB,EAAQ3nB,GACb,GAApBpB,UAAUC,OACbF,EAAW,GACmB,GAApBC,UAAUC,QAAmC,mBAAbF,IAC1CgpB,EAAShpB,EACTA,EAAW,IAEZ,IAAI8Q,EAAS8X,EAAa,OAAQ3oB,WAClC,OAAOyB,KAAKkiD,MAAM9yC,EAClB,EACDyxD,SAAU,SAASzvB,EAAK9yC,EAAUgpB,GACjChpB,EAAyB,OAAbA,EAAoB,GAAKke,OAAOle,GAE5C,IAAIqB,EAASunB,EAAa,OAAQ3oB,WAElC,OADAoB,EAAOigE,OAAA,EACA5/D,KAAKkiD,MAAMviD,EAClB,EACD6gE,MAAO,SAASpvB,EAAQ9yC,EAAKgpB,EAAU3nB,EAAOyP,EAAQpL,GACrD,OAAO,IAAImjB,EAAUiC,QAAS,SAAStpB,EAASC,GAC/C,IAAI5B,OAAA,WAAY2iE,gBAAiC35C,EAAUutC,KAAK3Z,KAA8B,IAAI97C,OAAO8gE,cAAc,qBAAhD,IAAIe,eACvExxC,EAAqD,OAA7Cof,UAAUoK,UAAUt1C,MAAM,gBAA+D,OAApCkrC,UAAUoK,UAAUt1C,MAAM,OAA0D,OAAxCkrC,UAAUoK,UAAUt1C,MAAM,UA4BvI,GA1BM7D,GACLxB,EAAE6Q,iBAAiB,oBAAoB,WACtC,GAAqB,GAAhB7Q,EAAE4iE,YAAqBzxC,GAAwB,GAAhBnxB,EAAE4iE,WAAkB,CACvD,IAAgB,KAAZ5iE,EAAEkkD,QAAoC,KAAnBlkD,EAAEgkD,gBACnBh7B,EAAUivB,UAAU,cAAe,CAACj4C,IAAK,OAE/C6qB,YAAW,WACY,mBAAX5Z,GACVA,EAAOD,MAAMlQ,OAAQ,CAAC,CAAC+jD,OAAO7kD,EAAG6iE,SAAS1iE,KAE3CwB,EAAQ3B,GACc,mBAAXiR,IACVA,EAAS,KACTjR,EAAI,KAEL,GAAE,EACH,CACN,IAGiB,OAAVizC,GAAoBpxC,KAAKgnC,QAC5B1oC,IAAQA,EAAI0N,QAAQ,MAAM,EAAE,IAAI,KAAK,YAAWyM,MAAOu4C,UAAU,MAGlE7yD,EAAE8iE,KAAK7vB,EAAQ9yC,EAAKqB,GAEhBqE,EACH,IAAK,IAAIujB,KAAOvjB,EACf7F,EAAEikD,iBAAiB76B,EAAKvjB,EAAQujB,QACC,QAAxB6pB,EAAOrwC,eAAqC,OAAVqwC,GAA6B,UAAVA,EAC/DjzC,EAAEikD,iBAAiB,eAAgB,qCACf,OAAVhR,IACV9pB,EAAW,MAOZ,GAJAnpB,EAAEikD,iBAAiB,mBAAoB,kBAEvCjkD,EAAE+iE,KAAK55C,IAEF3nB,EAAO,MAAO,CAACqjD,OAAO7kD,EAAG6iE,SAAS1iE,EAC1C,EAAIyoB,KAAK/mB,MACP,EACD4hD,aAAc,SAASxQ,GACtB,OAAyB,GAArBA,EAAIplC,QAAQ,KACR,IAEA,GACR,GAGFmb,EAAUg6C,MAAQh6C,EAAUw6B,IAE5B,CA5Ne,CV6ET19C,GW/ES,SAAgBpE,GAE/B,IAAIoE,EAAuB,SAAUktC,EAAQiE,GAG5C,IAAK,IAFDjF,EAAO,4CACPhpB,EAAOgqB,EAAO3tC,MAAM,cACf0jB,EAAI,EAAGA,EAAIC,EAAK3oB,OAAQ0oB,IAChC,OAAQC,EAAKD,IACZ,IAAK,KACL,IAAK,KAAMipB,GAAQ,eAAiBjpB,EAAI,QACvC,MACD,IAAK,KACL,IAAK,KAAMipB,GAAQ,gBAAkBjpB,EAAI,WACxC,MACD,IAAK,KAAMipB,GAAQ,eAAiBjpB,EAAI,aAAeA,EAAI,mBAC1D,MACD,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACJipB,GAAQ,eAAiBjpB,EAAI,QAC7B,MACD,IAAK,KACJipB,GAAQ,eAAiBjpB,EAAI,QAC7B,MACD,IAAK,KAAMipB,GAAQ,eAAiBjpB,EAAI,QACvC,MACD,IAAK,KACL,IAAK,KAAMipB,GAAQ,2BAA6BjpB,EAAI,oCACnD,MACD,IAAK,KAAMipB,GAAQ,eAAiBjpB,EAAI,QACvC,MACD,IAAK,KAAMipB,GAAQ,iDAAmDjpB,EAAI,SACzE,MACD,IAAK,KAAMipB,GAAQ,gDAAkDjpB,EAAI,SAM3E,IAAIkqB,EAAO,4CAEX,OADIgE,IAAKhE,EAAO,aAAeA,EAAO,KAC/B,IAAIV,SAAS,OAAQ,0BAA4BP,EAAO,oBAAsBiB,EAAO,KAC7F,EA6BIhzC,EAAkB,SAAU+yC,EAAQiE,GACvC,MAAMjF,EAAOgB,EAAO3tC,MAAM,cAC1B,OAAO,SAAU2jB,GAIhB,IAAK,IAHDD,EAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACtBkqB,EAAOjqB,EAAK3jB,MAAM,qBAEblF,EAAI,EAAGA,EAAI6xC,EAAK3xC,OAAQF,IAChC,OAAQ6xC,EAAK7xC,IACZ,IAAK,KACL,IAAK,KACJ4oB,EAAI,GAAKkqB,EAAK9yC,IAAM,EACpB,MACD,IAAK,KACL,IAAK,KACJ4oB,EAAI,IAAMkqB,EAAK9yC,IAAM,GAAK,EAC1B,MACD,IAAK,KACJ4oB,EAAI,GAAe,EAAVkqB,EAAK9yC,IAAU8yC,EAAK9yC,GAAK,GAAK,KAAO,KAC9C,MACD,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACJ4oB,EAAI,GAAKkqB,EAAK9yC,IAAM,EACpB,MACD,IAAK,KACJ4oB,EAAI,GAAKkqB,EAAK9yC,IAAM,EACpB,MACD,IAAK,KACJ4oB,EAAI,GAAKkqB,EAAK9yC,IAAM,EACpB,MACD,IAAK,KACL,IAAK,KACJ4oB,EAAI,GAAKA,EAAI,GAAK,IAAuC,OAAhCkqB,EAAK9yC,IAAM,IAAIsC,cAAwB,EAAI,IACpE,MACD,IAAK,KACJsmB,EAAI,GAAKkqB,EAAK9yC,IAAM,EACpB,MACD,IAAK,KACJ4oB,EAAI,GAAKrnB,EAAUgd,OAAOwC,KAAK+hD,iBAAiBhwB,EAAK9yC,KAAO,EAC5D,MACD,IAAK,KACJ4oB,EAAI,GAAKrnB,EAAUgd,OAAOwC,KAAKgiD,gBAAgBjwB,EAAK9yC,KAAO,EAO9D,OAAI82C,EACI,IAAI38B,KAAKA,KAAK6oD,IAAIp6C,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAG/D,IAAIzO,KAAKyO,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAC9D,CACA,EAEA,IAAImI,EAWJ,SAASzvB,IACR,IAAIuxC,GAAA,EASJ,MAR6B,SAAzBtxC,EAAUwzC,OAAOkuB,UAAA,IACjBlyC,IACFA,EAdH,WACC,IACC,IAAIqhB,SAAS,uBACbrhB,GAAa,CACb,OACAA,GAAA,CACA,CACD,OAAOA,CACR,CARA,IAgBE8hB,EAAS9hB,GAET8hB,EAAStxC,EAAUwzC,OAAOkuB,IAEpBpwB,CACR,CACAtxC,EAAUwf,KAAO,CAChBkkC,KAAK,WAGJ,IAAK,IAFDpS,EAAItxC,EAAUgd,OAAOwC,KAAK4mC,YAC1B7Q,EAAIv1C,EAAUgd,OAAOwC,KAAK+hD,iBAAmB,CAAC,EACzCjxB,EAAI,EAAGA,EAAIgB,EAAE3yC,OAAQ2xC,IAC7BiF,EAAEjE,EAAEhB,IAAIA,EAIT,IAFIgB,EAAItxC,EAAUgd,OAAOwC,KAAK2mC,WAC1B5Q,EAAIv1C,EAAUgd,OAAOwC,KAAKgiD,gBAAkB,CAAC,EACxClxB,EAAI,EAAGA,EAAIgB,EAAE3yC,OAAQ2xC,IAC7BiF,EAAEjE,EAAEhB,IAAIA,CACT,EACD+b,UAAU,SAAS/a,GAClB,IAAIiE,EAAM,IAAI38B,KAAK04B,GAQnB,OAPAA,EAAK2iB,SAAS,GACd3iB,EAAKqwB,WAAW,GAChBrwB,EAAKswB,WAAW,GAChBtwB,EAAKuwB,gBAAgB,GACjBvwB,EAAK0iB,aACP1iB,EAAKwF,UAAYvB,EAAIuB,WAAaxF,EAAKuF,WAAatB,EAAIsB,YAAcvF,EAAKsF,cAAgBrB,EAAIqB,gBAChGtF,EAAK4iB,QAAQ5iB,EAAK6f,UAAY,MAAkB,GAAK7f,EAAK0iB,aACpD1iB,CACP,EACDqlB,UAAU,SAASrlB,GAClB,OAAQA,EAAK9oC,UAAU,IAAgC,GAAzB8oC,EAAKukB,qBAAwB,KAC3D,EACD/J,WAAW,SAASxa,GACnB,IAAIiE,EAAMjE,EAAK0a,SAKf,OAJIhsD,EAAUwzC,OAAOsuB,kBACR,IAARvsB,EAAWA,EAAM,EAChBA,KAECp1C,KAAKksD,UAAUlsD,KAAKjB,IAAIoyC,GAAM,EAAEiE,EAAM,OAC7C,EACD6W,YAAY,SAAS9a,GAEpB,OADAA,EAAKywB,QAAQ,GACN5hE,KAAKksD,UAAU/a,EACtB,EACD0wB,WAAW,SAAS1wB,GAEnB,OADAA,EAAK6Z,SAAS,GACPhrD,KAAKisD,YAAY9a,EACxB,EACD6a,UAAU,SAAS7a,GAClB,OAAOnxC,KAAKksD,UAAU/a,EACtB,EACD2wB,UAAU,SAAS3wB,EAAMiE,GACxB,IAAIjF,EAAQ,IAAI13B,KAAK04B,EAAK9oC,WAK1B,GAHA8nC,EAAMyxB,QAAQzxB,EAAMwG,UAAYvB,GAG7BA,GAAOjjC,KAAKgnC,MAAM/D,IAAQA,EAAM,EAAE,CACpC,IACCjuB,IADgBgpB,GAASgB,GACT,MACjB,GAAGhqB,GAAQgqB,EAAKukB,qBAAuBvlB,EAAMulB,oBAAoB,CAChE,IAAIxuC,EAAQC,EAAI,KAChBgpB,EAAM4jB,QAAQ5jB,EAAM6gB,UAA2B,IAAd,GAAK9pC,GAAc,GAAK,IACzD,CACD,CAKD,OAHIkuB,GAAO,IAAOjE,EAAK0iB,YAAc1jB,EAAM0jB,aACzC1jB,EAAMwG,UAAYxF,EAAKwF,WAAaxG,EAAMuG,WAAavF,EAAKuF,YAAcvG,EAAMsG,cAAgBtF,EAAKsF,gBACtGtG,EAAM4jB,QAAQ5jB,EAAM6gB,UAAY,MAAkB,GAAK7gB,EAAM0jB,aACvD1jB,CACP,EACDpxC,IAAI,SAASoyC,EAAKiE,EAAIjF,GACrB,IAAIhpB,EAAM,IAAI1O,KAAK04B,EAAK9oC,WACxB,OAAO8nC,GACN,IAAK,MACJhpB,EAAQtnB,EAAUwf,KAAKyiD,UAAU36C,EAAOiuB,GACxC,MACD,IAAK,OACJjuB,EAAQtnB,EAAUwf,KAAKyiD,UAAU36C,EAAa,EAANiuB,GACxC,MACD,IAAK,QAASjuB,EAAM6jC,SAAS7jC,EAAMuvB,WAAWtB,GAAM,MACpD,IAAK,OAAQjuB,EAAM46C,QAAQ56C,EAAMsvB,cAAcrB,GAAM,MACrD,IAAK,OAKJjuB,EAAM4sC,QAAQ5sC,EAAM6pC,UAAkB,GAAN5b,EAAW,GAAK,KAChD,MACD,IAAK,SACJjuB,EAAM4sC,QAAQ5sC,EAAM6pC,UAAkB,GAAN5b,EAAW,KAC3C,MACD,QACC,OAAOv1C,EAAUwf,KAAK,OAAO8wB,GAAMgB,EAAKiE,EAAIjF,GAE9C,OAAOhpB,CACP,EACD66C,SAAS,SAAS7wB,GACjB,OAAIA,EAAI,GAAW,IAAIA,EAChBA,CACP,EACD2F,KAAK,SAAS3F,GACb,OAAO,IAAI14B,KAAK04B,EAAK9oC,UACrB,EACDujD,YAAY,SAASza,EAAOiE,GAC3B,OAAIx1C,KA/M0BuwC,EAgNNgB,EAhNchqB,EAgNPiuB,EA/MzB,SAASluB,GACf,OAAOipB,EAAOxuC,QAAQ,cAAc,SAAUyvC,GAC7C,OAAQA,GACP,IAAK,KAAM,OAAOjqB,EAAMtnB,EAAUwf,KAAK2iD,SAAS96C,EAAK+6C,cAAgBpiE,EAAUwf,KAAK2iD,SAAS96C,EAAKyvB,WAClG,IAAK,KAAM,OAAOxvB,EAAMtnB,EAAUwf,KAAK2iD,SAAU96C,EAAKg7C,cAAgB,GAAMriE,EAAUwf,KAAK2iD,SAAU96C,EAAKwvB,WAAa,GACvH,IAAK,KAAM,OAAOvvB,EAAMD,EAAK+6C,aAAe/6C,EAAKyvB,UACjD,IAAK,KAAM,OAAOxvB,EAAOD,EAAKg7C,cAAgB,EAAMh7C,EAAKwvB,WAAa,EACtE,IAAK,KAAM,OAAOvvB,EAAMtnB,EAAUwf,KAAK2iD,SAAS96C,EAAK4+B,iBAAmB,KAAOjmD,EAAUwf,KAAK2iD,SAAS96C,EAAKuvB,cAAgB,KAC5H,IAAK,KAAM,OAAOtvB,EAAMD,EAAK4+B,iBAAmB5+B,EAAKuvB,cACrD,IAAK,KAAM,OAAOtvB,EAAMtnB,EAAUgd,OAAOwC,KAAK8mC,UAAUj/B,EAAKi7C,aAAetiE,EAAUgd,OAAOwC,KAAK8mC,UAAUj/B,EAAK2kC,UACjH,IAAK,KAAM,OAAO1kC,EAAMtnB,EAAUgd,OAAOwC,KAAK6mC,SAASh/B,EAAKi7C,aAAetiE,EAAUgd,OAAOwC,KAAK6mC,SAASh/B,EAAK2kC,UAC/G,IAAK,KAAM,OAAO1kC,EAAMtnB,EAAUgd,OAAOwC,KAAK4mC,YAAY/+B,EAAKg7C,eAAiBriE,EAAUgd,OAAOwC,KAAK4mC,YAAY/+B,EAAKwvB,YACvH,IAAK,KAAM,OAAOvvB,EAAMtnB,EAAUgd,OAAOwC,KAAK2mC,WAAW9+B,EAAKg7C,eAAiBriE,EAAUgd,OAAOwC,KAAK2mC,WAAW9+B,EAAKwvB,YACrH,IAAK,KAAM,OAAOvvB,EAAMtnB,EAAUwf,KAAK2iD,UAAU96C,EAAKk7C,cAAgB,IAAM,GAAK,GAAKviE,EAAUwf,KAAK2iD,UAAU96C,EAAK2sC,WAAa,IAAM,GAAK,GAC5I,IAAK,KAAM,OAAO1sC,GAAQD,EAAKk7C,cAAgB,IAAM,GAAK,GAAOl7C,EAAK2sC,WAAa,IAAM,GAAK,EAC9F,IAAK,KAAM,OAAO1sC,EAAMD,EAAKk7C,cAAgBl7C,EAAK2sC,WAClD,IAAK,KAAM,OAAO1sC,EAAMtnB,EAAUwf,KAAK2iD,SAAS96C,EAAKk7C,eAAiBviE,EAAUwf,KAAK2iD,SAAS96C,EAAK2sC,YACnG,IAAK,KAAM,OAAO1sC,EAAMtnB,EAAUwf,KAAK2iD,SAAS96C,EAAKm7C,iBAAmBxiE,EAAUwf,KAAK2iD,SAAS96C,EAAK+uC,cACrG,IAAK,KAAM,OAAO9uC,EAAOD,EAAKk7C,cAAgB,GAAK,KAAO,KAASl7C,EAAK2sC,WAAa,GAAK,KAAO,KACjG,IAAK,KAAM,OAAO1sC,EAAOD,EAAKk7C,cAAgB,GAAK,KAAO,KAASl7C,EAAK2sC,WAAa,GAAK,KAAO,KACjG,IAAK,KAAM,OAAO1sC,EAAMtnB,EAAUwf,KAAK2iD,SAAS96C,EAAKo7C,iBAAmBziE,EAAUwf,KAAK2iD,SAAS96C,EAAKq7C,cACrG,IAAK,KAAM,OAAOp7C,EAAMtnB,EAAUwf,KAAK2iD,SAASniE,EAAUwf,KAAKmjD,cAAct7C,IAASrnB,EAAUwf,KAAK2iD,SAASniE,EAAUwf,KAAKojD,WAAWv7C,IACxI,QAAS,OAAOkqB,EAEpB,GACA,IAyLED,EAAOA,EAAOxvC,QAAQ,cAAa,SAASwuC,GAC3C,OAAOA,GACN,IAAK,KAAM,MAAO,yCAClB,IAAK,KAAM,MAAO,8CAClB,IAAK,KAAM,MAAO,qBAClB,IAAK,KAAM,MAAO,0BAClB,IAAK,KAAM,MAAO,iDAClB,IAAK,KAAM,MAAO,yBAClB,IAAK,KAAM,MAAO,gDAClB,IAAK,KAAM,MAAO,+CAClB,IAAK,KAAM,MAAO,oDAClB,IAAK,KAAM,MAAO,mDAClB,IAAK,KAAM,MAAO,oDAClB,IAAK,KAAM,MAAO,kCAClB,IAAK,KAAM,MAAO,sBAClB,IAAK,KAAM,MAAO,0CAClB,IAAK,KAAM,MAAO,4CAClB,IAAK,KAAM,MAAO,qCAClB,IAAK,KAAM,MAAO,qCAClB,IAAK,KAAM,MAAO,4CAClB,IAAK,KAAM,MAAO,qDAClB,QAAS,OAAOA,EAEpB,IACMiF,IAAKjE,EAAOA,EAAOxvC,QAAQ,aAAa,gBACjC,IAAI+uC,SAAS,OAAO,WAAYS,EAAO,MAEtCpqB,KAAKlnB,IA9OG,IAAUswC,EAAQhpB,CA+OtC,EACDu7C,YAAY,SAASvxB,EAAQiE,EAAKjF,GACjC,IAAIhpB,EAAqBvnB,IAAWxB,EAAkB6F,EAClDijB,EAAmBC,EAAmBgqB,EAAQiE,GAE9ChE,EAAiB,qFAIjB9yC,EAAiB,yEAGjBgpB,EAAiB,2EAEjB3nB,EAAU,8RAgBVyP,EAAW+X,EAAmB,oBAAqBiuB,GACnDpxC,EAAWmjB,EAAmB,oBAAqBiuB,GACnDt1C,EAAWqnB,EAAmB,oBAAqBiuB,GAEvD,OAAO,SAAUr1C,GAEhB,IAAKowC,IAAgBtwC,EAAUwzC,OAAOsvB,mBAAoB,CACzD,GAAI5iE,GAAcA,EAAW0iE,WAC5B,OAAO,IAAIhqD,KAAK1Y,GACV,GAA0B,iBAAfA,EACjB,OAAO,IAAI0Y,KAAK1Y,GACV,GAzBiB5B,EAyBH4B,EAxBfqxC,EAAe9vC,KAAKkb,OAAOre,IAyBhC,OAAOiR,EAASrP,GACV,GAvBiBuvB,EAuBHvvB,EAtBfzB,EAAegD,KAAKkb,OAAO8S,IAuBhC,OAAOtrB,EAASjE,GACV,GAtBO,SAAUuvB,GACzB,OAAOhI,EAAehmB,KAAKkb,OAAO8S,GACrC,CAFkB,CAsBOvvB,GACpB,OAAOD,EAASC,GACV,GArBO,SAAUuvB,GACzB,OAAO3vB,EAAQ2B,KAAKguB,EACvB,CAFkB,CAqBOvvB,GACpB,OAAO,IAAI0Y,KAAK1Y,EAEjB,CA9Bc,IAAUuvB,EAJAnxB,EAoCzB,OAAO+oB,EAAiB7lB,KAAKxB,EAAWE,EAC3C,CACE,EACD0iE,WAAY,SAAStxB,GACpB,IAAIA,EAAO,OAAO,EAElB,IAAIiE,GADJjE,EAAQnxC,KAAKksD,UAAU,IAAIzzC,KAAK04B,KACf0a,SACJ,IAATzW,IACHA,EAAO,GAER,IAAIjF,EAAiB,IAAI13B,KAAK04B,EAAM9oC,WACpC8nC,EAAeyxB,QAAQzwB,EAAMwF,WAAa,EAAIvB,IAC9C,IAAIjuB,EAAcgpB,EAAesG,cAC7BvvB,EAAe/U,KAAKgnC,OAAQhJ,EAAe6gB,UAAY,IAAIv4C,KAAK0O,EAAa,EAAG,GAAG6pC,WAAa,OAEpG,OADkB,EAAI7+C,KAAKk9B,MAAOnoB,EAAe,EAEjD,EACDs7C,cAAe,SAASrxB,GACvB,OAAOnxC,KAAKyiE,WAAWziE,KAAK4iE,eAAezxB,GAC3C,EACDyxB,eAAgB,SAASzxB,GACxB,OAAO,IAAI14B,KAAK04B,EAAK2U,iBAAkB3U,EAAK+wB,cAAe/wB,EAAK8wB,aAAc9wB,EAAKixB,cAAejxB,EAAKkxB,gBAAiBlxB,EAAKmxB,gBAC7H,EAGF,CXtRC5jD,CAAKza,GYjFS,SAAgBkjB,GAkB/BA,EAAUksB,OAAO,CAChBwvB,aAAc,WACdC,WAAY,QACZC,UAAW,WACXC,UAAW,KACX9G,SAAU,QACV+G,UAAW,QACXnI,UAAW,KAEXoI,YAAa,iBACbC,SAAU,iBACVR,oBAAoB,EACpB3N,iBAAgB,EAChBrB,UAAW,EACXyP,sBAAuB,UACvBC,2BAA4B,UAC5BC,UAAW,EACXC,mBAAoB,EACpBC,uBAAuB,EACvBlwB,kBAAkB,EAClBquB,iBAAiB,EACjB/N,WAAY,EACZoC,UAAW,GACXlD,UAAU,EACViH,aAAa,EACbC,WAAW,EACXyJ,aAAa,EACblM,iBAAiB,EACjBtD,iBAAiB,EACjBC,qBAAqB,EACrB2D,gBAAgB,EAChBC,mBAAmB,EACnBpJ,OAAQ,KACR8F,aAAc,GACdkP,qBAAoB,EACpBC,oBAAmB,EAEnBC,qBAAqB,EACrBC,uBAAuB,EACvB9U,KAAI,EAEJ+U,uBAAuB,EACvBC,oBAAqB,EACrBC,qBAAsB,GAEtB3J,WAAU,EACV4J,uBAAwB,IAExBC,eAAe,EACftL,iBAAiB,EACjBhhB,QAAQ,EAERusB,YAAA,EACAC,OAAA,EACAC,WAAA,EACAC,WAAW,IACXC,mBAAA,EACAC,qBAAA,EAEAjP,kBAAA,EAEAkP,gBAAA,EACA1N,gBAAA,EACA2N,WAAY,CAAC,YAAa,eAC1BC,aAAc,CAAC,eAAgB,YAAa,eAC5CC,aAAc,CAAC,eAAgB,kBAC/BC,cAAe,CAAC,kBAChB5J,SAAU,CACTC,SAAU,CACT,CAAC72D,KAAM,cAAe82D,OAAQ,OAAQ76D,KAAM,WAAYgkB,OAAO,GAC/D,CAACjgB,KAAM,OAAQ6Y,OAAQ,GAAI5c,KAAM,OAAQ66D,OAAQ,UAGnD2J,2BAAA,EACA9L,aAAA,EAEA+L,WAAY,QACZC,aAAc,EACdC,sBAAsB,EACtB9W,qBAAqB,EACrBM,2BAA2B,EAE3B8S,IAAK,OACL2D,gBAAiB,gBACjB5F,aAAa,GAGdn4C,EAAUksB,OAAOuxB,aAAaO,SAAWh+C,EAAUksB,OAAOuxB,aAAan2C,OACvEtH,EAAUksB,OAAOwxB,cAAcM,SAAWh+C,EAAUksB,OAAOwxB,cAAcp2C,OAEzEtH,EAAUm9B,SAAW,CACpBC,UAAW,SAAmBr9B,GAE7B,OADYC,EAAUilC,UAAUgZ,UAAYj+C,EAAUilC,UAAU2O,YACnD7zC,EACb,EACD6+B,WAAY,SAAoB7+B,GAE/B,OADaC,EAAUilC,UAAUiZ,YAAcl+C,EAAUilC,UAAUC,aACrDnlC,EACd,GAGFC,EAAUilC,UAAU,CAAC,EACrBjlC,EAAU+nC,eAAe,WAIxB,IAAIhoC,EAAEC,EAAU9H,KAAKusC,YACjBxa,EAAEjqB,EAAUksB,QACR,SAAS/0C,EAAEgpB,GAClB,IAAK,IAAI3nB,KAAK2nB,EACRhpB,EAAEqB,KAAIrB,EAAEqB,GAAG2nB,EAAE3nB,GACrB,EAHS,CAINwnB,EAAUilC,UAAU,CACrB8P,SAASh1C,EAAEkqB,EAAEyxB,cACbC,WAAW57C,EAAEkqB,EAAE0xB,YACfE,UAAU,SAAS1kE,EAAGgpB,GACrB,OAAG8pB,EAAE2d,IACG5nC,EAAUilC,UAAU8P,SAAS/0C,EAAU9H,KAAKtgB,IAAIuoB,GAAI,EAAE,QAAQ,YAAYH,EAAUilC,UAAU8P,SAAS59D,GAExG6oB,EAAUilC,UAAU8P,SAAS59D,GAAI,YAAY6oB,EAAUilC,UAAU8P,SAAS/0C,EAAU9H,KAAKtgB,IAAIuoB,GAAA,EAAM,OAC1G,EACDg+C,eAAep+C,EAAEkqB,EAAEyxB,cACnBnJ,eAAgB,SAASp7D,GACxB,MAAO,EACP,EACDq7D,gBAAiB,SAASr7D,GACzB,MAAO,EACP,EAEDinE,iBAAiBr+C,EAAEkqB,EAAE4xB,WACrBwC,gBAAgBt+C,EAAEkqB,EAAE8qB,UACpB3B,WAAWrzC,EAAEkqB,EAAE6xB,WACfwC,YAAYv+C,EAAEkqB,EAAE6xB,WAChByC,WAAWx+C,EAAEkqB,EAAE6xB,WACfnI,UAAU5zC,EAAEkqB,EAAE0pB,WAEd6K,YAAaz+C,EAAEkqB,EAAE2xB,WAGjB1W,YAAanlC,EAAEkqB,EAAE8xB,YAAa9xB,EAAE+yB,YAChCpJ,WAAW5zC,EAAU9H,KAAKqjD,YAAYtxB,EAAE8xB,YAAY9xB,EAAE+yB,YACtDhB,SAASh8C,EAAU9H,KAAKqjD,YAAYtxB,EAAE+xB,UAAA,GAAiB,GACvDyC,aAAa,SAAStnE,EAAMgpB,EAAI3nB,GAE/B,MAAgB,UAAbA,EAAGkyD,OAAkC,aAAblyD,EAAGkyD,MACtB1qC,EAAUilC,UAAUsZ,WAAWpnE,GAE/B6oB,EAAUilC,UAAUsZ,WAAWpnE,GAAO,MAAM6oB,EAAUilC,UAAUsZ,WAAWp+C,EAEnF,EACDi1C,WAAW,SAASj+D,EAAMgpB,EAAI3nB,GAC7B,OAAOA,EAAGmgB,IACV,EACD+lD,YAAY,SAASvnE,EAAMgpB,EAAI3nB,GAC9B,MAAO,EACP,EACDi7D,iBAAiB,SAASt8D,GACzB,MAAO,EACP,EACDs7D,gBAAgB,SAASt7D,GACxB,MAAO,EACP,EACDwnE,eAAe,SAASxnE,EAAMgpB,EAAI3nB,GACjC,OAAOwnB,EAAUilC,UAAUsZ,WAAWpnE,EACtC,EACDynE,eAAe,SAASznE,EAAMgpB,EAAI3nB,GACjC,OAAOA,EAAGmgB,IACV,EACDkmD,kBAAoB,SAAS1nE,EAAMgpB,GAClC,MAAO,gBAAgBA,EAAM,cAC7B,EACD2+C,kBAAoB,SAAS3nE,EAAOgpB,EAAK3nB,GACxC,MAAO,EACP,EACDumE,oBAAsB,SAAS5nE,EAAOgpB,EAAK3nB,GAC1C,MAAO,EACP,EAEDwmE,oBAAqBh/C,EAAU9H,KAAKusC,YAAY,kBAChDwa,aAAc,SAAS9nE,EAAOgpB,EAAK3nB,GAClC,MAAO,iBAAmBA,EAAMmgB,KAAO,2BAA6BqH,EAAUilC,UAAU+Z,oBAAoB7nE,GAAS,yBAA2B6oB,EAAUilC,UAAU+Z,oBAAoB7+C,EACxL,EAED++C,eAAgBn/C,EAAE,SAClBo/C,oBAAqBp/C,EAAE,MACvBq/C,cAAer/C,EAAE,MACjBs/C,cAAet/C,EAAE,cAGlBlnB,KAAKo2C,UAAU,mBAAmB,GACnC,CAGA,CAnNe,CZkFPnyC,GalFO,SAAgBkjB,GAE/BA,EAAUo0B,QAAU,CAAC,EACrBp0B,EAAUw4C,SAAW,WACpB3/D,KAAKu7C,QAAU,CAAC,EAChBv7C,KAAKymE,QAAU,CAAC,EAEhBzmE,KAAKoyD,SAAW,KAChBpyD,KAAKyxD,WAAa,KAClBzxD,KAAK0yD,SAAW,KAChB1yD,KAAK4yD,WAAa,KAClB5yD,KAAKw1D,UAAY,KACjBx1D,KAAK+7C,WAAa,KAElB/7C,KAAK0mE,aACL1mE,KAAKo2C,UAAU,aAAc,GAC9B,EACAjvB,EAAU2uB,SAAW,SAAS5uB,EAAYkqB,EAAU9yC,EAAMgpB,EAAI3nB,GAC7D,IAAKpB,UAAUC,OACd,OAAOwB,KAAKyzD,cACb,IAAIrkD,EAAK8X,EACe,GAApB3oB,UAAUC,UACb4Q,EAAKzP,GAAc,CAAC,GACjB0kD,WAAan9B,EAChB9X,EAAGo1C,SAAWpT,EACdhiC,EAAG0Q,KAAOxhB,EACV8Q,EAAGoH,GAAK8Q,GAETlY,EAAGoH,GAAKpH,EAAGoH,IAAM2Q,EAAUyvB,MAC3BxnC,EAAG0Q,KAAO1Q,EAAG0Q,MAAQ,GAEO,iBAAjB1Q,EAAGi1C,aAAyBj1C,EAAGi1C,WAAarkD,KAAKosD,UAAU+W,SAAS/zD,EAAGi1C,aACxD,iBAAfj1C,EAAGo1C,WAAuBp1C,EAAGo1C,SAAWxkD,KAAKosD,UAAU+W,SAAS/zD,EAAGo1C,WAC9E,IAAIxgD,EAA4D,KAAvDhE,KAAKqzC,OAAOqgB,gBAAkB1zD,KAAKqzC,OAAOsgB,WAC/CvkD,EAAGi1C,WAAWh8C,WAAa+G,EAAGo1C,SAASn8C,WAC1C+G,EAAGo1C,SAASuP,QAAQ3kD,EAAGo1C,SAASn8C,UAAYrE,GAE7CoL,EAAGi1C,WAAWqd,gBAAgB,GAC9BtyD,EAAGo1C,SAASkd,gBAAgB,GAE5BtyD,EAAG+kD,OAASn0D,KAAK+3D,cAAc3oD,GAE/B,IAAItP,GAAUE,KAAKu7C,QAAQnsC,EAAGoH,IAK9B,OAJAxW,KAAKu7C,QAAQnsC,EAAGoH,IAAMpH,EACtBpP,KAAKgkD,cAAc50C,GACdpP,KAAK47C,UACT57C,KAAKo2C,UAAUt2C,EAAS,eAAiB,iBAAkB,CAACsP,EAAGoH,GAAIpH,IAC7DA,EAAGoH,EACX,EACA2Q,EAAUq1B,YAAc,SAASt1B,EAAIkqB,GACpC,IAAI9yC,EAAK0B,KAAKu7C,QAAQr0B,IACjBkqB,GAAYpxC,KAAKo2C,UAAU,sBAAuB,CAAClvB,EAAI5oB,KAAS0B,KAAKo2C,UAAU,+BAAgC,CAAClvB,EAAI5oB,OAErHA,IACA6oB,EAAUgtB,WAAWoe,WAAarrC,GACpCC,EAAUwqC,kBAEJ3xD,KAAKu7C,QAAQr0B,GACpBlnB,KAAKgkD,cAAc1lD,GAEhB0B,KAAK0yD,UAAYp0D,EAAGkY,KACtBxW,KAAK0yD,SAAW,KAChB1yD,KAAK4yD,WAAW,KAChB5yD,KAAKw1D,UAAU,OAIjBx1D,KAAKo2C,UAAU,iBAAkB,CAAClvB,EAAI5oB,IACvC,EACA6oB,EAAUk1B,SAAW,SAASn1B,GAC7B,OAAOlnB,KAAKu7C,QAAQr0B,EACrB,EACAC,EAAUw/C,SAAW,SAASz/C,EAAIkqB,GAC7BA,EAAK56B,KACR46B,EAAK56B,GAAK0Q,GAEXlnB,KAAKu7C,QAAQr0B,GAAMkqB,CACpB,EACAjqB,EAAU08B,aAAe,SAAS38B,EAAIkqB,GACrC,IAAK,IAAI9yC,EAAI0B,KAAK4mE,UAAUpoE,OAAS,EAAGF,GAAK,EAAGA,IAC3C0B,KAAK4mE,UAAUtoE,GAAG+yC,aAAarxC,KAAKqzC,OAAO6xB,kBAAoBh+C,GAClEkqB,EAAOpxC,KAAK4mE,UAAUtoE,GAAIA,EAC7B,EACA6oB,EAAUu9B,cAAgB,SAASx9B,EAAIkqB,GACtC,GAAIlqB,GAAMkqB,EAAV,CACA,IAAI9yC,EAAK0B,KAAKu7C,QAAQr0B,GAClB5oB,IACHA,EAAGkY,GAAK46B,EACRpxC,KAAKu7C,QAAQnK,GAAU9yC,SAChB0B,KAAKu7C,QAAQr0B,IAErBlnB,KAAK6jD,aAAa38B,GAAI,SAASI,GAC9BA,EAAE7lB,aAAa,WAAY2vC,GAC3B9pB,EAAE7lB,aAAa0lB,EAAUksB,OAAO6xB,gBAAiB9zB,EACnD,IACKpxC,KAAKyxD,YAAcvqC,IAAIlnB,KAAKyxD,WAAargB,GACzCpxC,KAAKoyD,UAAYlrC,IAAIlnB,KAAKoyD,SAAWhhB,GAEzCpxC,KAAKo2C,UAAU,kBAAmB,CAAClvB,EAAIkqB,GAdd,CAe1B,EAEA,WAcC,IAAK,IAbDlqB,EAAQ,CAAC,OAAQ,OAAQ,aAAc,YAAa,WAAY,WAChEkqB,EAAgB,SAASzxC,GAC5B,OAAO,SAASyP,GAAM,OAAQ+X,EAAUk1B,SAASjtC,GAAKzP,EAAA,CACxD,EACKrB,EAAgB,SAASqB,GAC5B,OAAO,SAASyP,EAAIpL,GACnB,IAAIlE,EAAKqnB,EAAUk1B,SAASjtC,GAC5BtP,EAAGH,GAAQqE,EACXlE,EAAGqgD,UAAW,EACdrgD,EAAGq0D,OAASn0D,KAAK+3D,cAAcj4D,GAC/BqnB,EAAU68B,cAAclkD,GAAA,EAC3B,CACA,EACUwnB,EAAI,EAAGA,EAAIJ,EAAM1oB,OAAQ8oB,GAAK,EACtCH,EAAU,WAAaD,EAAMI,EAAI,IAAM8pB,EAAclqB,EAAMI,IAC3DH,EAAU,WAAaD,EAAMI,EAAI,IAAMhpB,EAAc4oB,EAAMI,GAE5D,CAlBD,GAoBAH,EAAU68B,cAAgB,SAAS98B,EAAIkqB,GAClCpxC,KAAK6mE,kBAAkB3/C,GAC1BlnB,KAAKi4D,mBAELj4D,KAAK8mE,YAAY5/C,EAAG1Q,GACtB,EACA2Q,EAAU0/C,kBAAoB,SAAS3/C,GACtC,IAAIlnB,KAAKgyD,YAAchyD,KAAKkyD,UAC3B,OAAO,EAMR,GAFwBhrC,EAAGm9B,WAAWh8C,UAAYrI,KAAKkyD,UAAU7pD,WAAarI,KAAKgyD,UAAU3pD,UAAY6e,EAAGs9B,SAASn8C,UAEjG,CAGnB,IAAI+oC,EAAclqB,EAAGm9B,WAAWwP,WAC/Bv1D,EAAa4oB,EAAGs9B,SAASqP,WAAc3sC,EAAGs9B,SAASyR,aAAa,GAChE3uC,EAAWtnB,KAAKqzC,OAAO2iB,UACvBr2D,EAAYK,KAAKqzC,OAAOugB,WAIzB,SAFyB5zD,KAAKqwD,cAAkB/xD,EAAagpB,GAAYhpB,GAAcqB,KAAeyxC,GAAe9pB,GAAY8pB,EAAczxC,OAOxHunB,EAAGs9B,SAASn8C,UAAY6e,EAAGm9B,WAAWh8C,WAAS,KAClD,IAAMrI,KAAKqzC,OAAO2iB,UAAYh2D,KAAKqzC,OAAOugB,aAEZxiB,EAAc9pB,GAAYhpB,EAAaqB,GAG3F,CACE,OAAO,CAET,EACAwnB,EAAU4wC,cAAgB,SAAS7wC,GAIlC,IAAIkqB,EAAe,IAAI34B,KAAKyO,EAAGs9B,SAASn8C,UAAY,GACpD,OACC6e,EAAGm9B,WAAW5N,gBAAkBrF,EAAaqF,eAC7CvvB,EAAGm9B,WAAW3N,aAAetF,EAAasF,YAC1CxvB,EAAGm9B,WAAW1N,YAAcvF,EAAauF,WACnCzvB,EAAGs9B,SAASn8C,UAAY6e,EAAGm9B,WAAWh8C,UAAa,KAC3D,EAEA8e,EAAU4/C,mBAAqB,SAAS7/C,GAEvC,IAAIkqB,EAAQ,GAEZ,IAAK,IAAI9yC,KAAM0B,KAAKu7C,QACfv7C,KAAK6mE,kBAAkB7mE,KAAKu7C,QAAQj9C,MAClC4oB,IAAclnB,KAAKu7C,QAAQj9C,GAAI61D,QAC/Bn0D,KAAKgnE,aAAa1oE,EAAI0B,KAAKu7C,QAAQj9C,KACtC8yC,EAAM7iC,KAAKvO,KAAKu7C,QAAQj9C,KAE5B,OAAO8yC,CACR,EACAjqB,EAAU6/C,aAAe,SAAS9/C,EAAIkqB,GACrC,IAAI9yC,EAAS0B,KAAK,UAAYA,KAAK6xD,OACnC,OAAOvzD,GAAWA,EAAO4oB,EAAIkqB,EAC9B,EACAjqB,EAAU8/C,oBAAsB,SAAS//C,GACxC,QAASA,EAAGitC,MACb,EACAhtC,EAAU8wC,iBAAmB,SAAS/wC,EAAKkqB,GAC1C,IAAI9yC,GAAA,EACJ,IAAK4oB,EAAK,CAET,GADA5oB,GAAA,EACI0B,KAAKknE,YAER,YADAlnE,KAAKq4D,cAAA,GAGNr4D,KAAKq4D,cAAe,EAEpBr4D,KAAK0mE,aACLx/C,EAAMlnB,KAAK+mE,qBAAqB/mE,KAAKqwD,aAAerwD,KAAKqzC,OAAOgnB,WAChE,CACD,QAAQ/yC,EAAG,EAAG3nB,EAAMunB,EAAI1oB,OAAQ8oB,EAAI3nB,EAAK2nB,IACxCtnB,KAAKmnE,mBAAmBjgD,EAAII,IAG7B,GAAItnB,KAAKqzC,OAAOgnB,YAAcr6D,KAAKqwD,YAAa,CAE/C,IAAIjhD,EAAM,GACNpL,EAAM,GACV,IAASsjB,EAAI,EAAGA,EAAIJ,EAAI1oB,OAAQ8oB,IAC3BtnB,KAAKinE,oBAAoB//C,EAAII,IAChClY,EAAIb,KAAK2Y,EAAII,IAEbtjB,EAAIuK,KAAK2Y,EAAII,IAGf,IAAItnB,KAAKw1C,KAAoB4xB,cAAE,CAC9B,IAAItnE,EAAUqnB,EAAU2lC,qBAAqBC,YAAY/sD,KAAK6xD,OAC9D,MAAM,IAAIxuD,MAAMvD,EAChB,CAGDE,KAAKqnE,mBAAqBrnE,KAAKw1C,KAAoB4xB,cAAE,GACrDpnE,KAAKqwD,aAAc,EACnBrwD,KAAKsnE,YAAYtjE,EAAKotC,GACtBpxC,KAAKqwD,aAAA,EAGLrwD,KAAKqnE,mBAAqBrnE,KAAKw1C,KAAmBqd,aAAE,GACpD7yD,KAAKqwD,aAAc,EACnBrwD,KAAKsnE,YAAYl4D,EAAKgiC,EAExB,KAAQ,CACN,IAAIrxC,EAASb,SAAS41C,yBAClB32C,EAAmB6B,KAAKw1C,KAAmBqd,aAAE,GACjD7yD,KAAKqnE,mBAAqBtnE,EAC1BC,KAAKsnE,YAAYpgD,EAAKkqB,GACtBjzC,EAAiBsK,YAAY1I,GAC7BC,KAAKqnE,mBAAqBlpE,CAE1B,CAEEG,GACF0B,KAAKo2C,UAAU,eAAgB,GAEjC,EAGAjvB,EAAUogD,gBAAkB,SAASrgD,GACpC,IAAIkqB,EAAOjqB,EAAU4rC,cAAc7rC,GAAG7H,KAClC8H,EAAUivB,UAAU,kBAAmB,CAAChF,KAE5CjqB,EAAUmtB,eAAelD,EAAM,MAChC,EAEAjqB,EAAUqgD,mBAAqB,SAAStgD,GAKvC,QAJIkqB,EAASpxC,KAAKqnE,mBACd/oE,EAAW0B,KAAKw3D,YAAYtwC,GAGxBI,EAAIJ,EAAGugD,MAAOngD,EAAIJ,EAAGwgD,MAAOpgD,IAAI,CAEvChpB,EAASmpE,MAAQngD,EACjBhpB,EAASopE,MAAQpgD,EAAE,EAEnB,IAAI3nB,EAAOwnB,EAAU9H,KACjBjQ,EAAO+X,EAAU6qC,UACrB5iD,EAAOzP,EAAKZ,IAAIqQ,EAAM9Q,EAASqpE,OAAQ,QACvCv4D,EAAOzP,EAAKZ,IAAIqQ,EAAM9Q,EAASmpE,MAAO,OACtC,IAAIzjE,EAAQmjB,EAAUygD,UAAUx4D,EAAMzP,EAAKZ,IAAIqQ,EAAM,EAAG,QAAQ5Q,OAE5DsB,EAAME,KAAK6nE,mBAAmBvpE,GAC9ByB,EAAQD,EAAIgoE,GAAKhoE,EAAIunB,EAErBlpB,EAAKe,SAASC,cAAc,OAChCgoB,EAAU9G,MAAMliB,EAAI,SAAS,SAASmxB,GAAGnI,EAAUogD,gBAAgBj4C,EAAG,IACtEnxB,EAAG+2C,UAAY,iBACf/2C,EAAG4N,MAAMqY,IAAMtkB,EAAIwvB,EAAI,KACvBnxB,EAAG4N,MAAMmY,KAAOpkB,EAAIunB,EAAI,KACxBlpB,EAAG4N,MAAMkR,MAAQld,EAAO,KACxB5B,EAAGiK,UAAY+e,EAAUilC,UAAU4Z,kBAAkB52D,EAAMpL,GAC3DhE,KAAK4mE,UAAUr4D,KAAKpQ,GAEpBizC,EAAO3oC,YAAYtK,EACnB,CACF,EAEAgpB,EAAUggD,mBAAqB,SAASjgD,GAEvC,IAAIkqB,EADAlqB,IAGHkqB,EADgB,iBAAdlqB,EACGlnB,KAAKu7C,QAAQr0B,GAEbA,KAENkqB,EAAG+iB,OAAShtC,EAAU4wC,cAAc3mB,GACrC,EACAjqB,EAAU5F,YAAY,iBAAkB4F,EAAUggD,oBAClDhgD,EAAU5F,YAAY,eAAgB4F,EAAUggD,oBAEhDhgD,EAAUmgD,YAAc,SAASpgD,EAAKkqB,GACrClqB,EAAMlnB,KAAK+nE,mBAAmB7gD,EAAKkqB,GAEnC,IAAK,IADD9yC,EAAa,CAAC,EACTgpB,EAAI,EAAGA,EAAIJ,EAAI1oB,OAAQ8oB,IAC/B,GAAItnB,KAAKqwD,YACR,GAAsB,SAAnBlpC,EAAU0qC,MACZ7xD,KAAKgoE,iBAAiB9gD,EAAII,QACtB,CAEJ,IAAI3nB,EAAUwnB,EAAUksB,OAAO40B,iBAC5BtoE,IAAoB,EAARA,GAAaunB,EAAII,GAAG4gD,QAAUvoE,EAE5CK,KAAKgoE,iBAAiB9gD,EAAII,SACN,IAAZ3nB,GAAyBunB,EAAII,GAAG4gD,SAAWvoE,GAEnDwnB,EAAUqgD,mBAAmBtgD,EAAII,GAIlC,KAIG,CACJ,IAAIlY,EAAK8X,EAAII,GACTtjB,EAASmjB,EAAUghD,cAAc/4D,EAAGq4D,OACxC,IAAKzjE,EAAQ,SAET1F,EAAW8Q,EAAGq4D,SACjBnpE,EAAW8Q,EAAGq4D,OAAS,CACtBW,KAAMpkE,EACNqkE,OAAQnpE,SAAS41C,yBACjB73B,MAAOjZ,EAAO6pD,cAIhB,IAAI/tD,EAAYxB,EAAW8Q,EAAGq4D,OAC9BznE,KAAKsoE,aAAal5D,EAAItP,EAAUuoE,OAAQvoE,EAAUmd,MAClD,CAED,QAAQqK,KAAKhpB,GACRwB,EAAYxB,EAAWgpB,IACd8gD,MAAQtoE,EAAUuoE,QAC9BvoE,EAAUsoE,KAAK3/D,YAAY3I,EAAUuoE,OAGzC,EAEAlhD,EAAUohD,wBAA0B,SAASrhD,GAC5C,IAAK,IAAIkqB,EAAI,EAAGA,EAAIlqB,EAAM1oB,OAAQ4yC,IACjC,IAA+D,IAA1DlqB,EAAMkqB,GAAG8D,WAAa,IAAIlpC,QAAQ,oBACtC,OAAOkb,EAAMkqB,GAIf,OAAOlqB,EAAM,EACd,EAEAC,EAAU4gD,mBAAqB,SAAS7gD,EAAKkqB,GAC5C,IAAI9yC,EAAK0B,KAAKq1C,GAAGka,WACbjoC,EAAQtnB,KAAK20D,OAAOG,QACpBn1D,EAAIK,KAAK20D,OAAOG,QAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7C1lD,EAAOpP,KAAKw1C,KAAmBqd,aAAE,GAQrC,GAFC3rC,EAJIlnB,KAAKqwD,YAIHrwD,KAAKwoE,yBAAyBthD,EAAKkqB,GAHnCpxC,KAAKyoE,wBAAwBvhD,EAAKkqB,GAKrCpxC,KAAKqwD,YACR,GAAIjf,EACHpxC,KAAK20D,OAAOG,QAAUxtC,MAClB,CACJ,IAAItjB,EAAYoL,EAAKm5B,iBAAiB,sBACtC,GAAIvkC,EAAUxF,OAAQ,CACrB,IAAK,IAAIsB,EAAI,EAAGA,EAAIkE,EAAUxF,OAAQsB,IAAK,CAC1CH,EAAEG,KACF,IAAIC,EAAQiE,EAAUlE,GAAGyoC,iBAAiB,uBACtCpqC,EAAa6B,KAAK20D,OAAOz3C,OAASld,KAAKq1C,GAAG2a,kBAC9C,GAAKrwD,EAAEG,GAAMxB,EAAKH,EAAY,CAG7B,IAAImxB,EAAUnxB,EACkB,EAA7B6B,KAAKqzC,OAAO40B,mBAAuBjoE,KAAKqzC,OAAO40B,kBAAoBtoE,EAAEG,IAAME,KAAKqzC,OAAO40B,iBACzF34C,EAAU3vB,EAAEG,GAAKxB,GACP0B,KAAKqzC,OAAO40B,iBAAmB,GAAK3pE,EAAKH,IACnDmxB,GAAWtvB,KAAKqzC,OAAO40B,iBAAmB,GAAK3pE,GAGhD0F,EAAUlE,GAAGiM,MAAMmR,OAAUoS,EAAUtvB,KAAKq1C,GAAG2a,kBAAqB,IACpE,CAEDrwD,EAAEG,IAAMH,EAAEG,EAAI,IAAM,GAAKqnB,EAAUohD,wBAAwBxoE,GAAO23C,YAClE,CACD/3C,EAAE0oB,QAAQ,GACV,MAAMsL,EAAW3zB,KAAKg1C,WAAWC,cAAc,iBAC/C,GAAIthB,EAAS+jB,aAAe/jB,EAAS+0C,eAAiBvhD,EAAUwtC,OAAOgU,YAAcxhD,EAAUkuB,GAAGoa,aAAc,CAE/G,IAAIloC,EAAiBJ,EAAUwtC,OAC9Bt2D,EAAYkpB,EAAeA,EAAegyC,YAC1Cr1D,EAAcqjB,EAAeutC,QAAQ7zD,QAEtC5C,GAAc8oB,EAAUkuB,GAAGoa,cAAgB,EAC3CzvD,KAAKq5D,kBAAkBh7D,EAAW2B,KAAKgyD,UAAWhyD,KAAKkyD,WACvD/qC,EAAUwtC,OAAOG,QAAU5wD,EAE3BlE,KAAKwwD,OAAOxwD,KAAKw1C,KAAqB+a,eAAE,GAAIlyD,GAC5C8oB,EAAUsyC,eAAez5D,KAAKw1C,KAAqB+a,eAAE,IACrDppC,EAAUwzC,oBAAoB36D,KAAKw1C,KAAmBqd,aAAE,GAAI7yD,KAAKm5D,sBAAuBn5D,KAAKgyD,WAE7FzqC,EAAeohD,YAAa,CAC5B,CACL,SACSzhD,EAAI1oB,QAA4D,WAAlDwB,KAAKw1C,KAAoB4xB,cAAE,GAAGr7D,MAAMyrC,aACtD73C,EAAE,IAAM,GACLunB,EAAI1oB,SAAmB,GAATmB,EAAE,GAAU,CAK7B,IAAI4qB,GAAyB5qB,EAAE,GAAK,GAAKrB,EAAK,EAE1CioB,EAAwBgE,EACxBlD,EAA4BkD,EAAwB,KACpDvqB,KAAKqzC,OAAO4wB,yBAEf58C,GADAd,EAAwBpU,KAAKgR,IAAIoH,EAAuBvqB,KAAKqzC,OAAO4wB,yBAChB,MAGrD,IAAI3kC,EAAoBt/B,KAAKw1C,KAAoB4xB,cAAE,GACnD9nC,EAAkBvzB,MAAMmR,OAASmK,EACjCiY,EAAkBvzB,MAAMyrC,YAAA,GAAc73C,EAAE,GAAW,SAAW,UAC9D2/B,EAAkBvzB,MAAMw2B,SAAA,GAAW5iC,EAAE,GAAW,OAAS,GAGzD,IAAIi0B,EAAiB5zB,KAAKw1C,KAAoB4xB,cAAE,GAChDxzC,EAAe7nB,MAAMmR,OAASmK,EAC9BuM,EAAe7nB,MAAMyrC,YAAuB,GAAT73C,EAAE,GAAW,SAAW,UAC3Di0B,EAAe7nB,MAAMw2B,SAAoB,GAAT5iC,EAAE,GAAW,OAAS,GACtDi0B,EAAeshB,UAAYv1C,EAAE,GAAK,qBAAuB,2BACzDK,KAAK64D,WAAal5D,EAAE,GAAK,GAAKrB,EAC3B0B,KAAKqzC,OAAO4wB,yBACdjkE,KAAK64D,UAAY1mD,KAAKgR,IAAInjB,KAAKqzC,OAAO4wB,uBAAwBjkE,KAAK64D,YAEpEl5D,EAAE,GAAK,EAEH4mB,GAAyBgE,IAE5B+U,EAAkBvzB,MAAM68D,UAAY,OAGpCh1C,EAAe7nB,MAAMmoC,SAAW,QAChCtgB,EAAe7nB,MAAMqY,IAAM,GAC3BwP,EAAe7nB,MAAMmY,KAAO,GAE7B,CAEF,CAEF,OAAOgD,CACR,EACAC,EAAU+vC,gBAAkB,SAAShwC,GAGpC,IAAIkqB,EAAWpxC,KAAKqf,KAAK2sC,UAAU,IAAIvzC,KAAKyO,EAAGm9B,aAC/C,OAAOlyC,KAAKgnC,OAAO/H,EAAS/oC,UAAYrI,KAAKgyD,UAAU3pD,WAAc,MACtE,EACA8e,EAAU0hD,2BAA6B,SAAS3hD,GAC/C,IAAIkqB,EAAWlqB,EAAGs9B,SAClB,GAAIxkD,KAAKqzC,OAAOwwB,sBAAuB,CACtC,IAAIvlE,GAAe4oB,EAAGs9B,SAAWt9B,EAAGm9B,YAAc,IAC9C/lD,EAAc0B,KAAK8oE,uBACtB13B,EAAWpxC,KAAKqf,KAAKtgB,IAAIqyC,EAAUpxC,KAAK8oE,qBAAuBxqE,EAAa,UAE7E,CACD,OAAO8yC,CACR,EACAjqB,EAAUshD,wBAA0B,SAASvhD,EAAKkqB,GACjDlqB,EAAIwyB,MAAK,SAAS9lB,EAAGD,GACpB,OAAIC,EAAEywB,WAAWh8C,WAAasrB,EAAE0wB,WAAWh8C,UACnCurB,EAAEpd,GAAKmd,EAAEnd,GAAK,GAAK,EACpBod,EAAEywB,WAAa1wB,EAAE0wB,WAAa,GAAK,CAC5C,IACC,IAAI/lD,EAAO,GACPgpB,EAAgB,GAEpBtnB,KAAK8oE,qBAAuB32D,KAAKk9B,MAAiC,GAA3BrvC,KAAKq1C,GAAGia,iBAAwBtvD,KAAKqzC,OAAOmhB,cAEnF,IAAK,IAAI70D,EAAI,EAAGA,EAAIunB,EAAI1oB,OAAQmB,IAAK,CACpC,IAAIyP,EAAK8X,EAAIvnB,GAGTqE,EAAKoL,EAAGi1C,WACRvkD,EAAKsP,EAAGo1C,SAERzkD,EAAKiE,EAAG6vD,WACR11D,EAAK2B,EAAG+zD,WAEZ,GADAzkD,EAAGq4D,MAAQznE,KAAKk3D,gBAAgB9nD,GAC5BpP,KAAKs0D,SAASllD,EAAGq4D,OAEpBvgD,EAAIohB,OAAO3oC,EAAE,GACbA,QAHD,CASA,GAFKrB,EAAK8Q,EAAGq4D,SAAQnpE,EAAK8Q,EAAGq4D,OAAS,KAEjCr2B,EAAM,CACVhiC,EAAG25D,QAAS,EAIZ,QAFIz5C,EAAQhxB,EAAK8Q,EAAGq4D,OAEbn4C,EAAM9wB,QAAQ,CACpB,IAAI+oB,EAAO+H,EAAMA,EAAM9wB,OAAS,GAEhC,KADiBwB,KAAK6oE,2BAA2BthD,GAClClf,WAAa+G,EAAGi1C,WAAWh8C,WAGzC,MAFAinB,EAAMgZ,OAAOhZ,EAAM9wB,OAAS,EAAG,EAIhC,CAGD,IAAK,IAFDH,EAAaixB,EAAM9wB,OACnB0F,GAAA,EACKqmB,EAAI,EAAGA,EAAI+E,EAAM9wB,OAAQ+rB,IAGjC,GAFIhD,EAAO+H,EAAM/E,GACAvqB,KAAK6oE,2BAA2BthD,GAClClf,WAAa+G,EAAGi1C,WAAWh8C,UAAW,CACpDnE,GAAA,EACAkL,EAAG84D,QAAU3gD,EAAK2gD,QAClB7pE,EAAaksB,EACbnb,EAAG25D,QAAS,EACZ,KACA,CAMF,GAHIz5C,EAAM9wB,SACT8wB,EAAMA,EAAM9wB,OAAS,GAAGuqE,QAAA,IAEpB7kE,EACJ,GAAIorB,EAAM9wB,OACT,GAAI8wB,EAAM9wB,QAAU8wB,EAAMA,EAAM9wB,OAAS,GAAG0pE,QAAS,CACpD,GAAK54C,EAAMA,EAAM9wB,OAAS,GAAG0pE,QAG5B,IAAK39C,EAAI,EAAGA,EAAI+E,EAAM9wB,OAAQ+rB,IAAK,CAElC,IAAK,IADDhE,GAAA,EACKc,EAAI,EAAGA,EAAIiI,EAAM9wB,OAAQ6oB,IACjC,GAAIiI,EAAMjI,GAAG6gD,SAAW39C,EAAG,CAC1BhE,GAAA,EACA,KACA,CAEF,IAAKA,EAAY,CAChBnX,EAAG84D,QAAU39C,EACb,KACA,CACD,MAdDnb,EAAG84D,QAAU,EAed94D,EAAG25D,QAAS,CAClB,KAAY,CACN,IAAIzpC,EAAchQ,EAAM,GAAG44C,QAC3B,IAAK39C,EAAI,EAAGA,EAAI+E,EAAM9wB,OAAQ+rB,IACzB+E,EAAM/E,GAAG29C,QAAU5oC,IACtBA,EAAchQ,EAAM/E,GAAG29C,SAEzB94D,EAAG84D,QAAU5oC,EAAc,EAC3BlwB,EAAG25D,QAAS,CACZ,MAGD35D,EAAG84D,QAAU,EAGf54C,EAAMgZ,OAAOjqC,EAAYA,GAAcixB,EAAM9wB,OAAS,EAAI,EAAG4Q,GAEzDkgB,EAAM9wB,QAAU8wB,EAAM05C,WAAa,IACtC15C,EAAM05C,UAAY15C,EAAM9wB,OACxB4Q,EAAG65D,OAAS35C,EAAM9wB,QAElB4Q,EAAG65D,OAAU75D,EAAS65D,OAAI75D,EAAG65D,OAAS,CAEvC,EAEGlpE,EAAKC,KAAKqzC,OAAOugB,YAAcz1D,GAAM6B,KAAKqzC,OAAO2iB,aAGpD1uC,EAAc/Y,KAAKa,GACnB8X,EAAIvnB,GAAKyP,EAAKpP,KAAKkpE,YAAY95D,GAE3BrP,EAAKC,KAAKqzC,OAAOugB,aACpBxkD,EAAGi1C,WAAWyP,SAAS9zD,KAAKqzC,OAAOugB,YACnCxkD,EAAGi1C,WAAWmd,WAAW,IAEtBrjE,GAAM6B,KAAKqzC,OAAO2iB,YACrB5mD,EAAGo1C,SAASgd,WAAW,GACvBpyD,EAAGo1C,SAASsP,SAAS9zD,KAAKqzC,OAAO2iB,YAG9B5mD,EAAGi1C,WAAaj1C,EAAGo1C,UAAYzkD,GAAMC,KAAKqzC,OAAO2iB,aACpD9uC,EAAIohB,OAAO3oC,EAAG,GACdA,IAhGD,CAoGD,CACD,IAAKyxC,EAAM,CACV,IAASzxC,EAAI,EAAGA,EAAIunB,EAAI1oB,OAAQmB,IAC/BunB,EAAIvnB,GAAGspE,OAAS3qE,EAAK4oB,EAAIvnB,GAAG8nE,OAAOuB,UAEpC,IAASrpE,EAAI,EAAGA,EAAI2nB,EAAc9oB,OAAQmB,IACzC2nB,EAAc3nB,GAAGspE,OAAS3qE,EAAKgpB,EAAc3nB,GAAG8nE,OAAOuB,SACxD,CAED,OAAO9hD,CACR,EACAC,EAAUgiD,YAAc,SAASjiD,GAChCA,EAAIwyB,MAAK,SAAStI,EAAG9yC,GACpB,OAAI8yC,EAAEiT,WAAWh8C,WAAa/J,EAAE+lD,WAAWh8C,UACtC+oC,EAAE+iB,SAAW71D,EAAE61D,OAAe,GAC7B/iB,EAAE+iB,QAAU71D,EAAE61D,QAAgB,EAC5B/iB,EAAE56B,GAAKlY,EAAEkY,GAAK,GAAK,EAEpB46B,EAAEiT,WAAa/lD,EAAE+lD,WAAa,GAAK,CAC5C,GACA,EAEAl9B,EAAUiiD,8BAAgC,SAASliD,EAAMkqB,EAAI9yC,GAC5D,IAAIgpB,EAAOtnB,KAAKq0D,MAAM71D,OAClBmB,GAAA,EACAyP,EAAY8X,EACZljB,GAAA,EACAlE,EAAa,IAAI2Y,KAAK24B,GAK1B,IAJGjqB,EAAU9H,KAAK2sC,UAAU,IAAIvzC,KAAK24B,IAAK/oC,WAAa+oC,EAAG/oC,YACzDvI,EAAaqnB,EAAU9H,KAAK2sC,UAAUlsD,GACtCA,EAAaqnB,EAAU9H,KAAKtgB,IAAIe,EAAY,EAAG,QAE1CsP,EAAYtP,GAAW,CAC5BkE,GAAU,EACV,IACIjE,EADYC,KAAKqpE,kBAAkBj6D,GAAW,EAAO9Q,GACzBgpB,EAChC,IAAItnB,KAAKs0D,SAASv0D,GAAe,CAChCJ,GAAmB,EACnB,KACA,CACDyP,EAAY+X,EAAU9H,KAAKtgB,IAAIqQ,EAAW,EAAG,MAC7C,CACD,OAAOpL,GAAWrE,CACnB,EAEAwnB,EAAUqhD,yBAA2B,SAASthD,EAAKkqB,GAClDpxC,KAAKmpE,YAAYjiD,GAgBjB,IAAK,IAJD5oB,EAXAgpB,EAAM,GACN3nB,EAAQ,CACX,GACA,GACA,GACA,GACA,GACA,GACA,IAEGyP,EAAMpP,KAAK20D,OAAOG,QAElB9wD,EAAOhE,KAAKq0D,MAAM71D,OAClBsB,EAAc,CAAC,EAEVC,EAAI,EAAGA,EAAImnB,EAAI1oB,OAAQuB,IAAK,CACpC,IAAI5B,EAAK+oB,EAAInnB,GACTuvB,EAAKnxB,EAAGqY,GACP1W,EAAYwvB,KAChBxvB,EAAYwvB,GAAM,CACjBg6C,aAAa,EACbC,YAAY,IAGd,IAAIhiD,EAAaznB,EAAYwvB,GACzBjxB,EAAMC,GAAcH,EAAGkmD,WACvBngD,EAAK/F,EAAGqmD,SAERnmD,EAAK2B,KAAKgyD,YACbzqC,EAAW+hD,aAAA,EACXjrE,EAAK2B,KAAKgyD,WAEP9tD,EAAKlE,KAAKkyD,YACb3qC,EAAWgiD,YAAa,EACxBrlE,EAAKlE,KAAKkyD,WAGX,IAAI3nC,EAAWvqB,KAAKqpE,kBAAkBhrE,GAAA,EAAWF,GAGjD,GAFAA,EAAGspE,MAAQl9C,EAAWvmB,GAElBhE,KAAKs0D,SAASn2D,EAAGspE,SAAUtpE,EAAGg2D,OAAlC,CAEA,IAAI5tC,EAAWvmB,KAAKqpE,kBAAkBnlE,GAAA,EAAU/F,IAAO6F,EAQvD,GAPA7F,EAAGupE,MAASnhD,EAAWviB,GAASA,EAChC7F,EAAGqrE,QAAUjjD,EAAWgE,EAExBpsB,EAAGwpE,OAASx1D,KAAKk9B,OAAOrvC,KAAKy1D,eAAep3D,EAAGgK,UAAW,GAAKrI,KAAKgyD,UAAU3pD,YAAc,MAAsBrE,IAE3FmjB,EAAUiiD,8BAA8B/qE,EAAI6F,EAAI/F,GAEvE,CAMA,IAEIkpB,EAFAiY,EAAQ3/B,EAAMxB,EAAGwpE,QAIrB,IAAKtgD,EAAa,EAAGA,EAAaiY,EAAM9gC,UACnC8gC,EAAMjY,GAAYqgD,OAASvpE,EAAGspE,OADapgD,KAQhD,GAJKlpB,EAAG+pE,SAAY92B,IACnBjzC,EAAG+pE,QAAU7gD,GAGVlpB,EAAGspE,MAAQtpE,EAAGqrE,SAAWxlE,EAC5B1F,EAAa,KACbgpB,EAAI/Y,KAAKpQ,GACTmhC,EAAMjY,GAAclpB,EAEpBiR,EAAIjR,EAAGwpE,QAAUroC,EAAM9gC,OAAS,EAChCL,EAAGsrE,aAAeliD,EAAW+hD,YAC7BnrE,EAAGurE,YAAcniD,EAAWgiD,eAP7B,CASC,IAAI31C,EAAO5zB,KAAKkpE,YAAY/qE,GAC5By1B,EAAKpd,GAAKrY,EAAGqY,GACbod,EAAK41C,QAAUxlE,EAAO7F,EAAGspE,MACzB7zC,EAAK8zC,MAAQ1jE,EACb4vB,EAAK6zC,MAAQtpE,EAAGspE,MAChB7zC,EAAK+zC,OAASxpE,EAAGwpE,OACjB/zC,EAAKs0C,QAAU/pE,EAAG+pE,QAClBt0C,EAAK4wB,SAAWxkD,KAAKqf,KAAKtgB,IAAIV,EAAIu1B,EAAK41C,QAAS,OAChD51C,EAAK61C,aAAeliD,EAAW+hD,YAC3B/hD,EAAW+hD,cACd/hD,EAAW+hD,aAAA,GAGZhiD,EAAI/Y,KAAKqlB,GACT0L,EAAMjY,GAAcuM,EACpBt1B,EAAas1B,EAAK4wB,SAElBp1C,EAAIjR,EAAGwpE,QAAUroC,EAAM9gC,OAAS,EAChCuB,GAEA,CA5CA,MAFAzB,EAAa,IAXqC,CA0DnD,CACD,OAAOgpB,CACR,EACAH,EAAUwiD,YAAc,WACvB,IAAIziD,EAAI,IAAIzO,KAAKzY,KAAKqkD,YAClBjT,EAAI,IAAI34B,KAAKzY,KAAKwkD,UACtBxkD,KAAKqkD,WAAan9B,EAClBlnB,KAAKwkD,SAAWpT,CACjB,EACAjqB,EAAU+hD,YAAc,SAAShiD,GAEhC,OADAlnB,KAAK2pE,YAAYrqE,UAAY4nB,EACtB,IAAIlnB,KAAK2pE,WAEjB,EACAxiD,EAAUy/C,UAAY,GACtBz/C,EAAUu/C,WAAa,WACtB,IAAK,IAAIx/C,EAAI,EAAGA,EAAIlnB,KAAK4mE,UAAUpoE,OAAQ0oB,IAAK,CAC/C,IAAIkqB,EAAMpxC,KAAK4mE,UAAU1/C,GACrBkqB,EAAItjC,YAAYsjC,EAAItjC,WAAWtF,YAAY4oC,EAC/C,CACDpxC,KAAK4mE,UAAY,EAClB,EACAz/C,EAAUyqC,YAAc,SAAS1qC,GAChC,IAAIkqB,EAAKpxC,KAAKq8C,SAASn1B,GACvBlnB,KAAK8mE,YAAY5/C,GAEbkqB,GAAMpxC,KAAK6mE,kBAAkBz1B,IAAOpxC,KAAKgnE,aAAa9/C,EAAIkqB,KAAQpxC,KAAKqwD,aAAerwD,KAAKqzC,OAAOgnB,WAAajpB,EAAG+iB,UACjHn0D,KAAKqzC,OAAOgkB,cACfr3D,KAAKi4D,mBAEsB,SAAxBj4D,KAAKm0C,WAAWzmB,MAAoB1tB,KAAKm0C,WAAWse,SAAYzyD,KAAK+3D,cAAc3mB,GAGrFpxC,KAAKi4D,iBAAiB,CAAC7mB,IAAK,GAF5BpxC,KAAKi4D,mBAMT,EACA9wC,EAAU2/C,YAAc,SAAS5/C,GAChClnB,KAAK6jD,aAAa38B,GAAI,SAASkqB,EAAM9yC,GAChC8yC,EAAKtjC,YACRsjC,EAAKtjC,WAAWtF,YAAY4oC,GAC7BjqB,EAAUy/C,UAAUt+B,OAAOhqC,EAAG,EAChC,GACA,EACA6oB,EAAUyiD,aAAe,SAAS1iD,GACjC,IAAIkqB,EAAuB,GAAlBlqB,EAAK2sC,WAAkB3sC,EAAK+uC,aACrC,OAAS9jD,KAAKgnC,OAAY,GAAL/H,EAAU,IAAgC,GAAzBpxC,KAAKqzC,OAAOugB,WAAkB,GAAK,KAAQ5zD,KAAKqzC,OAAOmhB,aAAgB,OAAgD,GAA3Bx0D,KAAKqzC,OAAOmhB,aAC/I,EACArtC,EAAU0iD,cAAgB,SAAS3iD,EAAIkqB,GACtCA,EAAaA,GAAc,EAC3B,IAAI9yC,EAAgC,GAA3B4oB,EAAGm9B,WAAWwP,WAAkB3sC,EAAGm9B,WAAW4R,aACnD3uC,EAA+B,GAAzBJ,EAAGs9B,SAASqP,WAAkB3sC,EAAGs9B,SAASyR,cAA+C,GAA7B9uC,EAAUksB,OAAO2iB,UAIvF,MAAO,CACN5xC,IAJSpkB,KAAK4pE,aAAa1iD,EAAGm9B,YAK9BnnC,OAHY/K,KAAK0+C,IAAIzf,GAAa9pB,EAAKhpB,GAAM0B,KAAKqzC,OAAOmhB,aAAe,IAK1E,EACArtC,EAAUmhD,aAAe,SAASphD,EAAIkqB,EAAQ9yC,GAC7C,IAAIgpB,EAAOH,EAAUkuB,GAAGua,WACpBjwD,EAAeK,KAAKqzC,OAA4BmwB,sBAAI,EAAIl8C,EAC5D,KAAIJ,EAAGugD,MAAQ,GAAf,CAEA,IAAIr4D,EAAS+X,EAAUghD,cAAcjhD,EAAGugD,OACxC,GAAKr4D,EAAL,CAEAgiC,EAASA,GAAUhiC,EAEnB,IAAIpL,EAAQhE,KAAK6pE,cAAc3iD,EAAIC,EAAUkuB,GAAGia,kBAC5CxvD,EAAMkE,EAAMogB,IACfrkB,EAASiE,EAAMkZ,OAEZ/e,EAAW+oB,EAAG+hD,QAAU,EACxB35C,EAAYpI,EAAGghD,SAAW,EAE9B5pE,EAAcA,GAAe8Q,EAAOy+C,YACjC7tD,KAAKqzC,OAAOkwB,qBACdjlE,GAAe0B,KAAKqzC,OAAOkwB,oBAG5B,IAAIh8C,EAAQpV,KAAKk9B,OAAO/wC,EAAcqB,GAAexB,GACjDE,EAAOixB,EAAY/H,EAAQ,EAE/B,GADKL,EAAG6hD,SAAQxhD,GAAiBppB,EAAWmxB,GACxCtvB,KAAKqzC,OAAOywB,sBAAuB,CACtC,IAAI5/D,EAAQlE,KAAKqzC,OAAO0wB,oBACpBx5C,EAASvqB,KAAKqzC,OAAO2wB,qBACzB3lE,EAAOixB,EAAYprB,EAAQqmB,EAC3B,IAAIhE,EAASW,EAAS6hD,QAAK5qE,EAAWmxB,EAAY,GAAKprB,EAAQqmB,EAAS,EAAI,EAC5EhD,EAAQpV,KAAKk9B,MAAM/wC,EAAcqB,EAActB,EAAOkoB,EACtD,CAGAW,EAAG2qC,MADD9xD,EAAS,GACA,WACHA,EAAS,GACN,QAEA,KAGZ,IAAIsnB,EAAIrnB,KAAK8pE,cAAc5iD,EAAIvnB,EAActB,EAAMyB,EAAKynB,EAAOxnB,EAAQmnB,EAAG68B,YAAa58B,EAAUilC,UAAUwZ,aAAa1+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAAKC,EAAUilC,UAAUmQ,WAAWr1C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,IAgBpN,GAdgB,aAAbA,EAAG2qC,MACLxqC,EAAE6rB,UAAUn0C,IAAI,yBACM,UAAbmoB,EAAG2qC,OACZxqC,EAAE6rB,UAAUn0C,IAAI,wBAGjBiB,KAAK69C,SAASwe,UAAUn1C,EAAIG,GAC5BrnB,KAAK4mE,UAAUr4D,KAAK8Y,GACpB+pB,EAAO3oC,YAAY4e,GAInBhpB,EAAOA,EAFcm6C,SAAUx4C,KAAKqzC,OAAO0b,IAAM3/C,EAAOrD,MAAMsuC,MAAQjrC,EAAOrD,MAAMmY,KAAM,IAE1DvkB,EAE3BK,KAAKoyD,UAAYlrC,EAAG1Q,GAAI,CAE3B6Q,EAAEtb,MAAMb,OAAS,EACjBqc,EAAQpV,KAAK0+C,IAAItpC,EAAOJ,EAAUkuB,GAAG0a,eACrC1oC,EAAInoB,SAASC,cAAc,QACzBsC,aAAa,WAAYylB,EAAG1Q,IAC9B6Q,EAAE5lB,aAAazB,KAAKqzC,OAAO6xB,gBAAiBh+C,EAAG1Q,IAE/CxW,KAAK69C,SAASwe,UAAUn1C,EAAIG,GAE5BA,EAAE6tB,UAAY,+BACVl1C,KAAKqzC,OAAO0b,KAAK1wD,IACrB2B,KAAKwwD,OAAOnpC,EAAGE,EAAOxnB,EAAQ1B,EAAMyB,GAGjConB,EAAG9H,OACLiI,EAAEtb,MAAME,YAAY,mCAAoCib,EAAG9H,OAE5D,IAAIkgB,EAAWnY,EAAUilC,UAAUyZ,YAAY3+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAExEoY,IACFjY,EAAE6tB,WAAa,IAAM5V,GAEtB,IAAI1L,EAAK10B,SAASC,cAAc,OAChCy0B,EAAG7nB,MAAM+3C,SAAW,8BAEpBz8B,EAAE5e,YAAYmrB,GACd5zB,KAAKw1C,KAAmBqd,aAAE,GAAGpqD,YAAY4e,GACzCrnB,KAAK4mE,UAAUr4D,KAAK8Y,GAEpBuM,EAAGxrB,UAAY,oCAAsC8e,EAAGpH,KAAO,cAC/D9f,KAAK+pE,QAAUn2C,EAAGqhB,cAAc,YAEhC9tB,EAAU9G,MAAMrgB,KAAK+pE,QAAS,WAAW,SAAS92C,GACjD,GAAIA,EAAExZ,SAAU,OAAO,EACvB,IAAIiR,EAAOuI,EAAEhc,QACTyT,GAAQvD,EAAUjb,KAAKgkD,WAAW/oC,EAAU85B,UAAA,GAC5Cv2B,GAAQvD,EAAUjb,KAAKikD,aAAahpC,EAAU85B,UAAS,GAExDv2B,GAAQvD,EAAUjb,KAAKgkD,WAAaxlC,GAAQvD,EAAUjb,KAAKikD,aAC1Dl9B,EAAEpb,gBAAgBob,EAAEpb,gBAE3B,IACEsP,EAAU9G,MAAMrgB,KAAK+pE,QAAS,eAAe,SAAU92C,GAEtD,OADAA,EAAEnb,cAAe,IAEpB,IACEqP,EAAUs0C,OAAOz7D,KAAK+pE,SAAA,GAEtB/pE,KAAKw1C,KAAmBqd,aAAE,GAAG1uC,WAAa,CAC1C,CACD,GAA2B,IAAvBnkB,KAAKq1C,GAAGua,YAAoB5vD,KAAKyxD,YAAcvqC,EAAG1Q,GAAI,CAErDxW,KAAKqzC,OAAOywB,uBAAyB9jE,KAAK4yD,aAC7CvrC,EAAEtb,MAAMb,OAAS,GAMlB,IAAK,IAFDyoB,EAHAzwB,EAAQlD,KAAKqzC,OAAO,UAAarzC,KAAKoyD,UAAYlrC,EAAG1Q,GAAM,OAAS,WACpE/C,EAAY,GAIPysB,EAAI,EAAGA,EAAIh9B,EAAM1E,OAAQ0hC,IAAK,CACtC,MAAMjN,EAAc/vB,EAAMg9B,GAC1BvM,EAAW3zB,KAAK69C,SAAS6gB,oBAAoBzrC,GAC7Cxf,GAAA,6BAAAyS,OAA0C+M,EAAA,aAAA/M,OAAuBlmB,KAAK6c,OAAOqhC,OAAOjrB,GAAA,MAAA/M,OAAiByN,EACrG,WACD,IAAIE,EAAM7zB,KAAK8pE,cAAc5iD,EAAI7oB,EAAOipB,EAAO,EAAGxnB,EAAKwnB,EAAM,KAAM,GAAI,oCAAqC7T,GAAA,GAEzGyT,EAAG9H,OACLyU,EAAI9nB,MAAME,YAAY,mCAAoCib,EAAG9H,OAE3D8H,EAAG8iD,WACLn2C,EAAI9nB,MAAME,YAAY,8BAA+Bib,EAAG8iD,WAIzDhqE,KAAKw1C,KAAmBqd,aAAE,GAAGpqD,YAAYorB,GACzC7zB,KAAK4mE,UAAUr4D,KAAKslB,EACpB,CACE7zB,KAAKqzC,OAAOoxB,gBAAkBzkE,KAAK0yD,UAAYxrC,EAAG1Q,IACpDxW,KAAKiqE,uBAAuB/iD,EAlIT,CAHK,CAuI1B,EACAC,EAAU2iD,cAAgB,SAAU5iD,EAAIkqB,EAAG9yC,EAAGgpB,EAAG3nB,EAAGyP,EAAOpL,EAAUlE,EAAUC,GAC9E,IAAI5B,EAAIe,SAASC,cAAc,OAC3BmwB,EAAKpI,EAAG1Q,GACR+Q,EAAKxnB,EAAW,oCAAsC,gBAEtD1B,EAAQ8oB,EAAUgtB,WACnB91C,EAAMo0D,SAAWvrC,EAAG1Q,KACtB+Q,GAAM,uBAGJlpB,EAAMk0D,WAAarrC,EAAG1Q,KACxB+Q,GAAM,2BAGP,IAAIrjB,EAAMijB,EAAUilC,UAAUyZ,YAAY3+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAClEhjB,IAAKqjB,EAAKA,EAAK,IAAMrjB,GAEtBlE,KAAKqzC,OAAOywB,wBACdv8C,GAAM,0BAGP,IAAIgD,EAAWjD,EAAI,EAEff,EAAO,kBAAoB+I,EAAK,KAAOtvB,KAAKqzC,OAAO6xB,gBAAkB,KAAO51C,EAAK,YAAc/H,EAChG,mCAAqCjpB,EAAI,QACvC0B,KAAKqzC,OAAU0b,IAAI,SAAS,SAAW3d,EAAI,aAAe7mB,EAAW,cAAgB5qB,EAAI,OAC1FyP,GAAS,IAAM,WACnBjR,EAAEiK,UAAYme,EAEd,IAAIc,EAAYlpB,EAAEm8D,WAAA,GAAgB/xD,WAElC,IAAKxI,GAAUonB,EAAU+iD,YAAY7iD,EAAWH,EAAII,EAAG3nB,EAAGqE,EAAUlE,GAQnE,OAPGonB,EAAG9H,OACLiI,EAAUtb,MAAME,YAAY,mCAAoCib,EAAG9H,OAEjE8H,EAAG8iD,WACL3iD,EAAUtb,MAAME,YAAY,8BAA+Bib,EAAG8iD,WAGxD3iD,EAEPA,EAAYlpB,EAAEoK,WACX2e,EAAG9H,OACLiI,EAAUtb,MAAME,YAAY,mCAAoCib,EAAG9H,OAEjE8H,EAAG8iD,WACL3iD,EAAUtb,MAAME,YAAY,8BAA+Bib,EAAG8iD,WAG/D,IAAI1qC,EAAa,uDACjBA,GAAc,yCAA2Ct7B,EAAW,SACpEs7B,GAAc,yBAA2Bx/B,EAAW,SAEpD,IAAI8zB,EAAe,8BASpB,OARK7zB,IAAA,IAAUmnB,EAAGijD,gBAChBv2C,EAAe,qBAAuBA,GAEvC0L,GAAc,eAAiB1L,EAAe,oBAAsB7zB,EAAS,oBAAsB,IAAM,YAEzGsnB,EAAUjf,UAAYk3B,EAGhBjY,CACR,EACAF,EAAU+iD,YAAc,WACvB,OAAO,CACR,EACA/iD,EAAUghD,cAAgB,SAASjhD,GAClC,MAAkB,OAAdlnB,KAAK6xD,MAAuB7xD,KAAKw1C,KAAmBqd,aAAE,GAAGtqD,WACtDvI,KAAKw1C,KAAmBqd,aAAE,GAAGrU,WAAWt3B,EAChD,EACAC,EAAUkiD,kBAAoB,SAASniD,EAAMkqB,GAC5C,IAAI9yC,EAAM6T,KAAKk9B,OAAOrvC,KAAKy1D,eAAevuC,EAAM,GAAKlnB,KAAKgyD,WAAS,OAGnE,OADI5gB,GAAQpxC,KAAKqf,KAAKm3C,UAAUtvC,IAAO5oB,IAChCA,CACR,EAIA6oB,EAAUijD,eAAiB,SAASljD,EAAOkqB,EAAW9yC,GACrD,IAAI0B,KAAKg0D,YACR,OAAO9sC,EACJlnB,KAAKg0D,YAAYqW,aAGpBnjD,EAAQlnB,KAAKg0D,YAAYqW,aAFzBrqE,KAAKg0D,YAAYqW,aAAenjD,EAKjC,QADII,EAAQ8pB,EAAYlqB,EACjBI,EAAQ8pB,EAAa9yC,GAC3B4oB,IACAI,GAAS8pB,EAGV,OADQj/B,KAAK0+C,IAAI3pC,EAAO,EAEzB,EAEAC,EAAU0gD,mBAAqB,SAAS3gD,GACvC,IAAIkqB,EAAMpxC,KAAKqzC,OAAO0b,IAClBzwD,EAAU0B,KAAK20D,OACfrtC,EAAIhpB,EAAQ4oB,EAAGugD,OACf9nE,EAAKrB,EAAQ4oB,EAAGwgD,OAChBt2B,IACH9pB,EAAIhpB,EAAQA,EAAQi7D,YAAcj7D,EAAQ4oB,EAAGwgD,OAASppE,EAAQ,GAC9DqB,EAAKrB,EAAQA,EAAQi7D,YAAcj7D,EAAQ4oB,EAAGugD,OAASnpE,EAAQ,IAG5DqB,GAAM2nB,IAAG3nB,EAAKrB,EAAQ4oB,EAAGwgD,MAAQ,IACrC,IAAIt4D,EAAKpP,KAAKq1C,GAAGka,WAEbvrD,EAAQkjB,EAAGghD,QACf,GAAGhhD,EAAG1Q,IAAMxW,KAAK0yD,SAAS,CACzB,IAAI5yD,EAAaxB,EAAQw2D,QAAQ5tC,EAAGygD,OAAS,GAAKrpE,EAAQw2D,QAAQ5tC,EAAGygD,QAAS3nE,KAAKq1C,GAAG2a,kBACtFhsD,EAAQmjB,EAAUijD,eAAepmE,EAAOoL,EAAItP,EAC5C,CACD,IAAIC,EAAkBiE,EAAQoL,EAE9B,MAAO,CAACiY,EAAEC,EAAGwgD,GAAGnoE,EAAI2vB,EADZhxB,EAAQw2D,QAAQ5tC,EAAGygD,SAAWrpE,EAAQ4e,OAAUld,KAAKq1C,GAAGsa,mBAAqB,EAAK,GAAM5vD,EAEjG,EAEAonB,EAAU6gD,iBAAmB,SAAU9gD,GACtC,IAAIkqB,EAASpxC,KAAKqnE,mBACd/oE,EAAM0B,KAAK6nE,mBAAmB3gD,GAC9BI,EAAIhpB,EAAIgxB,EACR3vB,EAAIrB,EAAI+oB,EACRjY,EAAK9Q,EAAIwpE,GAET9jE,EAAgB,GAIpB,GAAKoL,EAAL,CAEA,IAAItP,EAAYqnB,EAAUksB,OAAOqwB,qBAAqC,SAAd1jE,KAAK6xD,SAC1D3qC,EAAGitC,QAAUhtC,EAAUksB,OAAOswB,oBAE7B5jE,EAAIb,SAASC,cAAc,OAC3BhB,EAAc+oB,EAAG3nB,eAAe,iBAAmB2nB,EAAGuiD,aACzDn6C,EAAepI,EAAG3nB,eAAe,gBAAkB2nB,EAAGwiD,YAEnDniD,EAAcznB,IAAconB,EAAGitC,QAAUh2D,GACzCE,EAAeyB,IAAconB,EAAGitC,QAAU7kC,GAE1CprB,GAAQ,EACRqmB,EAAK,sBACJrD,EAAGitC,SAAUr0D,IACjBoE,GAAA,EACAqmB,EAAK,sBAEHpsB,IACFosB,GAAM,6BAEJ+E,IACF/E,GAAM,2BAEJhD,IACFvjB,GAAiB,+DAEf3F,IACF2F,GAAiB,6DAGlB,IAAIuiB,EAAMY,EAAUilC,UAAUyZ,YAAY3+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAClEX,IACHgE,GAAM,IAAMhE,GAGb,IAAIc,EAAYH,EAAG9H,MAAS,oCAAsC8H,EAAG9H,MAAQ,IAAO,GAChFkgB,EAASpY,EAAG8iD,UAAa,+BAAiC9iD,EAAG8iD,UAAY,IAAO,GAEhFp2C,EAAa,CAChB,oBACA,OAAStM,EAAI,KACb,QAAU3nB,EAAI,KACd,UAAYyP,EAAKzP,GAAKuE,EAAQ,EAAI,IAAM,KACxC,WAAalE,KAAKq1C,GAAGka,WAAa,GAAK,KACvCjwB,EACAjY,EACCH,EAAG68B,aAAe,IAClBt1B,KAAK,KAEHkF,EAAO,kBAAoBzM,EAAG1Q,GAAK,KAAOxW,KAAKqzC,OAAO6xB,gBAAkB,KAAOh+C,EAAG1Q,GAAK,YAAa+T,EAAK,YAAYqJ,EAAW,IAAI5zB,KAAK69C,SAAS8e,mBAAmBz1C,GAAI,IACzKpnB,IACH6zB,GAAQ3vB,GAEuB,SAA7BmjB,EAAUgtB,WAAWzmB,OACvBxG,EAAKC,EAAUk1B,SAASn1B,EAAG1Q,KAGxB0Q,EAAGitC,SACNxgC,GAAA,0CAAAzN,OAAkDiB,EAAUilC,UAAU0Z,eAAe5+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAGlH,YAAAyM,GAAQ,2CACRA,GAAQxM,EAAUilC,UAAU2Z,eAAe7+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAAM,SAC7EyM,GAAQ,SACRA,GAAQ,SAER5zB,EAAEqI,UAAYurB,EAEd3zB,KAAK4mE,UAAUr4D,KAAKxO,EAAEwI,YACtB6oC,EAAO3oC,YAAY1I,EAAEwI,WAtEL,CAuEjB,EAEA4e,EAAUqqC,cAAgB,SAAStqC,GAElC,QADIkqB,EAAK,KACFlqB,IAASkqB,GAAMlqB,EAAKmqB,cAC1BD,EAAKlqB,EAAKmqB,aAAarxC,KAAKqzC,OAAO6xB,iBACnCh+C,EAAOA,EAAKpZ,WAEb,OAAOsjC,CACR,EAEAjqB,EAAUksC,KAAO,SAASnsC,GACrBlnB,KAAKoyD,UAAYlrC,IACrBlnB,KAAKihD,UAAA,EAAgB/5B,GACrBlnB,KAAKoyD,SAAWlrC,EAChBlnB,KAAK4xD,YAAY1qC,GAClB,EACAC,EAAU85B,SAAW,SAAS/5B,EAAMkqB,GACnC,IAAIA,GAAMpxC,KAAKoyD,UAAYhhB,EAA3B,CACA,IAAI9yC,EAAK0B,KAAKq8C,SAASr8C,KAAKoyD,UACxB9zD,IACC4oB,IAAM5oB,EAAGwhB,KAAO9f,KAAK+pE,QAAQhkE,OACjC/F,KAAKoyD,SAAW,KAChBpyD,KAAK+pE,QAAU,KACf/pE,KAAK4xD,YAAYtzD,EAAGkY,IACpBxW,KAAKsqE,iBAAiBhsE,EAAI4oB,GAPW,CASvC,EACAC,EAAUmjD,iBAAmB,SAASpjD,EAAIkqB,GACrCpxC,KAAK+7C,YACH3K,EAIJpxC,KAAKo2C,UAAU,eAAgB,CAAClvB,EAAG1Q,GAAI0Q,IAHnCA,GACHlnB,KAAKw8C,YAAYt1B,EAAG1Q,IAAA,GAItBxW,KAAK+7C,WAAa,MAEd3K,GACHpxC,KAAKo2C,UAAU,iBAAkB,CAAClvB,EAAG1Q,GAAI0Q,GAG5C,EAEAC,EAAUygD,UAAY,SAAS1gD,EAAMkqB,GACpC,IAAI9yC,EAAS,GACb,IAAK,IAAIgpB,KAAKtnB,KAAKu7C,QAAS,CAC3B,IAAI57C,EAAKK,KAAKu7C,QAAQj0B,GAClB3nB,KAAUunB,IAASkqB,GAAQzxC,EAAG0kD,WAAajT,GAAMzxC,EAAG6kD,SAAWt9B,IAClE5oB,EAAOiQ,KAAK5O,EACb,CACD,OAAOrB,CACR,EACA6oB,EAAUojD,iBAAmB,SAASrjD,GACrC,GAAKA,EAAL,CAGA,IAAK,IADDkqB,EAAkBjqB,EAAUy/C,UACvBtoE,EAAE,EAAGA,EAAE8yC,EAAgB5yC,OAAQF,IAAK,CAC5C,IAAIgpB,EAAiB8pB,EAAgB9yC,GACrC,GAAIgpB,EAAe+pB,aAAalqB,EAAUksB,OAAO6xB,kBAAoBh+C,EACpE,OAAOI,CAER,CACD,OAAO,IARC,CAST,EACAH,EAAUqjD,UAAY,SAAStjD,EAAIkqB,GAE/BlqB,GAAoB,iBAAPA,IACfkqB,EAAOlqB,EAAGwG,KACV4B,EAAUpI,EAAGs0C,QACbt0C,EAAKA,EAAGs0C,SAET,IAAIl9D,EAAmB,iBAAN4oB,GAA+B,iBAANA,EAAkBC,EAAUk1B,SAASn1B,GAAMA,EAGrF,GAFAkqB,EAAOA,GAAMjqB,EAAU0qC,MAElBvzD,KAAO0B,KAAKs2C,WAAW,yBAA4Bt2C,KAAKo2C,UAAU,uBAAwB,CAAC93C,EAAI8yC,KAApG,CAGA,IAAI9pB,EAAcH,EAAUksB,OAAOonB,YACnCtzC,EAAUksB,OAAOonB,YAAcn8D,EAAG+lD,WAAWwP,WAC7C,IAAIl0D,EAAkBwnB,EAAUksB,OAAOulB,gBACvCzxC,EAAUksB,OAAOulB,iBAAkB,EAEnC,IAAIxpD,EAAiB9Q,EAAG8gB,MACpBpb,EAAsB1F,EAAG0rE,UAgB7B,GAfI7iD,EAAUksB,OAAOyxB,4BACpBxmE,EAAG8gB,MAAQ+H,EAAUksB,OAAO+vB,sBAC5B9kE,EAAG0rE,UAAY7iD,EAAUksB,OAAOgwB,4BAGjCl8C,EAAUmtB,eAAe,IAAI77B,KAAKna,EAAG+lD,YAAajT,GAOlDjqB,EAAUksB,OAAOonB,YAAcnzC,EAC/BH,EAAUksB,OAAOulB,gBAAkBj5D,EAE/BwnB,EAAUwnC,QAAUxnC,EAAUwnC,OAAOvd,GAAO,CAC/C,IAAItxC,EAAWqnB,EAAUgwC,UACrBp3D,EAAWD,EAAS87D,WAEpBz9D,EAAQgpB,EAAUk1B,SAAS/9C,EAAGkY,IAElC,GAAGrY,EAAM,CACR,IAAImxB,EAAQ,CACX,IAAIA,EAAUnxB,EAAM4B,GACjBkH,MAAMC,QAAQooB,GAChBA,EAAUA,EAAQ,GACS,iBAAZA,GAAwBnI,EAAUksB,OAAOo3B,mBAAqBn7C,EAAQtjB,QAAQmb,EAAUksB,OAAOo3B,oBAAsB,IACpIn7C,EAAUA,EAAQ5uB,MAAMymB,EAAUksB,OAAOo3B,mBAAmB,GAE7D,CACD,IAAIljD,EAAMznB,EAAS4qE,cAAcp7C,GAC7BjxB,EAAOyB,EAAS6qE,YAAYxsE,EAAMkmD,YAClCngD,EAAYijB,EAAU6tB,WAAWC,cAAc,8BAInD,GAHA52C,IAAe6F,EAAUk2C,YAAct6C,EAAS8qE,IAAM,EACtDrjD,EAAMA,EAAMrjB,EAAUwzC,aAAe,EAAI53C,EAAS+qE,GAAG,EAEjD/qE,EAASgrE,yBACZ,IAAIvgD,EAAYzqB,EAASyhB,YAAY,YAAY,WAChDgF,IACAzmB,EAASshB,YAAYmJ,EAC1B,IAGGzqB,EAASirE,SAAS,CACjB7mD,KAAM7lB,EACN+lB,IAAKmD,IAEDznB,EAASgrE,0BACbvkD,GAED,CACH,MACEA,IAGDY,EAAUivB,UAAU,sBAAuB,CAAC93C,EAAI8yC,GAhExC,CAgBR,SAAS7qB,IACRjoB,EAAG8gB,MAAQhQ,EACX9Q,EAAG0rE,UAAYhmE,CACf,CA8CF,CAGA,CAlxCe,CbmFRC,GcnFQ,SAAgBkjB,GAG/BA,EAAU6jD,oBAAsB,SAAS9jD,GACxC,IAAGA,EAAEpZ,WAAL,CACA,IAEIsjC,EAFOjqB,EAAUquB,KAAmBqd,aAAE,GAEzBhqD,UACbvK,EAAY6oB,EAAU2pC,cAAc1f,GACrC9yC,EAAU0N,QAAQ,oBAAsB,GAAKolC,EAAMtnB,kBACrDsnB,EAAQA,EAAMtnB,iBAGfxrB,EAAY6oB,EAAU2pC,cAAc1f,GAChCA,GAAmD,IAA1C9yC,EAAU0N,QAAQ,qBAC9BolC,EAAM3oC,YAAYye,EAXK,CAazB,EAEAC,EAAU8jD,wBAA0B,SAAS/jD,EAAGkqB,GAC/C,IAAI9yC,EAAO6oB,EAAU0iD,cAAcz4B,EAAO,GAC1ClqB,EAAEnb,MAAMqY,IAAM9lB,EAAK8lB,IAAM,KACzB8C,EAAEnb,MAAMmR,OAAS5e,EAAK4e,OAAS,IAChC,EAEAiK,EAAU8iD,uBAAyB,SAAS/iD,GAC3C,IAAIkqB,EAAIlyC,SAASC,cAAc,OAE/BiyC,EAAE3vC,aAAa,WAAYylB,EAAM1Q,IACjC46B,EAAE3vC,aAAazB,KAAKqzC,OAAO6xB,gBAAiBh+C,EAAM1Q,IAClDxW,KAAK4mE,UAAUr4D,KAAK6iC,GACpBpxC,KAAKirE,wBAAwB75B,EAAGlqB,GAEhC,IAAI5oB,EAAM0B,KAAKosD,UAAU6Z,kBAAkB/+C,EAAMm9B,WAAYn9B,EAAMs9B,SAAUt9B,GACzEI,EAAOtnB,KAAKosD,UAAU8Z,oBAAoBh/C,EAAMm9B,WAAYn9B,EAAMs9B,SAAUt9B,GAChFkqB,EAAE8D,UAAY,kBACX52C,IACF8yC,EAAE8D,WAAa,IAAM52C,GACnBgpB,IACF8pB,EAAEhpC,UAAYkf,GACftnB,KAAKgrE,oBAAoB55B,EAC1B,CAEA,CA3Ce,CdoFEntC,Ge/EF,SAAgBpE,GCLhB,IAAgBzB,EDO/ByB,EAAU4mE,QAAU,CAAC,EACrB5mE,EAAUu4D,MAAQ,SAASh6D,EAAKixB,GAG/B,GAFAjxB,EAAMA,GAAO4B,KAAKkrE,UAElB,CAOA,IAAItrE,EAMJ,GARAxB,KAA6B,GAArBA,EAAI4N,QAAQ,KAAa,IAAM,KAAO,cAAe,IAAKyM,MAAQi9C,oBACtE11D,KAAKqzC,OAAO83B,gBAAkB/sE,GAAO,QAAU4B,KAAK42C,OAExDvnB,EAAOA,GAAQrvB,KAAK8xD,MAKhB9xD,KAAKm4D,WAAY,CACpB,IAAIhnB,EAAKnxC,KAAKosD,UAAUuZ,YAGxB,IADAt2C,EAAOrvB,KAAKqf,KAAKrf,KAAKm4D,WAAa,UAAU,IAAI1/C,KAAK4W,EAAKhnB,YACpDgnB,EAAOrvB,KAAKgyD,WAAW3iC,EAAOrvB,KAAKqf,KAAKtgB,IAAIswB,GAAA,EAAUrvB,KAAKm4D,YAClEv4D,EAAKyvB,EAGL,QADI+lB,GAAA,EACGx1C,EAAKI,KAAKkyD,WAChBtyD,EAAKI,KAAKqf,KAAKtgB,IAAIa,EAAI,EAAGI,KAAKm4D,YAC3Bn4D,KAAKymE,QAAQt1B,EAAG9hB,KAAU+lB,EAC7B/lB,EAAOrvB,KAAKqf,KAAKtgB,IAAIswB,EAAM,EAAGrvB,KAAKm4D,YAAkB/iB,GAAa,EAGpE,IAAIjF,EAAUvwC,EACd,GACCA,EAAKuwC,EACLA,EAAUnwC,KAAKqf,KAAKtgB,IAAIa,GAAK,EAAGI,KAAKm4D,kBAC7BhoB,EAAU9gB,GAAQrvB,KAAKymE,QAAQt1B,EAAGhB,KAE3C,GAAIvwC,GAAMyvB,EACT,OAAO,EAIR,IAFAxvB,EAAU8hD,KAAKr8C,IAAIlH,EAAM,SAAW+yC,EAAG9hB,GAAQ,OAAS8hB,EAAGvxC,GAAKunB,GAEzDkI,EAAOzvB,GACbI,KAAKymE,QAAQt1B,EAAG9hB,KAAS,EACzBA,EAAOrvB,KAAKqf,KAAKtgB,IAAIswB,EAAM,EAAGrvB,KAAKm4D,WAEtC,MACEt4D,EAAU8hD,KAAKr8C,IAAIlH,EAAK+oB,GAMzB,OAFAnnB,KAAKo2C,UAAU,QAAS,IACxBp2C,KAAKo2C,UAAU,cAAe,KACvB,CA9CN,CAMD,SAASjvB,EAAaD,GACrBrnB,EAAUurE,QAAQlkD,GAClBrnB,EAAUu2C,UAAU,YAAa,GACjC,CAsCF,EAEAv2C,EAAUwrE,SAAW,CAAC,GC/DSjtE,EDkErByB,GC/DAwrE,SAASC,IAAM,CACxBC,SAAU,SAASl8C,EAAMzvB,GAExB,GAAGA,EAAIsgE,aAAetgE,EAAIsgE,YAAY33D,WACrC,OAAO,EAGR,IACC,IAAI4oC,EAAS/yC,EAAUujD,KAAKW,MAAM1iD,EAAIuiD,cAClC/M,EAAah3C,EAAUujD,KAAK0B,OAAO,OAAQlS,GAC/C,GAAGiE,GAAqC,SAAvBA,EAAWviB,QAC3B,OAAO,CAER,OACA,CACD,OAAO,CACP,EACDyvB,MAAO,SAASjzB,GACf,IAAIzvB,EAOJ,GALKyvB,EAAO2zB,OAAOkd,cAClB7wC,EAAO2zB,OAAOkd,YAAc9hE,EAAUujD,KAAKW,MAAMjzB,EAAO2zB,OAAOb,eAI7C,SADnBviD,EAAMxB,EAAUujD,KAAK0B,OAAO,OAAQh0B,EAAO2zB,SACnCnwB,QAAmB,OAAO,KAClC,IAAIse,EAAYvxC,EAAIyxC,aAAa,gBAC7BF,IACClyC,OAAOusE,SACVvsE,OAAOusE,OAAO/pB,aAAetQ,GAE9B/yC,EAAUqjD,aAAetQ,GAI1B,IAAK,IADDiE,EAAOh3C,EAAUujD,KAAK2B,MAAM,iBAAkBj0B,EAAO2zB,QAChD7S,EAAI,EAAGA,EAAIiF,EAAK52C,OAAQ2xC,IAAK,CACrC,IAAIhpB,EAAOiuB,EAAKjF,GAAGkB,aAAa,OAC5BnqB,EAAM9oB,EAAUi9D,WAAWl0C,GAC1BD,IACJ9oB,EAAUi9D,WAAWl0C,GAAQD,EAAM,IAEpCA,EAAIohB,OAAO,EAAGphB,EAAI1oB,QAElB,IAAK,IADD4yC,EAAOhzC,EAAUujD,KAAK2B,MAAM,UAAWlO,EAAKjF,IACvC7xC,EAAI,EAAGA,EAAI8yC,EAAK5yC,OAAQF,IAAK,CAIrC,IAAK,IAFDgpB,EADM8pB,EAAK9yC,GACCmtE,WACZ9rE,EAAM,CAAE4c,IAAK60B,EAAK9yC,GAAG+yC,aAAa,SAAUiN,MAAOlN,EAAK9yC,GAAG+yC,aAAa,UACnEjiC,EAAI,EAAGA,EAAIkY,EAAM9oB,OAAQ4Q,IAAK,CACtC,IAAIpL,EAAOsjB,EAAMlY,GACI,SAAjBpL,EAAKiB,UAAwC,SAAjBjB,EAAKiB,WAErCtF,EAAIqE,EAAKiB,UAAYjB,EAAK+E,UAC1B,CACDme,EAAI3Y,KAAK5O,EACT,CACD,CACGy1C,EAAK52C,QACRJ,EAAUg4C,UAAU,gBAAiB,IAEtC,IAAIt2C,EAAK1B,EAAUujD,KAAK2B,MAAM,aAAcj0B,EAAO2zB,QACnD,IAAS7S,EAAI,EAAGA,EAAIrwC,EAAGtB,OAAQ2xC,IAAK,CACnC,IAAIpwC,EAAM3B,EAAU6lD,eAAenkD,EAAGqwC,IACtC/xC,EAAUulD,UAAU5jD,EAAIsE,MAAQtE,EAAI+f,IACpC,CAED,IAAI3hB,EAAM,GAGV,IAFAyB,EAAMxB,EAAUujD,KAAK2B,MAAM,UAAWj0B,EAAO2zB,QAEpC7S,EAAI,EAAGA,EAAIvwC,EAAIpB,OAAQ2xC,IAAK,CACpC,IAAI7gB,EAAKnxB,EAAIgyC,GAAK/xC,EAAU6lD,eAAerkD,EAAIuwC,IAC/C/xC,EAAUstE,YAAYp8C,EACtB,CACD,OAAOnxB,CACP,GC5Ea,SAAgBC,GAG/BA,EAAUutE,KAAOvtE,EAAUitE,SAASM,KAAO,CAC1CJ,SAAU,SAASl8C,GAClB,GAAGA,GAAwB,iBAATA,EACjB,OAAO,EACD,GAAmB,iBAATA,EAChB,IACC,IAAIzvB,EAAS4oC,KAAK8Z,MAAMjzB,GACxB,MAAkD,oBAA3ChwB,OAAOC,UAAUgJ,SAASjH,KAAKzB,IACO,mBAA3CP,OAAOC,UAAUgJ,SAASjH,KAAKzB,EACjC,OACA,OAAO,CACP,CAEF,OAAO,CACP,EACD0iD,MAAO,SAASjzB,GACf,IAAIzvB,EAAS,GAEM,iBAARyvB,IACVA,EAAOmZ,KAAK8Z,MAAMjzB,IAE0B,mBAAzChwB,OAAOC,UAAUgJ,SAASjH,KAAKguB,GAClCzvB,EAASyvB,EAENA,IACCA,EAAKu8C,OACPhsE,EAASyvB,EAAKu8C,OACNv8C,EAAKpU,OACbrb,EAASyvB,EAAKpU,OAIjBrb,EAASA,GAAU,GAEfyvB,EAAKw8C,eACJ5sE,OAAOusE,SACVvsE,OAAOusE,OAAO/pB,aAAepyB,EAAKw8C,cAEnCztE,EAAUqjD,aAAepyB,EAAKw8C,cAG/B,IAAI16B,EAAe9hB,GAAQA,EAAKy8C,YAAez8C,EAAKy8C,YAAc,CAAC,EAC/D12B,GAAA,EACJ,IAAK,IAAIjF,KAAOgB,EACf,GAAIA,EAAY5xC,eAAe4wC,GAAM,CACpCiF,GAAqB,EACrB,IAAIjuB,EAAagqB,EAAYhB,GACzBjpB,EAAM9oB,EAAUi9D,WAAWlrB,GAC1BjpB,IACJ9oB,EAAUi9D,WAAWlrB,GAAOjpB,EAAM,IAEnCA,EAAIohB,OAAO,EAAGphB,EAAI1oB,QAClB,IAAK,IAAI4yC,EAAI,EAAGA,EAAIjqB,EAAW3oB,OAAQ4yC,IAAK,CAC3C,IAAI9yC,EAAS6oB,EAAWiqB,GACpB9pB,EAAM,CAAE/K,IAAKje,EAAOyH,MAAOu4C,MAAOhgD,EAAOggD,OAC7C,IAAK,IAAI3+C,KAAcrB,EACtB,GAAIA,EAAOiB,eAAeI,GAAa,CACtC,GAAkB,SAAdA,GAAuC,SAAdA,EAC5B,SACD2nB,EAAI3nB,GAAcrB,EAAOqB,EACzB,CAEFunB,EAAI3Y,KAAK+Y,EACT,CACD,CAEE8tB,GACHh3C,EAAUg4C,UAAU,gBAAiB,IAGtC,IAAK,IADDhnC,EAAM,GACDpL,EAAI,EAAGA,EAAIpE,EAAOpB,OAAQwF,IAAK,CACvC,IAAIlE,EAAQF,EAAOoE,GACnB5F,EAAUstE,YAAY5rE,GACtBsP,EAAIb,KAAKzO,EACT,CACD,OAAOsP,CACP,EAGF,CAlFe,CFmEJvP,GGnEI,SAAgBzB,GAG/BA,EAAU2tE,KAAO3tE,EAAUitE,SAASU,KAAO,CAC1CR,SAAU,SAASl8C,GAClB,MAAmB,iBAATA,GACF,IAAI0sC,OAAO,oBAAoBz6D,KAAK+tB,EAI5C,EACDizB,MAAM,SAASjzB,GACd,IAAIzvB,EAAOyvB,EAAI7rB,MAAMu4D,OAAO/7D,KAAKgsE,QAAQ,SAAShsE,KAAKisE,MAAM,KAC7D,GAAKrsE,EAAKpB,OAAV,CAGAoB,EAAK,GAAGA,EAAK,GAAG+B,QAAQ,YAAY,IAGpC/B,EAAK,GAAGA,EAAK,GAAG+B,QAAQ,uBAAuB,KAE/C/B,EAAK,GAAGA,EAAK,GAAG+B,QAAQ,eAAe,KAMvC,QAFIwvC,EADAiE,EAAS,GAETjF,EAAU4rB,OAAO,MAAM/7D,KAAKksE,QAAQ,gBAAgBlsE,KAAKmsE,MAAM,IAAI,KACjC,QAA9Bh7B,EAAMhB,EAAQi8B,KAAKxsE,KAAgB,CAI1C,QAFIunB,EADAD,EAAE,CAAC,EAEHkqB,EAAU,mBAC4B,QAAlCjqB,EAAMiqB,EAAQg7B,KAAKj7B,EAAM,MAChCnxC,KAAKqsE,YAAYllD,EAAM7e,WAAW4e,GAC/BA,EAAE0vB,MAAQ1vB,EAAE1Q,KAAI0Q,EAAE1Q,GAAK0Q,EAAE0vB,KAC7BxB,EAAS7mC,KAAK2Y,EACd,CACD,OAAOkuB,CAvBkB,CAwBzB,EACDi3B,YAAY,SAASh9C,EAAIzvB,GACxB,IAAIuxC,EAAI9hB,EAAIrjB,QAAQ,KACnB,IAAQ,GAAJmlC,EAAJ,CAED,IAAIiE,EAAO/lB,EAAIi9C,OAAO,EAAEn7B,GAAGvwC,cACvBuvC,EAAQ9gB,EAAIi9C,OAAOn7B,EAAE,GAAGxvC,QAAQ,OAAO,KAAKA,QAAQ,WAAW,IACzD,WAANyzC,EACHA,EAAK,OACS,WAANA,GACRA,EAAO,aACPjF,EAAQnwC,KAAK+6D,WAAW5qB,EAAM,EAAE,IAElB,SAANiF,IACRA,EAAO,WACPjF,EAAQnwC,KAAK+6D,WAAW5qB,EAAM,EAAE,IAEjCvwC,EAAIw1C,GAAMjF,CAdS,CAenB,EACD4qB,WAAW,SAAS1rC,EAAMzvB,EAAGuxC,GAC5B,IAAIiE,EAAI/lB,EAAM3uB,MAAM,KAEhByvC,GAAA,EACAiF,EAAE,KACLx1C,EAAGw1C,EAAE,GAAGk3B,OAAO,EAAE,GACjBn7B,EAAGiE,EAAE,GAAGk3B,OAAO,EAAE,GACjBn8B,EAAwB,KAAXiF,EAAE,GAAG,IAEnB,IAAIjuB,EAAKiuB,EAAE,GAAGk3B,OAAO,EAAE,GACnBplD,EAAKsxB,SAASpD,EAAE,GAAGk3B,OAAO,EAAE,GAAG,IAAI,EACnCl7B,EAAKgE,EAAE,GAAGk3B,OAAO,EAAE,GAEvB,OAAGluE,EAAUi1C,OAAO8wB,YAAch0B,EAC1B,IAAI13B,KAAKA,KAAK6oD,IAAIn6C,EAAGD,EAAGkqB,EAAGxxC,EAAGuxC,IAE9B,IAAI14B,KAAK0O,EAAGD,EAAGkqB,EAAGxxC,EAAGuxC,EAE7B,EACD66B,QAAQ,kBACRE,QAAQ,eACRC,MAAM,aACNF,MAAM,gBAGP,CAjFe,CHoEJpsE,GAEXA,EAAUurE,QAAU,SAAUhtE,GAG7B,IAAIixB,EAFJrvB,KAAKo2C,UAAU,gBAAiB,IAGhC,IAAIx2C,GAAA,EAEAuxC,GAAA,EACJ,QAAQiE,KAAKp1C,KAAKqrE,SAAS,CAC1B,IAAIl7B,EAASnwC,KAAKqrE,SAASj2B,GAC3B,GAAGjF,EAAOo7B,SAASntE,EAAO4kD,OAAOb,aAAc/jD,EAAO4kD,QAAQ,CAC7D,IACC,IAAI77B,EAAQ/oB,EAAO4kD,OAAOb,aACjB,QAAN/M,IACFjuB,EAAQ/oB,IAETixB,EAAM8gB,EAAOmS,MAAMn7B,MAElBvnB,GAAA,EAED,OACAA,GAAA,CACA,CACDuxC,GAAc,EACd,KACA,CACD,CAED,IAAIA,EACH,GAAGnxC,KAAKusE,UAAYvsE,KAAKA,KAAKusE,UAC7B,IACCl9C,EAAMrvB,KAAKA,KAAKusE,UAAUjqB,MAAMlkD,EAAO4kD,OAAOb,aAC9C,OACAviD,GAAA,CACA,MAEDA,GAAQ,GAIPA,GAAUxB,EAAO4kD,OAAOX,QAAUjkD,EAAO4kD,OAAOX,QAAU,OAC5DriD,KAAKo2C,UAAU,cAAe,CAACh4C,EAAO4kD,SACtC3zB,EAAM,IAGPrvB,KAAKwsE,iBAAiBn9C,GAGtBrvB,KAAKo2C,UAAU,QAAS,IACxBp2C,KAAKo2C,UAAU,UAAW,GAC3B,EACAv2C,EAAU2sE,iBAAmB,SAASpuE,GACrC4B,KAAK47C,UAAW,EAChB57C,KAAKknE,aAAA,EACL,IAAK,IAAI73C,EAAI,EAAGA,EAAIjxB,EAAII,OAAQ6wB,IAC1BrvB,KAAKo2C,UAAU,iBAAkB,CAACh4C,EAAIixB,MAC3CrvB,KAAK81C,SAAS13C,EAAIixB,IAEnBrvB,KAAKknE,aAAc,EACflnE,KAAKq4D,cAAcr4D,KAAKi4D,mBAE5Bj4D,KAAK47C,UAAA,EACD57C,KAAKysE,aAAazsE,KAAKysE,cAC3BzsE,KAAKysE,YAAc,IACpB,EACA5sE,EAAU6rE,YAAc,SAASttE,GAChCA,EAAM0hB,KAAQ1hB,EAAM0hB,MAAQ1hB,EAAMgmD,WAAc,GAChDhmD,EAAMimD,WAAaxkD,EAAU6sE,WAAWtuE,EAAMimD,YAC9CjmD,EAAMomD,SAAW3kD,EAAU6sE,WAAWtuE,EAAMomD,SAC7C,EAEA3kD,EAAU6sE,WAAa,SAAStuE,GAC/B,OAAIA,EAEe,iBAARA,EACHyB,EAAUykD,SAASC,UAAUnmD,GAEzB,IAAIqa,KAAKra,GAJb,IAKT,EAEA,MAAM6F,EAAsBmc,EAAmBvgB,GAC/CA,EAAUyhD,UAAY,WACrB,MAAMljD,EAAU,GACVixB,EAAYprB,IAClB,IAAK,IAAIrE,KAAKyvB,EAAU,CAEvB,MAAM8gB,EAAgB,CAAC,EACvB,IAAIgB,EAAK9hB,EAAUzvB,GAEnB,QAAQw1C,KAAOjE,EAAG,CACjB,GAAqB,KAAjBiE,EAAIjpC,OAAO,IAA8B,KAAjBipC,EAAIjpC,OAAO,GACtC,SAGD,IAAIgb,EACJ,MAAMD,EAAWiqB,EAAGiE,GAEnBjuB,EADEtnB,EAAU+lD,MAAM1O,OAAOhwB,GACXrnB,EAAUo3C,QAAQp3C,EAAUusD,UAAUiZ,YAAcxlE,EAAUusD,UAAUiZ,WAAWn+C,GAAYrnB,EAAUusD,UAAUC,YAAYnlC,GAE/HA,EAGfipB,EAAciF,GAAOjuB,CACrB,CAED/oB,EAAQmQ,KAAK4hC,EACb,CACD,OAAO/xC,CACR,EAmEAyB,EAAUyiD,MAAQ,SAASlkD,EAAMixB,GAChCrvB,KAAKusE,SAAWl9C,EAChBrvB,KAAKorE,QAAQ,CAACpoB,OAAQ,CAACb,aAAc/jD,IACtC,EACAyB,EAAU8sE,KAAO,SAASvuE,EAAKixB,GACX,iBAARA,IACVrvB,KAAKusE,SAAWl9C,EAChBA,EAAO9wB,UAAU,IAGlByB,KAAKkrE,UAAY9sE,EACjB4B,KAAKysE,YAAcp9C,EACnBrvB,KAAKo4D,MAAMh6D,EAAK4B,KAAK8xD,MACtB,EAEAjyD,EAAU+sE,YAAc,SAASxuE,GACpB,OAARA,IAAeA,EAAO,IAC1B4B,KAAKm4D,WAAa/5D,CACnB,EAEAyB,EAAUw7D,WAAa,SAASj9D,EAAMixB,GACrC,OAAIA,GACHrvB,KAAKq7D,WAAWj9D,GAAQixB,EAAMpuB,MAAM,GAC7BjB,KAAKq7D,WAAWj9D,KAExB4B,KAAKq7D,WAAWj9D,GAAS4B,KAAKq7D,WAAWj9D,IAAS,GAC3C4B,KAAKq7D,WAAWj9D,GACxB,EACAyB,EAAU8jD,UAAY,CAAC,EAEvB9jD,EAAUokD,eAAiB,SAAS7lD,GAEnC,IAAK,IADDixB,EAAI,CAAC,EACAzvB,EAAI,EAAGA,EAAIxB,EAAKqtE,WAAWjtE,OAAQoB,IAC3CyvB,EAAEjxB,EAAKqtE,WAAW7rE,GAAGyE,MAAQjG,EAAKqtE,WAAW7rE,GAAGmG,MAEjD,IAASnG,EAAI,EAAGA,EAAIxB,EAAKogD,WAAWhgD,OAAQoB,IAAK,CAChD,IAAIuxC,EAAQ/yC,EAAKogD,WAAW5+C,GACN,GAAlBuxC,EAAMroC,WACTumB,EAAE8hB,EAAMte,SAAWse,EAAM5oC,WAAa4oC,EAAM5oC,WAAWQ,UAAY,GACpE,CAID,OAFKsmB,EAAEvP,OAAMuP,EAAEvP,KAAO1hB,EAAKmK,WAAanK,EAAKmK,WAAWQ,UAAY,IAE7DsmB,CACR,EACAxvB,EAAU0hB,YAAY,SAAS,WAE7B,IAAInjB,GAD4B,IAA7B4B,KAAKqzC,OAAOw5B,gBAEfzuE,EAAI4B,KAAKqzC,OAAOw5B,aAAe3tE,SAASC,cAAc,QACpD+1C,UAAY,cACd92C,EAAE2N,MAAMmY,KAAO/R,KAAKgnC,OAAOn5C,KAAKowD,GAAK,KAAO,GAAK,KACjDhyD,EAAE2N,MAAMqY,IAAMjS,KAAKgnC,OAAOn5C,KAAK8sE,GAAK,IAAM,GAAK,KAC/C9sE,KAAKwuD,KAAK/lD,YAAYrK,GAExB,IACAyB,EAAU0hB,YAAY,SAAS,WAC9B,IAAInjB,EAAI4B,KAAKqzC,OAAOw5B,aAChBzuE,GAAiB,iBAALA,IACZA,EAAE0P,YACJ1P,EAAE0P,WAAWtF,YAAYpK,GAE1B4B,KAAKqzC,OAAOw5B,cAAe,EAE7B,GAGA,CfjOC9rD,CAAK9c,GmBrFS,SAAgBkjB,GAmW9B,SAASD,IACR,MAAMkqB,GAAA,IAAiBjqB,EAAUksB,OAAOkuB,IAClCjjE,IAA0BW,OAAamvD,QAAOnvD,OAAWovD,IAAKpvD,OAAaqvD,MAAM,qBAAsBpvD,SAASgH,KACtH,OAAIkrC,GAAkB9yC,EACd6oB,EAAU6mC,MAEV9uD,SAASgH,IAEjB,CAzWFihB,EAAU4lD,mBAAqB,CAAC,EAChC5lD,EAAU6lD,YAAc,SAAS57B,GAGhC,IAAK,IAFD9yC,EAAS0B,KAAKqzC,OAAO4nB,SAASC,SAC9B5zC,EAAI,EACAA,EAAIhpB,EAAOE,QACdF,EAAOgpB,GAAGjjB,MAAQ+sC,EADI9pB,KAM3B,GAAIA,IAAMhpB,EAAOE,OAEhB,OAAO,KAGR,IAAImB,EAAUrB,EAAOgpB,GAChBH,EAAUspC,WACdtpC,EAAU8lD,cAEX,IAAI79D,EAAS+X,EAAUspC,UAAUxb,cAAA,IAAA/uB,OAAkBvmB,EAAQ6W,KACvDxS,EAAOoL,EAAO6S,YAEdniB,EAAS,CACZ07D,QAAS77D,EACT+uD,OAAQt/C,EACR2S,KAAM/d,EACNyB,SAAS,SAAStH,GACjB,OAAOgpB,EAAU+lD,YAAYvtE,EAAQW,MAAM6sE,UAAUnpE,EAAO7F,GAAI,CAAC,EAAIwB,EACrE,EACD+F,SAAS,SAASvH,EAAOmxB,GACxB,OAAOnI,EAAU+lD,YAAYvtE,EAAQW,MAAM8sE,UAAUppE,EAAM7F,EAAQmxB,GAAI,CAAE,EAAG3vB,EAC5E,GAGEI,EAAUonB,EAAU4lD,mBAAmB,OAAOptE,EAAQW,KAAK,YAC/D,OAAOP,EAAQA,EAAQD,GAAQA,CAChC,EACAqnB,EAAU4lD,mBAAmBM,qBAAuB,SAASj8B,GAE5D,OADAA,EAAOk8B,QAAUl8B,EAAOrvB,KACjBqvB,CACR,EACAjqB,EAAU4lD,mBAAmBQ,mBAAqB,SAASn8B,GAE1D,OADAA,EAAOk8B,QAAUl8B,EAAOrvB,KAAKmvB,qBAAqB,UAAU,GACrDE,CACR,EACAjqB,EAAU4lD,mBAAmBS,qBAAuB,SAASp8B,GAE5D,OADAA,EAAOk8B,QAAUl8B,EAAOrvB,KAAKmvB,qBAAqB,YAAY,GACvDE,CACR,EACAjqB,EAAU4lD,mBAAmBU,iBAAmB,SAASr8B,GAExD,OADAA,EAAOk8B,QAAUl8B,EAAOrvB,KAAKmvB,qBAAqB,UAC3CE,CACR,EAEAjqB,EAAU4lD,mBAAmBW,SAAW,CACvCC,SAAU,CACTzwD,OAAO,IAER26B,SAAU,CACT36B,OAAQ,KAET06B,OAAQ,CACP16B,OAAQ,IAET6C,KAAM,CACL7C,OAAQ,KAKViK,EAAU+lD,YAAY,CACrBS,SAAS,CACRnpE,OAAQ,SAAS4sC,GAChB,MAAO,qDACP,EACDg8B,UAAU,SAASh8B,EAAK9yC,EAAMgpB,EAAG3nB,GAChCyxC,EAAKhpC,UAAY9J,GAAO,EACxB,EACD6uE,UAAU,SAAS/7B,EAAK9yC,EAAGgpB,GAC1B,OAAO8pB,EAAKhpC,WAAW,EACvB,EACDkc,MAAO,SAAS8sB,GACf,GAEFyG,SAAS,CACRrzC,OAAO,SAAS4sC,GAEf,MAAO,wCAAPlrB,OADoBkrB,EAAIw8B,YAAA,gBAAA1nD,OAA8BkrB,EAAIw8B,YAAA,KAAiB,GAE3E,uBACDR,UAAU,SAASh8B,EAAK9yC,EAAMgpB,GAC7BH,EAAU+lD,YAAYr1B,SAASg2B,WAAWz8B,GAAMrrC,MAAMzH,GAAO,EAC7D,EACD6uE,UAAU,SAAS/7B,EAAK9yC,GACvB,OAAO6oB,EAAU+lD,YAAYr1B,SAASg2B,WAAWz8B,GAAMrrC,KACvD,EACDue,MAAM,SAAS8sB,GACd,IAAI9yC,EAAI6oB,EAAU+lD,YAAYr1B,SAASg2B,WAAWz8B,GAClDjqB,EAAUs0C,OAAOn9D,GAAA,EACjB,EACDuvE,WAAY,SAASz8B,GACpB,OAAOA,EAAKF,qBAAqB,YAAY,EAC7C,GAEF0G,OAAO,CACNpzC,OAAO,SAAS4sC,GAGf,IAAK,IADD9yC,EAAK,yEACAgpB,EAAE,EAAGA,EAAI8pB,EAAIhqC,QAAQ5I,OAAQ8oB,IACrChpB,GAAM,kBAAkB8yC,EAAIhqC,QAAQkgB,GAAG/K,IAAI,KAAK60B,EAAIhqC,QAAQkgB,GAAGg3B,MAAM,YAEtE,OADAhgD,EAAM,iBAEN,EACD8uE,UAAU,SAASh8B,EAAK9yC,EAAMgpB,EAAG3nB,GAChC,IAAIyP,EAASgiC,EAAK7oC,YACb6G,EAAO0+D,eAAiBnuE,EAAIouE,WAChC5mD,EAAU9G,MAAMjR,EAAQ,SAAUzP,EAAIouE,UACtC3+D,EAAO0+D,eAAgB,YAEbxvE,IACVA,GAAS8Q,EAAOhI,QAAQ,IAAI,CAAE,GAAErB,OACjCqJ,EAAOrJ,MAAMzH,GAAO,EACpB,EACD6uE,UAAU,SAAS/7B,EAAK9yC,GACvB,OAAO8yC,EAAK7oC,WAAWxC,KACvB,EACDue,MAAM,SAAS8sB,GACd,IAAI9yC,EAAE8yC,EAAK7oC,WAAY4e,EAAUs0C,OAAOn9D,GAAA,EACxC,GAEFyhB,KAAK,CACJvb,OAAO,SAAS4sC,GACVA,EAAI48B,cAER58B,EAAI48B,YAAc,CAAC,QAAS,KAAM,KAAM,OAGzC58B,EAAI68B,mBAAqB,CAAC,EAC1B,IAAI3vE,EAAc8yC,EAAI48B,YAElB1mD,EAAMH,EAAUksB,OAChB1zC,EAAKwnB,EAAU9H,KAAK6sC,UAAU/kC,EAAUglC,gBACxC/8C,EAAO,KAAOpL,EAAQ,EACvBmjB,EAAUksB,OAAO66B,oBACnB9+D,EAAO,GAAGkY,EAAI0uC,UAAU,EACxBhyD,EAAQ,GAAGsjB,EAAIssC,WACfj0D,EAAGm0D,SAASxsC,EAAIssC,aAIjB,IAAK,IAFD9zD,EAAO,GAEFC,EAAI,EAAGA,EAAIzB,EAAYE,OAAQuB,IAAK,CAC5C,IAAI5B,EAAcG,EAAYyB,GAG1BA,EAAI,IACPD,GAAQ,KAET,IAAIwvB,EAAiB,GACjB/H,EAAU,GACd,OAAQppB,GACP,IAAK,KAIJ,IAAIE,EACA6F,EACAqmB,EALJ+E,EAAiB,2BACjB8hB,EAAI68B,mBAAmB,GAAKluE,EAKzBqxC,EAAI+8B,aACDhtE,MAAMiwC,EAAI+8B,YAEJ/8B,EAAI+8B,WAAW5/D,OAEzBrK,EAAaktC,EAAI+8B,WAAW,GAC5B5jD,EAAW6mB,EAAI+8B,WAAW,IAJ1B9vE,EAAQ+yC,EAAI+8B,YAQd9vE,EAAQA,GAAS,GACjB,IAAIkoB,EAASA,GAAUpU,KAAKk9B,MAAMhxC,EAAQ,GAC1C6F,EAAaA,GAAcvE,EAAG82C,cAAgBlwB,EAC9CgE,EAAWA,GAAYrmB,EAAa7F,EAEpC,IAAK,IAAIgpB,EAAInjB,EAAYmjB,EAAIkD,EAAUlD,IACtCE,GAAW,kBAAiBF,EAAS,KAAQA,EAAK,YACnD,MACD,IAAK,KAIJ,IAHAiI,EAAiB,4BACjB8hB,EAAI68B,mBAAmB,GAAKluE,EAEnBsnB,EAAE,EAAGA,EAAI,GAAIA,IACrBE,GAAS,kBAAkBF,EAAE,KAAKrnB,KAAK6c,OAAOwC,KAAK2mC,WAAW3+B,GAAG,YAClE,MACD,IAAK,KAIJ,IAHAiI,EAAiB,0BACjB8hB,EAAI68B,mBAAmB,GAAKluE,EAEnBsnB,EAAE,EAAGA,EAAI,GAAIA,IACrBE,GAAS,kBAAkBF,EAAE,KAAKA,EAAE,YACrC,MACD,IAAK,QACJiI,EAAiB,2BACjB8hB,EAAI68B,mBAAmB,GAAKluE,EAExBsnB,EAAIrjB,EAAR,IACIs7B,EAAQ3/B,EAAGg3C,UAGf,IAFAvF,EAAIg9B,aAAe,GAEb/mD,EAAEjY,GAEPmY,GAAS,kBAAkBF,EAAE,KADpBrnB,KAAKosD,UAAUqZ,YAAY9lE,GACG,YACvCyxC,EAAIg9B,aAAa7/D,KAAK8Y,GACtB1nB,EAAGo0D,QAAQp0D,EAAG0I,UAAgC,GAAtBrI,KAAKqzC,OAAOsgB,UAAa,KAEjDtsC,EAAO,IADK1nB,EAAGg3C,WAAWrX,EAAO,EAAE,GACzB,GAAiB,GAAd3/B,EAAGk0D,WAAcl0D,EAAGs2D,aAKpC,GAAG1uC,EAAQ,CAEV,IAAIqM,EAAYzM,EAAU02B,SAAS+gB,yBAAyBzgE,GAE5D2B,GAAQ,kBAAkBwvB,EAAe,MAD1B8hB,EAAI0hB,SAAW,sBAAwB,IACGl/B,EAAU,IAAIrM,EAAQ,YAC/E,CACD,CAGD,MAAO,iCAAiCznB,EAAK,iHAAiHA,EAAK,QACnK,EACDstE,UAAU,SAASh8B,EAAK9yC,EAAMgpB,EAAG3nB,GAChC,IAGIyP,EAAYpL,EAHZlE,EAAMqnB,EAAUksB,OAChBtzC,EAAEqxC,EAAKF,qBAAqB,UAC5B/yC,EAAMwB,EAAOsuE,mBAGjB,GAAGnuE,EAAIonD,SAAU,CAChB,IAAK9V,EAAKi9B,UAAU,CACnB,IAAI/+C,EAAO,mFAAmFnI,EAAUtK,OAAOqhC,OAAOgJ,SAAS,yBAC1H//B,EAAUksB,OAAOiwB,YACrBh0C,EAAO8hB,EAAKtnB,gBAAgB1hB,UAAUknB,GACvC8hB,EAAKtnB,gBAAgB1hB,UAAUknB,EAC/B8hB,EAAKi9B,WAAU,CACf,CACD,IAAI9mD,EAAM6pB,EAAKtnB,gBAAgBonB,qBAAqB,SAAS,GAC7D3pB,EAAMzhB,QAAqD,IAA1CqhB,EAAU9H,KAAKm3C,UAAUlvC,EAAG+8B,aAA2D,IAAxCl9B,EAAU9H,KAAKm3C,UAAUlvC,EAAGk9B,UAE5FzkD,EAAE5B,EAAI,IAAIoJ,SAASggB,EAAMzhB,QACzB/F,EAAG5B,EAAI,GAAK4B,EAAEvB,OAAO,GAAI+I,SAASggB,EAAMzhB,QAEpCyhB,EAAMusB,kBACTvsB,EAAMusB,iBAAkB,EAEvB3sB,EAAU9G,MAAMkH,EAAO,SAAS,WAChC,GAAGA,EAAMzhB,QAAS,CACjB,IAAIygB,EAAM,CAAC,EACXY,EAAU+lD,YAAYntD,KAAKotD,UAAU/7B,EAAK7qB,EAAI5mB,GAE9CyP,EAAa+X,EAAU9H,KAAK6sC,UAAU3lC,EAAI89B,eAC1CrgD,EAAWmjB,EAAU9H,KAAK6sC,UAAU3lC,EAAIi+B,aAEtBp1C,IAAgBpL,IAAaoL,IAA0C,IAA3BkY,EAAGk9B,SAASqP,YAAiD,IAA7BvsC,EAAGk9B,SAASyR,iBACzGjyD,EAAWmjB,EAAU9H,KAAKtgB,IAAIiF,EAAU,EAAG,OACnD,MACOoL,EAAa,KACbpL,EAAW,KAGZjE,EAAE5B,EAAI,IAAIoJ,SAASggB,EAAMzhB,QACzB/F,EAAG5B,EAAI,GAAK4B,EAAEvB,OAAO,GAAI+I,SAASggB,EAAMzhB,QAExCykB,EAAsBxqB,EAAE,EAAEqP,GAAYkY,EAAG+8B,YACzC95B,EAAsBxqB,EAAE,EAAEiE,GAAUsjB,EAAGk9B,SAC7C,IAEI,CAED,GAAG1kD,EAAIwuE,eAAiBxuE,EAAI4zD,eAW3B,QAVIr1D,EAA0B,WAEvByB,EAAIwuE,eAAiBxuE,EAAI4zD,iBAI/BtkD,EAAa,IAAIqJ,KAAK1Y,EAAE5B,EAAI,IAAI4H,MAAMhG,EAAE5B,EAAI,IAAI4H,MAAMhG,EAAE5B,EAAI,IAAI4H,MAAM,EAAEhG,EAAE5B,EAAI,IAAI4H,OAClF/B,EAAW,IAAIyU,KAAKrJ,EAAW4hD,UAA+C,GAAlC7pC,EAAUksB,OAAOqgB,eAAsB,KACnFnpC,EAAsBxqB,EAAG,EAAGiE,GACjC,EACYE,EAAE,EAAGA,EAAE,EAAGA,IACbnE,EAAEmE,GAAG4vC,kBACR/zC,EAAEmE,GAAG4vC,iBAAkB,EACvB3sB,EAAU9G,MAAMtgB,EAAEmE,GAAI,SAAU7F,IAKnC,SAASksB,EAAsBhE,EAAEc,EAAEiY,GAKlC,IAAK,IAJD1L,EAAcj0B,EAAOyuE,aACrBz6C,EAA4B,GAAb2L,EAAEu0B,WAAcv0B,EAAE22B,aACjC/yD,EAAcywB,EACdlgB,GAAc,EACTysB,EAAE,EAAGA,EAAEtM,EAAYp1B,OAAQ0hC,IAAK,CACxC,IAAIrM,EAAMD,EAAYsM,GACtB,GAAIrM,IAAQF,EAAc,CACzBlgB,GAAA,EACA,KACA,CACGogB,EAAMF,IACTzwB,EAAc2wB,EACf,CAEDtN,EAAEc,EAAElpB,EAAI,IAAI4H,MAAM0N,EAAckgB,EAAazwB,EACxCuQ,GAAevQ,IACnBqjB,EAAEc,EAAElpB,EAAI,IAAIowE,eAAiB,GAE9BhoD,EAAEc,EAAElpB,EAAI,IAAI4H,MAAMu5B,EAAEqX,UACpBpwB,EAAEc,EAAElpB,EAAI,IAAI4H,MAAMu5B,EAAEoX,WACpBnwB,EAAEc,EAAElpB,EAAI,IAAI4H,MAAMu5B,EAAEmX,aACpB,CAEDlsB,EAAsBxqB,EAAE,EAAEunB,EAAG+8B,YAC7B95B,EAAsBxqB,EAAE,EAAEunB,EAAGk9B,SAC7B,EACD2oB,UAAU,SAAS/7B,EAAM9yC,EAAIgpB,GAC5B,IAAI3nB,EAAIyxC,EAAKF,qBAAqB,UAC9B9hC,EAAMkY,EAAO2mD,mBAKjB,GAHA3vE,EAAG+lD,WAAW,IAAI5rC,KAAK9Y,EAAEyP,EAAI,IAAIrJ,MAAMpG,EAAEyP,EAAI,IAAIrJ,MAAMpG,EAAEyP,EAAI,IAAIrJ,MAAM,EAAEpG,EAAEyP,EAAI,IAAIrJ,OACnFzH,EAAGkmD,SAAS,IAAI/rC,KAAK9Y,EAAEyP,EAAI,GAAG,GAAGrJ,MAAMpG,EAAEyP,EAAI,GAAG,GAAGrJ,MAAMpG,EAAEyP,EAAI,GAAG,GAAGrJ,MAAM,EAAEpG,EAAEyP,EAAI,GAAG,GAAGrJ,QAEpFpG,EAAEyP,EAAI,IAAIrJ,QAASpG,EAAEyP,EAAI,GAAG,GAAGrJ,MAAO,CAE1C,IAAI/B,EAAWmjB,EAAUk1B,SAASl1B,EAAUmrC,cACzCtuD,IACF1F,EAAG+lD,WAAargD,EAASqgD,WACzB/lD,EAAGkmD,SAAWxgD,EAASwgD,SAExB,CAID,OAFIlmD,EAAGkmD,UAAUlmD,EAAG+lD,aACnB/lD,EAAGkmD,SAASr9B,EAAU9H,KAAKtgB,IAAIT,EAAG+lD,WAAWl9B,EAAUksB,OAAOsgB,UAAU,WAClE,CACNtP,WAAY,IAAI5rC,KAAKna,EAAG+lD,YACxBG,SAAU,IAAI/rC,KAAKna,EAAGkmD,UAEvB,EACDlgC,MAAM,SAAS8sB,GACdjqB,EAAUs0C,OAAOrqB,EAAKF,qBAAqB,UAAU,GACrD,IAiBH/pB,EAAUupC,eAAiB,SAAStf,GAC/BA,IAIJA,EAAIrlC,MAAMqY,IAAMjS,KAAK0+C,IAAI3pC,IAAkBwwB,aAAe,EAAItG,EAAIsG,aAAa,EAAG,GAAK,KACvFtG,EAAIrlC,MAAMmY,KAAO/R,KAAK0+C,IAAI3pC,IAAkBkzB,YAAc,EAAIhJ,EAAIgJ,YAAY,EAAG,GAAK,KAEvF,EAEAjzB,EAAUqnD,UAAU,SAASp9B,GACxBA,IACHA,EAAIrlC,MAAMw2B,QAAQ,QAElBviC,KAAK0wD,eAAetf,IAElBjqB,EAAUksB,OAAOuwB,sBACnB1kE,SAAS4jB,gBAAgBowB,UAAUn0C,IAAI,8BACvCmoB,IAAkBgsB,UAAUn0C,IAAI,+BAEjCiB,KAAKyuE,aACLzuE,KAAK0uE,OAAO3iE,MAAMw2B,QAAU,EAC7B,EACApb,EAAUosC,aAAa,SAASniB,GAC/B,GAAKA,EACL,GAAKpxC,KAAKo2C,UAAU,mBAAmB,CAAChF,IAAxC,CAKApxC,KAAKwuE,UAAUlwE,GACf,IAAIA,EAAM0B,KAAKitE,cACfjtE,KAAK0wD,eAAepyD,GACpB0B,KAAK2uE,eAAev9B,EAAG9yC,GACvB0B,KAAK69C,SAASmgB,oBAAoB1/D,GAElC0B,KAAKo2C,UAAU,aAAa,CAAChF,GAP5B,MAHIpxC,KAAK+7C,aACR/7C,KAAK+7C,WAAa,KAUrB,EACA50B,EAAUwnD,eAAiB,SAASv9B,EAAI9yC,GACvC,IAAIgpB,EAAKtnB,KAAKq8C,SAASjL,GACnBzxC,EAAIrB,EAAI4yC,qBAAqB,QAC7B9hC,EAAiB,GAErB,GAAI+X,EAAUilC,UAAUwiB,gBAAiB,CACxCx/D,EAAeb,KAAK,IACpB,IAAIvK,EAAgBmjB,EAAUilC,UAAUwiB,gBAAgBtnD,EAAG+8B,WAAY/8B,EAAGk9B,SAAUl9B,GACpFlY,EAAeb,KAAKvK,GACpBrE,EAAE,GAAGyI,UAAY,GACjBzI,EAAE,GAAGyI,UAAYpE,CACnB,KAAQ,CACN,IAAIlE,EAAaE,KAAKosD,UAAUwZ,aAAat+C,EAAG+8B,WAAY/8B,EAAGk9B,SAAUl9B,GACrEvnB,GAAeC,KAAKosD,UAAU2Z,eAAez+C,EAAG+8B,WAAY/8B,EAAGk9B,SAAUl9B,IAAO,IAAIglD,OAAO,EAAG,IAElGl9D,EAAeb,KAAKzO,GACpBsP,EAAeb,KAAKxO,GACpBJ,EAAE,GAAGyI,UAAYtI,EACjBH,EAAE,GAAGyI,UAAYrI,CACjB,CAEDC,KAAK69C,SAAS8gB,eAAergE,EAAM8Q,EAAeqf,KAAK,MAGvD,IAAK,IADDtwB,EAAM6B,KAAKqzC,OAAO4nB,SAASC,SACtB5rC,EAAI,EAAGA,EAAInxB,EAAIK,OAAQ8wB,IAAK,CACpC,IAAI/H,EAAcppB,EAAImxB,GAClBjxB,EAAO8oB,EAAU0nD,2BAA2BtnD,GAC5CrjB,EAAQlE,KAAKktE,YAAY3lD,EAAYjnB,MACrCiqB,OAAA,IAASjD,EAAGC,EAAY4zC,QAAyB7zC,EAAGC,EAAY4zC,QAAU5zC,EAAYunD,cAC1F5qE,EAAMkpE,UAAU/rE,KAAKrB,KAAM3B,EAAMksB,EAAOjD,EAAIC,GACxCppB,EAAImxB,GAAGhL,OACVpgB,EAAMogB,MAAMjjB,KAAKrB,KAAM3B,EACxB,CAED8oB,EAAUmrC,aAAelhB,CAC1B,EAEAjqB,EAAU0nD,2BAA6B,SAASz9B,GAC/C,OAAOjqB,EAAUspC,UAAUxb,cAAA,IAAA/uB,OAAkBkrB,EAAQ56B,KAAMyL,WAC5D,EAEAkF,EAAU4nD,cAAc,SAAS39B,GAEhC,IAAK,IADD9yC,EAAM0B,KAAKqzC,OAAO4nB,SAASC,SACtB5zC,EAAE,EAAGA,EAAIhpB,EAAIE,OAAQ8oB,IAAK,CAClC,IAAI3nB,EAAOwnB,EAAUspC,UAAUxb,cAAA,IAAA/uB,OAAkB5nB,EAAIgpB,GAAG9Q,KACxD7W,EAAMA,GAAKA,EAAKsiB,YAChB,IACI7S,EADMpP,KAAKktE,YAAY5uE,EAAIgpB,GAAGhnB,MACpB6sE,UAAU9rE,KAAKrB,KAAKL,EAAKyxC,EAAI9yC,EAAIgpB,IAC5B,QAAfhpB,EAAIgpB,GAAG6zC,SACV/pB,EAAG9yC,EAAIgpB,GAAG6zC,QAAQ/rD,EACnB,CACD,OAAOgiC,CACR,EACAjqB,EAAU6nD,gBAAgB,SAAS59B,GAClC,IAAI9yC,EAAG6oB,EAAUmrC,aACbhrC,EAAGtnB,KAAKq8C,SAAS/9C,GAGrB0B,KAAKg4D,WAAW1wC,EAAI8pB,GAEpBpxC,KAAK2mE,SAASr/C,EAAG9Q,GAAG8Q,GACpBtnB,KAAKsqE,iBAAiBhjD,GAAG,GACzBtnB,KAAKi4D,kBACN,EACA9wC,EAAU8nD,cAAc,SAAS79B,GAChCjqB,EAAU+nD,aAAY,EAAOlvE,KAAKitE,cACnC,EAEA9lD,EAAUo0C,UAAU,SAASnqB,GACxBA,IAAKA,EAAIrlC,MAAMw2B,QAAQ,QAC3BviC,KAAKmvE,aACFhoD,EAAUksB,OAAOuwB,sBACnB1kE,SAAS4jB,gBAAgBowB,UAAUoG,OAAO,8BAC1CpyB,IAAkBgsB,UAAUoG,OAAO,8BAErC,EACAnyB,EAAUgoD,WAAW,WAChBnvE,KAAK0uE,QACR1uE,KAAK0uE,OAAO5gE,WAAWtF,YAAYxI,KAAK0uE,QACzC1uE,KAAK0uE,OAAO,IACb,EAEAvnD,EAAUsnD,WAAW,WACjBzuE,KAAK0uE,SAIR1uE,KAAK0uE,OAAOxvE,SAASC,cAAc,OACnCa,KAAK0uE,OAAOx5B,UAAU,gBACtBl1C,KAAK0uE,OAAO3iE,MAAMw2B,QAAU,OAE5Bpb,EAAU9G,MAAMrgB,KAAK0uE,OAAQ,YAAavnD,EAAUioD,iBACpDjoD,EAAU9G,MAAMrgB,KAAK0uE,OAAQ,UAAWvnD,EAAUkoD,aAElDnoD,IAAkBze,YAAYzI,KAAK0uE,QACpC,EACAvnD,EAAUmoD,cAAc,WACvB,IAAIl+B,EAAOpxC,KAAK+uE,cAAc,CAAE,EAAE/uE,KAAKg4D,WAAWh4D,KAAKq8C,SAASr8C,KAAKsyD,gBACjEtyD,KAAKs2C,WAAW,iBAAmBt2C,KAAKo2C,UAAU,cAAc,CAACp2C,KAAKsyD,aAAclhB,EAAMpxC,KAAK+7C,eAEnG/7C,KAAKgvE,gBAAgB59B,GACrBpxC,KAAKivE,gBACN,EACA9nD,EAAUooD,cAAgB,SAASn+B,EAAI9yC,GACtC0B,KAAKsyD,aAAelhB,EACpBpxC,KAAKwvE,kBAAA,EAELxvE,KAAKyvE,eAAiBzvE,KAAKywD,UAC3BzwD,KAAKywD,UAAYnyD,EACjB0B,KAAKwuE,UAAUlwE,EAChB,EACA6oB,EAAU+nD,YAAc,SAAS99B,EAAM9yC,GAClCA,EAAMA,GAAO6oB,EAAU8lD,cAA3B,IAEI3lD,EAAQH,EAAUk1B,SAASr8C,KAAKsyD,cACjChrC,GACFtnB,KAAKsqE,iBAAiBhjD,EAAO8pB,GAC1BA,GACHjqB,EAAU8wC,mBACXj4D,KAAKu7D,UAAUj9D,GAEX0B,KAAKwvE,mBACRxvE,KAAKywD,UAAYzwD,KAAKyvE,eACtBzvE,KAAKwvE,kBAAA,GAENxvE,KAAKyvE,eAAiBzvE,KAAKsyD,aAAe,KAC1CtyD,KAAK69C,SAASkgB,mBAAmBz/D,GACjC0B,KAAKs7D,gBACLt7D,KAAKo2C,UAAU,kBAAkB,GAClC,EACAjvB,EAAUm0C,cAAgB,WACrBn0C,EAAUspC,YAActpC,EAAUqoD,kBACrCroD,EAAUspC,UAAU3iD,WAAWtF,YAAY2e,EAAUspC,WACtDtpC,EAAUspC,UAAY,IACvB,EACAtpC,EAAUuoD,gBAAgB,WACtB1vE,KAAKsyD,cACPtyD,KAAKo2C,UAAU,gBAAgB,CAACp2C,KAAKsyD,eAAgBtyD,KAAK+7C,aAG3D/7C,KAAKivE,eACN,EACA9nD,EAAUwoD,aAAexoD,EAAUuoD,gBAEnCvoD,EAAUyoD,sBAAsB,WAC/B,GAAG5vE,KAAKitE,cAAcn5B,gBACrB,OAED,MAAM1C,EAAWpxC,KAAKitE,cACtB77B,EAAS0C,iBAAkB,EAE3B3sB,EAAU9G,MAAM+wB,EAAU,SAAS,SAAS9yC,GAExCA,EAAEqP,OAAOyrC,QAAQ,8BACnBjyB,EAAUuoD,kBAGX,MAAMpoD,EAAeH,EAAUytC,YAAYxb,QAAQ96C,EAAEqP,OAAQ,gBAC7D,IAAI2Z,EAAc,CACjB,MAAMtjB,EAAgBmjB,EAAUytC,YAAYxb,QAAQ96C,EAAEqP,OAAQ,0CAC9D,GAAG3J,EAAc,CAChB,MAAMlE,EAAQi3C,OAAO/yC,EAAcqtC,aAAa,uBAClClqB,EAAU+lD,YAAY/lD,EAAUksB,OAAO4nB,SAASC,SAASp7D,GAAOQ,MACxEuvE,aAAa1oD,EAAUytC,YAAYxb,QAAQp1C,EAAe,qBAAsBA,EAAe1F,EACrG,CACD,MACA,CAED,MAAMqB,EAAS2nB,EAAeA,EAAa+pB,aAAa,eAAiB,KAEzE,OAAO1xC,GACN,IAAK,eACL,IAAK,OACJ,GAAGwnB,EAAUksB,OAAOy8B,gBACnB,OAED3oD,EAAUmoD,gBACV,MACD,IAAK,iBACL,IAAK,SACJ,GAAGnoD,EAAUksB,OAAOy8B,gBACnB,OAED,IAAI1gE,EAAE+X,EAAUtK,OAAOqhC,OAAO6I,iBAE9B5/B,EAAUgsC,gBAAgB,CAACx4B,QAASvrB,EAAG4uC,MAAO72B,EAAUtK,OAAOqhC,OAAOkV,uBAAwBrhC,SAAU,WACvG5K,EAAUq1B,YAAYr1B,EAAUmrC,cAChCnrC,EAAU40B,WAAa,KACvB50B,EAAU8nD,eACV,EACD57B,OAAQ,CAAClQ,GAAIhc,EAAUtK,OAAOqhC,OAAO2I,eAErC,MACD,IAAK,iBACL,IAAK,SACJ1/B,EAAUuoD,kBACV,MAED,QACCvoD,EAAUivB,UAAU,mBAAoB,CAACz2C,EAAQ2nB,EAAchpB,IAEnE,IACC6oB,EAAU9G,MAAM+wB,EAAU,WAAW,SAAS9yC,GAC7C,IAAIgpB,EAAQhpB,GAAKW,OAAOohB,MACpB1gB,EAASrB,EAAEqP,QAAUrP,EAAEsP,WACvBwB,EAAezP,EAAOs1C,cAAc,gBAMxC,OAJI7lC,IACHA,EAAezP,EAAOmO,WAAWmnC,cAAc,uCAGxC32C,GAAGgpB,GAAOrQ,SACjB,KAAK,GACJ,IAAK3Y,GAAGgpB,GAAO7N,SAAU,OACtBrK,GAAgBA,EAAaykC,OAC/BzkC,EAAaykC,QAEd,MAED,KAAK1sB,EAAUjb,KAAKgkD,UACnB,IAAK5xD,GAAGgpB,GAAO7N,SAAU,OACzB,GAAGrK,GAAgBA,EAAaykC,MAC/BzkC,EAAaykC,YACT,CACJ,GAAG1sB,EAAUksB,OAAOy8B,gBACnB,OAED3oD,EAAUmoD,eACV,CACD,MACD,KAAKnoD,EAAUjb,KAAKikD,YACnBhpC,EAAUuoD,kBAMd,GACA,EACAvoD,EAAU4oD,gBAAgB,WAW1B,EAEA5oD,EAAU6oD,iBAAmB,WAC5B7oD,EAAU9G,MAAM6G,IAAmB,YAAaC,EAAUioD,iBAC1DjoD,EAAU9G,MAAM6G,IAAmB,UAAWC,EAAUkoD,aACxDloD,EAAU6oD,iBAAmB,YAC9B,EACA7oD,EAAUioD,gBAAkB,SAASh+B,GACpC,GAAIjqB,EAAU8oD,cAAc,CACtB/wE,SAASgxE,mBACbhpD,IAAkBgsB,UAAUn0C,IAAI,oBAChCG,SAASgxE,kBAAmB,GAE7B,IAAI5xE,EAAK6oB,EAAU8lD,cACf3lD,EAAM,CAAC8pB,EAAE93B,MAAO83B,EAAE73B,OACtBjb,EAAGyN,MAAMqY,IAAM+C,EAAUgpD,UAAU,GAAG7oD,EAAI,GAAGH,EAAU8oD,cAAc,GAAG,KACxE3xE,EAAGyN,MAAMmY,KAAOiD,EAAUgpD,UAAU,GAAG7oD,EAAI,GAAGH,EAAU8oD,cAAc,GAAG,IACzE,CACF,EACA9oD,EAAUipD,cAAgB,SAASh/B,GAClC,IAAI9yC,EAAK6oB,EAAU8lD,cACnB9lD,EAAUgpD,UAAY,CAAC7xE,EAAGo6C,WAAYp6C,EAAGm6C,WACzCtxB,EAAU8oD,cAAgB,CAAC7+B,EAAE93B,MAAO83B,EAAE73B,MACvC,EACA4N,EAAUkoD,YAAc,WACnBloD,EAAUgpD,YACbhpD,EAAUgpD,UAAYhpD,EAAU8oD,eAAgB,EAChD/oD,IAAkBgsB,UAAUoG,OAAO,oBACnCp6C,SAASgxE,kBAAA,EAEX,EACA/oD,EAAU8lD,YAAY,WACrB,IAAKjtE,KAAKywD,UAAU,CACnB,IAAIrf,EAAElyC,SAASC,cAAc,OAC7BiyC,EAAE8D,UAAU,gBACR/tB,EAAUksB,OAAOiwB,YACpBlyB,EAAE8D,WAAW,uBACV/tB,EAAU+lD,YAAYmD,YACzBj/B,EAAE8D,WAAW,sBACV/tB,EAAUksB,OAAO0b,MACpB3d,EAAE8D,WAAW,sBACV/tB,EAAUksB,OAAOuwB,sBACpBxyB,EAAE8D,WAAa,6BAEhB9D,EAAErlC,MAAMyrC,WAAW,SACnB,IAAIl5C,EAAO0B,KAAKswE,mBAEZhpD,EAAUtnB,KAAKqzC,OAAOuxB,aAG1BtmE,GAAQ,kCAER,IAAK,IAAIqB,EAAI,EAAGA,EAAI2nB,EAAQ9oB,OAAQmB,IAEnCrB,GAAQ,QADG0B,KAAK69C,SAAS4gB,yBAAyBn3C,EAAQ3nB,IACjC,iBAAkB2nB,EAAQ3nB,GAAG,6BAA6BwnB,EAAUksB,OAAO0b,IAAI,QAAQ,QAAQ,YAAcznC,EAAQ3nB,GAAK,mCAAqC2nB,EAAQ3nB,GAAK,gBAAkBwnB,EAAUtK,OAAOqhC,OAAO52B,EAAQ3nB,IAAM,eAG9P2nB,EAAUtnB,KAAKqzC,OAAOwxB,cACtB,IAAIz1D,EAAM+X,EAAUksB,OAAO0b,IAC3B,IAASpvD,EAAI,EAAGA,EAAI2nB,EAAQ9oB,OAAQmB,IAGnCrB,GAAQ,mDAERA,GAAQ,QAJG0B,KAAK69C,SAAS4gB,yBAAyBn3C,EAAQ3nB,IAIjC,iBAAkB2nB,EAAQ3nB,GAAG,6BAA6ByP,EAAI,OAAO,SAAS,YACpGkY,EAAQ3nB,GAAK,mCACb2nB,EAAQ3nB,GAAK,gBAAkBwnB,EAAUtK,OAAOqhC,OAAO52B,EAAQ3nB,IAAM,eAEzErB,GAAQ,SACRA,GAAM,SACN8yC,EAAEhpC,UAAU9J,EACR6oB,EAAUksB,OAAO6wB,gBACpB/8C,EAAU9G,MAAM+wB,EAAE7oC,WAAY,YAAa4e,EAAUipD,eACrDjpD,EAAU9G,MAAM+wB,EAAE7oC,WAAY,eAAe,SAASlK,GAErD,OADAA,EAAEwZ,kBAAA,CAEN,IACGu5B,EAAE7oC,WAAWwD,MAAM8qD,OAAS,OAC5B1vC,EAAU6oD,oBAIXhwE,KAAK69C,SAAS2gB,aAAaptB,GAE3BpxC,KAAKyuE,aACLzuE,KAAK0uE,OAAOptC,aAAa8P,EAAEpxC,KAAK0uE,OAAOnmE,YAEvCvI,KAAKywD,UAAUrf,EAEf,IAAIptC,EAAIhE,KAAKqzC,OAAO4nB,SAASC,SAE7B,IADA58D,EAAK,GACIqB,EAAE,EAAGA,EAAIqE,EAAIxF,OAAQmB,IAAK,CAClC,IAAIG,EAAME,KAAKktE,YAAYlpE,EAAIrE,GAAGW,MAClC,GAAKR,EAAL,CACAkE,EAAIrE,GAAG6W,GAAG,QAAQxW,KAAK42C,MACvB,IAAI72C,EAAS,GACTiE,EAAIrE,GAAGma,SAEV/Z,EAAS,QADMonB,EAAU02B,SAASogB,gCAAgCj+D,KAAK6c,OAAOqhC,OAAO,UAAUl6C,EAAIrE,GAAGma,SAC5E,kDAAkDna,EAAE,YAAYA,EAAE,mCAAmCqE,EAAIrE,GAAGma,OAAO,gBAAgB9Z,KAAK6c,OAAOqhC,OAAO,UAAUl6C,EAAIrE,GAAGma,QAAQ,gBAGtM9Z,KAAKqzC,OAAOiwB,YACfhlE,GAAM,kCAGP,IAAIH,EAAa6B,KAAK6c,OAAOqhC,OAAO,WAAWl6C,EAAIrE,GAAG0E,MAC7B,iBAAflG,IACTA,EAAa6F,EAAIrE,GAAG0E,MAErB/F,GAAM,YAAY0F,EAAIrE,GAAG6W,GAAG,8BAA8BzW,EAAQ,UAAU5B,EAAW,iBAAiB2B,EAAM0E,OAAOnD,KAAKrB,KAAKgE,EAAIrE,IACnIrB,GAAM,QAjBe,CAkBrB,CAED,IAAIgxB,EAAG8hB,EAAEF,qBAAqB,OAC9B,IAASvxC,EAAE,EAAGA,EAAE2vB,EAAG9wB,OAAQmB,IAAK,CAC/B,IAAI4nB,EAAO+H,EAAG3vB,GAEd,GAAiB,iBADDwnB,EAAU2pC,cAAcvpC,GACN,CACjCA,EAAKnf,UAAY9J,EACjB,KACA,CACD,CAGD6oB,EAAUopD,oBAAoBvsE,GAG9BhE,KAAK+vE,kBAEL/vE,KAAK4vE,sBAAsB5vE,MAE3BoxC,EAAErlC,MAAMyrC,WAAW,SACnB,CAGD,OAAOx3C,KAAKywD,SACb,EAEAtpC,EAAUopD,oBAAsB,SAASn/B,GAIxC,QAAQ9yC,EAAI,EAAGA,EAAI8yC,EAAS5yC,OAAQF,IAAI,CACvC,IAAIgpB,EAAU8pB,EAAS9yC,GACvB,GAAIgpB,EAAQ9Q,IAAO2Q,EAAUspC,UAAUxb,cAAA,IAAA/uB,OAAkBoB,EAAQ9Q,KAAjE,CAOA,QAHI7W,EADawnB,EAAUspC,UAAUxb,cAAA,IAAA/uB,OAAkBoB,EAAQ9Q,KACxCy+B,cAAc,SAEjC7lC,EAAa+X,EAAU0nD,2BAA2BvnD,GAChDlY,IAAeA,EAAW6lC,eAC/B7lC,EAAaA,EAAW6S,YAGzB,IAAIje,GAAA,EAEJ,GAAGoL,EAAY,CACd,IAAItP,EAAQsP,EAAW6lC,cAAc,2BAClCn1C,IACFwnB,EAAQkpD,QAAU1wE,EAAM0W,IAAM,SAAW2Q,EAAUyvB,MAC/C92C,EAAM0W,KACT1W,EAAM0W,GAAK8Q,EAAQkpD,SACpB7wE,EAAM8B,aAAa,MAAO6lB,EAAQkpD,SAClCxsE,GAAW,EAEZ,CAGEA,GACYmjB,EAAU+lD,YAAY5lD,EAAQhnB,MACjCgkB,OACV6C,EAAU9G,MAAM1gB,EAAO,QAAS,SAAUI,GACzC,OAAO,WAEN,IAAI5B,EAAQgpB,EAAU+lD,YAAYntE,EAAQO,MACtCgvB,EAAOnI,EAAU0nD,2BAA2B9uE,GAE7C5B,GAASA,EAAMmmB,OACjBnmB,EAAMmmB,MAAMjjB,KAAK8lB,EAAWmI,EACnC,CACK,CAT+B,CAS7BhI,GApCK,CAuCV,CACF,EAEAH,EAAU5F,YAAY,mBAAmB,SAAS6vB,EAAQ9yC,GACtD0B,KAAKsyD,cAAgBlhB,IACvBpxC,KAAKsyD,aAAeh0D,EACtB,IAEA6oB,EAAUmpD,mBAAA,oUAOV,CAp1Be,CnBsFLrsE,GoBtFK,SAAgBpE,GAG/BA,EAAUsvD,mBAAqB,WAa9B,IAZanvD,KAAKqzC,OAAO+wB,SAAA,GACpB11B,UAAUoK,UAAU9sC,QAAQ,YACQ,GAAtC0iC,UAAUoK,UAAU9sC,QAAQ,aAC5B0iC,UAAUoK,UAAU9sC,QAAQ,aACW,GAAvC0iC,UAAUoK,UAAU9sC,QAAQ,YAAmB/M,OAAOwxE,UAC9B,aAAvB/hC,UAAUgiC,UAA2BhiC,UAAUiiC,eAAiB,KAGnE3wE,KAAKq1C,GAAGoa,aAAe,EACvBzvD,KAAK23D,SAAA,GAGH33D,KAAKqzC,OAAO+wB,MAAM,CAEpB,IAAIngE,GAAuB,EAC3B,IACC/E,SAAS0xE,YAAY,aACrB,OACA3sE,GAAA,CACA,CAEGA,EACHjE,KAAK6wE,cAAc,CAAC,YAAa,aAAc,aAAa,SAAUzyE,GACrE,OAAIA,EAAGuf,SAAWvf,EAAGuf,QAAQnf,OAAS,EAAU,KAC5CJ,EAAGuf,QAAQ,GACP,CACNhQ,OAAQvP,EAAGuP,OACX2L,MAAOlb,EAAGuf,QAAQ,GAAGrE,MACrBC,MAAOnb,EAAGuf,QAAQ,GAAGpE,MACrBH,QAAShb,EAAGuf,QAAQ,GAAGvE,QACvBC,QAASjb,EAAGuf,QAAQ,GAAGtE,SAGjBjb,CACZ,IAAM,WACF,OAAO,CACX,IACaa,OAAO6xE,cAAgB7xE,OAAOyvC,UAAUqiC,eAClD/wE,KAAK6wE,cAAc,CAAC,cAAe,cAAe,cAAc,SAAUzyE,GACzE,MAAsB,SAAlBA,EAAGof,YAA+B,KAC/Bpf,CACP,IAAE,SAAUA,GACZ,OAASA,GAAyB,SAAlBA,EAAGof,WACvB,IACave,OAAOyvC,UAAUsiC,kBAC3BhxE,KAAK6wE,cAAc,CAAC,gBAAiB,gBAAiB,gBAAgB,SAAUzyE,GAC/E,OAAIA,EAAGof,aAAepf,EAAG6yE,qBAA6B,KAC/C7yE,CACP,IAAE,SAAUA,GACZ,OAASA,GAAMA,EAAGof,aAAepf,EAAG6yE,oBACxC,GAEE,CACF,EAEApxE,EAAUgxE,cAAgB,SAAS5sE,EAAO7F,EAAUixB,GAGnD,IAAIzvB,EAAQuxC,EAASiE,EAAOjF,EAAWhpB,EAAaD,EAChDkqB,EAAe,EAEnB,SAAS9yC,EAAiBqB,EAASyP,EAAMpL,GAExCnE,EAAUwgB,MAAM1gB,EAASyP,GAAM,SAAStP,GACvC,QAAGD,EAAUi8D,sBAGRzsC,EAAOvvB,QAAX,EACOkE,EAASlE,GAEpB,GAAK,CAAEmnB,SAAS,GACd,CAqND,SAASK,EAAY3nB,GAChB0vB,EAAO1vB,KACXE,EAAUqxE,mBACN/gC,IACHtwC,EAAUyxD,aAAclzD,EAASuB,IACjCE,EAAUqxD,mBAAoB,GAE/BrxD,EAAU6yD,SAAW,KACrB7yD,EAAU+yD,WAAW,KACrB/yD,EAAU21D,UAAU,KACpB31D,EAAUsxE,eAAiB,KAC3BjoD,aAAaksB,GACbjF,EAAYjpB,GAAA,EACZC,GAAA,EACA,CAvJD7oB,EAAiBY,SAASgH,KAAMjC,EAAM,IAAI,SAAStE,GAClD,IAAI0vB,EAAO1vB,GAAX,CAEA,IAAIyP,EAAMhR,EAASuB,GACnB,GAAIyP,EAAJ,CACA,GAAI+gC,EAOH,OArDF,SAAqBnsC,GACpB,IAAIqrB,EAAOrrB,GAAX,CACA,IAAIlE,EAAMD,EAAUs0C,WAAWwe,UAC9B5yD,IAAWF,EAAU8uD,QAAS9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAEtD1zD,EAAkB0B,EAAUo4D,iBACtB,UAAPn4D,GAAmBC,IAErBF,EAAUo4D,iBAAmB,WAM5B,QALI3oC,EAAKzvB,EAAUs0C,WAAWse,QAC1BlrC,EAAK1nB,EAAUw8C,SAAS/sB,GACxBjxB,EAAW0B,EAAS67D,WAEpB13D,EAAMrE,EAAU+nE,UAAUrgD,EAAG88B,WAAY98B,EAAGi9B,UACxCj6B,EAAI,EAAGA,EAAIrmB,EAAI1F,OAAQ+rB,IAC3BrmB,EAAIqmB,GAAGlsB,IAAakpB,EAAGlpB,KACzB6F,EAAIokC,OAAO/d,EAAG,GACdA,KAGFhD,EAAG2gD,QAAUhkE,EAAI1F,OAAS,EAC1B+oB,EAAG0hD,OAAS/kE,EAAI1F,OAEhBwB,KAAKsnE,YAAY,CAAC//C,GAAK1nB,EAAUs0C,WAAWzmB,KAEhD,GAGE7tB,EAAUsxD,eAAentD,GAEf,UAAPlE,GAAmBC,IACrBF,EAAUo4D,iBAAmB95D,GAG1B6F,EAAE6T,gBACL7T,EAAE6T,iBACH7T,EAAE8T,cAAe,CAnCK,CAqCtB,CAtCD,CA+Cc1I,GAERzP,EAAEkY,gBACLlY,EAAEkY,iBACHlY,EAAEmY,cAAA,EACFjY,EAAUuxE,sBACH,EAMRjgC,EAAU/yC,EAASuB,GAEdunB,IAGAiqB,GAODvxC,EAAO+N,QAAUwjC,EAAQxjC,QAAWwE,KAAKusC,IAAI9+C,EAAO0Z,MAAQ63B,EAAQ73B,OAAS,GAAOnH,KAAKusC,IAAI9+C,EAAO2Z,MAAQ43B,EAAQ53B,OAAS,KAChI4N,GAAA,EACA+B,aAAaksB,IARbjuB,GAAA,EApBe,CAHM,CAkCxB,IAGC7oB,EAAiB0B,KAAKw1C,KAAmBqd,aAAE,GAAI,cAAevrC,GAC9DhpB,EAAiB0B,KAAKw1C,KAAmBqd,aAAE,GAAI,eAAe,SAASlzD,GACtE,IAAI0vB,EAAO1vB,GACX,OAAIunB,GACCvnB,GAAKA,EAAEkY,gBACVlY,EAAEkY,iBACHlY,EAAEmY,cAAe,WAHlB,CAMF,IAGCxZ,EAAiB0B,KAAKwuD,KAAMvqD,EAAM,IAAI,SAAStE,GAS9C,IAAIyP,EAHJ,GAJGlQ,UAAYA,SAASgH,MACvBhH,SAASgH,KAAKgtC,UAAUn0C,IAAI,yBAGzBswB,EAAO1vB,GAQX,GAPAE,EAAUsxE,eAAiBxxE,EAAEiV,UAG7Bu7B,EAAYhpB,GAAc,EAC1BD,GAAc,EACd9X,EAAa+hC,EAAU/yC,EAASuB,GAEhC,CAMA,IAAIqE,EAAM,IAAIyU,KAEd,IAAK0O,IAAgBgpB,GAAansC,EAAMotC,EAAe,IActD,OAbAvxC,EAAUoxD,OAAO4B,aAAazjD,GAC9BnQ,OAAO+pB,YAAW,WACdnpB,EAAUkuD,YAIbluD,EAAU0xD,cAAcniD,EACxB,GAAE,IAECzP,EAAEkY,gBACLlY,EAAEkY,iBACHlY,EAAEmY,cAAA,EACFjY,EAAUwxE,kBAAmB,KAO9B,GAJAjgC,EAAeptC,GAIXmjB,IAAegpB,GAActwC,EAAUwzC,OAAOixB,WAAlD,CAGA,IAAIxkE,EAAUD,EAAU2xD,cAActyD,SAAS+G,eAC3ClG,EAAWF,EAAU2xD,cAAcpiD,EAAWzB,QAC9CxP,EAAayB,EAAQC,EAAU2xD,cAAc5xD,EAAO+N,QAAU,KAElE,GAAG7N,GAAWC,GAAYD,GAAWC,GAAYD,GAAW3B,EAS3D,OAPGwB,EAAEkY,gBACJlY,EAAEkY,iBAEHlY,EAAEmY,cAAA,EACFjY,EAAUuxD,oBAAqB,EAC/BvxD,EAAUoxD,OAAO4B,aAAazjD,GAC9BxP,EAASwP,GAAA,EAIVgmC,EAAQpsB,YAAW,WAClB,IAAGnpB,EAAUkuD,WAAb,CAGA5d,GAAY,EACZ,IAAI7gB,EAAS1vB,EAAO+N,OAChB4Z,EAAY1nB,EAAUixD,cAAcxhC,GACpCA,IAAA,GAAU/H,EAAUvb,QAAQ,cAC/BsjB,EAASA,EAAOxF,iBAEjBjqB,EAAUwxD,eAAezxD,EAAQ0vB,GAC7BzvB,EAAU+yD,YAAsC,UAAxB/yD,EAAU+yD,YACrC/yD,EAAUgkD,aAAahkD,EAAU6yD,UAAU,SAASr0D,EAAM6F,GACzD7F,EAAK0N,MAAMw2B,QAAQ,OACnB1iC,EAAU+mE,UAAUt+B,OAAOpkC,EAAG,EACnC,IAGOrE,EAAUwzC,OAAOgxB,WACpBxkE,EAAUyxE,mBAEXzxE,EAAU+xD,YAAY/xD,EAAU6yD,SAlB/B,CAmBJ,GAAI7yD,EAAUwzC,OAAOixB,YAEnB1kE,EAASwP,CA1CD,CA1BP,MAFA+X,GAAA,CAuEH,IAkBC7oB,EAAiB0B,KAAKw1C,KAAmBqd,aAAE,GAAI5uD,EAAM,IAAI,SAAStE,GAKjE,GAJGT,UAAYA,SAASgH,MACvBhH,SAASgH,KAAKgtC,UAAUoG,OAAO,yBAG5BjqB,EAAO1vB,GAgBX,OAdGE,EAAUwzC,OAAOkxB,oBACdp0B,GA5OP,SAA+B/gC,EAAMpL,EAAMlE,EAAMC,GAChD,IAAKqP,IAASpL,EAAM,OAAO,EAG3B,QADI7F,EAAIiR,EAAKzB,OACPxP,GAAKA,GAAK0B,EAAU2uD,MACzBrwD,EAAIA,EAAE2P,WAQP,GANG3P,GAAK0B,EAAU2uD,MAMf3uD,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUs0C,WAAWzmB,OAC7C7tB,EAAU8uD,OAAO9uD,EAAUs0C,WAAWzmB,MACzC6jD,WACX,OAAO,EAIT,IAAIjiD,EAAKnd,KAAKusC,IAAItvC,EAAKmK,MAAQvV,EAAKuV,OAChCgO,EAAKpV,KAAKusC,IAAItvC,EAAKkK,MAAQtV,EAAKsV,OACpC,OAAIgW,EAsN2D,KAtN5C/H,EAsNuC,OAtN1B+H,GAAO/H,EAAG+H,EAAK,KAC1ClgB,EAAKkK,MAAQtV,EAAKsV,MACrBzZ,EAAUoxD,OAAOgC,sBAEjBpzD,EAAUoxD,OAAO+B,uBAEX,EAGR,CA/BD,CA4O0CpzD,EAAQuxC,KAC/CtxC,EAAUwxE,kBAAA,GAIRlhC,IACHtwC,EAAUuxD,oBAAA,EACVpoC,YAAW,WACVnpB,EAAUuxD,oBAAqB,CAC/B,GAAE,MAGJ9pC,EAAY3nB,GACRE,EAAUwxE,kBACbxxE,EAAUwxE,kBAAA,EACN1xE,EAAEkY,gBACLlY,EAAEkY,iBACHlY,EAAEmY,cAAe,WAJlB,CAOF,IAECjY,EAAUwgB,MAAMnhB,SAASgH,KAAMjC,EAAM,GAAIqjB,EAC1C,EAEAznB,EAAUyxE,iBAAmB,WAC5BzxE,EAAUqxE,mBAEV,IAAIjtE,EAASpE,EAAU2xE,YAActyE,SAASC,cAAc,OAC5D8E,EAAOixC,UAAU,iBAEjBr1C,EAAUuxE,mBAAmB,GAE7BlyE,SAASgH,KAAKuC,YAAYxE,EAC3B,EACApE,EAAUuxE,mBAAqB,SAASntE,GACvC,IAAI7F,EAASyB,EAAU2xE,YACvB,GAAIpzE,EAAO,CACV,IAAIixB,EAAO,GACX,GAAIxvB,EAAU6yD,WAAazuD,EAAK,CAC/B,IAAIrE,EAAKC,EAAUw8C,SAASx8C,EAAU6yD,UAClC9yD,IACHyvB,EAAO,SAAWzvB,EAAGu0D,OAASt0D,EAAUusD,UAAUwZ,aAAahmE,EAAGykD,WAAYzkD,EAAG4kD,SAAU5kD,GAAIC,EAAUusD,UAAU8P,SAASt8D,EAAGykD,WAAYzkD,EAAG4kD,SAAU5kD,IAAO,SAChK,CAE2B,UAAxBC,EAAU+yD,YAAkD,YAAxB/yD,EAAU+yD,WACjDx0D,EAAOgK,WAAavI,EAAUgd,OAAOqhC,OAAOwJ,gBAAkB,kBAAkBr4B,EAEhFjxB,EAAOgK,WAAavI,EAAUgd,OAAOqhC,OAAOyJ,cAAgB,gBAAgBt4B,CAC7E,CACF,EACAxvB,EAAUqxE,iBAAmB,WAC5B,IAAIjtE,EAASpE,EAAU2xE,YACnBvtE,GAAUA,EAAO6J,aACpB7J,EAAO6J,WAAWtF,YAAYvE,GAC9BpE,EAAU2xE,YAAc,EAE1B,CAGA,CpB9RC1wD,CAAM7c,GqBvFQ,SAAgBkjB,GAE/BA,EAAUsqD,YAAc,WACvB,MAAO,CACN34D,KAAM,CACLtU,OAAQ,WACP,MAAO,CACND,IAAK,MACLjE,KAAM,EACNoxE,MAAO,CACN3lE,MAAO,2BAER4lE,MAAO,CACNC,UAAa,WACZzqD,EAAUmtB,gBACV,GAEFpuC,KAAM,CACL,CACCihC,GAAInnC,KAAKmnC,GACT7mC,KAAM,IAIT,EACDijD,KAAM,WACL,IAAIr8B,EAAYhoB,SAASC,cAAc,OACvC+nB,EAAU1Q,GAAK,aAAc2Q,EAAUyvB,MACvC1vB,EAAUnb,MAAMkR,MAAQ,OACxBiK,EAAUnb,MAAMmR,OAAS,OACzBgK,EAAUgsB,UAAUn0C,IAAI,qBACxBmoB,EAAU2qD,IAAM,OAChB3qD,EAAU9e,UAAY,2YAatB+e,EAAUo8B,KAAKr8B,GAEflnB,KAAKmnC,GAAKjgB,CACV,GAEF5mB,KAAM,EAER,CAEA,CAtDe,CrBwFK2D,GsBxFL,SAAgBpE,GAuF/B,IAAIoE,EA+BA7F,EACJ,SAASixB,IACR,GAAGxvB,EAAUywD,oBACZ,SAEA,YAAGlyD,EAuBF,OAAOA,EAtBP,IAAI+xC,EAAQjxC,SAASC,cAAc,OACnCgxC,EAAMpkC,MAAMmoC,SAAW,WACvB/D,EAAMpkC,MAAMmY,KAAO,UACnBisB,EAAMpkC,MAAMqY,IAAM,UAClB+rB,EAAM/nC,UAAY,8HAMlBlJ,SAASgH,KAAKuC,YAAY0nC,GAC1B,IACIhpB,EADSloB,OAAOs4C,iBAAiBpH,EAAM8E,cAAc,cAClCiZ,iBAAiB,cACxChvD,SAASgH,KAAKsC,YAAY2nC,IAC1B/xC,EAAwC,eAAd+oB,IAGzB6B,YAAW,WACV5qB,OAAA,CACA,GAAE,IAMP,CAEA,SAASwB,IACR,IAAGC,EAAUywD,sBAAuBzwD,EAAUiyE,qBAA9C,CAIA,IAAI3hC,EAAa/xC,EACjBA,OAAA,EACA6F,OAAA,EAKGksC,IAJc9gB,KAIexvB,EAAUm1C,YAAcn1C,EAAUs0C,WAAWzmB,MAC5E7tB,EAAUy0C,gBAVV,CAYF,CAyBA,SAASnD,EAAkBhB,GAC1B,IAAIhpB,EAAMgpB,EAAK8lB,aAIf,OAHA9uC,EAAMA,EAAM,GAAK,IAAIA,EAAMA,EAChB,6BAA8BgpB,EAAK0jB,WAAnC,0CAC0B1sC,EAAK,SAE3C,CAlMAtnB,EAAUkyE,eAAiB,WAC1B7yE,SAAS4jB,gBAAgBrhB,aAAa,uBAAwB5B,EAAUmyE,KACzE,EAEAnyE,EAAUoyE,eAAiB,CAC1B3+B,iBAAkB,CAAC,EAAE,GACrBkwB,sBAAuB,CAAC,EAAE,GAC1BF,UAAW,CAAC,EAAE,GAEd9O,aAAc,CAAC,GAAG,IAClB4O,sBAAuB,CAAC,UAAW,UACnCC,2BAA4B,CAAC,UAAW,WAGzCxjE,EAAUqyE,SAAW,CACpBC,2BAA4B,CAAC,GAAG,IAChC78B,WAAY,CAAC,GAAG,IAChBia,WAAY,CAAC,GAAG,KAOjB1vD,EAAUywD,kBAAoB,WAC7B,OAAIzwD,EAAUmyE,MAGJnyE,EAAUmyE,KAAO,IAAIhmE,QAAQ,aAAe,EAyDvD,WACC,QAA0B,IAAvB/H,EAAiC,CACnC,IAAIksC,EAAQjxC,SAASC,cAAc,OACnCgxC,EAAMpkC,MAAMmoC,SAAW,WACvB/D,EAAMpkC,MAAMmY,KAAO,UACnBisB,EAAMpkC,MAAMqY,IAAM,UAClB+rB,EAAM/nC,UAAY,oFAIlBlJ,SAASgH,KAAKuC,YAAY0nC,GAC1B,IACIhpB,EADSloB,OAAOs4C,iBAAiBpH,EAAM8E,cAAc,+BACnCiZ,iBAAiB,YAGtCjqD,EAFe,aAAbkjB,EAOH6B,YAAW,WACV/kB,EAAqB,KAClBksC,GAASA,EAAMriC,YACjBqiC,EAAMriC,WAAWtF,YAAY2nC,EAE9B,GAAE,IACH,CACD,OAAOlsC,CACR,CA5BA,EAvDA,EAYApE,EAAUuyE,iBAAmB,YA2J7B,WACC,MAAMzyE,EAAYE,EAAUm1C,WAE5BwQ,cAAcpQ,GACXz1C,IACFy1C,EAAoBkQ,aAAY,KAC/B,MAAMl2C,EAAWmoC,iBAAiB53C,GAAWuuD,iBAAiB,yBAC3D9+C,GAAYA,IAAavP,EAAUmyE,MACrCnyE,EAAUwyE,QAAQjjE,EAAA,GAGjB,KAEJ,CAbD,GAzJC,MAAM+gC,EAASoH,iBAAiBv3C,KAAKg1C,YAC/B7tB,EAAWgpB,EAAO+d,iBAAiB,yBAEzC,IACIhnC,EADAkqB,IAAkBjqB,EAElB7oB,EAAY,CAAC,EACbgpB,GAAmB,EAEvB,GAAG8pB,EAAc,CAChBlqB,EAAYC,EACZ,QAAQxnB,KAAKE,EAAUw1C,GACtB/2C,EAAUqB,GAAKwwC,EAAO+d,iBAAA,sBAAAhoC,OAAuCvmB,IAG9DrB,EAAUk2D,aAAerkB,EAAO+d,iBAAiB,uCACjD5vD,EAAUglE,UAAYnzB,EAAO+d,iBAAiB,mCAEhD,MACEhnC,EA9BF,WAEC,IAAK,IADDvnB,EAAQT,SAASgyC,qBAAqB,QACjC9hC,EAAI,EAAGA,EAAIzP,EAAMnB,OAAQ4Q,IAAK,CACtC,IAAIpL,EAAMrE,EAAMyP,GAAGoT,KAAKhf,MAAM,gCAC9B,GAAIQ,EACH,OAAOA,EAAI,EAEZ,CACF,CARA,GA+BEsjB,EAAmBznB,EAAUywD,oBAW9B,GAPAzwD,EAAUyyE,YAAc,CACvBC,MAAOrrD,EACPsrD,YAAaphC,EACbqhC,iBAAkBnrD,EAClBorD,OAAQp0E,GAGNuB,EAAUyyE,YAAYE,YAAY,CACpC,MAAM7yE,EAAiBK,KAAKsyE,YAAYI,OACxC,QAAQtjE,KAAKvP,EAAUw1C,GAClBl0C,MAAMq3C,SAAS74C,EAAeyP,OACjCvP,EAAUw1C,GAAGjmC,GAAKopC,SAAS74C,EAAeyP,IAG5C,CACF,EAkFAvP,EAAUwgB,MAAMphB,OAAQ,mBAAoBW,GAC5CC,EAAUwgB,MAAMphB,OAAQ,OAAQW,GAEhCC,EAAUiyE,mBAAqB,WAC9B,OAAOziD,GACR,EAEAxvB,EAAU8yE,WAAa,SAASxiC,EAAKhpB,EAAMD,GAC1C,IAAK,IAAIkqB,KAAOjqB,OACQ,IAAZgpB,EAAIiB,KACdjB,EAAIiB,GAAOjqB,EAAKiqB,GAAKlqB,GACxB,EAEArnB,EAAUwyE,QAAU,SAASliC,GAC5BnwC,KAAKgyE,KAAO7hC,EACZtwC,EAAUkyE,iBACPlyE,EAAUm1C,aACZh1C,KAAKgvD,aACLhvD,KAAKwE,SAIP,EAUA,IAAI4wC,EAAoB,KAexBv1C,EAAU0hB,YAAY,aAAa,WAClCikC,cAAcpQ,EACf,IAEAv1C,EAAUmvD,WAAa,WACtBhvD,KAAKoyE,mBAEApyE,KAAKgyE,OACThyE,KAAKgyE,KAAOhyE,KAAKsyE,YAAYC,OAE9B1yE,EAAUkyE,iBACa,SAAnBlyE,EAAUmyE,KAEbnyE,EAAUusD,UAAUmO,WAAappB,EACxBtxC,EAAUusD,UAAUmO,aAAeppB,IAC5CtxC,EAAUusD,UAAUmO,WAAa16D,EAAUwf,KAAKusC,YAAY/rD,EAAUwzC,OAAO4vB,YAM9EpjE,EAAU0hB,YAAY,oBAAoB,WAEzC,IAAI4uB,EAActwC,EAAUwf,KAAKusC,YAAY,MACzC/rD,EAAUusD,UAAUwmB,iBACvB/yE,EAAUusD,UAAUwmB,eAAiB/yE,EAAUusD,UAAU0O,WAE1D,IAAI3zC,EAAgBtnB,EAAUusD,UAAUwmB,eACxC/yE,EAAUusD,UAAU0O,UAAY,SAAS5zC,GACxC,GAAkB,SAAdlnB,KAAK6xD,MAAkB,CAC1B,IAAIzgB,EAAQjB,EAAYjpB,GAOxB,OANsB,GAAlBA,EAAKyvB,YACRvF,EAAQvxC,EAAUgd,OAAOwC,KAAK2mC,WAAW9+B,EAAKwvB,YAAc,IAAMtF,IAE9DlqB,IAASrnB,EAAUwf,KAAK6sC,UAAUlsD,KAAKmsD,kBAC3C/a,EAAQvxC,EAAUgd,OAAOqhC,OAAOkI,qBAAuB,IAAMhV,GAEvDA,CACX,CACI,OAAOjqB,EAAc9lB,KAAKrB,KAAMknB,EAEpC,EAGKrnB,EAAUwzC,OAAOC,mBACNzzC,EAAU21C,KAAsBob,gBAAE,GAAGroB,iBAAiB,cAC9D5nC,SAASumB,IAGb,OAFaA,EAAImqB,aAAa,aAAenqB,EAAImqB,aAAa,SAG7D,IAAK,MACL,IAAK,UACJnqB,EAAIgsB,UAAUn0C,IAAI,qBAClBmoB,EAAIgsB,UAAUn0C,IAAI,yBAClB,MACD,IAAK,OACL,IAAK,WACJmoB,EAAIgsB,UAAUn0C,IAAI,yBAClB,MACD,IAAK,QACL,IAAK,YACJmoB,EAAIgsB,UAAUn0C,IAAI,oBAClBmoB,EAAIgsB,UAAUn0C,IAAI,yBAClB,MACD,QACCmoB,EAAIgsB,UAAUn0C,IAAI,8BAUvB,SAAqBmoB,GAGpB,GAAGrnB,EAAUwzC,OAAOqb,OACnB,OAGD,MAAMtd,EAAOnqC,MAAM4rE,KAAK3rD,EAAUqhB,iBAAiB,iBAK7CjqC,EAFQ,CAAC,MAAO,OAAQ,SAEJkuC,KAAI7sC,GAC7ByxC,EAAK0hC,MAAK1jE,GAAOA,EAAIiiC,aAAa,cAAgB1xC,MACjDozE,QAAOpzE,QAAe,IAARA,IAEhB,IAAI2nB,EAAW8pB,EAAK5yC,OAAS,EAAI4yC,EAAK,GAAK,KAE3C9yC,EAAY00E,UAAUryE,SAAQhB,IAC7BunB,EAAUoa,aAAa3hC,EAAK2nB,GAC5BA,EAAW3nB,CAAA,GAEZ,CAtBD,CALcE,EAAU21C,KAAsBob,gBAAE,IAGjD,GAAI,CAAC7a,MAAA,GA8BL,CAIA,CtBvOC3tB,CAAMnkB,GQxFHhF,OAAOg0E,SAEA5jD,EAkDRpwB,OAAOg0E,OAjDLrzE,EAAU,EACVuxC,EAAU,GACd9hB,EAAEyiB,GAAGohC,cAAgB,SAAS/rD,GAC7B,GAAuB,iBAAZA,EAMJ,CACN,IAAID,EAAQ,GA+BZ,OA9BAlnB,KAAKmzE,MAAK,WACT,GAAInzE,MAAQA,KAAKqxC,aAChB,GAAKrxC,KAAKqxC,aAAa,gBAwBtBnqB,EAAM3Y,KAAKtP,OAAOe,KAAKqxC,aAAa,sBAxBE,CACtC,IAAID,EAAO,YACPxxC,IACHwxC,EAAO,aAAexxC,EAAQ,GAC9BX,OAAOmyC,GAAQgiC,UAAUC,wBAE1B,IAAI/0E,EAAQW,OAAOmyC,GAGnB,IAAK,IAAI9pB,KADTtnB,KAAKyB,aAAa,eAAgB2vC,GAClBjqB,EACN,QAALG,IACHhpB,EAAK+0C,OAAO/rB,GAAOH,EAAOG,IAEvBtnB,KAAKkxC,qBAAqB,OAAO1yC,SACrCwB,KAAKoI,UAAY,yfACjBpI,KAAKk1C,WAAa,sBAEnB52C,EAAKilD,KAAKvjD,KAAM1B,EAAK+0C,OAAOh0B,KAAM/gB,EAAK+0C,OAAO3lB,MAC1CvG,EAAOlM,MACV3c,EAAKgkD,MAAMn7B,EAAOlM,MAEnBiM,EAAM3Y,KAAKjQ,GACXsB,GACA,CAGN,IAEwB,IAAjBsnB,EAAM1oB,OAAqB0oB,EAAM,GAC9BA,CACP,CAvCA,GAAIiqB,EAAQhqB,GACX,OAAOgqB,EAAQhqB,GAAQhY,MAAMnP,KAAM,IAEnCqvB,EAAE2L,MAAM,UAAa7T,EAAS,0CAqClC,Ge/Ce,SAAgBA,IAE/B,WAEC,IAAID,EAAiBC,EAAUmtB,eAC9BlD,EAAajqB,EAAU8mC,WACpB3vD,EAAoB,KACvBgpB,EAAkB,KAEf3nB,EAAsB,SAASG,EAAMC,GACxC,IAAI5B,EAAO6B,KACX8sB,EAAO5D,aAAa5B,GACpBwF,EAAO5D,aAAa5qB,GAEpB,IAAIgxB,EAAUnxB,EAAK2zD,MAClBvqC,EAAUppB,EAAK0zD,MAChB7tD,EAAYhE,KAAMF,EAAMC,GAExBunB,EAAkB0B,YAAW,WAEzB7B,EAAU4mC,aAIR5vD,EAAKi4C,UAAU,qBAAsB,CAAC7uB,EAAS+H,EAASvvB,GAAQ5B,EAAK0zD,MAAO/xD,GAAQ3B,EAAK2zD,SAK9F1gB,EAAW/vC,KAAKlD,EAAM2B,EAAMC,GAC5B5B,EAAKi4C,UAAU,eAAgB,CAACj4C,EAAK0zD,MAAO1zD,EAAK2zD,QAEjDhlC,EAAO5D,aAAa5qB,GACpBgpB,EAAkB,GARjBtjB,EAAY7F,EAAMmxB,EAAS/H,GAS/B,GAAKJ,EAAUksB,OAAO2xB,aACtB,EACK51D,EAAkB,SAAStP,EAAMC,GACpC,IAAI5B,EAAO6B,KACVsvB,EAAM/wB,UAEPyF,EAAYhE,KAAMF,EAAMC,GAExB+sB,EAAO5D,aAAa5qB,GACpBA,EAAoB0qB,YAAW,WAC3B7B,EAAU4mC,YAIVzmC,GAGH8pB,EAAWjiC,MAAMhR,EAAMmxB,EAC1B,GAAKnI,EAAUksB,OAAO2xB,aACtB,EACC,SAAShhE,EAAYlE,EAAWC,EAAM5B,GAClC4B,IACFD,EAAUgyD,MAAQ/xD,GAChB5B,IACF2B,EAAU+xD,MAAQ1zD,EAEnB,CACDgpB,EAAU5F,YAAY,oBAAoB,WACtC4F,EAAUksB,OAAO2xB,cACnB79C,EAAUmtB,eAAiB30C,EAC3BwnB,EAAU8mC,WAAa7+C,IAEvB+X,EAAUmtB,eAAiBptB,EAC3BC,EAAU8mC,WAAa7c,EAE1B,GAEC,CArED,EAuEA,CAzEe,CvB0FDntC,GjC+zBC,SAAgBkjB,GAE/BA,EAAUmsD,oBAAsB,SAASpsD,GACxC,IAAIkqB,EACA9yC,EACA4oB,aAAkBwpB,SACrBU,EAASlqB,EACCA,EAAO3nB,eAAe,UAChC6xC,EAASlqB,EAAO04B,OACP14B,EAAO3nB,eAAe,WAC/B6xC,EAASlqB,GAIT5oB,EADG8yC,EACK,SAEAlqB,EAAOwG,MAAQ,YAGxB,IAAIpG,EAAK,IAAIkD,EAActD,EAAOlH,KAMlC,OALAsH,EAAGi8B,KAAKp8B,GACRG,EAAGg4B,mBAAmB,CACrB5xB,KAAMpvB,EACNshD,OAAQxO,GACNlqB,EAAOqsD,aACHjsD,CACR,EAEAH,EAAUqsD,cAAgBhpD,CAE1B,CA9Be,CiC9zBMvmB,GwB3FN,SAAgBkjB,GAa/BA,EAAU5F,YAAY,oBAAoB,kBAC/BkyD,YAAgB,KACzBx0E,OAAOw0E,YAAYC,WAAW,WAAW,SAASxsD,EAAGkqB,EAAG9yC,GACvD,IAAIgpB,EAAUhpB,EAAE,GAAG6jD,aAEnB,OAAQh7B,EAAUksB,OAAO0xB,YACxB,IAAK,QACJj4C,EAAOqyB,MAAM73B,GACb,MACD,IAAK,UACJwF,EAAOiO,QAAQxoB,IAAI+U,GAKxB,GAEA,GAGA,CAjCe,CxB6FJrjB,GACV,MAAMmxC,EyB9DC,IAAI50B,EAAc,CACxBmzD,GAAAhyD,EACAiyD,GACAlvD,EAAAhG,GAAA+D,EACAvkB,GACAmkB,EAAAwxD,GAAA1yD,EACA2yD,GACAxyD,EAAA5iB,GAAAimB,EACA9F,GACA8D,EAAAwkB,GAAA5hB,EACAwuD,GACA7xD,EAAAiU,GAAAlV,EACA+yD,GACA9rD,EAAAjJ,GAAAsF,EACA0vD,GACApvD,EAAArO,GAAAoL,EACAsyD,GACA7yD,EAAA8yD,GAAA1vD,EACAvc,GACAwZ,EAAAqmB,GAAAlmB,EACAuyD,GACAxvD,EAAAqjB,GAAA7iB,EACAivD,GACAvvD,GAAAwvD,GAAAxyD,GACAyyD,GACAvqB,GAAA7yB,GAAAhS,GACAse,GACApe,GAAAmvD,GAAAhwD,GACAiwD,GACAxqB,GAAApoD,GAAAqoD,KzBkCDjmD,EAAUywE,KAAO,CAChB5qB,UAAW1U,EAAK0U,UAChB6qB,UAAW,SAASxtD,GACnB,GAAqB,iBAAXA,EAAoB,CAC7B,IAAID,EAAekuB,EAAK2U,UAAU5iC,GAC9BD,IACHA,EAAekuB,EAAK2U,UAAU,OAG/B9lD,EAAU4Y,OAASqK,CACnB,SAAQC,EACR,GAAIljB,EAAU4Y,OAGb,QAAQu0B,KAAKjqB,EACTA,EAAOiqB,IAA2B,iBAAdjqB,EAAOiqB,IACzBntC,EAAU4Y,OAAOu0B,KACpBntC,EAAU4Y,OAAOu0B,GAAK,CAAC,GAGxBntC,EAAU4yC,MAAM5yC,EAAU4Y,OAAOu0B,GAAIjqB,EAAOiqB,IAAI,IAEhDntC,EAAU4Y,OAAOu0B,GAAKjqB,EAAOiqB,QAV/BntC,EAAU4Y,OAASsK,EAgBrB,IAAI7oB,EAAS2F,EAAU4Y,OAAOqhC,OAC9B5/C,EAAOs2E,aAAgBt2E,EAAOmoD,UAC9BnoD,EAAOu2E,eAAkBv2E,EAAOooD,YAChCpoD,EAAOw2E,eAAkBx2E,EAAOuoD,YAE7B5iD,EAAU+wC,YACZ/wC,EAAUwxC,cAGX,EACDsU,UAAW3U,EAAK2U,WAEjB9lD,EAAUywE,KAAKC,UAAU,MAEzB1wE,EAAU8wE,IAAM,CAAC,EAEjB,MAAM5kC,EAAgB,CAAC,EA6DvB,OA5DAlsC,EAAU+wE,QAAU,SAAS7tD,IAc5B,SAayBiqB,EAAQ9yC,EAAcgpB,GAC/C,MAAM3nB,EAAS,GAEf,UAAUyP,KAAKgiC,EACd,GAAGA,EAAOhiC,GAAG,CACZ,MAAMpL,EAAYoL,EAAExO,cACjBtC,EAAa0F,IACf1F,EAAa0F,GAAWrD,SAAQ,SAASb,GACxC,MAAMC,EAAiBD,EAAIc,cACvBwwC,EAAOrxC,IACVJ,EAAO4O,KAAKxO,EAEnB,IAEIJ,EAAO4O,KAAKvK,EACZ,CAeF,OAZArE,EAAO+5C,MAAK,SAAStqC,EAAGpL,GACvB,MAAMlE,EAASwnB,EAAWlY,IAAM,EAC1BrP,EAASunB,EAAWtjB,IAAM,EAChC,OAAGlE,EAASC,EACJ,EACCD,EAASC,GACT,EAED,CAEX,IAESJ,CACP,EA5CA,CAbuCwnB,EAAQ,CAC7C8tD,aAAc,CAAC,YACfC,YAAa,CAAC,YACdC,UAAW,CAAC,WACV,CACFC,OAAQ,EACRvoB,MAAO,EACPH,SAAU,EACVwoB,YAAa,EACbD,aAAc,EACdE,UAAU,IAGEx0E,SAAQ,SAASywC,GAC9B,IAAIjB,EAAciB,GAAM,CACvB,MAAM9yC,EAASuB,EAAiBw1E,aAAajkC,GAC7C,IAAG9yC,EAIF,MAAM,IAAI+E,MAAM,kBAAoB+tC,GAHpC9yC,EAAO2F,GACPksC,EAAciB,IAAQ,CAIvB,CACJ,GACA,EAmCQntC,CAER,C0B5Me,MAAMiwE,GACpB7uE,WAAAA,CAAYpB,GACXjE,KAAKs1E,YAAc,CAAC,EACpB,UAAUl3E,KAAK6F,EACdjE,KAAKs1E,YAAYl3E,GAAK6F,EAAO7F,EAE9B,CAEDm3E,YAAAA,CAAatxE,EAAM7F,GAClB4B,KAAKs1E,YAAYrxE,GAAQ7F,CACzB,CAEDi3E,YAAAA,CAAapxE,GACZ,OAAOjE,KAAKs1E,YAAYrxE,EACxB,SCXSunE,OAAU,KAAeA,OAAOgK,WAC1ChK,OAAOgK,SAASC,gBAAkB,SAAU51E,EAAKoE,EAAM7F,EAAMixB,GACxDjxB,EAAOA,GAAQ,8PAAnB,IACIwB,EAAMV,SAASC,cAAc,OAajC,OAZAS,EAAI4W,GAAK,eAAiBxW,KAAK01E,QAAQ,IACvC91E,EAAIwI,UAAY,YAAcxI,EAAI4W,GAAK,mPAAqPpY,EAAO,iFACnSc,SAASgH,KAAKuC,YAAY7I,EAAI2I,YAE9BvI,KAAK21E,aAAa/1E,EAAI4W,IAAA,GAAW,GAEjCxW,KAAK41E,GAAG51E,KAAK61E,IAAIC,MAAQzmD,EACzBrvB,KAAK41E,GAAG51E,KAAK61E,IAAIE,QAAUn2E,EAAI4W,GAC/B6Y,EAAU2mD,SAAW3mD,EAAU4+B,WAC/B5+B,EAAUs2B,WAAa,WAAa,EACpCt2B,EAAUk0B,KAAK3jD,EAAI4W,GAAI3W,EAAKoE,GAErBjE,KAAK41E,GAAG51E,KAAKi2E,gBAAgBH,KACtC,GCpBA,MAAel+C,GACPs+C,CAACr2E,EAAWoE,KAClBA,GAAO,SAAAiiB,OAAcrmB,EAAA,wXCUhB,MAAMs2E,GAKZ9wE,WAAAA,CAAYpB,GACXjE,KAAKo2E,WAAanyE,CACnB,CAEAoyE,OAAAA,GACC,MAAMpyE,EAAYjE,KAAKo2E,WAYvB,OAXKp2E,KAAKs2E,eACJ,KAAAA,aAAep3E,SAASC,cAAc,OAC3Ca,KAAKs2E,aAAaphC,UAAY,0CAEpBjxC,EAAA45C,SAASohB,YAAYj/D,KAAKs2E,eAElCryE,EAAUovC,OAAO0b,IACd,KAAAunB,aAAapjC,UAAUn0C,IAAI,qBAE3B,KAAAu3E,aAAapjC,UAAUoG,OAAO,qBAE7Bt5C,KAAKs2E,YACb,CAEAC,WAAAA,CAAYtyE,GAEJ,OADPjE,KAAKw2E,MAAQvyE,EACNjE,IACR,CAIAy2E,IAAAA,CAAKxyE,EAA2B7F,GAC/B,MAAMixB,EAAYrvB,KAAKo2E,WACjBx2E,EAAayvB,EAAUulC,YACvBzjB,EAAYjyC,SAASgH,KACrBkvC,EAAOp1C,KAAKq2E,UAOd,GALAz2E,EAAW25C,UAAUnE,EAAMjE,KAC9BnxC,KAAKy9C,OACLtM,EAAU1oC,YAAY2sC,IAGnBp1C,KAAK02E,kBAAkBzyE,GAAO,CAC3B,MAAAksC,EAAWnwC,KAAK22E,0BAA0B1yE,GAChD7F,EAAM+xC,EAAS/rB,IACfngB,EAAOksC,EAASjsB,IACjB,CAMO,OAJFkxB,EAAArpC,MAAMqY,IAAMhmB,EAAM,KAClBg3C,EAAArpC,MAAMmY,KAAOjgB,EAAO,KAEforB,EAAAwuB,SAASqhB,mBAAmB9pB,GAC/Bp1C,IACR,CACAy9C,IAAAA,GACC,MAAMx5C,EAAYjE,KAAKo2E,WACjBh4E,EAAO4B,KAAKq2E,UAKX,OAJJj4E,GAAQA,EAAK0P,YACV1P,EAAA0P,WAAWtF,YAAYpK,GAEnB6F,EAAA45C,SAASshB,kBAAkB/gE,GAC9B4B,IACR,CAEA42E,UAAAA,CAAW3yE,GAGH,OAFMjE,KAAKq2E,UACbjuE,UAAYnE,EACVjE,IACR,CAGQ02E,iBAAAA,CAAkBzyE,GACzB,SAAKA,GAA0B,iBAAVA,IAGd,YAAaA,GAAS,YAAaA,CAC3C,CAEQ4yE,YAAAA,GACA,OAAA72E,KAAKw2E,OAASt3E,SAASgH,IAC/B,CAGQywE,yBAAAA,CAA0B1yE,GACjC,MAAM7F,EAAY4B,KAAKo2E,WACjB/mD,EAAajxB,EAAUw2D,YAEvBh1D,EAAYI,KAAK82E,mBACjB3lC,EAAcnxC,KAAKq2E,UACnBjhC,EAAoB,CACzBhxB,IAAI,EACJF,KAAM,EACNjH,MAAOk0B,EAAYiJ,YACnBl9B,OAAQi0B,EAAYuG,aACpB4C,OAAQ,EACRD,MAAO,GAGFlK,EAAU/xC,EAAUi1C,OAAO0jC,iBAC3B5vD,EAAU/oB,EAAUi1C,OAAO2jC,iBAE3B9vD,EAAYhoB,SAASgH,KACrBkrC,EAAQ/hB,EAAW8qB,yBAAyBl2C,EAAOijB,GACnD5oB,EAAe+wB,EAAWorB,gBAAgBvzB,GAChDkqB,EAAM9hB,GAAKhxB,EAAagxB,EAExB8lB,EAAQhxB,IAAMgtB,EAAM9hB,EACpB8lB,EAAQlxB,KAAOktB,EAAM/pB,EACrB+tB,EAAQhxB,KAAO+C,EACfiuB,EAAQlxB,MAAQisB,EACRiF,EAAAkF,OAASlF,EAAQhxB,IAAMgxB,EAAQl4B,OAC/Bk4B,EAAAiF,MAAQjF,EAAQlxB,KAAOkxB,EAAQn4B,MAEjC,MAAAqK,EAAYroB,OAAOg4E,QAAU/vD,EAAU7C,UA4BtC,OA1BJ+wB,EAAQhxB,IAAMxkB,EAASwkB,IAAMkD,GAC/B8tB,EAAQhxB,IAAMxkB,EAASwkB,IACfgxB,EAAAkF,OAASlF,EAAQhxB,IAAMgxB,EAAQl4B,QAC/Bk4B,EAAQkF,OAAS16C,EAAS06C,SAClClF,EAAQkF,OAAS16C,EAAS06C,OAClBlF,EAAAhxB,IAAMgxB,EAAQkF,OAASlF,EAAQl4B,QAGrCk4B,EAAQlxB,KAAOtkB,EAASskB,MAC1BkxB,EAAQlxB,KAAOtkB,EAASskB,KAChBkxB,EAAAiF,MAAQz6C,EAASskB,KAAOkxB,EAAQn4B,OAChCm4B,EAAQiF,MAAQz6C,EAASy6C,QACjCjF,EAAQiF,MAAQz6C,EAASy6C,MACjBjF,EAAAlxB,KAAOkxB,EAAQiF,MAAQjF,EAAQn4B,OAGrCm0B,EAAM/pB,GAAK+tB,EAAQlxB,MAAQktB,EAAM/pB,GAAK+tB,EAAQiF,QAChDjF,EAAQlxB,KAAOktB,EAAM/pB,EAAI+tB,EAAQn4B,MAAQkzB,EACjCiF,EAAAiF,MAAQjF,EAAQlxB,KAAOkxB,EAAQn4B,OAGrCm0B,EAAM9hB,GAAK8lB,EAAQhxB,KAAOgtB,EAAM9hB,GAAK8lB,EAAQkF,SAC/ClF,EAAQhxB,IAAMgtB,EAAM9hB,EAAI8lB,EAAQl4B,OAASiK,EACjCiuB,EAAAkF,OAASlF,EAAQhxB,IAAMgxB,EAAQl4B,QAGjCk4B,CACR,CAEQ0hC,gBAAAA,GACP,MAAM7yE,EAAYjE,KAAKo2E,WACjBh4E,EAAa6F,EAAU2wD,YACvBvlC,EAAYrvB,KAAK62E,eACvB,IAGIj3E,EAHAuxC,EAAW9hB,EACX+lB,EAAYn2C,OAAOg4E,QAAU/3E,SAASgH,KAAKme,UAC3C8rB,EAAalxC,OAAOi4E,QAAUh4E,SAASgH,KAAKie,WAWzC,OARJkL,IAAcprB,EAAUkzE,aAC1BhmC,EAAWltC,EAAUmzE,OACThiC,EAAA,EACCjF,EAAA,EACPvwC,EAAAxB,EAAWq8C,gBAAgBx2C,EAAUmzE,SAErCx3E,EAAAxB,EAAWq8C,gBAAgBtJ,GAE3B,CACNjtB,KAAKtkB,EAAIynB,EAAI8oB,EACb/rB,IAAKxkB,EAAI0vB,EAAI8lB,EACbn4B,MAAOrd,EAAIqd,MACXC,OAAQtd,EAAIsd,OACZo9B,OAAQ16C,EAAI0vB,EAAI1vB,EAAIsd,OAASk4B,EAC7BiF,MAAOz6C,EAAIynB,EAAIznB,EAAIqd,MAAQkzB,EAE7B,ECrKM,MAAMknC,GAQZhyE,WAAAA,CAAYpB,GALZ,KAAQqzE,WAAqB,CAAC,EAMxB,KAAAC,QAAU,IAAIpB,GAAQlyE,GAC3BjE,KAAKo2E,WAAanyE,EACb,KAAA0mD,WAAa1mD,EAAU2mD,uBAC5B5qD,KAAKw3E,uBACN,CAEA7xB,UAAAA,GACC3lD,KAAKu3E,QAAQ95B,OACbz9C,KAAK2qD,WAAWW,WACjB,CACAmsB,WAAAA,GACCz3E,KAAK03E,WACN,CACA/7B,MAAAA,CAAO13C,GACN,IAAI7F,EAAOc,SAASgH,KACpB,MAAMmpB,EAAYrvB,KAAKo2E,WACjBx2E,EAAayvB,EAAUulC,YACzB3wD,EAAOgvC,SACV70C,EAAOixB,EAAU2+B,OAGlB,IAAI7c,EAAkB,KAChB,MAAAiE,EAAWjF,IACV,MAAAhpB,EAAcvnB,EAAW26C,cAAcpK,GACvCjpB,EAAatnB,EAAWw5C,QAAQjyB,EAAaljB,EAAO0zE,UAC1D,GAAG/3E,EAAW25C,UAAUpyB,EAAannB,KAAKu3E,QAAQlB,WACjD,OAGD,MAAMjlC,EAAiBwmC,KACJzmC,EAAAjqB,EACXjjB,EAAA4zE,aAAa1nC,EAAOjpB,EAAA,EAGzBiqB,EACCjqB,GAAcA,IAAeiqB,EACxBltC,EAAA6zE,YAAY3nC,EAAOjpB,IAEnBjjB,EAAA8zE,aAAa5nC,EAAOgB,GACTA,EAAA,KAEfjqB,GAAcA,IAAeiqB,GAChBC,KAIdlqB,GACakqB,GAEjB,EAGI,KAAAsL,OAAOz4C,EAAO0zE,UACnB33E,KAAK2qD,WAAWhP,OAAOv9C,EAAM,YAAag3C,GACrC,KAAAkiC,WAAWrzE,EAAO0zE,UAAY,CAClC51D,KAAM3jB,EACNi2C,QAAAe,EAEF,CAEAsH,MAAAA,CAAOz4C,GACA,MAAA7F,EAAW4B,KAAKs3E,WAAWrzE,GAC9B7F,GACF4B,KAAK2qD,WAAWjO,OAAOt+C,EAAS2jB,KAAM,YAAa3jB,EAASi2C,QAE9D,CAEA2jC,UAAAA,CAAW/zE,GACJ,MAAA7F,EAAiBixB,IACtB,IAAIzvB,EAAQyvB,EAOL,OAJJnwB,SAA4B+4E,oBAAM/4E,SAAS0xE,cAErChxE,EAAAV,SAA4B+4E,kBAAE5oD,IAEhCzvB,CAAA,EAERI,KAAKw3E,wBACLx3E,KAAK27C,OAAO,CACXg8B,SAAU1zE,EAAO0zE,SACjB1kC,OAAQhvC,EAAOgvC,OACf4kC,aAAaA,CAACxoD,EAAmBzvB,KAChC,MAAMuxC,EAAOltC,EAAO0wC,KAAKtlB,EAAOzvB,GAC7BuxC,GACFnxC,KAAKk4E,UAAU95E,EAAcixB,GAAQ8hB,EACtC,EAED2mC,YAAYA,CAACzoD,EAAmBzvB,KAC/B,MAAMuxC,EAAOltC,EAAO0wC,KAAKtlB,EAAOzvB,GAC7BuxC,EACFnxC,KAAKk4E,UAAU95E,EAAcixB,GAAQ8hB,IAErCnxC,KAAKk4E,UAAU/gC,iBACfn3C,KAAK03E,YAAA,EAGPK,aAAaA,KACZ/3E,KAAKk4E,UAAU/gC,iBACfn3C,KAAK03E,WAAA,GAGR,CAEQF,qBAAAA,GACP,MAAMvzE,EAAYjE,KAAKo2E,WAEpBp2E,KAAKk4E,WACPl4E,KAAKk4E,UAAU/gC,iBAEbn3C,KAAK03E,WACP13E,KAAK03E,UAAUvgC,iBAEhBn3C,KAAKu3E,QAAQ95B,OAEbz9C,KAAKk4E,UAAax3C,EAAsBgP,OAAM,CAACtxC,EAAmBixB,MAAA,IAC9DprB,EAAUmyC,UAAU,kBAAmB,CAACh4C,IAC1C4B,KAAKu3E,QAAQ95B,QAER,KAAA85B,QAAQX,WAAWvnD,GACnB,KAAAkoD,QAAQd,KAAKr4E,GACnB,GACE6F,EAAUovC,OAAO8kC,iBAAmB,GAEvCn4E,KAAK03E,UAAah3C,EAAsBgP,OAAM,KAC7C1vC,KAAKk4E,UAAU/gC,iBACfn3C,KAAKu3E,QAAQ95B,MAAA,GACXx5C,EAAUovC,OAAO+kC,sBAAwB,EAC7C,ECnHD,MAAeC,GAAA,CACdC,aCxCc,SAASz4E,GAExBA,EAAUwzC,OAAOklC,iBAAmB,MACpC14E,EAAU24E,mBAAqB,SAASv0E,GACvC,IACI7F,EADQ6F,EAAE0J,OACC0jC,aAAa,kBACxBhiB,EAAMxvB,EAAUwf,KAAKqjD,YAAY7iE,EAAUwzC,OAAO8vB,UAAU,MAChE,GAAI/kE,EAIH,OAHAyB,EAAUy0C,eAAejlB,EAAIjxB,GAAKyB,EAAUwzC,OAAOklC,kBAC/Ct0E,GAAKA,EAAE4T,gBACV5T,EAAE4T,kBAAA,CAGL,EACAhY,EAAU0hB,YAAY,oBAAoB,WACzC,IAAItd,EAAa,SAASorB,EAAKzvB,GAC9BA,EAAWA,GAAayvB,EAAI,cAExBxvB,EAAUusD,UAAU,qBAAsBxsD,KAC7CC,EAAUusD,UAAU,qBAAsBxsD,GAAYC,EAAUusD,UAAUxsD,IAE3E,IAAIuxC,EAAStxC,EAAUusD,UAAU,qBAAsBxsD,GACnDw1C,EAAMv1C,EAAUwf,KAAKusC,YAAY/rD,EAAUwzC,OAAO8vB,UACtDtjE,EAAUusD,UAAUxsD,GAAY,SAASuwC,GACxC,MAAO,sBAAwBiF,EAAIjF,GAAQ,cAAgBgB,EAAOhB,GAAQ,MAC7E,CACA,EAIC,GAFAlsC,EAAW,QACXA,EAAW,GAAI,aACXjE,KAAK2uD,OACR,IAAK,IAAIvwD,KAAO4B,KAAK2uD,OACpB1qD,EAAW7F,GAGb4B,KAAK2tD,gBAAgB3tD,KAAKwuD,KAAM,QAAS3uD,EAAU24E,oBACnD34E,EAAUwgB,MAAMrgB,KAAKwuD,KAAM,QAAS3uD,EAAU24E,mBAC/C,GAEA,EDECC,cEzCc,SAAS54E,GAExBA,EAAUwf,KAAKq5D,kBAAoB,SAASz0E,GAC3C,OAAOpE,EAAUwf,KAAKtgB,IAAIkF,EAAM,EAAG,OACpC,EAEApE,EAAUusD,UAAUusB,mBAAqB,SAAS10E,EAAM7F,EAAIixB,GAC3D,OAAIA,EAAG8kC,OACCn0D,KAAKk8D,SAAS7sC,EAAGg1B,WAAYh1B,EAAGm1B,SAAUn1B,GAAI,IAAIrvB,KAAK0lE,WAAWzhE,GAElEpE,EAAUusD,UAAU8P,SAASj4D,GAAO,YAAYpE,EAAUusD,UAAU8P,SAAS99D,EACtF,EACAyB,EAAUusD,UAAUwsB,mBAAqB,SAAS30E,EAAM7F,EAAIixB,GAC3D,OAAOA,EAAMvP,IACd,EACAjgB,EAAUusD,UAAUysB,mBAAqB,WAAY,MAAO,EAAG,EAE/Dh5E,EAAUwf,KAAKy5D,oBAAoB,WAAY,OAAOj5E,EAAUwf,KAAK6sC,UAAUrsD,EAAUssD,eAAgB,EAEzGtsD,EAAU0hB,YAAY,oBAAmB,WACxC,IAAItd,EAA4BpE,EAAUk5E,sBAC1Cl5E,EAAUk5E,sBAAwB,WACjC,GAAkB,iBAAd/4E,KAAK6xD,OACH7xD,KAAKqzC,OAAOyf,UAAY9yD,KAAKqzC,OAAO4gB,iBACxCj0D,KAAKyzD,mBAEN,GAAIxvD,EACH,OAAOA,EAA0BkL,MAAMnP,KAAMzB,UAEjD,EAGC,IAAIH,EAAMyB,EAAUynE,YACpBznE,EAAUynE,YAAY,SAASn2B,GAC9B,GAAkB,iBAAdnxC,KAAK6xD,MAGR,OAAOzzD,EAAI+Q,MAAMnP,KAAKzB,WAFtBqB,GAGH,EAEC,IAAIyvB,EAAuBxvB,EAAUo4D,iBA4BrC,SAASr4D,IAGR,IAAIuxC,EAAStxC,EAAUknE,qBACvB51B,EAAOuI,MAAK,SAAS35C,EAAE5B,GAAI,OAAO4B,EAAEskD,WAAWlmD,EAAEkmD,WAAW,IAAK,IAMjE,IAAK,IAHDjP,EAEAjF,EAAK,gCAHOtwC,EAAUg+C,SAASkf,uBAGgB,IAC1C51C,EAAE,EAAGA,EAAEgqB,EAAO3yC,OAAQ2oB,IAAI,CAClC,IAAID,EAAKiqB,EAAOhqB,GACZiqB,EAAYlqB,EAAG9H,MAAO,oCAAoC8H,EAAG9H,MAAM,IAAK,GACxE9gB,EAAS4oB,EAAG8iD,UAAW,+BAA+B9iD,EAAG8iD,UAAU,IAAK,GACxE1iD,EAAWznB,EAAUusD,UAAUyZ,YAAY3+C,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAE3EkuB,EAAwBv1C,EAAUg+C,SAASmf,sBAAsB91C,GACjE,IAAIvnB,EAA0BE,EAAUg+C,SAASof,yBAEjD9sB,GAAM,QAAQiF,EAAsB,2BAA2B9tB,EAAS,IAAIA,EAAS,IACnF,eAAeJ,EAAG1Q,GAAG,KAAK3W,EAAUwzC,OAAO6xB,gBAAgB,KAAKh+C,EAAG1Q,GAAG,YAAYlY,EAAS8yC,GAC1FlqB,EAAG68B,aAAa,IAAI,yCACpBlkD,EAAUwzC,OAAO0b,IAAMlvD,EAAUusD,UAAU4sB,YAAY9xD,EAAGs9B,SAASt9B,EAAGm9B,WAAYn9B,GAAIrnB,EAAUusD,UAAU4sB,YAAY9xD,EAAGm9B,WAAYn9B,EAAGs9B,SAASt9B,IAClJ,SACFipB,GAAA,QAAAjqB,OAAcvmB,EAAA,8iBAGdwwC,GAAM,SAAStwC,EAAUusD,UAAU6sB,YAAY/xD,EAAGm9B,WAAYn9B,EAAGs9B,SAAUt9B,GAAI,eAC/E,CACDipB,GAAM,yCAGNtwC,EAAU21C,KAAmBqd,aAAE,GAAGzqD,UAAY+nC,EAC9CtwC,EAAU21C,KAAmBqd,aAAE,GAAGrU,WAAW,GAAGn6B,UAAYxkB,EAAUq5E,kBAAkB,EAGxF,IAAI9pE,EAAcvP,EAAU21C,KAAmBqd,aAAE,GAAGrU,WAAW,GAChDpvC,EAAYovC,WAAWpvC,EAAYovC,WAAWhgD,OAAO,GAC3DuN,MAAMmR,OAAU9N,EAAYsoC,aAAe73C,EAAU21C,KAAmBqd,aAAE,GAAGnb,aAAgB,OAAUtoC,EAAYsoC,aAAa,KAEzI,IAAI1zC,EAAEnE,EAAU21C,KAAmBqd,aAAE,GAAGtqD,WAAWi2C,WAE/C1+C,EAAcD,EAAUi6D,qBAM5B,IALGh6D,IACFA,EAAYsI,UAAUvI,EAAUusD,UAAU+sB,YAAYt5E,EAAUmyD,UAAWnyD,EAAUqyD,UAAWryD,EAAUgyD,QAG3GhyD,EAAU+mE,UAAU,GACXz/C,EAAE,EAAGA,EAAInjB,EAAExF,OAAO,EAAG2oB,IAC7BtnB,EAAU+mE,UAAUz/C,GAAGnjB,EAAEmjB,EAE1B,CA9EDtnB,EAAUo4D,iBAAmB,WAK5B,MAJiB,iBAAdj4D,KAAK6xD,QACPhyD,EAAUq5E,iBAAmBr5E,EAAU21C,KAAmBqd,aAAE,GAAGrU,WAAW,GAAGn6B,UAC7ExkB,EAAU21C,KAAmBqd,aAAE,GAAGrU,WAAW,GAAGn6B,UAAY,GAEtDgL,EAAqBlgB,MAAMnP,KAAKzB,UACzC,EA0ECsB,EAAUu5E,mBAAmB,SAASjoC,GACrCtxC,EAAUmyD,UAAYnyD,EAAUwzC,OAAOgmC,cAAcx5E,EAAUwf,KAAKy5D,oBAAoBj5E,EAAUiyD,OAClGjyD,EAAUqyD,UAAYryD,EAAUwzC,OAAOimC,YAAYz5E,EAAUwf,KAAKq5D,kBAAkB74E,EAAUmyD,UAAW,GAxE1G,SAAuB5c,GACtB,GAAIA,EAAK,CACR,IAAIjF,EAAItwC,EAAUgd,OAAOqhC,OAErB/2B,EAAUtnB,EAAUg+C,SAAS+e,uBAC7B11C,EAAarnB,EAAUg+C,SAASgf,qBAAqB1sB,EAAE9wB,MACvD+xB,EAAoBvxC,EAAUg+C,SAASif,4BAA4B3sB,EAAE8X,aAEzEpoD,EAAU21C,KAAqB+a,eAAE,GAAGnoD,UAAU,QAAQ+e,EAAR,wDACrCD,EAAW,IAAIipB,EAAE9wB,KADoB,sEAEmB+xB,EAAkB,IAAIjB,EAAE8X,YAF3C,gBAI9CpoD,EAAUwwD,aAAY,EACtBxwD,EAAUuvD,WACV,CACD,CAfD,CA0Eeje,GACVA,GACHtxC,EAAUw0D,MAAQ,KAClBx0D,EAAU80D,OAAS,KACnB90D,EAAUwwD,aAAc,EAExBzwD,KAEAC,EAAUwwD,aAAc,CAG3B,CACA,GAGA,EFlGCkpB,YG1Cc,SAAS15E,GAEvBA,EAAUwf,KAAKm6D,WAAa,SAAS55E,EAAMuxC,GAC1C,OAAOtxC,EAAUwf,KAAKtgB,IAAIa,EAAM,EAAEuxC,EAAK,QACzC,EAECtxC,EAAUusD,UAAU4sB,YAAc,SAASp5E,EAAMuxC,EAAIiE,GACpD,OAAIA,EAAG+e,OAAA,GAAAjuC,OACIlmB,KAAK0lE,WAAW9lE,GAAA,OAAAsmB,OAAYlmB,KAAK0lE,WAAWv0B,IAE/CtxC,EAAUgd,OAAOqhC,OAAOgJ,QAElC,EACCrnD,EAAUusD,UAAU6sB,YAAc,SAASr5E,EAAMuxC,EAAIiE,GACpD,OAAOA,EAAGt1B,IACZ,EAEC,MAAM7b,EAAepE,EAAUwf,KAAKusC,YAAY,SAC1CxtD,EAAcyB,EAAUwf,KAAKusC,YAAY,MAE/C/rD,EAAUusD,UAAUqtB,WAAa,SAAS75E,GACzC,MAAO,oCAAPsmB,OAA2CjiB,EAAarE,GACtB,gDAAAsmB,OAAA9nB,EAAYwB,GAChD,WACCC,EAAUusD,UAAU+sB,YAAc,SAASv5E,EAAOuxC,GACjD,OAAOtxC,EAAUusD,UAAU0W,WAAWjjE,EAAUs0C,WAAW90B,KAC7D,EAECxf,EAAUwf,KAAKg6D,aAAa,SAASz5E,GACpC,OAAOC,EAAUwf,KAAK4sC,YAAY,IAAIxzC,KAAK7Y,GAC7C,EAEC,IAAIyvB,EAAY,EAEhBxvB,EAAU0hB,YAAY,oBAAmB,WACxC,IAAI3hB,EAA4BC,EAAUk5E,sBAC1Cl5E,EAAUk5E,sBAAwB,WACjC,GAAkB,UAAd/4E,KAAK6xD,OACH7xD,KAAKqzC,OAAOyf,UAAY9yD,KAAKqzC,OAAO4gB,iBACxCj0D,KAAKyzD,mBAEN,GAAI7zD,EACH,OAAOA,EAA0BuP,MAAMnP,KAAMzB,UAElD,EAGE,IAAI4yC,EAAMtxC,EAAUynE,YACpBznE,EAAUynE,YAAY,SAASpgD,GAC9B,GAAkB,UAAdlnB,KAAK6xD,MAGR,OAAO1gB,EAAIhiC,MAAMnP,KAAKzB,WAFtB4xC,GAGJ,EAEE,IAAIiF,EAAuBv1C,EAAUo4D,iBASrC,SAAS9nB,IACR,MAAMjpB,EAASrnB,EAAUknE,qBACzB7/C,EAAOwyB,MAAK,SAAS55C,EAAEC,GAAI,OAAOD,EAAEukD,WAAWtkD,EAAEskD,WAAW,IAAK,IAEjE,MAAMjT,EAAe,CAAC,EACtB,IAAI9yC,EAAWuB,EAAUs0C,WAAW4d,SACpC,MAAMzqC,EAAUznB,EAAUs0C,WAAW8d,SACrC,KAAM3zD,EAAS+J,UAAYif,EAAQjf,WAClC+oC,EAAa9yC,EAAS+J,WAAa,GACnC/J,EAAWuB,EAAUwf,KAAKtgB,IAAIT,EAAU,EAAG,OAG5C,IAAIqB,GAAA,EAaJ,GAXAunB,EAAOvmB,SAASb,IACf,IAAIC,EAAaF,EAAUwf,KAAK2sC,UAAU,IAAIvzC,KAAK3Y,EAAGukD,aACtD,KAAOtkD,EAAWsI,UAAYvI,EAAG0kD,SAASn8C,WACrC+oC,EAAarxC,EAAWsI,aAC3B+oC,EAAarxC,EAAWsI,WAAWkG,KAAKzO,GACxCH,GAAY,GAEbI,EAAaF,EAAUwf,KAAK2sC,UAAUnsD,EAAUwf,KAAKtgB,IAAIgB,EAAY,EAAG,OAAO,IAI7EJ,EAEC,CACJ,IAAIG,EAAO,GACX,QAAQC,KAAOqxC,EACdtxC,GAAQqnB,EAAU,IAAI1O,KAAS,EAAJ1Y,GAAQqxC,EAAarxC,IAGjDF,EAAU21C,KAAmBqd,aAAE,GAAGzqD,UAAYtI,CAC9C,MARAD,EAAU21C,KAAmBqd,aAAE,GAAGzqD,UAAA,yCAAA8d,OAsBarmB,EAAUgd,OAAOqhC,OAAO8J,WAAA,UAZxEnoD,EAAU21C,KAAmBqd,aAAE,GAAGxuC,UAAYgL,EAE9C,IAAIjgB,EAAIvP,EAAU21C,KAAmBqd,aAAE,GAAGtqB,iBAAiB,8BAC3D1oC,EAAU+mE,UAAY,GACtB,IAAK,IAAI5iE,EAAI,EAAGA,EAAIoL,EAAE5Q,OAAS,EAAGwF,IACjCnE,EAAU+mE,UAAU5iE,GAAKoL,EAAEpL,EAE5B,CAQD,SAASmjB,EAAUD,EAAKkqB,GACvB,IAAIA,EAAO5yC,OACV,MAAO,GAER,IAAIF,EAAA,gFAAA4nB,OAEmCrmB,EAAUusD,UAAUqtB,WAAWvyD,GAStE,8DALAkqB,EAAOzwC,SAAS2mB,IACfhpB,GAOF,SAAwBqB,EAAKyP,GAC5B,MAAMpL,EAAQnE,EAAUusD,UAAU4sB,YAAY5pE,EAAci1C,WAAYj1C,EAAco1C,SAAUp1C,GAC1FtP,EAAaD,EAAUs0C,WAAWoe,UAClCxyD,EAAMF,EAAUusD,UAAUyZ,YAAYz2D,EAAci1C,WAAYj1C,EAAco1C,SAAUp1C,GACxFjR,EAAc0B,EAAUusD,UAAU6sB,YAAY7pE,EAAci1C,WAAYj1C,EAAco1C,SAAUp1C,GAEtG,IAAIkgB,EAAQ,GACZ,OAAGlgB,EAAcgQ,OAAShQ,EAAc46D,aAGvC16C,EAAA,WAAApJ,OAFY9W,EAAcgQ,MAAS,oCAAsChQ,EAAcgQ,MAAQ,IAAO,IACvF8G,OAAA9W,EAAc46D,UAAa,+BAAiC56D,EAAc46D,UAAY,IAAO,GAE5G,gDAAA9jD,OAE+CnmB,GAAK,QAAAmmB,OAAM9W,EAAcoH,IAAM1W,EAAa,qCAAuC,GAAO,MAAAomB,OAAAoJ,EAAA,KAAApJ,OAASrmB,EAAUwzC,OAAO6xB,gBAAoB,MAAAh/C,OAAA9W,EAAcoH,GAE1J,8GAAA0P,OAAAliB,EAAA,0DAAAkiB,OACA/nB,EAE5C,kBAlBD,CAPyB,EAAKmpB,EAAc,IAG3ChpB,GAAQ,eACDA,CACP,CA3EDuB,EAAUo4D,iBAAmB,WAK5B,MAJiB,UAAdj4D,KAAK6xD,QACPxiC,EAAYxvB,EAAU21C,KAAmBqd,aAAE,GAAGxuC,UAC9CxkB,EAAU21C,KAAmBqd,aAAE,GAAGxuC,UAAY,GAExC+wB,EAAqBjmC,MAAMnP,KAAKzB,UAC1C,EA2FEsB,EAAU05E,YAAY,SAASryD,GAC1BA,GACHrnB,EAAUmyD,UAAYnyD,EAAUwzC,OAAOgmC,cAAgBx5E,EAAUwf,KAAKg6D,aAAax5E,EAAUiyD,OAC7FjyD,EAAUqyD,UAAYryD,EAAUwzC,OAAOimC,YAAcz5E,EAAUwf,KAAKm6D,WAAW35E,EAAUmyD,UAAW,GACpGnyD,EAAUw0D,MAAQ,KAClBx0D,EAAU80D,OAAS,KACnB90D,EAAUwwD,aAAA,EAESxwD,EAAUi6D,qBAClB1xD,UAAYvI,EAAUusD,UAAU+sB,YAAYt5E,EAAUiyD,OAEjE3hB,KAEAtwC,EAAUwwD,aAAc,CAG5B,CACA,GAeA,EH9IC2G,UI3Cc,SAASn3D,GAEvBA,EAAUwzC,OAAO2jB,UAAY,QAC7Bn3D,EAAUwzC,OAAOqmC,iBAAkB,EAEnC,IAAIz1E,EAAiB,SAAUksC,GAC9B,SAAMA,EAAGqU,SAAWrU,EAAGkU,YAAA,MAA4B,KAKxB,UAAxBxkD,EAAU+yD,YAA0B/yD,EAAU6yD,UAAYviB,EAAG35B,EAIlE,EAIC3W,EAAU85E,WAAa,SAASxpC,GAC/B,IAAIhpB,EAAQ,KACXD,EAAOrnB,EAAUqpE,YAAY/4B,GAY9B,OAXGA,EAAMypC,YACRzyD,EAAQtnB,EAAUw8C,SAASlM,EAAMypC,YAG9BzyD,GAASA,EAAM0yD,cAAc1pC,YACzBjpB,EAAK4yD,oBACL5yD,EAAK0yD,iBACL1yD,EAAKi9B,mBACLj9B,EAAKg9B,UAGNh9B,CACT,EAEC,IAAI9oB,EAA4ByB,EAAU4oE,wBACtCp5C,EAA6BxvB,EAAU2oE,yBAEvC5oE,EAAmB,SAAUuwC,EAAKhpB,GACrC,OAAKnnB,KAAKqwD,YAIHhhC,EAA2BhuB,KAAKrB,KAAMmwC,EAAKhpB,GAH1C/oB,EAA0BiD,KAAKrB,KAAMmwC,EAAKhpB,EAIpD,EAECtnB,EAAU4oE,wBAA0B5oE,EAAU2oE,yBAA2B,SAASr4B,EAAKhpB,GACtF,IAAKnnB,KAAKqzC,OAAO2jB,WACfh3D,KAAKqwD,aAA6B,SAAdrwD,KAAK6xD,OACX,SAAd7xD,KAAK6xD,QAAqB7xD,KAAKqzC,OAAOqmC,gBACvC,OAAO95E,EAAiByB,KAAKrB,KAAMmwC,EAAKhpB,GAEzC,IAAK,IAAID,EAAE,EAAGA,EAAIipB,EAAI3xC,OAAQ0oB,IAAK,CAClC,IAAIkqB,EAAGjB,EAAIjpB,GAEX,IAAIkqB,EAAG+iB,OAGP,GAA6B,SAAzBn0D,KAAKqzC,OAAO2jB,WACV/yD,EAAemtC,GADrB,CASA,IAAI9yC,EAAK0B,KAAK25E,WAAWvoC,GACrBA,EAAG2oC,SAGNz7E,EAAGmrE,cAAA,EAFHnrE,EAAGmrE,cAAe,EAInBnrE,EAAG6rE,cAAA,EACH7rE,EAAGy7E,UAAW,EACdz7E,EAAG+lD,WAAa,IAAI5rC,KAAKna,EAAG+lD,YAEvBrgD,EAAiBotC,IAIrB9yC,EAAGkmD,SAAW1kD,EAAWxB,EAAG+lD,YACC,IAAzBrkD,KAAKqzC,OAAO2iB,YACf13D,EAAGkmD,SAAWzkD,EAAYzB,EAAG+lD,WAAYrkD,KAAKqzC,OAAO2iB,aALtD13D,EAAGkmD,SAAW,IAAI/rC,KAAK24B,EAAGoT,UAS3B,IAAIl9B,GAAgB,EAChBhpB,EAAG+lD,WAAarkD,KAAKkyD,WAAa5zD,EAAGkmD,SAAWxkD,KAAKgyD,WAAa1zD,EAAG+lD,WAAa/lD,EAAGkmD,WACxFrU,EAAIjpB,GAAK5oB,EACTgpB,GAAA,GAMD,IAAI3nB,EAAKK,KAAK25E,WAAWvoC,GAQzB,GAPAzxC,EAAGo6E,UAAW,EACdp6E,EAAG6kD,SAAW,IAAI/rC,KAAK9Y,EAAG6kD,UACtB7kD,EAAG0kD,WAAarkD,KAAKgyD,UACxBryD,EAAG0kD,WAAatkD,EAAYC,KAAKgyD,UAAWhyD,KAAKqzC,OAAOugB,YAExDj0D,EAAG0kD,WAAatkD,EAAYD,EAAWsxC,EAAGiT,YAAarkD,KAAKqzC,OAAOugB,YAEhEj0D,EAAG0kD,WAAarkD,KAAKkyD,WAAavyD,EAAG0kD,WAAa1kD,EAAG6kD,SAAU,CAClE,IAAIl9B,EAEE,CACL6oB,EAAIjpB,KAAOvnB,EACX,QACA,CAJAwwC,EAAI7H,OAAOphB,EAAE,EAAE,EAAEvnB,GAKlBA,EAAG+pE,aAAA,CACP,MACIprE,EAAGorE,aAAc,EACjBprE,EAAG6rE,cAAA,CAjDH,KALmB,SAAdnqE,KAAK6xD,OACR1hB,EAAI7H,OAAOphB,IAAK,EAwDnB,CAGD,IAAI9X,EAA6B,QAAnBpP,KAAK4yD,YAA4BzrC,EAC/C,OAAOvnB,EAAiByB,KAAKrB,KAAMmwC,EAAK/gC,GAGxC,SAASpL,EAAiB7F,GACzB,IAAImxB,EAAWxvB,EAAW3B,EAAGkmD,YAC7B,OAASlmD,EAAGqmD,UAAYl1B,CACxB,CACD,SAASxvB,EAAW3B,GACnB,IAAImxB,EAAWzvB,EAAUwf,KAAKtgB,IAAIZ,EAAM,EAAG,OAE3C,OADW0B,EAAUwf,KAAK6sC,UAAU58B,EAEpC,CACD,SAASvvB,EAAY5B,EAAMmxB,GAC1B,IAAI/H,EAAM1nB,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAKta,IAE5C,OADAopB,EAAIusC,SAASxkC,GACN/H,CACP,CACH,EACC,IAAI4pB,EAAyBtxC,EAAUknE,mBACvClnE,EAAUknE,mBAAqB,SAAS52B,GACvC,OAAMnwC,KAAKqzC,OAAO2jB,WAAah3D,KAAKqzC,OAAOgnB,UAEpClpB,EAAuB9vC,KAAKrB,MAAM,GADjCmxC,EAAuB9vC,KAAKrB,KAAMmwC,EAE5C,EACCtwC,EAAU0hB,YAAY,sBAAsB,SAAU4uB,EAAUhpB,EAAUD,EAAMkqB,GAE/E,OADAvxC,EAAUu3D,WAAsB,OAARlwC,GAAyB,QAARA,GAAkBrnB,EAAUs3D,QAAQjwC,IAAA,CAE/E,IAECrnB,EAAUonE,oBAAsB,SAAS92B,GACxC,SAAUA,EAAGgkB,SAAA,IAAUn0D,KAAKqzC,OAAO2jB,WAAgD,SAAzBh3D,KAAKqzC,OAAO2jB,WAAwB/yD,EAAeksC,GAC/G,EAEC,IAAIiF,EAAYv1C,EAAU+xD,YAC1B/xD,EAAU+xD,YAAc,SAASzhB,GAIhC,IACIhpB,EACAD,EAFAkqB,EAAKvxC,EAAUw8C,SAASlM,GAGzBiB,IACFjqB,EAAoBtnB,EAAUwzC,OAAO2jB,aAAen3D,EAAUk4D,cAAcl4D,EAAU07C,QAAQpL,KAAQtwC,EAAUs0C,WAAWse,YAE1HvrC,EAAUrnB,EAAUwzC,OAAOgkB,cAC3Bx3D,EAAUwzC,OAAOgkB,eAAA,GAGnBjiB,EAAUjmC,MAAMtP,EAAWtB,WAExB6yC,GACEjqB,IACHtnB,EAAUwzC,OAAOgkB,cAAgBnwC,EAGrC,CAEA,EJvIC8yD,UK5Cc,SAASn6E,GAExB,IAAIoE,EACA7F,EAIJ,SAASixB,EAAgBzvB,GACLC,EAAUo3D,qBACVr3D,IAClBqE,EAAepE,EAAUw8C,SAASz8C,GAAUC,EAAU87D,yBAExD,CAPA97D,EAAUwzC,OAAO4mC,gBAAkB,EASnCp6E,EAAU0hB,YAAY,gBAAe,SAAS3hB,GAE7C,OADAyvB,EAAgBzvB,IAAA,CAEjB,IACAC,EAAU0hB,YAAY,oBAAmB,SAAS3hB,GACjD,IAAIuxC,EAAKtxC,EAAUw8C,SAASz8C,GAG5B,OAFAxB,EAAS,CAAC+yC,EAAGkT,WAAYlT,EAAGqT,UAC5Bn1B,EAAgBzvB,IACT,CACR,IACAC,EAAU0hB,YAAY,kBAAiB,SAAS3hB,GAC/C,IAAKA,IAAOC,EAAUw8C,SAASz8C,GAAK,SACpC,IAAIuxC,EAAKtxC,EAAUw8C,SAASz8C,GAC5B,IAAKC,EAAUq6E,eAAe/oC,GAAI,CACjC,IAAK/yC,EAAQ,OAAO,EACpB+yC,EAAGkT,WAAajmD,EAAO,GACvB+yC,EAAGqT,SAAWpmD,EAAO,GACrB+yC,EAAGgjB,OAAOn0D,KAAK+3D,cAAc5mB,EAC7B,CACD,OAAO,CACR,IACAtxC,EAAU0hB,YAAY,wBAAuB,SAAS3hB,EAAGuxC,EAAEiE,GAC1D,OAAOv1C,EAAUq6E,eAAet6E,EACjC,IACAC,EAAU0hB,YAAY,gBAAe,SAAS3hB,EAAGuxC,GACnCtxC,EAAUq6E,eAAe/oC,IAErCtxC,EAAU28C,YAAY58C,EACxB,IACAC,EAAU0hB,YAAY,eAAc,SAAS3hB,EAAIuxC,EAAWiE,GAK3D,IAJAjE,EAAYtxC,EAAU23D,YAAYrmB,IACxB36B,GAAK5W,GAGVuxC,EAAUkT,aAAclT,EAAUqT,SAAU,CAChD,IAAIrU,EAAKtwC,EAAUw8C,SAASz8C,GAC5BuxC,EAAUkT,WAAa,IAAI5rC,KAAK03B,EAAGkU,YACnClT,EAAUqT,SAAW,IAAI/rC,KAAK03B,EAAGqU,SACjC,CAKD,OAHGrT,EAAU+S,UACZrkD,EAAUs6E,iBAAiBhpC,GAErBtxC,EAAUq6E,eAAe/oC,EACjC,IAEAtxC,EAAUu6E,0BAA4B,SAASx6E,EAAOuxC,GACrD,IAAIiE,EAASv1C,EAAU87D,wBACvB,OAAI/7D,EAAMw1C,IAAWjE,EAAOiE,IAAWx1C,EAAM4W,IAAM26B,EAAO36B,EAG3D,EAEA3W,EAAUq6E,eAAiB,SAASt6E,GACnC,IAAIuxC,EAAM,GACNiE,EAAkBv1C,EAAUwzC,OAAO4mC,gBAEvC,GAAIr6E,EAAGskD,SAEN,QADI/T,EAAYtwC,EAAUw6E,YAAYz6E,GAC9BunB,EAAE,EAAGA,EAAEgpB,EAAU3xC,OAAQ2oB,IAEhC,QADID,EAAOrnB,EAAU+nE,UAAUz3B,EAAUhpB,GAAGk9B,WAAYlU,EAAUhpB,GAAGq9B,UAC7DpT,EAAE,EAAGA,EAAElqB,EAAK1oB,OAAQ4yC,KACtBlqB,EAAKkqB,GAAGwoC,WAAa1yD,EAAKkqB,GAAG56B,KAAO5W,EAAG4W,IAC3C26B,EAAI5iC,KAAK2Y,EAAKkqB,QAGX,CACND,EAAMtxC,EAAU+nE,UAAUhoE,EAAGykD,WAAYzkD,EAAG4kD,UAC5C,IAAK,IAAIlmD,EAAE,EAAGA,EAAE6yC,EAAI3yC,OAAQF,IAAK,CAChC,IAAIgpB,EAAa6pB,EAAI7yC,GAErB,GAAIgpB,EAAW9Q,IAAM5W,EAAG4W,IAAO8Q,EAAWwyD,cAAgB,CAACxyD,EAAWsyD,UAAWtyD,EAAWwyD,cAAcrrD,KAAK,MAAQ7uB,EAAG4W,GAAK,CAC9H26B,EAAI7I,OAAOhqC,EAAE,GACb,KACA,CACD,CACD,CAED,IAAIqB,EAAeE,EAAUo3D,oBACzB7nD,EAASvP,EAAU87D,wBAEnB33D,GAAA,EACJ,GAAIrE,EAAc,CACjB,IAAIG,EAAQ,EAEZ,IAASxB,EAAI,EAAGA,EAAI6yC,EAAI3yC,OAAQF,IAC3B6yC,EAAI7yC,GAAGkY,IAAM5W,EAAG4W,IAAMxW,KAAKo6E,0BAA0BjpC,EAAI7yC,GAAIsB,IAChEE,IAGEA,GAASs1C,IAEZpxC,GAAS,EAEV,MAEKmtC,EAAI3yC,QAAU42C,IAClBpxC,GAAS,GAEX,IAAKA,EAAQ,CACZ,IAAIjE,GAAOF,EAAUu2C,UAAU,mBAAmB,CAACx2C,EAAGuxC,IAItD,OAHKpxC,IACJH,EAAGwP,GAAUnL,GAAcrE,EAAGwP,IAExBrP,CACP,CACD,OAAOiE,CAER,CAEA,EL/ECs2E,qBM7Cc,SAASz6E,GAEvBA,EAAUwzC,OAAOinC,sBAAA,EACjBz6E,EAAUwzC,OAAOknC,qBAAuB,GACxC16E,EAAUwzC,OAAOmnC,cAAgB,GACjC36E,EAAUwzC,OAAOonC,aAAe,IAEhC,IAAIx2E,EAAuBpE,EAAUkoE,mBAGjC3pE,GAAA,EACAixB,EAAe,EACfzvB,EAAkB,EAEtBC,EAAUkoE,mBAAqB,SAAS32B,EAAK9yC,GAC5C,IAAMuB,EAAUwzC,OAAOinC,uBAAwBl8E,EAC9C,OAAO6F,EAAqBkL,MAAMnP,KAAMzB,WAGzC,IAAI+oB,EAAKtnB,KAAKq1C,GAAGka,WACb5vD,EAAQK,KAAK20D,OAAOG,QACpB1lD,EAAIpP,KAAK20D,OAAOG,QAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7C9wD,EAAOhE,KAAKw1C,KAAmBqd,aAAE,GAOrC,GAFCzhB,EAHIpxC,KAAKqwD,YAGHrwD,KAAKwoE,yBAAyBp3B,EAAK9yC,GAFnC0B,KAAKyoE,wBAAwBr3B,EAAK9yC,GAIrC0B,KAAKqwD,YACR,GAAI/xD,EACH0B,KAAK20D,OAAOG,QAAUn1D,MAChB,CACN,IAAIG,EAAMkE,EAAKuE,WACf,MAAMgiB,EAAOzqB,EAAIyoC,iBAAiB,sBAClC,GAAIhe,EAAM,CACT,IAAK,IAAIxqB,EAAI,EAAGA,EAAIwqB,EAAK/rB,OAAQuB,IAAK,CAGrC,GAFAqP,EAAErP,KAEGqP,EAAErP,GAAMunB,EAAKtnB,KAAK20D,OAAOz3C,OAASld,KAAKq1C,GAAG2a,kBAAmB,CAEjE,IAAI7xD,EAAQosB,EAAKxqB,GAAGwoC,iBAAiB,uBAEjCjZ,EAAUtvB,KAAK20D,OAAOz3C,OAASld,KAAKq1C,GAAG2a,kBACX,EAA7BhwD,KAAKqzC,OAAO40B,mBAAuBjoE,KAAKqzC,OAAO40B,kBAAoB74D,EAAErP,IAAMC,KAAKqzC,OAAO40B,iBACzF34C,EAAUlgB,EAAErP,GAAKunB,GACPtnB,KAAKqzC,OAAO40B,iBAAmB,GAAK3gD,EAAKtnB,KAAK20D,OAAOz3C,OAASld,KAAKq1C,GAAG2a,oBAChF1gC,GAAWtvB,KAAKqzC,OAAO40B,iBAAmB,GAAK3gD,GAGhDiD,EAAKxqB,GAAGgM,MAAMmR,OAAUoS,EAAUtvB,KAAKq1C,GAAG2a,kBAAqB,KAG/D,IAAK,IAAIzoC,EAAI,EAAGA,EAAIppB,EAAMK,OAAQ+oB,IACjCppB,EAAMopB,GAAGi3B,WAAW,GAAGzyC,MAAMmR,OAASoS,EAAU,KAEjDlgB,EAAErP,IAAMqP,EAAErP,EAAI,IAAM,GAAK5B,EAAM,GAAGu5C,YAClC,CAEDtoC,EAAErP,IAAMqP,EAAErP,EAAI,IAAM,GAAKwqB,EAAKxqB,GAAGwoC,iBAAiB,uBAAuB,GAAGmP,YAC5E,CACDtoC,EAAEiZ,QAAQ,GACNvoB,EAAIgO,WAAW4pC,aAAe53C,EAAIgO,WAAW46D,cAAiB5oE,EAAI46E,MAK3E,SACUtpC,EAAI5yC,QAA4D,WAAlDwB,KAAKw1C,KAAoB4xB,cAAE,GAAGr7D,MAAMyrC,aACtDpoC,EAAE,IAAM,GACLgiC,EAAI5yC,SAAmB,GAAT4Q,EAAE,GAAU,CAG7B,IAAI/Q,GAAO+Q,EAAE,GAAK,GAAKkY,EAAK,EACzB1nB,GAAmBvB,EAAK,IAC1B2B,KAAKwuD,KAAKziD,MAAMmR,OAAUmS,EAAezvB,EAAkBvB,EAAK,EAAK,MAEtEA,GAAM,KACN,MAAMkoB,EAAYvmB,KAAKw1C,KAAsBob,gBAAE,GAAGlZ,aAC5CrwB,EAAgBrnB,KAAKw1C,KAAqB+a,eAAE,GAAG7Y,aACrD1zC,EAAK+H,MAAMmR,OAAUld,KAAKwuD,KAAK9W,aAAenxB,EAAYc,GAAgBrnB,KAAKq1C,GAAGwa,YAAc,GAAM,KACtG,IAAI3rD,EAAOlE,KAAKw1C,KAAoB4xB,cAAE,GACtCljE,EAAK6H,MAAMmR,OAAS7e,EACpB6F,EAAK6H,MAAMyrC,YAAuB,GAATpoC,EAAE,GAAW,SAAW,WACjDlL,EAAOlE,KAAKw1C,KAAoB4xB,cAAE,IAC7Br7D,MAAMmR,OAAS7e,EACpB6F,EAAK6H,MAAMyrC,YAAuB,GAATpoC,EAAE,GAAW,SAAW,UACrB,UAAzBlL,EAAK6H,MAAMyrC,WACbtzC,EAAK6H,MAAMw2B,QAAU,OAErBr+B,EAAK6H,MAAMw2B,QAAU,GAEtBr+B,EAAKgxC,UAAY9lC,EAAE,GAAK,qBAAuB,2BAC/CpP,KAAK64D,WAAazpD,EAAE,GAAK,GAAKkY,EAC9BlY,EAAE,GAAK,CACP,CAEF,CAGF,OAAOgiC,CACT,EAEC,IAAID,EAAe,CAAC,kBAAmB,iBAAkB,gBAAiB,gBACtEiE,EAAyB,SAAShE,GACrC/hB,EAAe,EACf,IAAK,IAAI/wB,EAAI,EAAGA,EAAI6yC,EAAa3yC,OAAQF,IAAK,CAE7C,IAAIgpB,EAAY6pB,EAAa7yC,GACzBqB,EAAeE,EAAU21C,KAAKluB,GAAcznB,EAAU21C,KAAKluB,GAAW,GAAK,KAC3ElY,EAAS,EACb,OAAQkY,GACP,IAAK,kBACL,IAAK,iBACJlY,EAASzP,EAAY+3C,aACrB,MACD,IAAK,gBACJtoC,EAASzP,EAAgBA,EAAY+3C,aAAe,EAAI,EACxD93C,EAAkBwP,EAClB,MACD,IAAK,eACJ,IAAIpL,EAAOnE,EAAUs0C,WAAWzmB,KAEhC,GAAG/tB,EAAY6+C,WAAW,IAAc,SAARx6C,EAAiB,CAChD,IAAI2vB,EAAY,EAChB,QAAQzwB,EAAI,EAAGA,EAAIvD,EAAY6+C,WAAWhgD,OAAQ0E,IAC9CvD,EAAY6+C,WAAWt7C,GAAGw0C,aAAe/jB,IAC3CA,EAAYh0B,EAAY6+C,WAAWt7C,GAAGw0C,cAGxCtoC,EAASukB,CACT,MAEAvkB,EAAS+C,KAAK0+C,IAAIlxD,EAAY+3C,aAAe,EAAG/3C,EAAY+oE,cAE7D,GAAY,SAAR1kE,EACCnE,EAAUwzC,OAAOknC,uBAAyBnpC,IAE7ChiC,EADkBzP,EAAY4oC,iBAAiB,sBAAsB/pC,OAC9CqB,EAAUwzC,OAAOknC,sBAErCnpC,IACHzxC,EAAYoM,MAAMmR,OAAS9N,EAAS,cAGrB,QAARpL,EACRoL,EAAS,IAAMvP,EAAUwzC,OAAOsnC,YAAA,GAEjB,UAAR32E,EAAiB,CAExB,GADAoL,EAAS,EACNzP,EAAY6+C,YAAc7+C,EAAY6+C,WAAWhgD,OACnD,QAAQsB,EAAI,EAAGA,EAAIH,EAAY6+C,WAAWhgD,OAAQsB,IACjDsP,GAAUzP,EAAY6+C,WAAW1+C,GAAG43C,aAInCtoC,EAAS,EAAIvP,EAAUwzC,OAAOmnC,cAChCprE,EAASvP,EAAUwzC,OAAOmnC,cAG1BprE,GAAU,CAEX,SACgB,eAARpL,EAAsB,CAK9B,QAHCjE,EAEG5B,EAHAmxB,EAAazvB,EAAUw1C,GAAGulC,yBAA2B/6E,EAAUwzC,OAAOmnC,cAIlEjzD,EAAI,EAAGA,EAAI5nB,EAAY6+C,WAAWhgD,OAAQ+oB,IAEjD,IADAppB,EAASwB,EAAY6+C,WAAWj3B,GACxBznB,EAAI,EAAGA,EAAI3B,EAAOqgD,WAAWhgD,OAAQsB,IAAK,CAIjD,QAHIzB,EAAc,EACjB6F,EAAkB/F,EAAOqgD,WAAW1+C,GAAG0+C,WAAW,GAE3Cj0B,EAAG,EAAGA,EAAIrmB,EAAgBs6C,WAAWhgD,OAAQ+rB,IACpDlsB,GAAe6F,EAAgBs6C,WAAWj0B,GAAGmtB,aAG9C33C,EAAa1B,EAAcwB,EAAUw1C,GAAGulC,0BACxC76E,EAAmB,GAALwnB,GAAgB,GAALznB,GAAe,GAALA,EAA4BC,EAAJ,EAAbA,GAE7BuvB,IAChBA,EAAavvB,EAEd,CAGFqP,EAAsB,EAAbkgB,CACT,SACe,OAARtrB,EAAe,CACtBoL,EAAS,EACT,IAAImX,EAAM5mB,EAAY4oC,iBAAiB,iBAEvC,IAASzoC,EAAI,EAAGA,EAAIymB,EAAI/nB,OAAQsB,IAC/BsP,GAAUmX,EAAIzmB,GAAG43C,aAGdtoC,EAAS,EAAIvP,EAAUwzC,OAAOonC,aACjCrrE,EAASvP,EAAUwzC,OAAOonC,aAG1BrrE,GAAU,CAEX,SACOvP,EAAUg7E,UAGjB,GAFAzrE,EAAS,EAELzP,EAAY6+C,WAAW,GAAGA,WAAW,GAAGA,YAAc7+C,EAAY6+C,WAAW,GAAGA,WAAW,GAAGA,WAAWhgD,OAAQ,CAGpH,IAFI+nB,EAAM5mB,EAAY6+C,WAAW,GAAGA,WAAW,GAAGA,WAAW,GAAGA,WAEvD1+C,EAAI,EAAGA,EAAIymB,EAAI/nB,OAAQsB,IAC/BsP,GAAUmX,EAAIzmB,GAAG43C,cAGlBtoC,GAAU,GAEEvP,EAAUwzC,OAAOmnC,gBAC5BprE,EAASvP,EAAUwzC,OAAOmnC,cAE3B,MAEAprE,EAASvP,EAAUwzC,OAAOmnC,cAI5B,GAAI36E,EAAU8uD,QAAU9uD,EAAU8uD,OAAO3qD,GAAO,CAC/C,GAAIotC,EACHhiC,GAAU,EACVzP,EAAYoM,MAAMmR,OAAS9N,EAAS,SAC9B,CACNA,EAAS,EAGT,QAFIiY,EAAMxnB,EAAU8uD,OAAO3qD,GACvBs7B,EAAOjY,EAAIyzD,OACPlnD,EAAE,EAAGA,EAAI0L,EAAK9gC,OAAQo1B,IAC7BxkB,GAAUiY,EAAI0zD,iBAAiBz7C,EAAK1L,GAAGrX,KAGrC1c,EAAUm1C,WAAW6Y,aAAehuD,EAAUm1C,WAAWgmC,cAC3D5rE,GAAU8X,IAEX,CACD9X,GAAU,CACV,EACW,OAARpL,GAAyB,QAARA,GAAmBnE,EAAU+uD,QAAU/uD,EAAU+uD,OAAO5qD,MAC5EoL,GAAU,GAKbigB,GADAjgB,GAAU,CAEV,CACDvP,EAAU2uD,KAAKziD,MAAMmR,OAASmS,EAAiB,KAE1C+hB,GACJvxC,EAAUouD,YACb,EAEC,SAAS9d,IACR/xC,GAAS,EACTyB,EAAUu2C,UAAU,yBAA0B,IAC9Ch4C,GAAS,CACT,CAED,IAAI+oB,EAAmC,WACtC,IAAKtnB,EAAUwzC,OAAOinC,uBAAwBl8E,EAC7C,OAAO,EAER,IAAIgzC,EAAOvxC,EAAUs0C,WAAWzmB,KAEhC,IAAI0jB,EACH,OAAO,EAGR,IAAI9yC,EAAeW,OAAOg8E,uBAAyBh8E,OAAO+pB,WACtD1B,EAAYpoB,SAAS4jB,gBAAgBuB,UAEzC/lB,GAAa,YACTuB,EAAUkuD,YAAeluD,EAAUwvD,cAGtCja,GACH,IAEQv1C,EAAU8uD,QAAU9uD,EAAU8uD,OAAOvd,IAAkB,SAARA,EACpD9yC,GAAa,YACTuB,EAAUkuD,YAAeluD,EAAUwvD,eAGtCja,GAAA,GACAl2C,SAAS4jB,gBAAgBuB,UAAYiD,EACrC6oB,IACA,GAAE,GAEHA,GAEH,EA8CC,SAASjpB,IACR,IAAIkqB,EAAMlyC,SAASC,cAAc,OACjCiyC,EAAIrlC,MAAM+3C,QAAU,uIAEpB5kD,SAASgH,KAAKuC,YAAY2oC,GAC1B,IAAI9yC,EAAO8yC,EAAIgJ,YAAchJ,EAAIyc,YAEjC,OADA3uD,SAASgH,KAAKsC,YAAY4oC,GACnB9yC,CACP,CApDDuB,EAAU0hB,YAAY,sBAAsB,WAC3C,IAAI6vB,EAAkBvxC,EAAUwzC,OAAOinC,qBAOvC,GANIz6E,EAAUw1C,GAAG6lC,yBAChBr7E,EAAUw1C,GAAG6lC,uBAAyBr7E,EAAUw1C,GAAGoa,cAGpD5vD,EAAUw1C,GAAGoa,aAAere,EAAkB,EAAIvxC,EAAUw1C,GAAG6lC,uBAE5Dr7E,EAAU8uD,OACZ,QAAQrwD,KAAKuB,EAAU8uD,OAAO,CAC7B,IAAIrnC,EAAWznB,EAAU8uD,OAAOrwD,GAC5BgpB,EAAS6zD,+BACZ7zD,EAAS6zD,6BAA+B7zD,EAAS8zD,oBAGjD9zD,EAAS8zD,oBADPhqC,GAG4B9pB,EAAS6zD,4BAExC,CAEF,OAAO,CACT,IAECt7E,EAAU0hB,YAAY,eAAgB4F,GACtCtnB,EAAU0hB,YAAY,QAAS4F,GAC/BtnB,EAAU0hB,YAAY,iBAAkB4F,GACxCtnB,EAAU0hB,YAAY,iBAAkB4F,GACxCtnB,EAAU0hB,YAAY,eAAgB4F,GACtCtnB,EAAU0hB,YAAY,iBAAkB4F,GACxCtnB,EAAU0hB,YAAY,yBAA0B4F,GAChDtnB,EAAU0hB,YAAY,aAAc4F,GAGpCtnB,EAAU0hB,YAAY,kBAAkB,WAEvC,OADAnjB,GAAA,IAEF,IAECyB,EAAU0hB,YAAY,oBAAoB,WAEzC,OADAnjB,GAAA,GACO,CACT,GAaA,ENjTCi9E,OO9Cc,SAASx7E,GAoBvB,SAASoE,EAAcrE,GACtB,OAAQA,EAAU4uD,KAAKh4C,IAAM,aAAe,WAC5C,CAED,IAAIpY,GAAQ,EACZyB,EAAU0hB,YAAY,sBAAqB,SAAS3hB,EAAQuxC,EAAQiE,EAAKjF,GAExE,GAAI/xC,GAASyB,EAAUy7E,aAAa,CACnC,IAAIn0D,EAAsBtnB,EAAUy7E,gBACjCn0D,EAAoB9H,MAAQ8H,EAAoBuG,MAAQvG,EAAoB9G,SAC9EjiB,GAAA,EAED,CAED,IAAI8oB,EAASjjB,EAAcpE,GAE3B,GAAIzB,EAAM,CACTA,GAAA,EACA,IAAIgzC,EAjCN,SAAmB9pB,GAClB,IAAI3nB,EAAS2nB,EAAO,IACpB,GAAIpoB,SAASm8E,OAAO78E,OAAS,EAAG,CAC/B,IAAI4Q,EAASlQ,SAASm8E,OAAOrvE,QAAQrM,GACrC,IAAe,GAAXyP,EAAc,CACjBA,GAAUzP,EAAOnB,OACjB,IAAIwF,EAAM9E,SAASm8E,OAAOrvE,QAAQ,IAAKoD,GAGvC,OAFY,GAARpL,IACHA,EAAM9E,SAASm8E,OAAO78E,QAChBU,SAASm8E,OAAOjvE,UAAUgD,EAAQpL,EACzC,CACD,CACD,MAAO,EACP,CAbD,CAiCkCkjB,GAChC,GAAIkqB,EAAgB,CAEfvxC,EAAUmyD,YAGbnyD,EAAUmyD,UAAY7hB,IAGvBiB,EAAkBmqC,SAASnqC,GAAiB1wC,MAAM,MAClC,GAAKV,KAAKskD,SAASC,UAAUnT,EAAgB,IAC7D,IAAI9yC,EAAO0B,KAAKw4D,aAAapnB,EAAgB,IAAMA,EAAgB,GAAKgE,EACvE,OAAAjF,EAAQhvC,OAAOiwC,EAAgB,IAA2BjB,EAArBiB,EAAgB,GAEtDnyC,OAAO+pB,YAAW,WACdnpB,EAAUkuD,YAGbluD,EAAUy0C,eAAenE,EAAK7xC,EAC9B,GAAC,IACK,CACP,CACD,CACD,OAAO,CACT,IAECuB,EAAU0hB,YAAY,gBAAgB,SAAU3hB,EAAUuxC,GACzD,IA/DIhB,EAAAA,EA+DSlsC,EAAcpE,GA/DV,IAgENssC,OAAOnsC,KAAKskD,SAASyB,WAAW5U,GAAS,IAAAvxC,IACnC,wCAjE8B,0CAAmB,IAClEV,SAASm8E,OAASlrC,CAiEpB,IAGC,IAAI9gB,EAAWxvB,EAAUu4D,MACzBv4D,EAAUu4D,MAAQ,WACjB,IAAIx4D,EAAOrB,UAEX,GAAKsB,EAAUiyD,MAMdziC,EAASlgB,MAAMnP,KAAMJ,OANA,CACrB,IAAIuxC,EAAOnxC,KACXf,OAAO+pB,YAAW,WACjBqG,EAASlgB,MAAMgiC,EAAMvxC,EACrB,GAAC,EACL,CAGA,CACA,EPrCCs1E,YQ7Cc,SAASr1E,GACvB+3B,GAAqB,eAAgB/3B,EAAUw/D,OAChD,ER4CCmc,aS9Cc,SAAS37E,GACvB+3B,GAAqB,eAAgB/3B,EAAUw/D,OAChD,ET6CCoc,QUjDc,SAAS57E,GAExBA,EAAUqtE,YAAmBwO,MAAE,CAC9Bl3E,OAAO,SAASP,GAKf,OAJKA,EAAI03E,iBACR13E,EAAI03E,eAAiB,CAAC,GACb,GACH,eAAe13E,EAAI3D,KAAK,WAE/B,EACD8sE,UAAU,SAASnpE,EAAK7F,EAAMixB,EAAGzvB,IAAA,WAE/BD,IACA,IAAI2nB,EAAKznB,EAAU0hB,YAAY,mBAAkB,WAEhD5hB,IACAE,EAAUuhB,YAAYkG,EAC1B,IACG,SAAS3nB,IACR,GAAGsE,EAAK23E,QAAU33E,EAAK23E,OAAOC,UAAW,CACxC,IAAIzsE,EAAQnL,EAAK23E,OACdxsE,EAAM0sE,OACR1sE,EAAM0sE,SACE1sE,EAAMu2C,YACdv2C,EAAMu2C,aAGPv2C,EAAMysE,UAAYzsE,EAAM2sE,QAAU,IAClC,CACD,CACD,EApB+B,GAqBhC98E,OAAO+8E,kBAAoBp8E,EAAOq8E,YAAY,IAC9Ch4E,EAAK23E,OAAS,IAAIM,YAAYj4E,EAAMrE,EAAOyE,KAAMJ,EAAKm2C,YAAY,GAC9Dx6C,EAAOmuE,UACV9pE,EAAK23E,OAAOr6D,YAAY,WAAY3hB,EAAOmuE,UAExCnuE,EAAOu8E,gBACVl4E,EAAK23E,OAAOQ,gBAAgBx8E,EAAOu8E,gBACpC,IAAIhrC,EAAQltC,EAAK23E,OAGjB,GAFAzqC,EAAMkrC,oBAAoBz8E,EAAO08E,UAAW18E,EAAO28E,aAAa,OAAQ38E,EAAOonC,OAE1EpnC,EAAO28E,YAgBL,CACN,IAAInnC,EAAc/lB,EAAGzvB,EAAOu7D,QACxB/lB,EACCx1C,EAAO+7E,eAAevmC,IACzBjE,EAAMqrC,UAAUpnC,EAAax1C,EAAO+7E,eAAevmC,IACnDjE,EAAMsrC,QAAQ,GACdtrC,EAAMurC,aAAa,GACnBvrC,EAAMsrC,QAAQ,IAEd58E,EAAU8hD,KAAKr8C,IAAI1F,EAAO28E,YAAY,OAAOnnC,EAAY,QAAQv1C,EAAU+2C,OAAO,SAAStvB,GAC1F,IACI3nB,EADAyP,EAAekY,EAAO07B,OAAOb,aAEjC,IAECxiD,EADU6oC,KAAK8Z,MAAMlzC,GACThI,QAAQ,GAAG0Y,IACvB,OAEAngB,EADaE,EAAU8hD,KAAK2B,MAAM,WAAYh8B,EAAO07B,QAAQ,GAC9CxE,WAAW,GAAGz1C,SAC7B,CACDnJ,EAAO+7E,eAAevmC,GAAez1C,EACrCwxC,EAAMqrC,UAAUpnC,EAAaz1C,GAC7BwxC,EAAMsrC,QAAQ,GACdtrC,EAAMurC,aAAa,GACnBvrC,EAAMsrC,QAAQ,EACpB,IAGItrC,EAAMwrC,cAAc,GAErB,KA7CwB,CAExB,IAAK,IADDxsC,EAAc,GACThpB,EAAI,EAAGA,EAAIvnB,EAAOwH,QAAQ5I,OAAQ2oB,IAAK,CAC/C,IAAID,EAAStnB,EAAOwH,QAAQ+f,GACxBiqB,EAAgB,CACnBlqB,EAAO3K,IACP2K,EAAOo3B,MACPp3B,EAAOwtB,KAERvE,EAAY5hC,KAAK6iC,EACjB,CAED,GADAD,EAAMqrC,UAAUrsC,GACZ9gB,EAAGzvB,EAAOu7D,QAAS,CACtB,IAAI78D,EAAQ6yC,EAAMyrC,gBAAgBvtD,EAAGzvB,EAAOu7D,SAC5ChqB,EAAMurC,aAAap+E,EACnB,CACJ,CA8BE,EACD6uE,UAAU,SAASlpE,EAAK7F,EAAGixB,GAC1B,IAAIzvB,EAAcqE,EAAK23E,OAAOiB,mBAI9B,OAHIxtD,EAAOktD,cACVltD,EAAOssD,eAAe/7E,GAAeqE,EAAK23E,OAAOkB,mBAE3Cl9E,CACP,EACD0kB,MAAM,SAASrgB,GACd,GAGFpE,EAAUqtE,YAAmB6P,MAAE,CAC9Bv4E,OAAO,SAASP,GACf,IAAI7F,EAAM,GACVA,GAAA,2CAAA8nB,OAAkDjiB,EAAI+4E,SAAW,yBAA0B,GAAyB,wBAAA92D,OAAAjiB,EAAIiZ,OACxH,aAAK,IAAImS,EAAE,EAAGA,EAAEprB,EAAImD,QAAQ5I,OAAQ6wB,IAAK,CACxC,IAAIzvB,EAAKC,EAAU+2C,MACnBx4C,GAAO,0CAA0CwB,EAAG,gBAAgBA,EAAG,wBAAwBqE,EAAII,KAAK,YAAYJ,EAAImD,QAAQioB,GAAG9S,IAA5H,YAA+ItY,EAAImD,QAAQioB,GAAGivB,MAAM,iBAC3K,CAGD,OAFAlgD,EAAO,QAGP,EACDgvE,UAAU,SAASnpE,EAAK7F,EAAMixB,EAAGzvB,GAEhC,IAAK,IADDuxC,EAAeltC,EAAKitC,qBAAqB,SACpCkE,EAAI,EAAGA,EAAIjE,EAAa3yC,OAAQ42C,IAAK,CAC7CjE,EAAaiE,GAAGtvC,SAAU,EAC1B,IAAIqqC,EAAgB9gB,EAAGzvB,EAAOu7D,SAAS/8D,EACnC+yC,EAAaiE,GAAGrvC,OAASoqC,IAC5BgB,EAAaiE,GAAGtvC,SAAU,EAE3B,CACD,EACDqnE,UAAU,SAASlpE,EAAK7F,EAAGixB,GAE1B,QADIzvB,EAAeqE,EAAKitC,qBAAqB,SACrCC,EAAE,EAAGA,EAAEvxC,EAAapB,OAAQ2yC,IACnC,GAAGvxC,EAAauxC,GAAGrrC,QAClB,OAAOlG,EAAauxC,GAAGprC,KAGzB,EACDue,MAAM,SAASrgB,GACd,GAGFpE,EAAUqtE,YAAsB+P,SAAE,CACjCz4E,OAAO,SAASP,GACf,OAAIpE,EAAUwzC,OAAOiwB,UACb,4CAEA,EACR,EACD8J,UAAU,SAASnpE,EAAK7F,EAAMixB,EAAGzvB,GAChCqE,EAAKpE,EAAU4wD,UAAUxb,cAAA,IAAA/uB,OAAkBtmB,EAAO4W,KAClD,IAAI26B,EAAKtxC,EAAU+2C,MACfxB,OAA4C,IAAxBx1C,EAAOs9E,cAAgC9+E,GAASwB,EAAOs9E,gBAAkB9+E,EACjG6F,EAAKixC,WAAa,oBAClB,IAAI/E,EAAa,cAAcgB,EAAG,wCAAwCvxC,EAAOyE,KAAK,KAAK+wC,EAAY,iBAAiB,IAAI,KACxHjuB,EAAa,eAAegqB,EAAG,MAAMtxC,EAAUgd,OAAOqhC,OAAO,WAAWt+C,EAAOyE,OAAOzE,EAAOyE,MAAM,WAOvG,GANIxE,EAAUwzC,OAAOiwB,WACpBr/D,EAAKmE,UAAY+e,EACjBljB,EAAKge,YAAY7Z,UAAU+nC,GAE3BlsC,EAAKmE,UAAU+nC,EAAWhpB,EAEvBvnB,EAAOy0C,QAAS,CACnB,IAAIntB,EAAWjjB,EAAKitC,qBAAqB,SAAS,GAClD,GAAGhqB,EAAS4sB,gBACX,OAED5sB,EAAS4sB,iBAAA,EACTj0C,EAAUwgB,MAAM6G,EAAU,QAAStnB,EAAOy0C,QAE1C,CACD,EACD84B,UAAU,SAASlpE,EAAK7F,EAAGixB,GAE1B,IAAIzvB,GADJqE,EAAKpE,EAAU4wD,UAAUxb,cAAA,IAAA/uB,OAAkBmJ,EAAO7Y,MAC9B06B,qBAAqB,SAAS,GAGlD,OAFKtxC,IACJA,EAAWqE,EAAKge,YAAYivB,qBAAqB,SAAS,IACnDtxC,EAAgBkG,QAAGupB,EAAO6tD,gBAAe,EAAO7tD,EAAO8tD,kBAAA,CAC/D,EACD74D,MAAM,SAASrgB,GACd,EAIF,EV7HCm5E,OWlDc,SAASv9E,GAExBA,EAAUk1E,IAAIsI,WAAa,CAC1BC,WAAY,MAGbz9E,EAAUu9E,OAAS,WAClB,GAAIv9E,EAAUu2C,UAAU,iBAAkB,IAA1C,CAEA,IAAInyC,EAAIpE,EAAU2uD,KAClB,GACCvqD,EAAEs5E,UAAYt5E,EAAE8H,MAAMmoC,UAAY,GAClCjwC,EAAE8H,MAAMmoC,SAAW,gBACVjwC,EAAIA,EAAE6J,aAAe7J,EAAE8H,QACjC9H,EAAIpE,EAAU2uD,MACZziD,MAAMmoC,SAAW,WACnBjwC,EAAEu5E,OAASv5E,EAAE8H,MAAMkR,MACnBhZ,EAAEw5E,QAAUx5E,EAAE8H,MAAMmR,OACpBjZ,EAAE8H,MAAMkR,MAAQhZ,EAAE8H,MAAMmR,OAAS,OACjCjZ,EAAE8H,MAAMqY,IAAMngB,EAAE8H,MAAMmY,KAAO,MAE7B,IAAI9lB,EAAMc,SAASgH,KACnB9H,EAAIimB,UAAY,GAEhBjmB,EAAMA,EAAI0P,cAET1P,EAAIimB,UAAY,GACjBnlB,SAASgH,KAAKw3E,UAAYx+E,SAASgH,KAAK6F,MAAMuhB,UAAY,GAC1DpuB,SAASgH,KAAK6F,MAAMuhB,SAAW,SAC/BztB,EAAU89E,YACV99E,EAAUu2C,UAAU,WAAY,GAtBxB,CAuBT,EACAv2C,EAAU+9E,SAAW,WACpB,GAAI/9E,EAAUu2C,UAAU,mBAAoB,IAA5C,CAEA,IAAInyC,EAAIpE,EAAU2uD,KAClB,GACCvqD,EAAE8H,MAAMmoC,SAAWjwC,EAAEs5E,iBACZt5E,EAAIA,EAAE6J,aAAe7J,EAAE8H,QACjC9H,EAAIpE,EAAU2uD,MACZziD,MAAMkR,MAAQhZ,EAAEu5E,OAClBv5E,EAAE8H,MAAMmR,OAASjZ,EAAEw5E,QACnBv+E,SAASgH,KAAK6F,MAAMuhB,SAAWpuB,SAASgH,KAAKw3E,UAC7C79E,EAAU89E,YACV99E,EAAUu2C,UAAU,aAAc,GAV1B,CAWT,EACAv2C,EAAU0hB,YAAY,oBAAoB,WACzC,IAAItd,EAAI/E,SAASC,cAAc,OAC/B8E,EAAEixC,UAAY,kBACdr1C,EAAUk1E,IAAIsI,WAAWC,WAAar5E,EACtCA,EAAEmE,UAAA,42BAaFvI,EAAU2uD,KAAK/lD,YAAYxE,GAC3BpE,EAAUwgB,MAAMpc,EAAG,SAAU,WACvBpE,EAAU2yD,SAEd3yD,EAAU+9E,WADV/9E,EAAUu9E,QAEb,GACA,IACAv9E,EAAU89E,UAAY,WACrB39E,KAAKwyD,UAAYxyD,KAAKwyD,SACnBxyD,KAAKwyD,SACPxyD,KAAK+0E,IAAIsI,WAAWC,WAAWpqC,UAAUn0C,IAAI,6BAG7CiB,KAAK+0E,IAAIsI,WAAWC,WAAWpqC,UAAUoG,OAAO,6BAMjD,IAAK,IADDr1C,EAAa,CAAC,OAAQ,OACjB7F,EAAI,EAAGA,EAAI6F,EAAWzF,OAAQJ,IAAK,CAE3C,IAAIixB,EAAcxvB,EAAU,gBAAkBoE,EAAW7F,IACrDyB,EAAUw1C,GAAG,UAAYpxC,EAAW7F,KACvCyB,EAAU,gBAAkBoE,EAAW7F,IAAMyB,EAAUw1C,GAAG,UAAYpxC,EAAW7F,IACjFyB,EAAUw1C,GAAG,UAAYpxC,EAAW7F,IAAM,GAEtCixB,IACHxvB,EAAUw1C,GAAG,UAAYpxC,EAAW7F,IAAMyB,EAAU,gBAAkBoE,EAAW7F,WAC1EyB,EAAU,gBAAkBoE,EAAW7F,IAGhD,CAEDyB,EAAUy0C,gBACX,CAGA,EXjDCupC,WYnDc,SAASh+E,IAAA,WAKxB,SAASoE,EAASorB,EAAKzvB,GACtB,IAAK,IAAIuxC,KAAOvxC,EACVyvB,EAAI8hB,KACR9hB,EAAI8hB,GAAOvxC,EAAIuxC,IACjB,OAAO9hB,CACR,CAEA,SAASjxB,EAAgBixB,EAASzvB,GACjC,IAAIuxC,EAAQ,CAAC,EASb,OARA9hB,EAAUzvB,EAAU41C,KAAKnmB,KACVA,EAAQ,IACtB8hB,EAAM9pB,EAAIgI,EAAQ,GAAG2rD,YACrB7pC,EAAM7hB,EAAID,EAAQ,GAAGq5C,eAErBv3B,EAAM9pB,EAAI,EACV8pB,EAAM7hB,EAAI,GAEJ6hB,CACR,CAGIlyC,OAAO6+E,aACV7+E,OAAO6+E,WAAa,CACnBld,KAAM,SAASvxC,EAAKzvB,EAAMuxC,GACzB,OAAOlyC,OAAO8+E,KAAKp8B,KAAKif,KAAKvxC,EAAKzvB,EAAMuxC,EACxC,EACD7rC,IAAK,SAAS+pB,EAAKzvB,GAClB,OAAOX,OAAO0iD,KAAKr8C,IAAI+pB,EAAKzvB,EAC5B,IAIH,SAA4ByvB,GA0K3B,SAASzvB,IACR,IAAIuxC,EAAO9hB,EAAU8kB,WAAWzmB,KAChC,OAAI2B,EAAUs/B,QAAUt/B,EAAUs/B,OAAOxd,GACjC9hB,EAAUs/B,OAAOxd,GAElB,IACP,CA9KD9hB,EAAUi+B,YAAc,SAASnc,IAChCA,EAASltC,EAAUktC,GAAU,CAAC,EAAI,CACjC9sC,KAAK,eACL25E,OAAO,KACPC,YAAY,YACZC,IAAI,GACJ/yE,KAAK,EACL4jD,IAAK1/B,EAAUgkB,OAAO0b,OAEhBpa,KAAO30C,KAAKm+E,aAAahtC,GAChCA,EAAOzjB,KAAO1tB,KAAKm0C,WAAWzmB,KAC9B1tB,KAAKo+E,gBAAgBjtC,EAAQ,MAC/B,EAEC9hB,EAAUg+B,YAAc,SAASlc,IAChCA,EAASltC,EAAUktC,GAAU,CAAC,EAAI,CACjC9sC,KAAK,eACL25E,OAAO,KACPC,YAAY,YACZC,IAAI,GACJ/yE,KAAK,EACL4jD,IAAK1/B,EAAUgkB,OAAO0b,OAEhBpa,KAAO30C,KAAKm+E,aAAahtC,GAChCA,EAAOzjB,KAAO1tB,KAAKm0C,WAAWzmB,KAC9B1tB,KAAKo+E,gBAAgBjtC,EAAQ,MAC/B,EAEC9hB,EAAUgvD,aAAe,SAASltC,GACjCA,EAASltC,EAAUktC,GAAU,CAAC,EAAI,CACjC9sC,KAAK,gBACL4W,KAAKjb,KAAKs+E,iBAAiB,KAAMntC,KAElCnxC,KAAKo+E,gBAAgBjtC,EAAQ,OAC/B,EAEC9hB,EAAUkvD,cAAgB,SAASptC,GAClCA,EAASltC,EAAUktC,GAAU,CAAC,EAAI,CACjC9sC,KAAK,gBACL25C,MAAM,SACN/iC,KAAKjb,KAAKs+E,iBAAkBt+E,KAAKosD,UAAUiZ,WAAYl0B,GACvDznC,QAAQ1J,KAAKw+E,uBAEdx+E,KAAKo+E,gBAAgBjtC,EAAQ,QAC/B,EAEC9hB,EAAUovD,gBAAkB,SAASttC,EAAMiE,EAAMjF,UACzCgB,EAAKpf,SACZ,IAAI5K,EAAMgqB,EAAKutC,QAAU,sCAEzBz/E,OAAO6+E,WAAWld,KAAKz5C,EACtB,QAAQiuB,EAAK,iBAAiB32C,mBAAmB+pC,KAAKC,UAAU0I,KAChE,SAASjqB,GACR,IACIkqB,EAAO,KAEX,KAHWlqB,EAAO87B,OAAOX,OAAS,KAIjC,IACCjR,EAAO5I,KAAK8Z,MAAMp7B,EAAO87B,OAAOb,aAChC,OAAU,CAEZhS,EAASiB,EACT,GAEJ,EAEC/hB,EAAUsvD,mBAAqB,SAASxtC,EAAQiE,GAC/C,IAAIjF,EAAS,CAAC,EACd,IAAK,IAAIhpB,KAAOgqB,EACfhB,EAAOhpB,GAAOgqB,EAAOhqB,GAMtB,OAJAgpB,EAAOkU,WAAajP,EAAOjF,EAAOkU,YAClClU,EAAOqU,SAAWpP,EAAOjF,EAAOqU,UAChCrU,EAAOyuC,MAAQ5+E,KAAKosD,UAAUmQ,WAAWprB,EAAOkT,WAAYlT,EAAOqT,SAAUrT,GAEtEhB,CACT,EAEC9gB,EAAUivD,iBAAmB,SAASntC,EAAQiE,GAG7C,IAAIjF,EAFJgB,EAASA,GAAU9hB,EAAUhQ,KAAKusC,YAAY,iBAAiB,GAI9Dzb,EADGiF,GAAUA,EAAOryB,OAASqyB,EAAOpyB,IAC3BqM,EAAUu4C,UAAUxyB,EAAOryB,MAAOqyB,EAAOpyB,KAEzCqM,EAAUu4C,YAGpB,IAAK,IADDzgD,EAAO,GACFD,EAAI,EAAGA,EAAGipB,EAAO3xC,OAAQ0oB,IACjCC,EAAKD,GAAKlnB,KAAK2+E,mBAAmBxuC,EAAOjpB,GAAIiqB,GAE9C,OAAOhqB,CACT,EAECkI,EAAUmvD,mBAAqB,WAC9B,MAAO,CACN,CAAEhoE,GAAG,aAAck4C,OAAO,aAAczxC,MAAM,IAC9C,CAAEzG,GAAG,WAAYk4C,OAAO,WAAYzxC,MAAM,IAC1C,CAAEzG,GAAG,QAASk4C,OAAO,OAAQzxC,MAAM,KAEtC,EAECoS,EAAU+uD,gBAAkB,SAASjtC,EAAMiE,GAS1C,GARIjE,EAAKlI,UACRkI,EAAKlI,QAAU5Z,EAAU4Z,SAGtBkI,EAAK6gC,OACR7gC,EAAK6gC,KAAO3iD,EAAU2iD,MAGnB7gC,EAAKpf,SACP,OAAO1C,EAAUovD,gBAAgBttC,EAAMiE,EAAMjE,EAAKpf,UAEpD,IAAIoe,EAAOnwC,KAAK6+E,sBAEhB1uC,EAAK5nC,WAAW0sB,OAASkc,EAAKutC,QAAU,sCACxCvuC,EAAK5nC,WAAWi2C,WAAW,GAAGz4C,MAAQyiC,KAAKC,UAAU0I,GACrDhB,EAAK5nC,WAAWi2C,WAAW,GAAGz4C,MAAQqvC,EACtCjF,EAAK5nC,WAAWu2E,QAClB,EAECzvD,EAAUwvD,oBAAsB,WAC/B,IAAK7+E,KAAK++E,oBAAoB,CAC7B,IAAI5tC,EAAInxC,KAAK++E,oBAAsB7/E,SAASC,cAAc,OAC1DgyC,EAAEplC,MAAMw2B,QAAU,OAClB4O,EAAE/oC,UAAY,uHACdlJ,SAASgH,KAAKuC,YAAY0oC,EAC1B,CACD,OAAOnxC,KAAK++E,mBACd,EAEC1vD,EAAU2vD,iBAAmB,SAAS7tC,EAAQiE,EAAajF,EAAMhpB,EAAKD,EAAQkqB,EAAQ9yC,GAErF6oB,EAAMqxB,SAASrxB,GAAK,MAAQ,EAE5B,IAAIG,EAAQ,CACX23D,GAAK,CAAE53D,EAAE,IAAKiI,EAAE,KAChB4vD,GAAK,CAAE73D,EAAE,IAAKiI,EAAE,KAChB6vD,GAAK,CAAE93D,EAAE,IAAKiI,EAAE,KAChB8vD,GAAK,CAAE/3D,EAAE,IAAKiI,EAAE,KAChB+vD,GAAK,CAAEh4D,EAAE,IAAKiI,EAAE,KAChBgwD,GAAK,CAAEj4D,EAAE,IAAKiI,EAAE,OAGb3vB,EAAQvB,EAAgB,eAAgB4B,MAAMqnB,EAK9CjY,EAAQ,CACXkgB,EALWlxB,EAAgB,eAAgB4B,MAAMsvB,EACtClxB,EAAgB,iBAAkB4B,MAAMsvB,EACxClxB,EAAgB,gBAAiB4B,MAAMsvB,GAiBnD,OAVClgB,EAAMiY,EADQ,SAAX8pB,EACOxxC,EAEAwS,KAAKk9B,OAAwB,cAAhB+F,EAA8B9tB,EAAM6pB,GAAQ7hB,EAAIhI,EAAM6pB,GAAQ9pB,GAAKF,GAGvF7oB,IACH8Q,EAAMiY,GAAMk4D,WAAWjhF,EAAO+oB,IAAM,EACpCjY,EAAMkgB,GAAMiwD,WAAWjhF,EAAOgxB,IAAM,GAG9BlgB,CACT,EA0DCigB,EAAU8uD,aAAe,SAAUhtC,GAClC,IAhDIiE,EACHjF,EAEGhpB,EA6CAD,GAhDAkuB,OAAiB,EACpBjF,OAAa,GAEVhpB,EAAWvnB,OAEduwC,EAAahpB,EAASoqD,WACtBn8B,EAAiBjuB,EAASq4D,iBAGpB,CACNlqC,WAAYjmB,EAAUgmB,GAAGC,WACzBma,aAAcpgC,EAAUgmB,GAAGoa,aAC3BgwB,YAAapwD,EAAUm/B,KAAKziD,MAAMkR,MAClCyiE,aAAcrwD,EAAUm/B,KAAKziD,MAAMmR,OACnCyiE,oBAAqBxvC,EACrByvC,yBAA0BxqC,IAkCvBhE,EAAO/hB,EAAU2vD,iBAAiB7tC,EAAI6sC,OAAQ7sC,EAAI8sC,YAAa9sC,EAAIhmC,KAAMgmC,EAAI+sC,IAAK/sC,EAAIud,OAAQvd,EAAI0uC,OAAQ1uC,EAAI2uC,QAE9GxhF,EAAO,GACX,KAjCD,SAAwBgpB,EAAM3nB,GAC7B0vB,EAAUm/B,KAAKziD,MAAMkR,MAASqK,EAAKD,EAAI,KACvCgI,EAAUm/B,KAAKziD,MAAMmR,OAASoK,EAAKgI,EAAI,KAEvCD,EAAUgmB,GAAGC,WAAa,EAC1BjmB,EAAUgmB,GAAGoa,aAAe,EAE5B,IAAIrgD,EAAWxP,KACXD,EAAaggF,qBAAuBhgF,EAAaigF,4BAEpDxwE,EAASmiE,YAAa,EACtBniE,EAASowE,iBAAA,EAEV,EAbD,CAkCiBpuC,EAAMlqB,GACrBmI,EAAUilB,iBACVh2C,EAAO+wB,EAAUm/B,KAAKpmD,SACtB,OAAQkf,GAGRyT,QAAQC,MAAM1T,EACjB,UAAY,SA1BcA,GACxB+H,EAAUgmB,GAAGoa,aAAenoC,EAAamoC,aACzCpgC,EAAUgmB,GAAGC,WAAahuB,EAAaguB,WACvCjmB,EAAUm/B,KAAKziD,MAAMkR,MAASqK,EAAam4D,YAC3CpwD,EAAUm/B,KAAKziD,MAAMmR,OAASoK,EAAao4D,aAE3C,IAAI//E,EAAWC,KACX0nB,EAAaq4D,qBAAuBr4D,EAAas4D,4BACpDjgF,EAAS4xE,WAAajqD,EAAaq4D,oBACnChgF,EAAS6/E,gBAAkBl4D,EAAas4D,yBAEzC,EAeU,CACO14D,GAChBmI,EAAUilB,gBACV,CAED,OAAOh2C,CACT,CAEA,CAvPA,CAyPmBuB,EAGlB,CAjSuB,EAmSxB,EZ/OCkgF,UalDc,SAASlgF,GACvB+3B,GAAqB,OAAQ/3B,EAAUw/D,OACxC,EbiDC2gB,ecrDc,SAASngF,GAExBA,EAAU0hB,YAAY,oBAAmB,WAExC,IAAK,IADDtd,EAAM/E,SAASgH,KAAKgrC,qBAAqB,OACpC9yC,EAAE,EAAGA,EAAI6F,EAAIzF,OAAQJ,IAAK,CAClC,IAAIixB,EAAKprB,EAAI7F,GAAG82C,WAAW,GAE3B,GAAiB,IADjB7lB,EAAKA,EAAG3uB,MAAM,MACPlC,QAAwB,YAAT6wB,EAAG,GAAiB,CACzC,IAAIzvB,EAAO,YAAaqE,EAAI7F,GAAGgK,WAAW,IAAIzG,QAAQ,MAAO,QAAQA,QAAQ,KAAK,OAAQA,QAAQ,WAAW,IAAI,KACjH/B,EAAO27E,SAAS37E,GAAM+B,QAAQ,wBAAuB,SAASwvC,EAAIiE,GACjE,MAAO,QAAQA,EAAK,IACxB,IACGv1C,EAAUusD,UAAU/8B,EAAG,IAAIqhB,SAAS,QAAQ,MAAM,KAAK9wC,GACvDqE,EAAI7F,GAAG2N,MAAMw2B,QAAQ,MACrB,CACD,CACF,GAEA,EdoCC09C,QelCc,SAASpgF,GAyCtB,SAASoE,EAAS7F,GACjB,IAAIixB,EAAS,CACZ6wD,cAAgBrgF,EAAUsgF,oBAAoBC,cAC9CC,YAAcxgF,EAAUsgF,oBAAoBG,YAC5C51B,UAAY7qD,EAAUsgF,oBAAoBI,cAC1CC,SAAY3gF,EAAUsgF,oBAAoBM,SAC1CC,SAAY7gF,EAAUsgF,oBAAoBQ,SAC1CtgE,MAASxgB,EAAUsgF,oBAAoBS,OAGpChhF,EAAY,CAAC,EACjB,QAAQuxC,KAAK9hB,EACZzvB,EAAUuxC,EAAEvwC,eAAiByuB,EAAO8hB,GAIrC,OAAOvxC,EAFPxB,GAAQA,EAAO,IAAIwC,gBAEOyuB,EAAOq7B,SACjC,CAzDD7qD,EAAUwzC,OAAO4sC,SAAA,EACjBpgF,EAAUwzC,OAAOwtC,aAAe,GAChChhF,EAAUihF,YAAc,SAAS1iF,EAAUixB,EAASzvB,GACnD,IAAIuxC,EAAcltC,EAASrE,GACxBuxC,GACFA,EAAY7xC,UAAUynB,KAAK3oB,EAAUixB,EAEzC,EAEExvB,EAAUkhF,mBAAqB,SAAS3iF,EAAUixB,GACjD,IAAIzvB,EAAcqE,EAASorB,GAC3B,GAAGzvB,EAAY,CACd,IAAIuxC,EAAWtxC,EAAUsgF,oBAAoBa,UAAU1+B,MAAMlkD,GAC7D,GAAG+yC,EAAS3yC,OACX,OAAOoB,EAAYN,UAAU2hF,YAAY9vC,EAAS,GAEnD,CACJ,EAEEtxC,EAAUqhF,eAAiB,SAAS9iF,EAAUixB,GAC7C,IAAIzvB,EAAcqE,EAASorB,GACxBzvB,GACFA,EAAYN,UAAU6hF,OAAO/iF,EAEjC,EAEEyB,EAAUykB,MAAQ,WACjB,GAAIzkB,EAAUwzC,OAAO4sC,QAArB,CAGA,IAAI7hF,EAAOyB,EAAUsgF,oBAAoBiB,WACzChjF,EAAKijF,SACL,IAAIhyD,EAAajxB,EAAKkjF,iBAClBjyD,GAAcA,aAAsBxvB,EAAUsgF,oBAAoBC,eAAiB/wD,aAAsBxvB,EAAUsgF,oBAAoBG,YAC1IliF,EAAKmjF,iBAELnjF,EAAKslB,UAAUtlB,EAAKkjF,gBAPpB,CASJ,EAqBEzhF,EAAUsgF,oBAAsB,CAAC,EAEjCtgF,EAAU2hF,SAAW,WAGpB,QAFIpjF,EAAQ6I,MAAM3H,UAAU2B,MAAMI,KAAK9C,UAAW,GAC9C8wB,EAAM,CAAC,EACHzvB,EAAI,EAAGA,EAAIxB,EAAMI,OAAQoB,IAAI,CACpC,IAAIuxC,EAAM/yC,EAAMwB,GAKhB,QAAQw1C,IAJS,mBAAPjE,IACTA,EAAM,IAAIA,GAGEA,EACZ9hB,EAAI+lB,GAAKjE,EAAIiE,EAEd,CACD,OAAO/lB,CACV,EAEqBxvB,EChGXsgF,oBAAoBa,UAAY,CACzCS,cAAe,WACd,MAAO,CACNC,UAAU,CACT/rE,OAAS,EACTgsE,KAAO,EACPC,MAAA,EACA30E,MAAA,GAEDgK,QAAS,KAEV,EACDqrC,MAAO,SAASjzB,GAIf,QAHIzvB,EAAW,GAEXuxC,EAAOnxC,KAAK6hF,eAAe7hF,KAAKuD,KAAK8rB,IACjC+lB,EAAI,EAAGA,EAAIjE,EAAK3yC,OAAQ42C,IAAI,CAKnC,QAJIjF,EAAQnwC,KAAK8hF,SAAS3wC,EAAKiE,IAE3BjuB,EAAUnnB,KAAKyhF,gBAEXv6D,EAAI,EAAGA,EAAIipB,EAAM3xC,OAAQ0oB,IAC7BlnB,KAAK+hF,YAAY5xC,EAAMjpB,IACzBC,EAAQu6D,UAAUvxC,EAAMjpB,KAAA,EAChBlnB,KAAKgiF,YAAY7xC,EAAMjpB,IAC/BC,EAAQlQ,QAAUjX,KAAKgiF,YAAY7xC,EAAMjpB,IAEzCC,EAAQlQ,QAAUk5B,EAAMjpB,GAAG+6D,WAAW,GAIxCriF,EAAS2O,KAAK4Y,EACd,CACD,OAAOvnB,CACP,EAEDsiF,oBAAqB,SAAS7yD,GAC7B,IAAIzvB,EAAUI,KAAKyhF,gBACnB7hF,EAAQ8hF,UAAU/rE,QAAU0Z,EAAS5V,SACrC7Z,EAAQ8hF,UAAUC,MAAQtyD,EAAS3V,OACnC9Z,EAAQ8hF,UAAUE,OAASvyD,EAAS7V,QACpC5Z,EAAQ8hF,UAAUz0E,OAASoiB,EAAS1V,QACpC/Z,EAAQqX,QAAUoY,EAASvS,OAASuS,EAASpY,QAE1CrX,EAAQqX,SAAW,IAAMrX,EAAQqX,SAAW,MAE9CrX,EAAQqX,SAAW,IAGpB,IAAIk6B,EAAe30B,OAAOC,aAAa7c,EAAQqX,SAI/C,OAHGk6B,IACFvxC,EAAQqX,QAAUk6B,EAAavwC,cAAcqhF,WAAW,IAElDriF,CACP,EAEDuiF,iBAAkB,SAAS9yD,GAC1B,OAAOrvB,KAAKoiF,QAAQpiF,KAAKkiF,oBAAoB7yD,GAC7C,EAED+yD,QAAS,SAAS/yD,GACjB,IAAIzvB,EAAQ,GACZ,QAAQuxC,KAAK9hB,EAAQqyD,UACjBryD,EAAQqyD,UAAUvwC,IACpBvxC,EAAM2O,KAAK4iC,GAKb,OAFAvxC,EAAM2O,KAAK8gB,EAAQpY,SAEZrX,EAAM6uB,KAAKzuB,KAAKqiF,aACvB,EAEDR,eAAgB,SAASxyD,GACxB,OAAOA,EAAS3uB,MAAMV,KAAKqiF,aAC3B,EACDP,SAAU,SAASzyD,GAClB,OAAOA,EAAK3uB,MAAMV,KAAKsiF,gBACvB,EACD/+E,KAAM,SAAS8rB,GACd,OAAOA,EAAS1tB,QAAQ,MAAO,GAC/B,EACD0gF,aAAa,IACbC,gBAAgB,IAChBP,YAAY,CACXpsE,MAAS,GACTgsE,IAAO,GACPC,KAAQ,GACR30E,MAAA,GAED+0E,YAAY,CACXO,UAAa,EACbC,IAAO,EACPC,MAAS,GACTC,IAAO,GACPC,MAAS,GACTC,GAAM,GACNC,KAAQ,GACR3+D,KAAQ,GACRm2B,MAAS,GACTyoC,KAAQ,GACR9/D,IAAO,GACP+/D,OAAU,GACVC,SAAY,GACZruE,OAAU,GACVsuE,OAAU,GACVC,KAAO,IACPC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,IAAO,IACPC,IAAO,IACPC,IAAO,MCvHM,SAAS1lF,GAExBA,EAAU+hF,oBAAoB4D,aAAe,CAC5CC,UAAW,KACX/C,YAAa,SAAS5xD,GACjBrvB,KAAKgkF,YAAWhkF,KAAKgkF,UAAY,CAAC,GACtC,IACIpkF,EADYxB,EAAU+hF,oBAAoBa,UACzBoB,QAAQ/yD,GAE7B,OAAOrvB,KAAKgkF,UAAUpkF,EACtB,EAEDqkF,SAAU,SAAS50D,EAASzvB,GAC3B,IAAIuxC,EAAUnxC,KAAKihF,YAAY5xD,GAC5B8hB,IACFA,EAAQ9vC,KAAKrB,KAAMJ,GAEfA,EAAEiY,eAAgBjY,EAAEiY,iBACnBjY,EAAE+X,aAAA,EAGR,EACDoP,KAAM,SAASsI,EAAUzvB,GACpBI,KAAKgkF,YAAWhkF,KAAKgkF,UAAY,CAAC,GAKtC,QAHI7yC,EAAY/yC,EAAU+hF,oBAAoBa,UAE1C5rC,EAAWjE,EAAUmR,MAAMjzB,GACvB8gB,EAAI,EAAGA,EAAIiF,EAAS52C,OAAQ2xC,IACnCnwC,KAAKgkF,UAAU7yC,EAAUixC,QAAQhtC,EAASjF,KAAOvwC,CAElD,EACDuhF,OAAQ,SAAS9xD,GAIhB,QAHIzvB,EAAYxB,EAAU+hF,oBAAoBa,UAE1C7vC,EAAWvxC,EAAU0iD,MAAMjzB,GACvB+lB,EAAI,EAAGA,EAAIjE,EAAS3yC,OAAQ42C,IAChCp1C,KAAKgkF,UAAUpkF,EAAUwiF,QAAQjxC,EAASiE,aACrCp1C,KAAKgkF,UAAUpkF,EAAUwiF,QAAQjxC,EAASiE,IAGnD,EAED8uC,QAAS,SAAS70D,GACjB,QAAQzvB,KAAKyvB,EACZrvB,KAAK+mB,KAAKnnB,EAAGyvB,EAAIzvB,GAElB,EACDukF,SAAU,WACLnkF,KAAKgkF,YACRhkF,KAAKgkF,UAAY,CAAC,GAChBhkF,KAAKkM,MACPlM,KAAKkkF,QAAQlkF,KAAKkM,KAEnB,EAGF,CAzDe,CFmGArM,GGnGA,SAASzB,GAGvBA,EAAU+hF,oBAAoB3mC,kBAAoBp7C,EAAUohE,mBAE5DphE,EAAU+hF,oBAAoBiE,UAAY,SAAmB/0D,EAAMzvB,GAClE,GAAgB,GAAbA,EAAEqX,QAAc,OAAO,EAK1B,QAOek6B,EAVXiE,EAAYh3C,EAAU+hF,oBAAoB3mC,kBAAkBnqB,GAC5D8gB,EAAejxC,SAAS+G,cACxBkhB,GAAgB,EACZD,EAAI,EAAGA,EAAIkuB,EAAU52C,OAAQ0oB,IACpC,GAAGkuB,EAAUluB,IAAMipB,EAAa,CAC/BhpB,EAAeD,EACf,KACA,CAIF,GAAGtnB,EAAE6Z,UAOJ,GADA03B,EAAWiE,EAFEjuB,GAAgB,EAAMiuB,EAAU52C,OAAS,EAAM2oB,EAAe,GAM1E,OAFAgqB,EAAS7sB,QACT1kB,EAAEiY,kBACK,UAORs5B,EAAWiE,EADEjuB,GAAgBiuB,EAAU52C,OAAS,EAAK,EAAK2oB,EAAe,GAKxE,OAFAgqB,EAAS7sB,QACT1kB,EAAEiY,kBACK,EAKT,OAAO,CACT,CAGA,CAjDe,CHoGIhY,GIpGJ,SAASzB,GAExBA,EAAU+hF,oBAAoBkE,OAAS,CACtCpuC,MAAO,WAEN,QADI5mB,EAAOjxB,EAAU42C,WAAWzM,iBAAiB,mBACzC3oC,EAAI,EAAGA,EAAIyvB,EAAK7wB,OAAQoB,IAC/ByvB,EAAKzvB,GAAGkO,WAAWtF,YAAY6mB,EAAKzvB,GAErC,EACDT,cAAe,WACd,IAAIkwB,EAAUnwB,SAASC,cAAc,OAGrC,OAFAkwB,EAAQ5tB,aAAa,YAAa,GAClC4tB,EAAQ6lB,UAAY,iBACb7lB,CACP,EAEDi1D,eAAgB,SAASj1D,EAAOzvB,EAAKuxC,GAIpC,QAHIiE,EAAO,GACPjF,EAAe,IAAI13B,KAAK4W,GACxBlI,EAAa,IAAI1O,KAAKtG,KAAKgR,IAAIvjB,EAAIyI,UAAWjK,EAAUihB,KAAKtgB,IAAIX,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,IAAS,EAAG,OAAOhnB,YACpH8nC,EAAa9nC,UAAYzI,EAAIyI,WAElC+sC,EAAOA,EAAKlvB,OAAOirB,EAAO9vC,KAAKrB,KAAMmwC,EAAc,IAAI13B,KAAKtG,KAAKgR,IAAIgE,EAAW9e,UAAWzI,EAAIyI,cAC/F8nC,EAAe/xC,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIoxC,EAAc,EAAG,QAE5EhpB,EAAa/oB,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIoxC,EAAc,EAAG,QAC1EhpB,EAAa,IAAI1O,KAAKtG,KAAKgR,IAAIgE,EAAW9e,UAAWzI,EAAIyI,YAG1D,OAAO+sC,CACP,EAGD5wC,OAAQ,SAAS6qB,EAAOzvB,EAAKuxC,GAC5BnxC,KAAKi2C,QACL,IAAIb,EAAO,GAEPjF,EAAQ/xC,EAAU+hF,oBAAoBQ,SAASrhF,UAAUilF,OAE7D,OADWnmF,EAAU+hF,oBAAoBQ,SAASrhF,UAAUklF,YAE3D,KAAKr0C,EAAMs0C,MACVrvC,EAAOp1C,KAAK0kF,qBAAqBr1D,EAAOzvB,EAAKuxC,GAC7C,MACD,KAAKhB,EAAMuc,SACVtX,EAAOp1C,KAAK2kF,qBAAqBt1D,EAAOzvB,EAAKuxC,GAC7C,MACD,KAAKhB,EAAMyX,KACVxS,EAAOA,EAAKlvB,OAAOlmB,KAAKskF,eAAej1D,EAAOzvB,EAAKI,KAAK4kF,mBACxD,MACD,KAAKz0C,EAAM3wB,MACV41B,EAAOp1C,KAAK6kF,kBAAkBx1D,EAAOzvB,GACrC,MACD,KAAKuwC,EAAM20C,WACV1vC,EAAOA,EAAKlvB,OAAOlmB,KAAKskF,eAAej1D,EAAOzvB,EAAKI,KAAK+kF,yBACxD,MACD,KAAK50C,EAAM60C,KACV5vC,EAAOp1C,KAAKilF,mBAAmB51D,EAAOzvB,GACtC,MACD,KAAKuwC,EAAM+0C,WACV9vC,EAAOA,EAAKlvB,OAAOlmB,KAAKskF,eAAej1D,EAAOzvB,EAAKI,KAAK0kF,uBAI1D1kF,KAAKmlF,gBAAgB/vC,EAAM/lB,EAAOzvB,EAAKuxC,GACvCnxC,KAAKolF,kBAAkBhwC,EAAM/lB,EAAOzvB,EAAKuxC,GAEzC,QAAQhqB,EAAIiuB,EAAK52C,OAAS,EAAG2oB,GAAK,EAAGA,IACpC,GAAGiuB,EAAKjuB,GAAGizB,YACV,OAAOhF,EAAKjuB,GAId,OAAO,IACP,EAEDi+D,kBAAmB,SAAS/1D,EAAMzvB,EAAOuxC,EAAKiE,GAM7C,QALIjF,EAAY/xC,EAAUihB,KAAKusC,YAAYxtD,EAAUi1C,OAAO8vB,UAExDh8C,EAAOgpB,EAAUvwC,GACpBsnB,EAAKipB,EAAUgB,GAERC,EAAI,EAAGA,EAAI/hB,EAAK7wB,OAAQ4yC,IAC/B/hB,EAAK+hB,GAAG3vC,aAAa,kBAAmB0lB,GACxCkI,EAAK+hB,GAAG3vC,aAAa,gBAAiBylB,GACnCkuB,GACF/lB,EAAK+hB,GAAG3vC,aAAa,eAAgB2zC,EAGvC,EAED+vC,gBAAiB,SAAS91D,EAAMzvB,EAAOuxC,EAAKiE,GAC3C,IAAIjF,EAAQ,GAERhpB,EADQ/oB,EAAU+1C,WACLzmB,KAEbxG,GAAA,EAiBJ,GAfAipB,GAAS/xC,EAAUguD,UAAU8P,SAASt8D,GAElCxB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK7Y,IAAQyI,WAAazI,EAAMyI,YAChE8nC,GAAS,IAAM/xC,EAAUguD,UAAUmO,WAAW36D,GAC9CsnB,GAAgB,GAGb9oB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK7Y,IAAQyI,WAAajK,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK04B,IAAM9oC,YAElG8nC,GAAS,MAAQ/xC,EAAUguD,UAAU8P,SAAS/qB,IAC3CjqB,GAAkB9oB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK04B,IAAM9oC,WAAa8oC,EAAI9oC,aAC7E8nC,GAAS,IAAM/xC,EAAUguD,UAAUmO,WAAWppB,KAI7CiE,EACF,GAAGh3C,EAAUuwD,QAAUvwD,EAAUuwD,OAAOxnC,GAAM,CAC7C,MAAM7oB,EAAWF,EAAUuwD,OAAOxnC,GAC5BG,EAAgBhpB,EAASw8E,OAAOx8E,EAASwM,MAAMsqC,IACrDjF,GAAS,KAAO/xC,EAAUguD,UAAUjlC,EAAO,gBAAgBG,EAAc/K,IAAK+K,EAAcg3B,MAAOh3B,EACvG,SAAYlpB,EAAUwwD,QAAUxwD,EAAUwwD,OAAOznC,GAAM,CACnD,MAAM7oB,EAAQF,EAAUwwD,OAAOznC,GACzBG,EAAgBhpB,EAAM8I,QAAQ9I,EAAMwM,MAAMsqC,IAEhDjF,GAAS,KAAO/xC,EAAUguD,UAAUjlC,EAAO,eAAeG,EAAc/K,IAAK+K,EAAcg3B,MAAOh3B,EAClG,CAIF,QAAQ8pB,EAAI,EAAGA,EAAI/hB,EAAK7wB,OAAQ4yC,IAC/BhzC,EAAUy/C,SAASoe,cAAc5sC,EAAK+hB,GAAI,CACzC,aAAcjB,EACd,YAAa,UAGf,EAED40C,uBAAwB,SAAS11D,EAAYzvB,GAO5C,QANIuxC,EAAO/yC,EAAU42C,WAAWzM,iBAAiB,sCAE7C6M,EAAWh3C,EAAUihB,KAAKssC,WAAW,IAAIlzC,KAAKra,EAAU+1C,WAAW4d,WAEnE5hB,GAAS,EACThpB,EAAa/oB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,IAC3CnI,EAAI,EAAGA,EAAIiqB,EAAK3yC,SACvB2xC,IACG/xC,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK28B,IAAW/sC,WAAa8e,EAAW9e,WAFzC6e,IAK9BkuB,EAAWh3C,EAAUihB,KAAKtgB,IAAIq2C,EAAU,EAAG,OAG7C,OAAG,GAAAjF,EAAoBnwC,KAAKqlF,SAASl0C,EAAKhB,IACnC,EACP,EAEDk1C,SAAU,SAASh2D,GAClB,IAAIzvB,EAASI,KAAKb,gBAMlB,OALAS,EAAOmM,MAAMqY,IAAMiL,EAAKopB,UAAY,KACpC74C,EAAOmM,MAAMmY,KAAOmL,EAAKqpB,WAAa,KACtC94C,EAAOmM,MAAMkR,MAAQoS,EAAK+qB,YAAc,KACxCx6C,EAAOmM,MAAMmR,OAASmS,EAAKqoB,aAAe,KAC1CroB,EAAK5mB,YAAY7I,GACV,CAACA,EACR,EACDglF,iBAAkB,SAASv1D,EAAYzvB,GACtC,IAAIuxC,EAAO/yC,EAAUknF,eAAej2D,GACpC8hB,EAAKplC,MAAMmoC,SAAW,WACtB,IAAIkB,EAASp1C,KAAKb,gBAMlB,OALAi2C,EAAOrpC,MAAMqY,IAAM,MACnBgxB,EAAOrpC,MAAMmY,KAAO,MACpBkxB,EAAOrpC,MAAMkR,MAAQ,OACrBm4B,EAAOrpC,MAAMmR,OAAS,OACtBi0B,EAAK1oC,YAAY2sC,GACV,CAACA,EACR,EAED6vC,mBAAoB,SAAS51D,EAAYzvB,GACxC,IAAIuxC,EAAQnxC,KAAKb,gBAOjB,OANAgyC,EAAMplC,MAAMmR,OAAS,MACrBi0B,EAAMplC,MAAMkR,MAAQ,OACpBk0B,EAAMplC,MAAMlB,QAAU,EACtBsmC,EAAMplC,MAAMqY,IAAM,MAClB+sB,EAAMplC,MAAMmY,KAAO,MACnB9lB,EAAU42C,WAAWC,cAAc,iBAAiBxsC,YAAY0oC,GACzD,CAACA,EACR,EAEDwzC,qBAAsB,SAASt1D,EAAYzvB,EAAUuxC,GACpD,IAAIiE,EAAYh3C,EAAU45D,WAAW,CAAE,EAAE55D,EAAUuwD,OAAOvwD,EAAUyzD,QAChE1hB,EAAQiF,EAAU6kB,QAEtB7kB,EAAUmwC,gBAAiB,EAC3B,IAAIp+D,EAAS,GAETD,EAAWmI,EAAa,IAAI5W,KAAK4W,GAAcjxB,EAAU4zD,UACzD5gB,EAAWxxC,EAAW,IAAI6Y,KAAK7Y,GAAYxB,EAAU8zD,UAOzD,GALGhrC,EAAS7e,UAAYjK,EAAU4zD,UAAU3pD,YAC3C6e,EAAW,IAAIzO,KAAKra,EAAU4zD,YAC5B5gB,EAAS/oC,UAAYjK,EAAU8zD,UAAU7pD,YAC3C+oC,EAAW,IAAI34B,KAAKra,EAAU8zD,aAE3B9c,EAAUowC,SAAU,OAAOr+D,EAE/B,QAAQ7oB,EAAI,EAAGA,EAAI82C,EAAUowC,SAAShnF,SAClCJ,EAAUqnF,mBAAmBrwC,EAAUowC,SAASlnF,IADNA,KAI9C,GAAGA,GAAK82C,EAAUowC,SAAShnF,OAC1B,OAAO2oB,EAER,IAAIG,EAAO6oB,EAAMgB,GAEjB,KAAMjqB,EAAWtnB,GAAYwxC,EAAW/hB,GACvC,OAAOlI,EAER,IAAIxnB,EAAQK,KAAKb,gBAEjB,IAAIiQ,EACApL,EAEJ,SAASlE,EAAczB,EAAQ6F,GAE9BA,EAAO09D,QAAQ,GAEf19D,EAAO+mD,YAAY5sD,EAAOo4C,eAC1BvyC,EAAO8mD,SAAS3sD,EAAOq4C,YACvBxyC,EAAO09D,QAAQvjE,EAAOs4C,UACtB,CAED,GAAIv4C,EAAU+4D,UAAUuuB,KAGnB,CAEJ,MAAMrnF,EAAY,IAAIoa,KAAK4W,GAC3BvvB,EAAc1B,EAAU4zD,UAAW3zD,GACnC,MAAM6F,EAAU,IAAIuU,KAAK7Y,GACzBE,EAAc1B,EAAU4zD,UAAW9tD,GACnCkL,EAAYhR,EAAUunF,eAAe,CAACthC,WAAYhmD,IAAY,EAAO+2C,GACrEpxC,EAAU5F,EAAUunF,eAAe,CAACthC,WAAYngD,IAAU,EAAOkxC,EACjE,MAVAhmC,EAAYhR,EAAUunF,eAAe,CAACthC,WAAYh1B,IAAA,EAAoB+lB,GACtEpxC,EAAU5F,EAAUunF,eAAe,CAACthC,WAAYzkD,IAAA,EAAkBw1C,GAWnE,IAAIr1C,EAAWq1C,EAAUwwC,gBAAgBz0C,GAAS,GAAOiE,EAAUy1B,GAAK,EAEpE1sE,EAAM,EACNC,EAAUynF,UAAU,UACvB1nF,EAAMmpB,EAAKmxB,UACXrpC,GAAagmC,EAAUw1B,GACvB5mE,GAAWoxC,EAAUw1B,GACrBtjD,EAAOlpB,EAAU42C,WAAWC,cAAc,kBAI3C,IAAI3lB,EAAQnd,KAAK0+C,IAAI,EAAG7sD,EAAUoL,EAAY,GAC9C,IAAImY,EAAY,OAWhB,OAVGnpB,EAAUi1C,OAAO0b,MACnBxnC,EAAY,SAEb5nB,EAAMoM,MAAM+3C,QAAA,UAAA59B,OAAoBnmB,EAAA,QAAAmmB,OAAaqB,EAAa,KAAArB,OAAA9W,EAAA,cAAA8W,OAAsBoJ,EAAgB,YAAApJ,OAAA/nB,EAAA,OAE7FmpB,IACFA,EAAK7e,YAAY9I,GACjBwnB,EAAO5Y,KAAK5O,IAGNwnB,CACP,EAED2+D,gBAAiB,SAASz2D,GAIzB,QAHIzvB,EAAQxB,EAAU42C,WAAWzM,iBAAiB,mBAE9C4I,EAAO,GACHiE,EAAI,EAAGA,EAAIx1C,EAAMpB,OAAQ42C,IAChCjE,EAAK5iC,KAAK3O,EAAMw1C,GAAGtnC,YAGpB,IAEIqiC,GAAS,EACThpB,EAAa,EACbD,GAAY,EACZkqB,EALYhzC,EAAUihB,KAAKssC,WAAW,IAAIlzC,KAAKra,EAAU+1C,WAAW4d,WAMpEzzD,EAAaF,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,IACnD,IAAQ+lB,EAAI,EAAGA,EAAIjE,EAAK3yC,SACvB2xC,IAEe,GAAZjpB,GACFC,IACAD,EAAW,GAEXA,IAGE9oB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK24B,IAAW/oC,WAAa/J,EAAW+J,WAVzC+sC,IAa9BhE,EAAWhzC,EAAUihB,KAAKtgB,IAAIqyC,EAAU,EAAG,OAI7C,IAAa,GAAVjB,EACF,MAAO,GAGR,IAAI7oB,EAAOlpB,EAAUu2D,OAAOztC,GACxBvnB,EAAMvB,EAAUu2D,OAAOG,QAAQ3tC,GAE/B/X,EAAMpP,KAAKb,gBACfiQ,EAAIrD,MAAMqY,IAAMzkB,EAAM,KACtByP,EAAIrD,MAAMmY,KAAOoD,EAAO,KACxBlY,EAAIrD,MAAMkR,MAAQ7e,EAAUi2D,MAAMntC,GAAY,KAC9C9X,EAAIrD,MAAMmR,QAAW9e,EAAUu2D,OAAOG,QAAQ3tC,EAAa,GAAKxnB,GAAQvB,EAAUu2D,OAAOz3C,QAAU,KAGnG,IAAIlZ,EAAY5F,EAAU42C,WAAWC,cAAc,iBAE/Cn1C,EAAYkE,EAAUixC,cAAc,wBAMxC,OALGn1C,EAAUmiB,YACZje,EAAUs9B,aAAalyB,EAAKtP,EAAUmiB,aAEtCje,EAAUyE,YAAY2G,GAEhBA,CACP,EACDy1E,kBAAmB,SAASx1D,EAAYzvB,GAGvC,QAFIuxC,EAAM,GACNiE,EAAc/lB,EACZ+lB,EAAY/sC,UAAYzI,EAASyI,WACtC8oC,EAAI5iC,KAAKvO,KAAK8lF,gBAAgB1wC,IAC9BA,EAAch3C,EAAUihB,KAAKtgB,IAAIq2C,EAAa,EAAG,OAElD,OAAOjE,CACP,EAEDuzC,qBAAsB,SAASr1D,EAAYzvB,EAAUuxC,GACpD,IAAIiE,EAAQh3C,EAAUirE,kBAAkBh6C,GAEpC8gB,EAAO,GACPhpB,EAAO,KAEPD,EAAI9oB,EAAUi1C,OAClB,GAAGj1C,EAAUk2D,SAASlf,GAAQ,OAAOjF,EAErC,GAAI/xC,EAAUwwD,QAAUxwD,EAAUwwD,OAAOxwD,EAAUyzD,QAAU1gB,EAAS,CACrE,IAAIC,EAAOhzC,EAAUwwD,OAAOxwD,EAAUyzD,OACtCzc,EAAQhE,EAAKtmC,MAAMqmC,GAEnB,IAAI7yC,EAAc8yC,EAAKtmC,MAAMqmC,GACxBC,EAAKs0C,KAAO,EAQhBtwC,EAAQh3C,EAAUirE,kBAAkBh6C,GAAc/wB,GAPlD82C,EAAQ92C,EACJ8yC,EAAKtR,MAASsV,EAAQhE,EAAK8C,SAAS9C,EAAKtR,OAC5CsV,EAAQ,GAQV,CAED,KADAjuB,EAAO/oB,EAAU+pE,cAAc/yB,KACnBjuB,EAAK8tB,cAAc,mBAE9B,OAAO/1C,SAASC,cAAc,OAG/B,IAAImoB,EAAQnV,KAAK0+C,IAA2B,GAAtBxhC,EAAWwkC,WAAgBxkC,EAAW4mC,aAA4B,GAAb/uC,EAAE0sC,YAGzEj0D,EAAMwS,KAAKgR,IAAyB,GAApBvjB,EAASi0D,WAAgBj0D,EAASq2D,aAA2B,GAAZ/uC,EAAE8uC,WAKvE,IAJIr2D,GAAQvB,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK7Y,IAAWyI,UAAYjK,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,IAAahnB,YACnH1I,EAAkB,GAAZunB,EAAE8uC,WAGLr2D,GAAO2nB,EACV,MAAO,GAGR,IAAIlY,EAAQpP,KAAKb,gBAGb6E,EAAmB5F,EAAUi1C,OAAOmhB,aAAattC,EAAE8uC,UAAY,EAC/Dl2D,EAAU,KAMd,OALAsP,EAAMrD,MAAMqY,IAAOjS,KAAKgnC,OAAa,GAAN7xB,EAAS,IAAKlpB,EAAUi1C,OAAOugB,WAAW9zD,GAAS1B,EAAUi1C,OAAOmhB,aAAa10D,GAAWkE,EAAoB,KAC/IoL,EAAMrD,MAAMnB,WAAawE,EAAMrD,MAAMmR,OAAS/K,KAAK0+C,IAAK1+C,KAAKgnC,MAAmB,IAAXx5C,EAAI2nB,GAAU,IAAMlpB,EAAUi1C,OAAOmhB,aAAa10D,GAAYkE,EAAkB,GAAG,KACxJoL,EAAMrD,MAAMkR,MAAQ,OACpBkK,EAAK1e,YAAY2G,GACjB+gC,EAAK5hC,KAAKa,GACH+gC,EAAK,EAEZ,EAGF,CAxYe,CJqGNtwC,GKrGM,SAASzB,GAExBA,EAAU+hF,oBAAoBI,cAAgB,aAE9CniF,EAAU+hF,oBAAoBI,cAAcjhF,UAAYlB,EAAUojF,SACjEpjF,EAAU+hF,oBAAoB4D,aAC9B,CACCgC,eAAgB,WACf,IAAI12D,EAAO,IAAIjxB,EAAU+hF,oBAAoBQ,SAK7C,OAHItxD,EAAK22D,YACR32D,EAAOA,EAAK4O,YAEN5O,CACP,EAEDk1D,OAAO,CACN/kE,MAAO,QACPooC,KAAM,OACNs9B,WAAY,aACZx4B,SAAS,WACT+3B,MAAM,QACNK,WAAY,aACZE,KAAM,QAEPiB,QAAS,WACR,IAEI52D,EAFQjxB,EAAU+1C,WAELzmB,KACjB,OAAItvB,EAAUuwD,QAAUvwD,EAAUuwD,OAAOt/B,GACjCrvB,KAAKukF,OAAO73B,SACTtuD,EAAUwwD,QAAUxwD,EAAUwwD,OAAOv/B,GACxCrvB,KAAKukF,OAAOE,MACH,SAARp1D,EACDrvB,KAAKukF,OAAO/kE,MACH,QAAR6P,EACDrvB,KAAKukF,OAAO38B,KACH,eAARv4B,EACDrvB,KAAKukF,OAAOO,WACH,OAARz1D,GAAyB,UAARA,GAAqBjxB,EAAUywD,OAASzwD,EAAU,QAAUixB,GAC9ErvB,KAAKukF,OAAOS,KAEZhlF,KAAKukF,OAAOW,UAEpB,EAED5gE,MAAO,WACNlmB,EAAUkmB,OACV,EAED4hE,KAAM,WAEL,EAEDzJ,QAAS,WACRr+E,EAAU42C,WAAWvzC,aAAa,WAAY,IAC9C,EACD4/E,OAAQ,WACJjjF,EAAU42C,YACZ52C,EAAU42C,WAAWxzC,gBAAgB,WACtC,EACD2kF,UAAW,WACV,OAAO/nF,EAAU42C,WAAW+C,aAAa,WACzC,EAGDquC,eAAgB,SAAS/2D,EAAGzvB,GAC3B,OAAIyvB,EAAEg1B,WAAWh8C,WAAazI,EAAEykD,WAAWh8C,UACnCgnB,EAAE7Y,GAAK5W,EAAE4W,GAAK,GAAK,EACpB6Y,EAAEg1B,WAAWh8C,UAAYzI,EAAEykD,WAAWh8C,UAAY,GAAK,CAC9D,EAEDg+E,WAAY,SAASh3D,EAAMzvB,EAAIuxC,EAASiE,GACvC,IAAIjF,EAAQ/xC,EAAU+1C,WACtB9kB,EAAO,IAAI5W,KAAKtG,KAAK0+C,IAAI1gB,EAAM4hB,SAAS1pD,UAAWgnB,EAAKhnB,YACxDzI,EAAK,IAAI6Y,KAAKtG,KAAKgR,IAAIgtB,EAAM8hB,SAAS5pD,UAAWzI,EAAGyI,YAEpD,IAAI8e,EAAM/oB,EAAUwpE,UAAUv4C,EAAMzvB,GACpCunB,EAAIuyB,KAAK15C,KAAKomF,gBACXhxC,IACFjuB,EAAMA,EAAI6rD,WAIX,QADI9rD,IAASiqB,EACLC,EAAG,EAAGA,EAAIjqB,EAAI3oB,QAAU0oB,EAAMkqB,IAClCjqB,EAAIiqB,GAAG56B,IAAM26B,IACfjqB,GAAA,GAEDC,EAAImhB,OAAO8I,EAAG,GACdA,IAGD,IAAQA,EAAI,EAAGA,EAAIjqB,EAAI3oB,OAAQ4yC,IAE9B,GADmB,IAAIhzC,EAAU+hF,oBAAoBS,MAAMz5D,EAAIiqB,GAAG56B,IAClD6/D,UACf,OAAOlvD,EAAIiqB,GAGb,OAAO,IACP,EAEDk1C,iBAAkB,SAASj3D,GAC1B,IAAIzvB,EAAaxB,EAAU+hF,oBAAoBiB,WAAWmF,WAEtDp1C,EAAU9hB,GAAOzvB,GAAcA,EAAW4mF,QAE1CpxC,EAAY,KAChB,GAAGjE,GAAW/yC,EAAUi+C,SAASlL,GAAS,CACzC,IAAIhB,EAAY/xC,EAAUi+C,SAASlL,GAEnCiE,EAAYh3C,EAAU+hF,oBAAoBI,cAAcjhF,UAAU+mF,WACjEl2C,EAAUkU,WACVjmD,EAAUihB,KAAKtgB,IAAIoxC,EAAUkU,WAAY,EAAG,QAC5ClU,EAAU35B,IACV,EAGD,CACD,IAAI4+B,IAAc/lB,EAAG,CACpB,IAAIlI,EAAe/oB,EAAU+1C,WAE7BiB,EAAYh3C,EAAU+hF,oBAAoBI,cAAcjhF,UAAU+mF,WACjEl/D,EAAa4qC,SACb3zD,EAAUihB,KAAKtgB,IAAIooB,EAAa4qC,SAAU,EAAG,QAC7C,MACA,EAED,CAED,GAAG3c,EAAU,CAEZ,IAAIluB,EAAS,IAAI9oB,EAAU+hF,oBAAoBS,MAAMxrC,EAAU5+B,IAC3D0Q,EAAO8+D,WAGPpmF,GAAYA,EAAWsmF,OAC1B9nF,EAAU+hF,oBAAoBiB,WAAWqF,cAAcv/D,IAHvDlnB,KAAKsmF,iBAAiBlxC,EAAU5+B,GAKjC,CACD,EAEDkwE,iBAAkB,SAASr3D,GAC1B,IAAIzvB,EAAaxB,EAAU+hF,oBAAoBiB,WAAWmF,WAEtDp1C,EAAU9hB,GAAOzvB,GAAcA,EAAW4mF,QAE1CpxC,EAAY,KAChB,GAAGjE,GAAW/yC,EAAUi+C,SAASlL,GAAS,CACzC,IAAIhB,EAAY/xC,EAAUi+C,SAASlL,GAEnCiE,EAAYh3C,EAAU+hF,oBAAoBI,cAAcjhF,UAAU+mF,WACjEjoF,EAAUihB,KAAKtgB,IAAIoxC,EAAUqU,UAAA,EAAc,QAC3CrU,EAAUqU,SACVrU,EAAU35B,IAAA,EAGX,CACD,IAAI4+B,IAAc/lB,EAAG,CACpB,IAAIlI,EAAe/oB,EAAU+1C,WAE7BiB,EAAYh3C,EAAU+hF,oBAAoBI,cAAcjhF,UAAU+mF,WACjEjoF,EAAUihB,KAAKtgB,IAAIooB,EAAa8qC,UAAA,EAAc,QAC9C9qC,EAAa8qC,SACb,MACA,EAED,CAED,GAAG7c,EAAU,CACZ,IAAIluB,EAAS,IAAI9oB,EAAU+hF,oBAAoBS,MAAMxrC,EAAU5+B,IAC3D0Q,EAAO8+D,WAGPpmF,GAAYA,EAAWsmF,OAC1B9nF,EAAU+hF,oBAAoBiB,WAAWqF,cAAcv/D,IAHvDlnB,KAAK0mF,iBAAiBtxC,EAAU5+B,GAKjC,CACD,EAEDtK,KAAM,CAEL,gEAAiE,SAASmjB,GACzE,IAAIzvB,EAAOxB,EAAU+hF,oBAAoBwG,WAAWrnF,UAAUsnF,SAAS,iCACnEz1C,EAAM9hB,EAAE9S,SAAA,IACT40B,IACFA,EAAM9hB,EAAEpY,QAAU,IAEhBrX,EAAS,EAAJuxC,EAAQ,IACfvxC,EAAS,EAAJuxC,EAAQ,GAAG0C,OAEjB,EAED,sBAAuB,SAASxkB,GAC/BjxB,EAAU6yD,OAAO+B,qBACjB,EACD,wBAAyB,SAAS3jC,GACjCjxB,EAAU6yD,OAAOgC,qBACjB,EACD,kBAAkB,SAAS5jC,GACXjxB,EAAU42C,WAAWC,cAAc,iBACzC5wB,WAAa,EACtB,EACD,sBAAuB,SAASgL,GAChBjxB,EAAU42C,WAAWC,cAAc,iBACzC5wB,WAAa,EACtB,EAGDxkB,EAAK,WACJG,KAAKsmF,kBACL,EAEDxD,KAAQ,WACP1kF,EAAUk2C,eAAe,IAAI77B,KAC7B,EAED,UAAW,WACVzY,KAAK0mF,kBACL,EAED,wBAAyB,WACxBtoF,EAAUq1D,YAAY,CAACpP,WAAY,IAAI5rC,KAAKra,EAAU+1C,WAAW90B,OACjE,EAED,gBAAiB,SAASgQ,GACzBjxB,EAAUyoF,oBAAoBx3D,EAC9B,EACD,gBAAiB,SAASA,GACzBjxB,EAAUyoF,oBAAoBx3D,EAC9B,EACD,gBAAiB,SAASA,GACzBjxB,EAAUyoF,oBAAoBx3D,EAC9B,KAMJjxB,EAAU+hF,oBAAoBI,cAAcjhF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBI,cAAcjhF,UAAU4M,KAEpH,CAhPe,CLsGErM,GMtGF,SAASzB,GAExBA,EAAU+hF,oBAAoB2G,WAAa,aAE3C1oF,EAAU+hF,oBAAoB2G,WAAWxnF,UAAYlB,EAAUojF,SAC9DpjF,EAAU+hF,oBAAoB4D,aAC9B,CACCiC,QAAS,WACR,OAAO,CACP,EACD/nD,SAAU,WACT,OAAO,IACP,EAED8oD,OAAQ,SAAU13D,GACjBjxB,EAAU+hF,oBAAoBiB,WAAWqF,cAAcp3D,EACvD,EAED23D,UAAW,SAAS33D,GAEnB,IAAIA,EAAG,OAAO,EACd,QAAQzvB,KAAKI,KAAK,CACjB,KAAKA,KAAKJ,MAAQyvB,EAAEzvB,GAAI,SAExB,IAAIuxC,KAAsBnxC,KAAKJ,KAAMI,KAAKJ,GAAG0I,UACzC8sC,KAAsB/lB,EAAEzvB,KAAMyvB,EAAEzvB,GAAG0I,UACvC,GAAG8sC,GAAoBjE,EAAkB,OAAO,EAChD,GAAKiE,GAAoBjE,GAGxB,GAAG9hB,EAAEzvB,GAAG0I,YAActI,KAAKJ,GAAG0I,WAC7B,OAAO,UAHL+mB,EAAEzvB,IAAMI,KAAKJ,GAAI,QAKrB,CACD,OAAO,CACP,EAEDy2E,QAAS,WAAY,EACrB/xD,MAAO,WACN,IAAI+K,EAAOrvB,KAAKq2E,UACbhnD,IACFA,EAAK5tB,aAAa,WAAY,MAE3B4tB,EAAK/K,OAAO+K,EAAK/K,QAGrB,EACD4hE,KAAM,WACL,IAAI72D,EAAOrvB,KAAKq2E,UACbhnD,GACFA,EAAK5tB,aAAa,WAAY,KAG/B,GAKH,CA1De,CNuGJ5B,GOvGI,SAASzB,GAExBA,EAAU+hF,oBAAoBwG,WAAa,SAASt3D,GACnDrvB,KAAK4uB,MAAQS,GAAS,CACvB,EAEAjxB,EAAU+hF,oBAAoBwG,WAAWrnF,UAAYlB,EAAUojF,SAC9DpjF,EAAU+hF,oBAAoB2G,WAC9B,CACCzQ,QAAS,SAAShnD,GACjBA,EAAQA,GAASrvB,KAAK4uB,OAAS,EAC/B,IAAIhvB,EAAQI,KAAK4mF,WACjB,GAAGhnF,EAAMyvB,GAAQ,OAAOzvB,EAAMyvB,EAC9B,EAEDu3D,SAAU,SAASv3D,GAClBA,EAAWA,GAAY,CACrB,wCACA,wCACA,yCACA,iCACCZ,KAAK,MAER,IAAI7uB,EAAQqH,MAAM3H,UAAU2B,MAAMI,KAAKjD,EAAU42C,WAAWzM,iBAAiBlZ,IAI7E,OAHAzvB,EAAM85C,MAAK,SAASvI,EAAGiE,GACtB,OAAOjE,EAAEuH,WAAatD,EAAEsD,UAC5B,IACU94C,CACP,EAEDokF,UAAU,KAEVgC,QAAS,WACR,QAAShmF,KAAKq2E,QAAQr2E,KAAK4uB,MAC3B,EACDqP,SAAS,WACR,IAAI5O,EAAcrvB,KAAKq2E,QAAQ,GAI/B,OAHIhnD,IACHA,EAAc,IAAIjxB,EAAU+hF,oBAAoBQ,UAE1CtxD,CACP,EAEDnjB,KAAM,CACLgY,KAAQ,WACP,IAAImL,EAAWrvB,KAAK4uB,MAAQ,EACzBS,EAAW,IACbA,EAAWrvB,KAAK4mF,WAAWpoF,OAAS,GAGrCwB,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBwG,WAAWt3D,GAEzD,EACDgrB,MAAS,WACR,IAAIhrB,EAAWrvB,KAAK4uB,MAAQ,EACzBS,GAAYrvB,KAAK4mF,WAAWpoF,SAC9B6wB,EAAW,GAGZrvB,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBwG,WAAWt3D,GACzD,EACDwzD,KAAQ,WACP7iF,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAC9C,EAED8B,MAAS,WACR,IAAIpzD,EAAOrvB,KAAKq2E,UACbhnD,GACFA,EAAKwkB,OAEN,KAKJz1C,EAAU+hF,oBAAoBwG,WAAWrnF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBwG,WAAWrnF,UAAU4M,KAE9G,CA7Ee,CPwGDrM,GQxGC,SAASzB,GAExBA,EAAU+hF,oBAAoBS,MAAQ,SAASvxD,GAE9C,GADArvB,KAAKwmF,QAAU,KACZpoF,EAAUi+C,SAAShtB,GAAI,CACzB,IAAIzvB,EAAKxB,EAAUi+C,SAAShtB,GAC5BrvB,KAAK+iB,MAAQ,IAAItK,KAAK7Y,EAAGykD,YACzBrkD,KAAKgjB,IAAM,IAAIvK,KAAK7Y,EAAG4kD,UAEvBxkD,KAAKw7D,QAAUx7D,KAAKinF,YAAYrnF,GAChCI,KAAKwmF,QAAUn3D,CACf,CACF,EAEAjxB,EAAU+hF,oBAAoBS,MAAMthF,UAAYlB,EAAUojF,SACzDpjF,EAAU+hF,oBAAoB2G,WAC9B,CACCI,UAAW,WACV,OAAOjgF,MAAM3H,UAAU2B,MAAMI,KAAKjD,EAAU42C,WAAWzM,iBAAiB,IAAInqC,EAAUi1C,OAAO6xB,gBAAgB,KAC7G,EAEDqf,OAAQnmF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUilF,OAE9D0B,QAAS7nF,EAAU+hF,oBAAoBI,cAAcjhF,UAAU2mF,QAE/DjC,UAAW,KACXgC,QAAS,WACR,SAAU5nF,EAAUi+C,SAASr8C,KAAKwmF,WAAYxmF,KAAKq2E,UACnD,EACDp4C,SAAU,WACT,IAAI5O,EAAYrvB,KAAKknF,YAAY,GAC7BtnF,EAAiB,KACrB,GAAIyvB,GAAejxB,EAAUozD,cAAcniC,GAEtC,CACJ,IAAI8hB,EAAK/yC,EAAUozD,cAAcniC,GACjCzvB,EAAiB,IAAIxB,EAAU+hF,oBAAoBS,MAAMzvC,EACzD,MAJAvxC,EAAiB,IAAIxB,EAAU+hF,oBAAoBQ,SAMpD,OAAO/gF,CACP,EAEDunF,mBAAoB,SAAU93D,GAC7B,IAAIzvB,EAAWyvB,EAAGwpB,wBACd1H,EAAW/yC,EAAU42C,WAAWC,cAAc,iBAAiB4D,wBAEnE,QAAGj5C,EAAS06C,OAASnJ,EAAS/sB,KAAOxkB,EAASwkB,IAAM+sB,EAASmJ,OAI7D,EAED+7B,QAAS,WAER,IAAIhnD,EAAa,IAAIjxB,EAAUi1C,OAAO6xB,gBAAgB,KAAKllE,KAAKwmF,QAAQ,KAEpE5mF,EAAexB,EAAU+hF,oBAAoBiB,WAAWgG,gBAAgBpnF,KAAKwmF,SACjF,GAAG5mF,EACF,OAAOA,EAEP,GAAGxB,EAAUipF,qBAAuBjpF,EAAUipF,oBAAoBjpF,EAAUi+C,SAASr8C,KAAKwmF,UAAU,CAEnG,QADIr1C,EAAQ/yC,EAAU42C,WAAWzM,iBAAiBlZ,GAC1C+lB,EAAI,EAAGA,EAAIjE,EAAM3yC,OAAQ42C,IAChC,GAAGp1C,KAAKmnF,mBAAmBh2C,EAAMiE,IAChC,OAAOjE,EAAMiE,GAGf,OAAOjE,EAAM,EAClB,CACK,OAAO/yC,EAAU42C,WAAWC,cAAc5lB,EAM5C,EAED/K,MAAO,WACN,IAAI+K,EAAQjxB,EAAUi+C,SAASr8C,KAAKwmF,SAEhC5mF,EAAWxB,EAAU+1C,YACtB9kB,EAAMg1B,WAAWh8C,UAAYzI,EAASqyD,SAAS5pD,WAAagnB,EAAMm1B,SAASn8C,WAAazI,EAASmyD,SAAS1pD,YAC5GjK,EAAUk2C,eAAejlB,EAAMg1B,YAGhC,IAAIlT,EAAOnxC,KAAKq2E,UACZr2E,KAAKmnF,mBAAmBh2C,GAC3B/yC,EAAU+hF,oBAAoBiB,WAAWkG,mBAAmB,WAC3DlpF,EAAU+hF,oBAAoB2G,WAAWxnF,UAAUglB,MAAMnV,MAAMnP,KAC/D,EAAE+mB,KAAK/mB,OAER5B,EAAU+hF,oBAAoB2G,WAAWxnF,UAAUglB,MAAMnV,MAAMnP,KAGhE,EACDkmF,KAAM,WACL9nF,EAAU+hF,oBAAoB2G,WAAWxnF,UAAU4mF,KAAK/2E,MAAMnP,KAC9D,EAGDinF,YAAa,SAAS53D,GACrB,IAAIzvB,EAAU,KACVuxC,EAAO/yC,EAAU+1C,WAAWzmB,KAQhC,OAPGtvB,EAAUuwD,QAAUvwD,EAAUuwD,OAAOxd,GAEvCvxC,EAAUyvB,EADKjxB,EAAUuwD,OAAOvwD,EAAU+1C,WAAWzmB,MAC/BkuC,YACdx9D,EAAUwwD,QAAUxwD,EAAUwwD,OAAOzd,KAE7CvxC,EAAUyvB,EADCjxB,EAAUwwD,OAAOzd,GACVgqB,SAEZv7D,CACP,EACD2nF,YAAa,SAASl4D,GACrB,IAAIzvB,EAAKxB,EAAUi+C,SAASr8C,KAAKwmF,SACjC,GAAG5mF,EAAG,CACL,IAAIuxC,EAASnxC,KAAKinF,YAAYrnF,GAC1Bw1C,EAAO,IAAIh3C,EAAU+hF,oBAAoBQ,SAAS/gF,EAAGykD,WAAY,KAAMlT,GAC3EnxC,KAAK+mF,OAAO3xC,EAAKoyC,SAASpyC,EAAM/lB,GACpC,MACIrvB,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAE/C,EAEDz0E,KAAM,CACLgY,KAAQ,WACPlkB,KAAKunF,YAAY,OACjB,EAEDltC,MAAS,WACRr6C,KAAKunF,YAAY,QACjB,EACD1E,KAAQ,WACJ7iF,KAAKimF,WAAajmF,KAAKukF,OAAOS,KAChC5mF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUgnF,mBAEtDtmF,KAAKunF,YAAY,OAElB,EAED5E,MAAS,WACR,IAAItzD,EAAOrvB,KAAKq2E,UACbhnD,GAAQA,EAAKwkB,MACfxkB,EAAKwkB,QAEL7zC,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAG/C,EAEDiC,GAAM,WACF5iF,KAAKimF,WAAajmF,KAAKukF,OAAOS,KAChC5mF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUonF,mBAEtD1mF,KAAKunF,YAAY,KAElB,EAED5yE,OAAU,WACNvW,EAAUi+C,SAASr8C,KAAKwmF,SAC1BpoF,EAAU6yD,OAAOl3C,QAAgBpF,OAAE3U,KAAKwmF,SAExCxmF,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAE/C,EAGD8B,MAAS,WACLrkF,EAAUi+C,SAASr8C,KAAKwmF,SAC1BpoF,EAAUm1D,aAAavzD,KAAKwmF,SAE5BxmF,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAE/C,KAIJviF,EAAU+hF,oBAAoBS,MAAMthF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBS,MAAMthF,UAAU4M,KAEpG,CAlLe,CRyGPrM,GSzGO,SAASzB,GAExBA,EAAU+hF,oBAAoBQ,SAAW,SAAStxD,EAAMzvB,EAAIuxC,EAASiE,GACpE,IAAIjF,EAAQ/xC,EAAU+1C,WAClBhtB,EAAW/oB,EAAUuwD,QAAUvwD,EAAUuwD,OAAOxe,EAAMziB,MAEtD2B,IACHA,EAAOrvB,KAAKynF,kBAGT7nF,IAGFA,EADEunB,EACG/oB,EAAUihB,KAAKtgB,IAAIswB,EAAMlI,EAASguC,OAAQhuC,EAASiuC,QAEnDh3D,EAAUihB,KAAKtgB,IAAIswB,EAAMjxB,EAAUi1C,OAAOwtC,aAAc,WAK/D7gF,KAAKw7D,QAAUrqB,GAAWnxC,KAAK0nF,qBAC/B1nF,KAAKqkD,WAAa,IAAI5rC,KAAK4W,GAC3BrvB,KAAKwkD,SAAW,IAAI/rC,KAAK7Y,GACzBI,KAAK2nF,WAAavyC,GAAc,IACjC,EAEAh3C,EAAU+hF,oBAAoBQ,SAASrhF,UAAYlB,EAAUojF,SAC5DpjF,EAAU+hF,oBAAoB2G,WAC9B,CACC9C,UAAU,KAEVyD,eAAgB,WACf,IAAIp4D,EACAzvB,EAAQxB,EAAU+1C,WAClBhD,EAAc,IAAI14B,KAAK7Y,EAAMyf,MACjC8xB,EAAYswB,WAAW,GACvBtwB,EAAYuwB,gBAAgB,GAE5B,IAAItsB,EAAU,IAAI38B,KAClB28B,EAAQqsB,WAAW,GACnBrsB,EAAQssB,gBAAgB,GAExB,IAAIvxB,EAAW/xC,EAAUuwD,QAAUvwD,EAAUuwD,OAAO/uD,EAAM8tB,MACtDvG,GAAA,EAKJ,GAJGgqB,EAAY9oC,YAAc+sC,EAAQ/sC,YACpC8e,GAAc,GAGZgpB,EACChpB,GACqB,QAApBgpB,EAASilB,QACXhgB,EAAQ0e,SAAS,GACjB1e,EAAQosB,WAAW,IACS,SAApBrxB,EAASilB,QACjBhgB,EAAQosB,WAAW,GAEpBnyC,EAAO+lB,GAEP/lB,EAAOjxB,EAAUihB,KAAK8wB,EAAS9rC,KAAO,UAAU,IAAIoU,KAAK7Y,EAAMyf,OAGhEgQ,EAAOrvB,KAAK4nF,kBAAkBv4D,QAW9B,GATAA,EAAO,IAAI5W,KAAKra,EAAU+1C,WAAW4d,UAClC5qC,IACFkI,EAAO+lB,GAER/lB,EAAOrvB,KAAK4nF,kBAAkBv4D,GAC1BlI,GACHkI,EAAKykC,SAAS11D,EAAUi1C,OAAOugB,aAG5Bx1D,EAAUiyD,YAAY,CACzB,IAAInpC,EAAgB9oB,EAAU42C,WAAWC,cAAc,iBACpD/tB,EAAc7C,WAChBgL,EAAKykC,SAAS11D,EAAUi1C,OAAOugB,WAAazhD,KAAK6wB,KAAK9b,EAAc7C,UAAYjmB,EAAUi1C,OAAOmhB,cAElG,CAGF,OAAOnlC,CACP,EAEDw4D,MAAO,SAASx4D,GACf,OAAO,IAAIjxB,EAAU+hF,oBAAoBQ,SAAStxD,EAASg1B,WAAYh1B,EAASm1B,SAAUn1B,EAASmsC,QAASnsC,EAASs4D,WACrH,EACDG,qBAAsB,WACrB,IACIz4D,EADAzvB,EAAQxB,EAAU+1C,WAOtB,OALG/1C,EAAUwwD,QAAUxwD,EAAUwwD,OAAOhvD,EAAM8tB,MAC7C2B,EAAOjxB,EAAUwwD,OAAOhvD,EAAM8tB,MACtBtvB,EAAUuwD,QAAUvwD,EAAUuwD,OAAO/uD,EAAM8tB,QACnD2B,EAAOjxB,EAAUuwD,OAAO/uD,EAAM8tB,OAExB2B,CACP,EAEDq4D,mBAAoB,WACnB,IAAIr4D,EAAU,KAKd,OAJWrvB,KAAK8nF,yBACJz4D,IACXA,EAAUrvB,KAAK+nF,mBAET14D,CACP,EAED04D,gBAAiB,SAAS14D,EAAWzvB,GACpC,IAAIuxC,EAAOnxC,KAAK8nF,uBACZ1yC,EAAejE,EAAKrmC,MAAMukB,GAC1B8gB,EAAYiF,GAEfjF,OADmB,IAAjBiF,EACWA,EAAex1C,EAEfuxC,EAAKrR,MAAQqR,EAAK+C,SAAY/C,EAAK+C,SAAW,GAG7C,IACd/D,EAAY,GAEb,IAAIhpB,EAAUgqB,EAAK/pC,SAAW+pC,EAAK2pC,OAOnC,OALG3qC,GAAahpB,EAAQ3oB,SACvB2xC,EAAYhpB,EAAQ3oB,OAAS,GAI3B2oB,EAAQgpB,GACHhpB,EAAQgpB,GAAW5zB,IAEnB,IAER,EAGDypE,QAAS,WACR,IAAI32D,EAAQjxB,EAAU+1C,WAMtB,GALkBn0C,KAAKqkD,WAAWh8C,UAAYgnB,EAAM0iC,SAAS1pD,WAAarI,KAAKqkD,WAAWh8C,WAAagnB,EAAM4iC,SAAS5pD,YAKlHrI,KAAKgoF,UAAUhoF,KAAKqkD,WAAYrkD,KAAKwkD,UAAW,SAEpD,IAAI5kD,EAAOI,KAAK8nF,uBAEhB,OAAGloF,QACmC,IAA7BA,EAAKkL,MAAM9K,KAAKw7D,QAKzB,EAEDv9B,SAAS,WAER,IAAI5O,EAAc,IAAIjxB,EAAU+hF,oBAAoBQ,SACpD,OAAItxD,EAAY22D,UAGR32D,EAFA,IAAIjxB,EAAU+hF,oBAAoBM,QAI1C,EAEDmG,SAAU,WACT,OAAO3/E,MAAM3H,UAAU2B,MAAMI,KAAKjD,EAAU42C,WAAWzM,iBAAiB,mBACxE,EACD8tC,QAAS,WACR,OAAOr2E,KAAK4mF,WAAW,EACvB,EAEDtiE,MAAO,WACHtkB,KAAKw7D,SAAWp9D,EAAU+4D,WAAa/4D,EAAU+4D,UAAUqoB,iBAAmBphF,EAAU+4D,UAAU4T,WAAa3sE,EAAU42C,WAAWC,cAAA,qBAAA/uB,OAAmClmB,KAAKw7D,QAAA,QAC9Kp9D,EAAU+4D,UAAU4T,SAAS,CAACvP,QAASx7D,KAAKw7D,UAE7Cp9D,EAAU+hF,oBAAoBkE,OAAO7/E,OAAOxE,KAAKqkD,WAAYrkD,KAAKwkD,SAAUxkD,KAAKw7D,SACjFp9D,EAAU+hF,oBAAoB2G,WAAWxnF,UAAUglB,MAAMnV,MAAMnP,MAC/D5B,EAAU+hF,oBAAoB8H,WAAajoF,KAAKqkD,WAChDjmD,EAAU+hF,oBAAoB+H,cAAgBloF,KAAKw7D,OAEnD,EACD0qB,KAAM,WACL9nF,EAAU+hF,oBAAoB2G,WAAWxnF,UAAU4mF,KAAK/2E,MAAMnP,MAC9D5B,EAAU+hF,oBAAoBkE,OAAOpuC,OACrC,EAEDsuC,OAAQnmF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUilF,OAE9DC,SAAUpmF,EAAU+hF,oBAAoBI,cAAcjhF,UAAU2mF,QAEhEkC,aAAc,SAAS94D,EAAMzvB,EAAKuxC,GACjC,IAAIiE,EACJ,OAAQx1C,GACP,IAAK,KACJw1C,EAAMh3C,EAAUihB,KAAKtgB,IAAIswB,GAAA,EAAU,QACnC,MACD,IAAK,OACJ+lB,EAAMh3C,EAAUihB,KAAKtgB,IAAIswB,EAAM,EAAG,QAClC,MACD,IAAK,OACJ+lB,EAAMh3C,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIswB,GAAO,EAAG,QAC5D+lB,EAAMp1C,KAAK4nF,kBAAkBxyC,GAAM,GACnC,MACD,IAAK,QACJA,EAAMh3C,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIswB,EAAM,EAAG,QAC3D+lB,EAAMp1C,KAAK4nF,kBAAkBxyC,EAAK,GAClC,MACD,QACCA,EAAMh3C,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,IAI1C,IAAI8gB,EAAQ/xC,EAAU+1C,WAKtB,OAJG9kB,EAAKhnB,UAAY8nC,EAAM4hB,SAAS1pD,YAAe8oC,GAAU9hB,EAAKhnB,WAAa8nC,EAAM8hB,SAAS5pD,aAC5F+sC,EAAM,IAAI38B,KAAK03B,EAAM4hB,WAGf3c,CACP,EAEDgzC,cAAe,SAAS/4D,EAAMzvB,EAAKuxC,GAElC,IAAIiE,EAAOjF,EAMX,OALAiF,EAAQp1C,KAAKmoF,aAAa94D,EAAKg1B,WAAYzkD,EAAKuxC,IAE1C2iB,SAAS11D,EAAUi1C,OAAOugB,aAChCzjB,EAAM,IAAI13B,KAAK28B,IACX0e,SAAS11D,EAAUi1C,OAAO2iB,WACvB,CAAC3R,WAAYjP,EAAOoP,SAAUrU,EACrC,EAEDk4C,eAAgB,SAASh5D,EAAMzvB,EAASuxC,EAAMiE,GAE7C,QADIjF,EAAc,IAAI13B,KAAK7Y,GACrBuwC,EAAY9nC,UAAYgnB,EAAKhnB,WAClC8nC,EAAc/xC,EAAUihB,KAAKtgB,IAAIoxC,EAAaiF,EAAMjE,GAOrD,OAJGhB,EAAY9nC,UAAYgnB,EAAKhnB,YAC/B8nC,EAAc/xC,EAAUihB,KAAKtgB,IAAIoxC,GAAciF,EAAMjE,IAG/ChB,CACP,EAEDm4C,iBAAkB,SAASj5D,EAAMzvB,EAAKuxC,GACrC,IAAIiE,EAAQh3C,EAAU+1C,WAClBhE,EAAO/xC,EAAUuwD,OAAOvZ,EAAM1nB,MAE9BvG,EAAannB,KAAKqoF,eAAeh5D,EAAKg1B,WAAYjmD,EAAUihB,KAAK8wB,EAAK9rC,KAAO,UAAU,IAAIoU,KAAK4W,EAAKg1B,aAAclU,EAAKilB,OAAQjlB,EAAKglB,QACrIjuC,EAAUlnB,KAAKqoF,eAAeh5D,EAAKm1B,SAAUpmD,EAAUihB,KAAK8wB,EAAK9rC,KAAO,UAAU,IAAIoU,KAAK4W,EAAKm1B,WAAYrU,EAAKilB,OAAQjlB,EAAKglB,QAE/HjuC,EAAQ7e,WAAa8e,EAAU9e,YACjC6e,EAAU9oB,EAAUihB,KAAKtgB,IAAIooB,EAAWgpB,EAAKglB,OAAQhlB,EAAKilB,SAE3D,IAAIhkB,EAASpxC,KAAK6nF,MAAMx4D,GAMxB,OALA+hB,EAAOiT,WAAal9B,EACpBiqB,EAAOoT,SAAWt9B,EAClBkqB,EAAOoqB,QAAUnsC,EAAKmsC,SAAWx7D,KAAK+nF,kBAG9BnoF,GACP,IAAK,KACJwxC,EAAOoqB,QAAUx7D,KAAK+nF,gBAAgB14D,EAAKmsC,SAAU,GACrD,MACD,IAAK,OACJpqB,EAAOoqB,QAAUx7D,KAAK+nF,gBAAgB14D,EAAKmsC,QAAS,GACpD,MACD,IAAK,OACJpqB,EAAOiT,WAAarkD,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIqyC,EAAOiT,YAAalU,EAAKglB,OAAQhlB,EAAKilB,SAAA,GACpGhkB,EAAOoT,SAAWpmD,EAAUihB,KAAKtgB,IAAIqyC,EAAOiT,WAAYlU,EAAKglB,OAAQhlB,EAAKilB,QAC1E,MACD,IAAK,QACJhkB,EAAOiT,WAAarkD,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIqyC,EAAOiT,WAAYlU,EAAKglB,OAAQhlB,EAAKilB,QAAS,GAC5GhkB,EAAOoT,SAAWpmD,EAAUihB,KAAKtgB,IAAIqyC,EAAOiT,WAAYlU,EAAKglB,OAAQhlB,EAAKilB,QAiB5E,OATGhkB,EAAOiT,WAAWh8C,UAAY+sC,EAAM2c,SAAS1pD,WAAa+oC,EAAOiT,WAAWh8C,WAAa+sC,EAAM6c,SAAS5pD,aACvG8oC,GAAUC,EAAOiT,WAAWh8C,WAAa+sC,EAAM6c,SAAS5pD,UAC1D+oC,EAAOiT,WAAa,IAAI5rC,KAAK28B,EAAM6c,WAEnC7gB,EAAOiT,WAAajmD,EAAUihB,KAAK+1B,EAAM1nB,KAAO,UAAUtvB,EAAUihB,KAAKtgB,IAAIq2C,EAAM/1B,KAAa,QAAPzf,GAAiB,EAAI,EAAGw1C,EAAM1nB,OACvH0jB,EAAOoT,SAAWpmD,EAAUihB,KAAKtgB,IAAIqyC,EAAOiT,WAAYlU,EAAKglB,OAAQhlB,EAAKilB,UAIrEhkB,CACP,EAEDm3C,cAAe,SAASl5D,EAAMzvB,EAAKuxC,GAClC,IAAIiE,EAASp1C,KAAK6nF,MAAMx4D,GACxB+lB,EAAOomB,QAAUnsC,EAAKmsC,SAAWx7D,KAAK+nF,kBAEtC,IAAI53C,EAAU9gB,EAAKmsC,SAAWx7D,KAAK+nF,kBAC/B5gE,EAAQ/oB,EAAU+1C,WAClBjtB,EAAO9oB,EAAUwwD,OAAOznC,EAAMuG,MAClC,OAAQ9tB,GACP,IAAK,OACJuwC,EAAUnwC,KAAK+nF,gBAAgB14D,EAAKmsC,SAAA,GACpC,IAAIpqB,EAAelqB,EAAK4Y,KAAQ5Y,EAAK4Y,KAAO,EAAK5Y,EAAK9f,QAAQ5I,OAE3D0oB,EAAKw+D,KAAO,GAAMx+D,EAAKpc,MAAMqlC,IAAYiB,EAAe,GACvDhzC,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,YAAA,EAAgB,OAAOh8C,WAAa8e,EAAM4qC,SAAS1pD,YAC7E+sC,EAASp1C,KAAKwoF,YAAYn5D,EAAMzvB,EAAKuxC,IAGvC,MACD,IAAK,QACJhB,EAAUnwC,KAAK+nF,gBAAgB14D,EAAKmsC,QAAS,GAC1Ct0C,EAAKw+D,KAAO,IAAMx+D,EAAKpc,MAAMqlC,IAC5B/xC,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,WAAY,EAAG,OAAOh8C,UAAY8e,EAAM8qC,SAAS5pD,YAC3E+sC,EAASp1C,KAAKwoF,YAAYn5D,EAAMzvB,EAAKuxC,IAIvC,MACD,QACCiE,EAASp1C,KAAKwoF,YAAYn5D,EAAMzvB,EAAKuxC,GACrChB,EAAU9gB,EAAKmsC,QAIjB,OADApmB,EAAOomB,QAAUrrB,EACViF,CACP,EAEDqzC,UAAW,SAASp5D,EAASzvB,GAC5B,IAAIuxC,EAAUnxC,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIswB,EAASzvB,EAAK,OAAQA,GAG9E,OAFAuxC,EAAQ2iB,SAASzkC,EAAQwkC,YACzB1iB,EAAQqwB,WAAWnyC,EAAQ4mC,cACpB9kB,CACP,EAEDu3C,iBAAkB,SAASr5D,EAAMzvB,GAChC,IAAIuxC,EAAU9hB,EAAK4mC,aAClB7gB,EAAQ/lB,EAAKwkC,WACb1jB,EAAY/xC,EAAUi1C,OAAO2iB,UAC9B,OAAQ5gB,EAAQjF,IAAevwC,IAA8B,IAAbuwC,GAAmBiF,GAASjF,KAAegB,CAC3F,EACDw3C,iBAAkB,SAASt5D,EAAMzvB,GAChC,IAAIuxC,EAAU9hB,EAAK4mC,aAClB7gB,EAAQ/lB,EAAKwkC,WACb1jB,EAAa/xC,EAAUi1C,OAAOugB,WAC9BzsC,EAAY/oB,EAAUi1C,OAAO2iB,UAC9B,OAAQ5gB,GAASjF,IAAgBvwC,IAAiBuxC,KAAciE,GAAuB,IAAbjuB,GAAqBiuB,GAASjuB,EACxG,EACDyhE,mBAAoB,SAASv5D,EAAMzvB,GAClC,OAAQI,KAAK0oF,iBAAiBr5D,EAAMzvB,IAAgBI,KAAK2oF,iBAAiBt5D,EAAMzvB,EAChF,EAED4oF,YAAa,SAASn5D,EAAMzvB,EAAKuxC,GAChC,IAAIiE,EAAOjF,EAEPhpB,EAAe/oB,EAAUi1C,OAAOwtC,aAEhC35D,EAAOlnB,KAAKqoF,eAAeh5D,EAAKg1B,WAAYjmD,EAAUihB,KAAK2sC,UAAU,IAAIvzC,KAAK4W,EAAKg1B,aAAc,SAAUl9B,GAG3GiqB,EAAW/hB,EAAKg1B,WAEpB,OAAQzkD,GACP,IAAK,KAGJ,GAFAw1C,EAAQh3C,EAAUihB,KAAKtgB,IAAImoB,GAAOC,EAAc,WAE5CnnB,KAAK4oF,mBAAmBxzC,GAAA,MACtBjE,GAAUnxC,KAAK4oF,mBAAmBx3C,GAAU,IAAO,CAEvD,IAAI9yC,GAAY,EACb6yC,GAAU/yC,EAAUihB,KAAK6sC,UAAU,IAAIzzC,KAAK28B,IAAQ/sC,WAAajK,EAAUihB,KAAK6sC,UAAU,IAAIzzC,KAAK24B,IAAW/oC,YAChH/J,GAAA,GACEA,IACF82C,EAAQp1C,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,YAAA,EAAgB,QAAS,IAEjFjP,EAAM0e,SAAS11D,EAAUi1C,OAAO2iB,WAChC5gB,EAAMosB,WAAW,GACjBpsB,EAAQh3C,EAAUihB,KAAKtgB,IAAIq2C,GAAQjuB,EAAc,SACjD,CAEFgpB,EAAM/xC,EAAUihB,KAAKtgB,IAAIq2C,EAAOjuB,EAAc,UAC9C,MACD,IAAK,OACJiuB,EAAQh3C,EAAUihB,KAAKtgB,IAAImoB,EAAMC,EAAc,UAE/C,IAAIG,EAAU6pB,EAASiE,EAAQh3C,EAAUihB,KAAKtgB,IAAIq2C,EAAOjuB,EAAc,UACnEnnB,KAAK4oF,mBAAmBthE,GAAS,IAChC6pB,IAAUnxC,KAAK4oF,mBAAmBx3C,GAAU,KAC1CD,GAKA7yC,GAAA,EACAF,EAAUihB,KAAK6sC,UAAU,IAAIzzC,KAAK24B,IAAW/oC,WAAa+oC,EAAS/oC,YACtE/J,GAAY,GAETA,IACH82C,EAAQp1C,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,WAAY,EAAG,OAAQ,IAE/EjP,EAAM0e,SAAS11D,EAAUi1C,OAAOugB,YAChCxe,EAAMosB,WAAW,GACjBpsB,EAAQh3C,EAAUihB,KAAKtgB,IAAIq2C,EAAOjuB,EAAc,aAbhDiuB,EAAQp1C,KAAK4nF,kBAAkBxpF,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,WAAY,EAAG,OAAQ,IACxEyP,SAAS11D,EAAUi1C,OAAOugB,YAChCxe,EAAMosB,WAAW,KAgBpBrxB,EAAM/xC,EAAUihB,KAAKtgB,IAAIq2C,EAAOjuB,EAAc,UAC9C,MACD,IAAK,OACJiuB,EAAQp1C,KAAKyoF,UAAUp5D,EAAKg1B,YAAA,GAC5BlU,EAAMnwC,KAAKyoF,UAAUp5D,EAAKm1B,UAAA,GAC1B,MACD,IAAK,QACJpP,EAAQp1C,KAAKyoF,UAAUp5D,EAAKg1B,WAAY,GACxClU,EAAMnwC,KAAKyoF,UAAUp5D,EAAKm1B,SAAU,GACpC,MACD,QACCpP,EAAQluB,EACRipB,EAAM/xC,EAAUihB,KAAKtgB,IAAIq2C,EAAOjuB,EAAc,UAIhD,MAAO,CAACk9B,WAAYjP,EAAOoP,SAAUrU,EACrC,EACD04C,mBAAoB,SAASx5D,EAAMzvB,GAClC,IAAIuxC,EAAOiE,EACPjF,EAAQ/xC,EAAU+1C,WAEtB,OAAQv0C,GACP,IAAK,OACL,IAAK,OACJuxC,EAAQ/yC,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,YAAA,EAAgB,QACzElT,EAAQnxC,KAAK4nF,kBAAkBz2C,GAAA,GAC/B,MACD,IAAK,KACL,IAAK,QACJA,EAAQ/yC,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIswB,EAAKg1B,WAAY,EAAG,QACxElT,EAAQnxC,KAAK4nF,kBAAkBz2C,EAAO,GACtC,MACD,QACCA,EAAQ/yC,EAAUihB,KAAK2sC,UAAU38B,EAAKg1B,YASxC,OANGh1B,EAAKg1B,WAAWh8C,UAAY8nC,EAAM4hB,SAAS1pD,WAAagnB,EAAKg1B,WAAWh8C,WAAa8nC,EAAM8hB,SAAS5pD,aACtG8oC,EAAQ,IAAI14B,KAAK03B,EAAM4hB,YAGxB3c,EAAM,IAAI38B,KAAK04B,IACX2iB,SAAS11D,EAAUi1C,OAAO2iB,WACvB,CAAC3R,WAAYlT,EAAOqT,SAAUpP,EACrC,EACD0zC,eAAgB,SAASz5D,EAAMzvB,GAC9B,MAAO,CAACykD,WAAYh1B,EAAKg1B,WAAYG,SAAUn1B,EAAKm1B,SACpD,EAGDukC,cAAe,SAAS15D,GACvB,IAAIjxB,EAAU22D,kBACb,OAAO,EAER,IAEIn1D,EAFAuxC,EAAW/yC,EAAUuwD,QAAUvwD,EAAUuwD,OAAOvwD,EAAU+1C,WAAWzmB,MASzE,OALC9tB,EADEuxC,EACM/yC,EAAUs9D,gBAAgBvqB,EAAU9hB,GAEpCjxB,EAAUirE,kBAAkBh6C,IAG7BjxB,EAAUk2D,SAAS10D,EAC3B,EAEDgoF,kBAAmB,SAASv4D,EAAOzvB,GAClC,IAAIuxC,EAAO9hB,EACXzvB,EAAMA,GAAO,EAGb,QAFIw1C,EAAQh3C,EAAU+1C,YAEfn0C,KAAK+oF,cAAc53C,KAAWvxC,EAAM,GAAKuxC,EAAK9oC,WAAa+sC,EAAM6c,SAAS5pD,WAAezI,EAAM,GAAKuxC,EAAK9oC,WAAa+sC,EAAM2c,SAAS1pD,YAC3I8oC,EAAOnxC,KAAKgpF,eAAe73C,EAAMvxC,GAGlC,OAAOuxC,CACP,EAED63C,eAAgB,SAAS35D,EAAOzvB,GAC/BA,EAAMA,GAAO,EACb,IAAIuxC,EAAW/yC,EAAUuwD,QAAUvwD,EAAUuwD,OAAOvwD,EAAU+1C,WAAWzmB,MASzE,OANGyjB,EACK/yC,EAAUihB,KAAKtgB,IAAIswB,EAAOzvB,EAAMuxC,EAASgkB,OAAQhkB,EAASikB,QAE1Dh3D,EAAUihB,KAAK2sC,UAAU5tD,EAAUihB,KAAKtgB,IAAIswB,EAAOzvB,EAAK,OAIhE,EAEDooF,UAAU,SAAS34D,EAAMzvB,GACxB,IAAIxB,EAAU22D,kBACb,OAAO,EAIR,QAFI5jB,EAAU,IAAI14B,KAAK4W,GAEjB8hB,EAAQ9oC,UAAYzI,EAAGyI,WAAU,CACtC,GAAGrI,KAAK+oF,cAAc53C,GAAU,SAChCA,EAAUnxC,KAAKgpF,eAAe73C,EAC9B,CACD,OAAO,CACP,EAEDq2C,SAAU,SAASn4D,EAAMzvB,EAAKuxC,EAAMiE,GACnC,IAAIjF,EACJgB,EAAOA,GAAQnxC,KAAKwkF,WAEpB,IAAIr9D,EAAW/oB,EAAU+hF,oBAAoBQ,SAASrhF,UAAUuoF,MAAMx4D,GAEtE,OAAQ8hB,GACP,KAAKnxC,KAAKukF,OAAOE,MAChBt0C,EAAOnwC,KAAKuoF,cAAcphE,EAAUvnB,EAAKw1C,GACzC,MACD,KAAKp1C,KAAKukF,OAAO73B,SAChBvc,EAAOnwC,KAAKsoF,iBAAiBnhE,EAAUvnB,EAAKw1C,GAC5C,MACD,KAAKp1C,KAAKukF,OAAO38B,KAGjB,KAAK5nD,KAAKukF,OAAO/kE,MAChB2wB,EAAOnwC,KAAKooF,cAAcjhE,EAAUvnB,EAAKw1C,GACzC,MACD,KAAKp1C,KAAKukF,OAAOO,WAChB30C,EAAOnwC,KAAK6oF,mBAAmB1hE,EAAUvnB,EAAKw1C,GAC9C,MACD,KAAKp1C,KAAKukF,OAAOS,KAChB70C,EAAOnwC,KAAK8oF,eAAe3hE,EAAUvnB,EAAKw1C,GAC1C,MACD,KAAKp1C,KAAKukF,OAAOW,WAChB/0C,EAAOnwC,KAAKwoF,YAAYrhE,EAAUvnB,EAAKw1C,GAQzC,OAJGjF,EAAKkU,WAAWh8C,WAAa8nC,EAAKqU,SAASn8C,YAC7C8nC,EAAOnwC,KAAKwnF,SAASr3C,EAAMvwC,EAAKuxC,IAG1B/yC,EAAU+hF,oBAAoBQ,SAASrhF,UAAUuoF,MAAM13C,EAE9D,EAED84C,WAAY,SAAS55D,EAAMzvB,GAC1B,IACIuxC,EACJ,OAFWnxC,KAAKwkF,YAGf,KAAKxkF,KAAKukF,OAAOE,MAEftzC,EADS,QAAPvxC,GAAwB,SAAPA,EACZI,KAAKuoF,cAAcl5D,EAAMzvB,GAEzBI,KAAKkpF,gBAAgB75D,EAAMzvB,GAEnC,MACD,KAAKI,KAAKukF,OAAO73B,SAEfvb,EADS,QAAPvxC,GAAwB,MAAPA,EACZI,KAAKsoF,iBAAiBj5D,EAAMzvB,GAE5BI,KAAKmpF,mBAAmB95D,EAAMzvB,GAEtC,MACD,KAAKI,KAAKukF,OAAO38B,KAGjB,KAAK5nD,KAAKukF,OAAO/kE,MAChB2xB,EAAOnxC,KAAKopF,gBAAgB/5D,EAAMzvB,GAClC,MACD,KAAKI,KAAKukF,OAAOW,WAChB/zC,EAAOnxC,KAAKqpF,cAAch6D,EAAMzvB,GAChC,MACD,KAAKI,KAAKukF,OAAOO,WAChB3zC,EAAOnxC,KAAKspF,qBAAqBj6D,EAAMzvB,GACvC,MACD,QACCuxC,EAAO9hB,EAIT,IAAI+lB,EAAQh3C,EAAU+1C,WAYtB,OAXGhD,EAAKkT,WAAWh8C,UAAY+sC,EAAM2c,SAAS1pD,YAC7C8oC,EAAKkT,WAAarkD,KAAK4nF,kBAAkBxyC,EAAM2c,UAC/C5gB,EAAKkT,WAAWyP,SAAS11D,EAAUi1C,OAAOugB,aAGxCziB,EAAKqT,SAASn8C,UAAY+sC,EAAM6c,SAAS5pD,YAE3C8oC,EAAKqT,SAAWxkD,KAAK4nF,kBAAkBxyC,EAAM6c,UAAW,IAIlD7zD,EAAU+hF,oBAAoBQ,SAASrhF,UAAUuoF,MAAM12C,EAC9D,EAEDg4C,mBAAoB,SAAS95D,EAAMzvB,GAClC,OAAOI,KAAKupF,kBAAkB,CAC7BrlE,KAAO,aACPm2B,MAAQ,YAERhrB,EACAzvB,EACA,WAED,EAED0pF,qBAAsB,SAASj6D,EAAMzvB,GACpC,OAAOI,KAAKupF,kBAAkB,CAC5BrlE,KAAO,aACPm2B,MAAQ,YAEThrB,EACAzvB,EACA,aAED,EAED2pF,kBAAmB,SAASl6D,EAAmBzvB,EAAMuxC,EAAWiE,GAC/D,IAAIjF,EACAhpB,EAAWvnB,EAAK+nF,WAMpB,GAJIxgE,IACHA,EAAWkI,EAAkB8hB,KAG1BhqB,IAAakI,EAAkB8hB,GAClC,OAAOvxC,EAGR,IAAGuxC,EASF,OAAO/yC,EAAU+hF,oBAAoBQ,SAASrhF,UAAUuoF,MAAMjoF,IAR9DuwC,EAAOnwC,KAAKwnF,SAAS,CAACnjC,WAAYzkD,EAAKunB,GAAWq0C,QAAS57D,EAAK47D,SAAUrqB,EAAWiE,GAAA,IAE7EiP,WAAWh8C,WAAazI,EAAKykD,WAAWh8C,YAC/C8nC,EAAOnwC,KAAKwnF,SAAS,CAACnjC,WAAYlU,EAAKkU,WAAYmX,QAAQrrB,EAAKqrB,SAAUrqB,EAAWiE,GAAA,IAGtFjF,EAAKw3C,WAAaxgE,EAKnB,IAAID,EAAWlnB,KAAKwpF,gBAAgB5pF,EAAMuwC,EAAMA,EAAKw3C,YASrD,OAPGzgE,EAASs9B,SAASn8C,WAAa6e,EAASm9B,WAAWh8C,YACrD8nC,EAAKw3C,WAAgC,YAAnBx3C,EAAKw3C,WAA2B,aAAe,YAElEzgE,EAAWlnB,KAAKwpF,gBAAgB5pF,EAAMuwC,EAAMA,EAAKw3C,YAEjDx3C,EAAKkU,WAAan9B,EAASm9B,WAC3BlU,EAAKqU,SAAWt9B,EAASs9B,SAClBrU,CACP,EAEDq5C,gBAAiB,SAASn6D,EAASzvB,EAASuxC,GAC3C,IAAIiE,EAAM,CAACiP,WAAW,KAAMG,SAAS,MASrC,MAPoB,cAAjBrT,GACFiE,EAAIiP,WAAazkD,EAAQykD,WACzBjP,EAAIoP,SAAWn1B,EAAQm1B,WAEvBpP,EAAIiP,WAAah1B,EAAQg1B,WACzBjP,EAAIoP,SAAW5kD,EAAQykD,YAEjBjP,CAEP,EAEDg0C,gBAAiB,SAAS/5D,EAAMzvB,GAe/B,OAdIyvB,EAAOrvB,KAAKupF,kBAAkB,CAChC3G,GAAK,aACLC,KAAO,WACP3+D,KAAO,aACPm2B,MAAQ,YAEThrB,EACAzvB,EACA,UAGIykD,WAAWyP,SAAS11D,EAAUi1C,OAAOugB,YAC1CvkC,EAAKm1B,SAAWpmD,EAAUihB,KAAKtgB,IAAIswB,EAAKm1B,UAAA,EAAc,OACtDn1B,EAAKm1B,SAASsP,SAAS11D,EAAUi1C,OAAO2iB,WACjC3mC,CACP,EAED65D,gBAAiB,SAAS75D,EAAMzvB,GAC/B,IAAIuxC,EAEJ,OAAQvxC,GACP,IAAK,OACL,IAAK,KACJuxC,EAAOnxC,KAAKqpF,cAAch6D,EAAMzvB,GAChC,MACD,QACCuxC,EAAO9hB,EAIT,OADA8hB,EAAKqqB,QAAUnsC,EAAKmsC,QACbrqB,CACP,EACDk4C,cAAe,SAASh6D,EAAMzvB,GAC7B,OAAOI,KAAKupF,kBAAkB,CAC5B3G,GAAK,aACLC,KAAO,WACP3+D,KAAO,aACPm2B,MAAQ,YAEThrB,EACAzvB,EACA,aAED,EAED6pF,WAAY,SAASp6D,GACpB,IAAIzvB,EAAQxB,EAAU+1C,WAElBhD,EAAOnxC,KAAKwnF,SAASxnF,KAAMqvB,IAC5B8hB,EAAKkT,WAAWh8C,UAAYzI,EAAMmyD,SAAS1pD,WAAa8oC,EAAKkT,WAAWh8C,WAAazI,EAAMqyD,SAAS5pD,YACtGjK,EAAUk2C,eAAe,IAAI77B,KAAK04B,EAAKkT,aAGxCrkD,KAAK+mF,OAAO51C,EACZ,EAEDjlC,KAAM,CACLgY,KAAQ,WACPlkB,KAAKypF,WAAW,OAChB,EACDpvC,MAAS,WACRr6C,KAAKypF,WAAW,QAChB,EACD5G,KAAQ,WAEK7iF,KAAKwkF,YACNxkF,KAAKukF,OAAOS,KACtB5mF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUgnF,mBAEtDtmF,KAAKypF,WAAW,OAGjB,EAED7G,GAAM,WACO5iF,KAAKwkF,YACNxkF,KAAKukF,OAAOS,KACtB5mF,EAAU+hF,oBAAoBI,cAAcjhF,UAAUonF,mBAEtD1mF,KAAKypF,WAAW,KAGjB,EAED,aAAa,WACZzpF,KAAK+mF,OAAO/mF,KAAKipF,WAAWjpF,KAAM,QAClC,EACD,WAAW,WACVA,KAAK+mF,OAAO/mF,KAAKipF,WAAWjpF,KAAM,MAClC,EACD,cAAc,WACbA,KAAK+mF,OAAO/mF,KAAKipF,WAAWjpF,KAAM,SAClC,EACD,aAAa,WACZA,KAAK+mF,OAAO/mF,KAAKipF,WAAWjpF,KAAM,QAClC,EAGDyiF,MAAS,WACR,IAAIpzD,EAAM,CAACg1B,WAAY,IAAI5rC,KAAKzY,KAAKqkD,YAAaG,SAAU,IAAI/rC,KAAKzY,KAAKwkD,WAEtE5kD,EAAOxB,EAAU+1C,WAAWzmB,KAC7BtvB,EAAUuwD,QAAUvwD,EAAUuwD,OAAO/uD,GAGvCyvB,EADejxB,EAAUuwD,OAAOvwD,EAAU+1C,WAAWzmB,MACxCkuC,YAAc57D,KAAKw7D,QACxBp9D,EAAUwwD,QAAUxwD,EAAUwwD,OAAOhvD,KAE7CyvB,EADWjxB,EAAUwwD,OAAOhvD,GACnBu7D,QAAUn7D,KAAKw7D,SAGzBp9D,EAAUq1D,YAAYpkC,EACtB,KAKJjxB,EAAU+hF,oBAAoBQ,SAASrhF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBQ,SAASrhF,UAAU4M,KAE1G,CAxxBe,CT0GHrM,GU1GG,SAASzB,GAExBA,EAAU+hF,oBAAoBC,cAAgB,SAAS/wD,EAAKzvB,GAC3DI,KAAKwqD,UAAYn7B,EACjBrvB,KAAK4uB,MAAQhvB,GAAS,CACvB,EAEAxB,EAAU+hF,oBAAoBC,cAAc9gF,UAAYlB,EAAUojF,SACjEpjF,EAAU+hF,oBAAoB2G,WAC9B,CAECd,QAAS,WAER,QADgBhmF,KAAKwqD,UACFpQ,WACnB,EAEDnc,SAAU,WACT,IAAI5O,EAAc,IAAIjxB,EAAU+hF,oBAAoBQ,SACpD,OAAGtxD,EAAY22D,UACP32D,EAEA,IAAIjxB,EAAU+hF,oBAAoBM,QAE1C,EACDn8D,MAAO,WACNlmB,EAAU+hF,oBAAoBiB,WAAWsI,WAAWjN,UACpDz8E,KAAKwqD,UAAUhpD,gBAAgB,YAC/BpD,EAAU+hF,oBAAoB2G,WAAWxnF,UAAUglB,MAAMnV,MAAMnP,KAE/D,EACDkmF,KAAM,WACLlmF,KAAKwqD,UAAU/oD,aAAa,WAAY,KACxCrD,EAAU+hF,oBAAoB2G,WAAWxnF,UAAU4mF,KAAK/2E,MAAMnP,KAC9D,EACDq2E,QAAS,WACR,OAAIr2E,KAAK4uB,MAGD5uB,KAAKwqD,UAAUvV,cAAc,wBAF7Bj1C,KAAKwqD,UAAUvV,cAAc,uBAIrC,EAED/oC,KAAM,CACLmuC,MAAS,SAAShrB,GACjBrvB,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBC,cAAcpgF,KAAKwqD,UAAWxqD,KAAK4uB,MAAQ,EAAI,GAC7F,EACD1K,KAAQ,SAASmL,GAChBrvB,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBC,cAAcpgF,KAAKwqD,UAAWxqD,KAAK4uB,MAAQ,EAAI,GAC7F,EACDi0D,KAAQ,WACP,IAAIxzD,EAAO,IAAIjxB,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAW,EAAG,GACzEn7B,IAASA,EAAK22D,YAChB32D,EAAOA,EAAK4O,YAGbj+B,KAAK+mF,OAAO13D,EACZ,EACDozD,MAAS,SAASpzD,GACjBrvB,KAAKq2E,UAAUxiC,OACf,KAKJz1C,EAAU+hF,oBAAoBC,cAAc9gF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBC,cAAc9gF,UAAU4M,KAEpH,CAlEe,CV2GErM,GW3GF,SAASzB,GAExBA,EAAU+hF,oBAAoBG,YAAc,SAASjxD,EAAKzvB,EAAKuxC,GAC9DnxC,KAAKwqD,UAAYn7B,EACjBrvB,KAAKozC,IAAMxzC,GAAO,EAClBI,KAAK0M,IAAMykC,GAAO,CACnB,EAEA/yC,EAAU+hF,oBAAoBG,YAAYhhF,UAAYlB,EAAUojF,SAC/DpjF,EAAU+hF,oBAAoB2G,WAC9B,CAECd,QAAS,WACR,IAAI32D,EAAOrvB,KAAK2pF,WAChB,SAAUt6D,EAAKrvB,KAAKozC,OAAQ/jB,EAAKrvB,KAAKozC,KAAKpzC,KAAK0M,KAChD,EACDuxB,SAAU,WACT,IAAI5O,EAAMrvB,KAAKozC,IACXxzC,EAAMI,KAAK0M,IACXykC,EAAOnxC,KAAK2pF,WACZx4C,EAAK9hB,KACRA,EAAM,GAEP,IAAI+lB,GAAA,EAKJ,GAJG/lB,EAAM8hB,EAAK3yC,OAAS,IACtB42C,GAAM,IAGHjE,EAAK9hB,GAAK,CACb,IAAI8gB,EAAc,IAAI/xC,EAAU+hF,oBAAoBQ,SACpD,OAAGxwC,EAAY61C,UACP71C,EAEA,IAAI/xC,EAAU+hF,oBAAoBM,QAE1C,CAED,GAAGrrC,GACF,QAAQjuB,EAAIvnB,EAAKuxC,EAAK9hB,IAAQlI,EAAIgqB,EAAK9hB,GAAK7wB,OAAQ2oB,IAKnD,GAJIgqB,EAAK9hB,GAAKlI,IAAMA,GAAKgqB,EAAK9hB,GAAK7wB,OAAS,IAC3C6wB,IACAzvB,EAAM,GAEJuxC,EAAK9hB,GAAKlI,GACZ,OAAO,IAAI/oB,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAWn7B,EAAKlI,QAI5E,IAAQA,EAAIvnB,EAAKuxC,EAAK9hB,IAAQlI,EAAIgqB,EAAK9hB,GAAK7wB,OAAQ2oB,IAKnD,GAJIgqB,EAAK9hB,GAAKlI,IAAOA,IAEpBvnB,EAAMuxC,IADN9hB,GACgB7wB,OAAS,GAEvB2yC,EAAK9hB,GAAKlI,GACZ,OAAO,IAAI/oB,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAWn7B,EAAKlI,GAK7E,OAAO,IAAI/oB,EAAU+hF,oBAAoBC,cAAcpgF,KAAKwqD,UAAW,EACvE,EACDlmC,MAAO,WACNlmB,EAAU+hF,oBAAoBiB,WAAWsI,WAAWjN,UAEpDz8E,KAAKwqD,UAAUhpD,gBAAgB,YAC/BpD,EAAU+hF,oBAAoB2G,WAAWxnF,UAAUglB,MAAMnV,MAAMnP,KAC/D,EACDkmF,KAAM,WACLlmF,KAAKwqD,UAAU/oD,aAAa,WAAY,KACxCrD,EAAU+hF,oBAAoB2G,WAAWxnF,UAAU4mF,KAAK/2E,MAAMnP,KAC9D,EACD4pF,SAAU,SAASv6D,EAAKzvB,GACvB,OAAOI,KAAKwqD,UAAUvV,cAAc,gCAAgC5lB,EAAM,GAAK,mBAAmBzvB,EAAM,GAAG,IAC3G,EACDy2E,QAAS,WACR,OAAOr2E,KAAK4pF,SAAS5pF,KAAKozC,IAAKpzC,KAAK0M,IACpC,EAEDi9E,SAAU,WAGT,QAFIt6D,EAAOrvB,KAAKwqD,UAAUjiB,iBAAiB,qBACvC3oC,EAAO,GACHuxC,EAAI,EAAGA,EAAI9hB,EAAK7wB,OAAQ2yC,IAAI,CACnCvxC,EAAKuxC,GAAK,GAGV,QADIiE,EADM/lB,EAAK8hB,GACC5I,iBAAiB,MACzB4H,EAAI,EAAGA,EAAIiF,EAAM52C,OAAQ2xC,IAAI,CACpC,IAAIhpB,EAAOiuB,EAAMjF,GACbjpB,GAAU,EACVkqB,EAAMhzC,EAAU0yD,cAAc3pC,IAC/BiqB,EAAIplC,QAAQ,cAAgB,GAAKolC,EAAIplC,QAAQ,eAAiB,GAAKolC,EAAIplC,QAAQ,qBAAuB,KACxGkb,GAAU,GAEXtnB,EAAKuxC,GAAGhB,GAAKjpB,CACb,CACD,CACD,OAAOtnB,CACP,EAGDsM,KAAM,CACLmuC,MAAS,SAAShrB,GACjB,IAAIzvB,EAAOI,KAAK2pF,WACZx4C,EAASnxC,KAAKozC,IACdgC,EAASp1C,KAAK0M,IAAM,EACpB9M,EAAKuxC,IAAYvxC,EAAKuxC,GAAQiE,KAC9Bx1C,EAAKuxC,EAAS,IAChBA,GAAkB,EAClBiE,EAAS,GAETA,EAASp1C,KAAK0M,KAIhB,IAAIyjC,EAAO,IAAI/xC,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAWrZ,EAAQiE,GAC7EjF,EAAK61C,YACR71C,EAAOA,EAAKlS,YAGbj+B,KAAK+mF,OAAO52C,EACZ,EACDjsB,KAAQ,SAASmL,GAChB,IAAIzvB,EAAOI,KAAK2pF,WACZx4C,EAASnxC,KAAKozC,IACdgC,EAASp1C,KAAK0M,IAAM,EACpB9M,EAAKuxC,IAAYvxC,EAAKuxC,GAAQiE,KAGhCA,EAFEx1C,EAAKuxC,EAAS,GAEPvxC,EADTuxC,GAAkB,GACI3yC,OAAS,EAEtBwB,KAAK0M,KAIhB,IAAIyjC,EAAO,IAAI/xC,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAWrZ,EAAQiE,GAC7EjF,EAAK61C,YACR71C,EAAOA,EAAKlS,YAGbj+B,KAAK+mF,OAAO52C,EACZ,EACD0yC,KAAQ,WACP,IAAIxzD,EAAOrvB,KAAK2pF,WACZ/pF,EAASI,KAAKozC,IAAM,EACpBjC,EAASnxC,KAAK0M,IAEd2iB,EAAKzvB,IAAYyvB,EAAKzvB,GAAQuxC,KACjCvxC,EAASI,KAAKozC,KAGf,IAAIgC,EAAO,IAAIh3C,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAW5qD,EAAQuxC,GAC7EiE,EAAK4wC,YACR5wC,EAAOA,EAAKnX,YAGbj+B,KAAK+mF,OAAO3xC,EACZ,EACDwtC,GAAM,WACL,IAAIvzD,EAAOrvB,KAAK2pF,WACZ/pF,EAASI,KAAKozC,IAAM,EACpBjC,EAASnxC,KAAK0M,IAElB,GAAI2iB,EAAKzvB,IAAYyvB,EAAKzvB,GAAQuxC,GAM7B,CACJ,IAAIiE,EAAO,IAAIh3C,EAAU+hF,oBAAoBG,YAAYtgF,KAAKwqD,UAAW5qD,EAAQuxC,GAC7EiE,EAAK4wC,YACR5wC,EAAOA,EAAKnX,YAGbj+B,KAAK+mF,OAAO3xC,EACZ,KAbyC,CACzC,IAAIjF,EAAQ,EACTnwC,KAAK0M,IAAM2iB,EAAKrvB,KAAKozC,KAAK50C,OAAS,IACrC2xC,EAAQ,GAETnwC,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBC,cAAcpgF,KAAKwqD,UAAWra,GACjF,CASI,EACDsyC,MAAS,SAASpzD,GACjBrvB,KAAKq2E,UAAUphC,cAAc,mBAAmBpB,OAChD,KAKJz1C,EAAU+hF,oBAAoBG,YAAYhhF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBG,YAAYhhF,UAAU4M,KAEhH,CA1Le,CX4GArM,GY5GA,SAASzB,GAExBA,EAAU+hF,oBAAoBM,SAAW,SAASpxD,GACjDrvB,KAAK4uB,MAAQS,GAAS,CACvB,EAEAjxB,EAAU+hF,oBAAoBM,SAASnhF,UAAYlB,EAAUojF,SAC5DpjF,EAAU+hF,oBAAoB2G,WAC9B,CACCzQ,QAAS,SAAShnD,GACjB,OAAOjxB,EAAU42C,WAAWC,cAAc,gBAC1C,EAED+uC,UAAU,KAEVgC,QAAS,WACR,OAAO,CACP,EACD/nD,SAAS,WACR,OAAOj+B,IACP,EAEDkM,KAAM,CACL,qBAAqB,WACpBlM,KAAK+mF,OAAO,IAAI3oF,EAAU+hF,oBAAoBQ,SAC9C,KAKJviF,EAAU+hF,oBAAoBM,SAASnhF,UAAU4kF,QAAQ9lF,EAAU+hF,oBAAoBM,SAASnhF,UAAU4M,KAE1G,CAhCe,CZ6GHrM,Ga7GG,SAASA,IAAA,WAKvB,IAAIoE,EAAc,GAElB,SAAS7F,IACR,QAAU6F,EAAkBzF,MAC5B,CAUD,SAAS6wB,EAAW8gB,GACnBnnB,YAAW,WACV,GAAGnpB,EAAUkuD,WACZ,OAAO,EAEJ3vD,KAbN,SAAmB+oB,EAAOD,GACzB,KAAMC,GAASA,GAASD,GACvBC,EAAQA,EAAMrZ,WAGf,OAAUqZ,GAASD,CACnB,CAND,CAa+BhoB,SAAS+G,cAAepG,EAAUm1C,aAC9Dn1C,EAAUykB,OAEX,GAAE,EACH,CA0BD,SAAS1kB,EAAUuwC,GAClB,IACIhpB,GADAgpB,EAAQA,GAASlxC,OAAOohB,OACT7I,cACJ2P,GARAljB,EAAYA,EAAYzF,OAAS,IAUhDqB,EAAUsgF,oBAAoBiE,UAAUj9D,EAAQgpB,EAChD,CAWD,GALAtwC,EAAU0hB,YAAY,cAJtB,WAjCA,IAAoB4uB,EAAAA,EAkCRtwC,EAAUotE,cAjCrBptE,EAAU22C,YAAYrG,EAAK,UAAWvwC,GACtCC,EAAUwgB,MAAM8vB,EAAK,UAAWvwC,GAChCqE,EAAYsK,KAAK4hC,EAgCjB,IAGDtwC,EAAU0hB,YAAY,mBA/BtB,WACC,IAAI4uB,EAAMlsC,EAAYkqC,MACnBgC,GACFtwC,EAAU22C,YAAYrG,EAAK,UAAWvwC,GAEvCyvB,GAEA,IA0BDxvB,EAAU0hB,YAAY,oBAAoB,WAAW8N,GAAa,KAE9DxvB,EAAUgqF,oBAAqB,CAClChqF,EAAUgqF,qBAAsB,EAEhC,IAAI14C,EAAe,KACfiE,EAAc,KAClB,MAAMjF,EAAc,GACpBtwC,EAAU0hB,YAAY,kBAAkB,SAAS4F,GAIhD,IAHAgqB,EAAejyC,SAAS+G,cACxBmvC,EAAcjE,EAERiE,GAAev1C,EAAUixD,cAAc1b,GAAappC,QAAQ,gBAAkB,GACnFopC,EAAcA,EAAYtnC,WAExBsnC,IACFA,EAAcA,EAAYtnC,YAG3BjO,EAAU22C,YAAYrvB,EAAK,UAAWvnB,GACtCC,EAAUwgB,MAAM8G,EAAK,UAAWvnB,GAChCuwC,EAAY5hC,KAAK4Y,EACpB,IAGEtnB,EAAU0hB,YAAY,uBAAuB,WAC5C,IAAI4F,EAAMgpB,EAAYhC,MACnBhnB,GACFtnB,EAAU22C,YAAYrvB,EAAK,UAAWvnB,GAEvCopB,YAAW,WACV,GAAGnpB,EAAUkuD,WACZ,OAAO,EAGR,QADI7mC,EAAgBhoB,SAAS+G,cACvBihB,GAAiBrnB,EAAUixD,cAAc5pC,GAAelb,QAAQ,iBAAmB,GACxFkb,EAAgBA,EAAcpZ,WAE5BoZ,IAIAiqB,GAAgBA,EAAarjC,WAC/BqjC,EAAa7sB,QAEL8wB,GAAeA,EAAYtnC,YACnCsnC,EAAY9wB,QAEb6sB,EAAe,KACfiE,EAAc,KAEd,GAAE,EACN,GACE,CAEDv1C,EAAUsgF,oBAAoB2J,QAAU1rF,CAGxC,CA/HuB,EAiIxB,CbnBE2rF,CAAOlqF,Gc9GM,SAASzB,GAExBA,EAAU+hF,oBAAoBiB,WAAa,CAC1C4I,UAAU,EACVzD,WAAY,KACZmD,WAAY,IAAItrF,EAAU+hF,oBAAoBI,cAE9C+G,mBAAoB,SAAUj4D,GAC7B,IAAIzvB,EAAKuxC,EAELiE,EAAah3C,EAAU42C,WAAWC,cAAc,iCAChDG,IACHA,EAAah3C,EAAU42C,WAAWC,cAAc,kBAG9CG,IACFx1C,EAAMw1C,EAAW/wB,UACjB8sB,EAAOiE,EAAWjxB,YAGnBkL,IAEG+lB,IACFA,EAAW/wB,UAAYzkB,EACvBw1C,EAAWjxB,WAAagtB,EAEzB,EACDkwC,OAAQ,WACP,GAAIjjF,EAAU42C,WAAd,CAKAh1C,KAAKgqF,UAAA,EACL,IAAI36D,EAAOrvB,KACXA,KAAKsnF,oBAAmB,WACvBj4D,EAAKq6D,WAAWrI,SAChBhyD,EAAKo3D,cAAcp3D,EAAKiyD,gBAC3B,GAPG,CAQD,EAED7E,QAAS,WACRz8E,KAAKgqF,UAAW,EAChBhqF,KAAK0pF,WAAWjN,SAChB,EAED0J,UAAW,WACV,QAASnmF,KAAKgqF,QACd,EAEDjE,eAAgB,WACf,OAAO/lF,KAAK0pF,WAAW3D,gBACvB,EAEDxE,eAAgB,WACfvhF,KAAKymF,cAAczmF,KAAK+lF,iBACxB,EAEDzE,cAAe,WACd,IAAIjyD,EAAOrvB,KAAKumF,WAIhB,OAHGl3D,IAASA,EAAK22D,YAChB32D,EAAOA,EAAK4O,YAEN5O,CACP,EAED46D,gBAAiB,WAChBjqF,KAAKkqF,SAASlqF,KAAK0pF,YACnB1pF,KAAK0jB,UAAU1jB,KAAK0pF,WACpB,EAEDjD,cAAe,SAASp3D,GACnBA,GAAOA,EAAG22D,YAGXhmF,KAAKumF,YACJvmF,KAAKumF,WAAWS,UAAU33D,IAI3BrvB,KAAKmmF,cACPnmF,KAAKkqF,SAASlqF,KAAKumF,YACnBvmF,KAAKumF,WAAal3D,EAClBrvB,KAAK0jB,UAAU1jB,KAAKumF,aAErB,EAED7iE,UAAW,SAAS2L,GAChBA,GAAMA,EAAG/K,QACX+K,EAAG/K,QACA+K,EAAGgnD,SAAWn3E,SAAS+G,eAAiBopB,EAAGgnD,WAC7Cr2E,KAAKymF,cAAc,IAAIroF,EAAU+hF,oBAAoBM,UAGvD,EACDyJ,SAAU,SAAS76D,GACfA,GAAMA,EAAG62D,MACX72D,EAAG62D,MAEJ,EAEDkB,gBAAiB,SAAS/3D,GACzB,IAAIzvB,EAASxB,EAAU42C,WAAWC,cAAc,mBAAmB72C,EAAUi1C,OAAO6xB,gBAAgB,KAAK71C,EAAG,eAC5G,OAAGzvB,GAAUA,EAAOw6C,YAEZx6C,EAED,IACP,EAEDuqF,eAAgB,SAAU96D,GAEzB,IAAGA,EAAE3X,iBAAL,CAIA,IAAI9X,EAAgBI,KAAKshF,gBAEzB,KAAGljF,EAAU+hF,oBAAoB2J,WAC9BlqF,GAAiBA,EAAc4qD,WAAapsD,EAAUwnD,MAAMwZ,IAAIvlB,UAAU,CAAClsC,OAAO/N,EAAc4qD,WAAY,qBAAqB,OAGjIpsD,EAAU+1C,WAAWge,YAAanyD,KAAKonF,gBAAgBhpF,EAAU+1C,WAAWge,aAG1EnyD,KAAKmmF,YAAV,CAGA92D,EAAIA,GAAKpwB,OAAOohB,MAEhB,IAAI8wB,EAAgBnxC,KAAK0pF,WAErBt0C,EAAUh3C,EAAU+hF,oBAAoBa,UAAUkB,oBAAoB7yD,GAEtEzvB,EAEKA,EAAcqhF,YAAY7rC,GAClCx1C,EAAcqkF,SAAS7uC,EAAS/lB,GACxB8hB,EAAc8vC,YAAY7rC,IAClCjE,EAAc8yC,SAAS7uC,EAAS/lB,GAJhCrvB,KAAKuhF,gBATE,CAZP,CA4BD,EAED6I,SAAU,KACV16C,MAAO,SAASrgB,EAAUzvB,GAEzBspB,aAAalpB,KAAKoqF,UAClBpqF,KAAKoqF,SAAWphE,WAAWqG,EAAUzvB,GAAS,EAE9C,EAGF,CAzJe,Cd+GRC,Ge/GQ,SAASA,GAGxBA,EAAUwqF,gBAAkB,WAE3BxqF,EAAUwzC,OAAO4sC,SAAA,EAEjBpgF,EAAUsgF,oBAAoB8H,WAAa,KAC3CpoF,EAAUsgF,oBAAoB+H,cAAgB,KAC9C,IAAIjkF,EAAS,KAET7F,EAAM,CAAC,EAUX,SAASixB,EAAmB+lB,GAC3BA,EAAQA,GAASn2C,OAAOohB,MACxBjiB,EAAIipB,EAAI+tB,EAAMh8B,QACdhb,EAAIkxB,EAAI8lB,EAAM/7B,OACd,CACD,SAASzZ,IAMR,QAJIw1C,EACAjF,EAEAhpB,EAASjoB,SAASorF,iBAAiBlsF,EAAIipB,EAAGjpB,EAAIkxB,GAC5CnI,GAAUA,GAAUtnB,EAAU2uD,MACnCrnC,EAASA,EAAOrZ,WAMjB,OAJAsnC,EAAkBjuB,GAAUtnB,EAAU2uD,KAEtCre,EAAgBtwC,EAAUsgF,oBAAoBiB,WAAW+E,YAElD/wC,GAAgBjF,CACvB,CAmBD,SAASgB,EAAUiE,GAClB,OAAOv1C,EAAUm4D,WAAW,CAAE,EAAE5iB,EAChC,CAhDGl2C,SAASgH,KAKZrG,EAAUwgB,MAAMnhB,SAASgH,KAAM,YAAampB,GAJ5CxvB,EAAUwgB,MAAMphB,OAAQ,QAAQ,WAC/BY,EAAUwgB,MAAMnhB,SAASgH,KAAM,YAAampB,EAC/C,IA0BCxvB,EAAU0hB,YAAY,eAAe,SAAS6zB,EAAGjF,GAChD,IAAIhpB,EAAQtnB,EAAUs0C,WAGtB,GAAKhtB,EAAMuG,MAAQvG,EAAM4qC,SAAzB,CAGA,IAAI7qC,EAAWrnB,EAAUkzD,cAAc5iB,GACvCtwC,EAAUsgF,oBAAoB8H,WAAa/gE,EAAS7H,KACpDxf,EAAUsgF,oBAAoB+H,cAAgBhhE,EAASs0C,OAHtD,CAIH,IAWC37D,EAAU0qF,mBAAqB,SAASn1C,GACvC,IAV0B9tB,EAUtB6oB,EAAOtwC,EAAUsgF,oBAAoB8H,WACrC9gE,EAAUtnB,EAAUsgF,oBAAoB+H,cAExChhE,EAAiBkuB,EAAGoP,SAASpP,EAAGiP,WAEhCjT,EAAOD,EAAUiE,GAKrB,UApB0B9tB,EAgBR8pB,GAfR8S,gBAAiB58B,EAAG68B,mBACvB78B,EAAGsyD,iBAAkBtyD,EAAGwyD,aAe/B1oC,EAAKiT,WAAa,IAAI5rC,KAAK03B,GAC3BiB,EAAKoT,SAAW,IAAI/rC,KAAK24B,EAAKiT,WAAWh8C,UAAY6e,GAElDC,EAAQ,CACV,IAAI7oB,EAAWuB,EAAU87D,wBAEtB97D,EAAUwzC,OAAOm3C,aACnBp5C,EAAK9yC,GAAY82C,EAAG92C,GAEpB8yC,EAAK9yC,GAAY6oB,CAClB,CACD,OAAOiqB,CACT,EACCvxC,EAAU4qF,UAAY,SAASr1C,EAASjF,EAAahpB,IACmC,IAApFtnB,EAAUu2C,UAAU,sBAAuB,CAAChB,EAASjF,EAAahpB,MAGrEtnB,EAAUi2C,SAAS3F,GACnBtwC,EAAUu2C,UAAU,gBAAiB,CAAChB,EAASjF,EAAahpB,IAC9D,EAECtnB,EAAU6qF,mBAAqB,WAC9B,SAAG1qF,KAAK67D,mBAAsB77D,KAAK87D,sBAAuB97D,KAAKqzC,OAAO4sC,QAIxE,EAQCpgF,EAAUwgB,MAAMnhB,SAAU,WAAW,SAASk2C,IAExCA,EAAE57B,SAAW47B,EAAEz7B,UAAyB,IAAby7B,EAAEn+B,SAAkBpX,EAAU8qF,gBAAkB9qF,EAAUsgF,oBAAoBiB,WAAW+E,cACxHtmF,EAAUsgF,oBAAoBiB,WAAW4I,SAAWpqF,IAEvD,IAECC,EAAUgnF,oBAAsB,SAASzxC,GACxC,IAAIv1C,EAAU6qF,qBAAsB,OAAO,EAE3C,GAAiB,IAAbt1C,EAAEn+B,SAA8B,IAAbm+B,EAAEn+B,QAAe,CACvCm+B,EAAEt9B,cAAA,EAEF,IAAIq4B,EAAOtwC,EAAUwf,KAAKtgB,IAAIc,EAAUiyD,MAAoB,IAAb1c,EAAEn+B,SAAiB,EAAI,EAAIpX,EAAUgyD,OAEpF,OADAhyD,EAAUy0C,eAAenE,IAClB,CACP,CAED,IAvBIhpB,EAuBAD,GAvBAC,EAAOtnB,EAAUsgF,oBAAoBiB,WAAWE,kBACzCn6D,EAAKq/D,QAAgBr/D,EAAKq/D,QAC9B3mF,EAAU4xD,WAsBjB,IAAKrc,EAAE57B,SAAW47B,EAAEz7B,UAAyB,IAAby7B,EAAEn+B,QAMjC,OALIiQ,IACHrnB,EAAU8qF,cAAgBx5C,EAAUtxC,EAAUw8C,SAASn1B,IACvDjjB,GAAS,EACTpE,EAAUu2C,UAAU,gBAAiB,CAACv2C,EAAUw8C,SAASn1B,OAEnD,EAER,IAAKkuB,EAAE57B,SAAW47B,EAAEz7B,UAAyB,IAAby7B,EAAEn+B,SAC7BiQ,EAAW,CACdjjB,GAAS,EACT,IAAImtC,EAAKvxC,EAAU8qF,cAAgBx5C,EAAUtxC,EAAUw8C,SAASn1B,IAEhErnB,EAAU+xD,YAAYxgB,EAAG56B,IACzB3W,EAAUu2C,UAAU,aAAc,CAAChF,GACnC,CAGF,IAAKgE,EAAE57B,SAAW47B,EAAEz7B,UAAyB,IAAby7B,EAAEn+B,SAAiBrX,IAAkB,CAIpE,GAFAwxC,GADIA,EAAKvxC,EAAU8qF,cAAgB9qF,EAAUw8C,SAASx8C,EAAU8qF,cAAcn0E,IAAM3W,EAAU8qF,gBACnF9qF,EAAU8qF,cAEb,CACP,IAAIrsF,EAASuB,EAAU0qF,mBAAmBn5C,GACtCntC,GACH3F,EAAOkY,GAAK3W,EAAU+2C,MACtB/2C,EAAU4qF,UAAUxmF,EAAQ3F,EAAQ8yC,IAG1BvxC,EAAUu2C,UAAU,uBAAuB,CAAC93C,EAAQ82C,GAAG,EAAOhE,MAEvEvxC,EAAU4qF,UAAUxmF,EAAQ3F,EAAQ8yC,GACpCntC,GAAS,EAIX,CACD,OAAO,CACP,CACH,CACA,EACApE,EAAUwqF,iBAEV,CfvDEO,CAAe/qF,GAEf,WgBlHa,IAASswC,GCAT,SAAStwC,GAExBA,EAAUsgF,oBAAoB0K,wBAA0B,WACvD,IAcI5mF,EAdA7F,EAAayB,EAAUsgF,oBAAoBiB,WAE3C/xD,EAAiB,SAASlI,GAC7B,GAAItnB,EAAUwzC,OAAO4sC,QAErB,OAAO7hF,EAAW+rF,eAAehjE,EACnC,EAEKvnB,EAAe,WAClBxB,EAAWkpF,oBAAmB,WAC7BlpF,EAAW6rF,iBACd,GACA,EAGCpqF,EAAU0hB,YAAY,gBAAgB,WACjC1hB,EAAUwzC,OAAO4sC,SAChB7hF,EAAW+nF,cAAgBtmF,EAAUs0C,WAAWge,YAErDjpC,aAAajlB,GACbA,EAAW+kB,YAAW,WACrB,GAAGnpB,EAAUkuD,WACZ,OAAO,EAEJ3vD,EAAW+nF,aACd/nF,EAAWijF,SACZlwC,GACH,IACA,IAEC,IAAIA,EAAoB,WACvB,GAAI/yC,EAAW+nF,YAAf,CAGA,IAAIh/D,EAAa/oB,EAAWkjF,gBACxBn6D,IAGAA,EAAW6+D,YACd7+D,EAAaA,EAAW8W,aAGrB9W,GAAcA,aAAsBtnB,EAAUsgF,oBAAoBC,eAAiBj5D,aAAsBtnB,EAAUsgF,oBAAoBG,aAG3IliF,EAAWkpF,oBAAmB,WAC7BngE,EAAW7C,OAAM,EACpB,IAfU,CAgBV,EAsBC,SAAS8wB,EAAiBjuB,GACzB,IAAItnB,EAAUwzC,OAAO4sC,QAAS,OAAO,EAErC,MAAM/4D,EAAOrnB,EAAUs3D,UACvB,IAAI/lB,GAAA,EACJ,GAAkC,UAA9BvxC,EAAUs0C,WAAWzmB,KACxB0jB,EAAgBvxC,EAAUsgF,oBAAoB5mC,UAAUpyB,EAAExZ,QAAUwZ,EAAEvZ,WAAY/N,EAAUm1C,WAAWC,cAAc,iCAC3G/tB,GAAwB,aAAhBA,EAAK4jE,OACvB15C,EAAgBvxC,EAAUsgF,oBAAoB5mC,UAAUpyB,EAAExZ,QAAUwZ,EAAEvZ,WAAY/N,EAAUm1C,WAAWC,cAAc,+BAC/G,CACN,MAAMt1C,EAAeE,EAAUm1C,WAAWzM,iBAAiB,qBAE3D6I,EADoBnqC,MAAM4rE,KAAKlzE,GACHmzC,MAAK1jC,GAASA,IAAU+X,EAAExZ,OAAOG,YAC7D,CAED,IAEIxP,EAFAgpB,EAAMznB,EAAUkzD,cAAc5rC,GAG/BtnB,EAAU2xD,cAAcrqC,EAAExZ,QAAUwZ,EAAEvZ,YACxCtP,EAAY,IAAIuB,EAAUsgF,oBAAoBS,MAAM/gF,EAAU2xD,cAAcrqC,EAAExZ,QAAUwZ,EAAEvZ,aAClFwjC,IACR9yC,EAAY,IAAIuB,EAAUsgF,oBAAoBQ,SAC3Cr5D,EAAIjI,MAAQ+xB,IACd9yC,EAAYA,EAAUkpF,SAAS,IAAI3nF,EAAUsgF,oBAAoBQ,SAASr5D,EAAIjI,KAAM,KAAMiI,EAAIk0C,YAI7Fl9D,IACGF,EAAW+nF,YAIX7+D,EAAIjI,MAAQ+xB,GACfhzC,EAAWsxC,OAAM,WAChBtxC,EAAWqoF,cAAcnoF,EAC/B,IANIF,EAAWmoF,WAAajoF,EAU1B,CA3DDuB,EAAU0hB,YAAY,oBAAoB,WACzC,IAAI4F,EAAYtnB,EAAUm1C,WAC1Bn1C,EAAU22C,YAAYt3C,SAAU,UAAWmwB,GAC3CxvB,EAAU22C,YAAYrvB,EAAW,YAAaiuB,GAC9Cv1C,EAAU22C,YAAYrvB,EAAW,QAASvnB,GAGvCC,EAAUwzC,OAAO4sC,SAEnBpgF,EAAUwgB,MAAMnhB,SAAU,UAAWmwB,GACrCxvB,EAAUwgB,MAAM8G,EAAW,YAAaiuB,GACxCv1C,EAAUwgB,MAAM8G,EAAW,QAASvnB,GAEpCunB,EAAU1lB,aAAa,WAAY,MAGnC0lB,EAAU3lB,gBAAgB,WAE7B,IAqEC,IAAI2uC,EAActwC,EAAU+xD,YAC5B/xD,EAAU+xD,YAAc,SAASzqC,GAChC,IAAID,EAAMipB,EAAYhhC,MAAMnP,KAAMzB,WAClC,GAAGsB,EAAUwzC,OAAO4sC,SAAW7hF,EAAW+nF,aACtCtmF,EAAUs0C,WAAWoe,WAAaprC,EAAG,CACvC,IAAIiqB,EAAU,IAAIvxC,EAAUsgF,oBAAoBS,MAAMz5D,GAElDtnB,EAAUs0C,WAAWke,aAjC5B,SAAoB/zD,GACnB,GAAIuB,EAAUwzC,OAAO4sC,SACjB7hF,EAAW+nF,YAAf,CAGA,IAAI7+D,EAAYhpB,EACZqB,EAAY,IAAIE,EAAUsgF,oBAAoBS,MAAMt5D,EAAUk/D,SAClE,IAAI7mF,EAAUqmF,UAAU,CACvB,IAAI52E,EAAYzP,EAAUojB,OAASuE,EAAUvE,MACzC/e,EAAUrE,EAAUqjB,KAAOsE,EAAUtE,IACrCljB,EAAcH,EAAU67D,SAAWl0C,EAAUk0C,SAEjD77D,EAAY,IAAIE,EAAUsgF,oBAAoBQ,SAASvxE,EAAWpL,EAASlE,IAC7DkmF,YACbrmF,EAAY,IAAIE,EAAUsgF,oBAAoBQ,SAE/C,CAEDviF,EAAWqoF,cAAc9mF,GACzB,IAAII,EAAO3B,EAAWkjF,gBACnBvhF,GAAQA,EAAKs2E,SAAWn3E,SAAS+G,eAAiBlG,EAAKs2E,WACzDj4E,EAAWslB,UAAUtlB,EAAWkjF,gBAnBE,CAqBnC,CAvBD,CAkCelwC,EAEZ,CAEF,OAAOlqB,CACT,EAECrnB,EAAU0hB,YAAY,kBAAkB,SAAS4F,GAChD,OAAItnB,EAAUwzC,OAAO4sC,SAClB7hF,EAAW+nF,aACI/nF,EAAWkjF,gBACdkF,SAAWr/D,GACxB/oB,EAAWqoF,cAAc,IAAI5mF,EAAUsgF,oBAAoBQ,WAGtD,CACT,IAEC9gF,EAAU0hB,YAAY,cAAc,WACnC,IAAI1hB,EAAUwzC,OAAO4sC,QAAS,OAAO,EAClC7hF,EAAW+nF,aACV/nF,EAAWkjF,0BAA2BzhF,EAAUsgF,oBAAoBS,OACtExiF,EAAWqoF,cAAc,IAAI5mF,EAAUsgF,oBAAoBQ,SAG/D,GAEA,CAEA,EjB9DGoK,CAAmBlrF,IgBnHEswC,EhBoHJtwC,GgBlHVsgF,oBAAoB6K,eAAiB,GAE/C76C,EAAUgwC,oBAAoB8K,UAAY,SAAS9jE,GAElD,QADID,EAAgBipB,EAAUgwC,oBAAoB6K,eAC1C55C,EAAI,EAAGA,EAAIlqB,EAAc1oB,OAAQ4yC,IACxC,GAAGpxC,KAAKu5C,UAAUpyB,EAAMD,EAAckqB,IACrC,OAAO,EAET,OAAO,CACR,EAEAjB,EAAUgwC,oBAAoB5mC,UAAY,SAASpyB,EAAOD,GACzD,KAAMC,GAASA,IAAUD,GACxBC,EAAQA,EAAMrZ,WAGf,OAAUqZ,IAAUD,CACrB,EAEAipB,EAAUgwC,oBAAoB+K,kBAAoB,WACjD,IAAI/jE,EAAagpB,EAAUgwC,oBAAoBiB,WAE/C,SAASl6D,EAAavnB,GACrB,IAAIyP,EAASzP,EAAEgO,OAEfwZ,EAAWk6D,SACXl6D,EAAWs/D,cAAc,IAAIt2C,EAAUgwC,oBAAoBC,cAAchxE,EAAQ,GACjF,CAED,SAASgiC,EAAazxC,GACrB,IAAIyP,EAASzP,EAAEgO,QAAUhO,EAAEiO,WAEvB5J,EAAOmsC,EAAUyV,MAAMwZ,IAAIvlB,UAAUl6C,EAAG,uBAAuB,GAC/DG,EAAOqwC,EAAUyV,MAAMwZ,IAAIvlB,UAAUl6C,EAAG,uBAAuB,GAC/DI,EAAOowC,EAAUyV,MAAMwZ,IAAIvlB,UAAUl6C,EAAG,iBAAiB,GAEzDxB,EAAW,EACXmxB,EAAY,EAChB,GAAGvvB,EAAK,CAIP,QAHIwnB,EACAlpB,EACA6F,EAAUkL,EACRlL,GAA4C,MAAjCA,EAAQ2uB,QAAQjyB,eAChCsD,EAAUA,EAAQ4J,WAOnB,GALG5J,IAEFqjB,GADAlpB,EAAK6F,GACG4J,YAGNyZ,GAAMlpB,EAAG,CAEX,QADIksB,EAAOhD,EAAGzZ,WAAWy6B,iBAAiB,MAClChiB,EAAI,EAAGA,EAAIgE,EAAK/rB,OAAQ+nB,IAC/B,GAAGgE,EAAKhE,IAAMgB,EAAG,CAChBppB,EAAWooB,EACX,KACA,CAEF,IAAIc,EAAQE,EAAGghB,iBAAiB,MAChC,IAAQhiB,EAAI,EAAGA,EAAIc,EAAM7oB,OAAQ+nB,IAChC,GAAGc,EAAMd,IAAMloB,EAAG,CACjBixB,EAAY/I,EACZ,KACA,CAEF,CACD,CACD,IAAI+Y,EAAO3/B,EAAE6X,cACb2P,EAAWuoB,OAAM,WAGf,IAAI9b,GAFF5vB,GAAQlE,GAAQC,KAGfiE,GACF4vB,EAAU,IAAIuc,EAAUgwC,oBAAoBC,cAAc9gD,EAAM,GAChEnY,EAAWs/D,cAAc,IAAIt2C,EAAUgwC,oBAAoBC,cAAc9gD,EAAM,KACvEx/B,EACR8zB,EAAU,IAAIuc,EAAUgwC,oBAAoBC,cAAc9gD,EAAM,GACxDv/B,IACR6zB,EAAU,IAAIuc,EAAUgwC,oBAAoBG,YAAYhhD,EAAMnhC,EAAUmxB,IAItEsE,IAEFzM,EAAWk6D,SACRztD,EAAQoyD,YACV7+D,EAAWo/D,WAAa,KACxBp/D,EAAWs/D,cAAc7yD,KAM/B,GACE,CAED,GAAGuc,EAAU8D,eAAe,CAC3B,IAAI31C,EAAgB6xC,EAAU8D,eAC9B9D,EAAU8D,eAAiB,WAC1B,IAAIt0C,EAAMrB,EAAc6Q,MAAMnP,KAAMzB,WAChC6Q,EAAgB+gC,EAAUgwC,oBAAoB6K,eAElD76C,EAAUqG,YAAY72C,EAAK,QAASyxC,GACpCjB,EAAU9vB,MAAM1gB,EAAK,QAASyxC,GAE9BjB,EAAUqG,YAAY72C,EAAK,QAASunB,GACpCipB,EAAU9vB,MAAM1gB,EAAK,QAASunB,GAG9B,QADIljB,GAAQ,EACJlE,EAAI,EAAGA,EAAIsP,EAAc5Q,OAAQsB,IACxC,GAAGsP,EAActP,IAAMH,EAAI,CAC1BqE,GAAA,EACA,KACA,CAKF,GAHIA,GACHoL,EAAcb,KAAK5O,GAEjBwnB,EAAWg/D,YAAY,CACzB,IAAIpmF,EAAOonB,EAAWm6D,gBACnBvhF,GAAQA,EAAKyqD,WAAa7qD,EAC5BwnB,EAAWzD,UAAU3jB,GAErBJ,EAAI8B,aAAa,WAAY,IAElC,MACI9B,EAAI8B,aAAa,WAAY,KAE9B,OAAO9B,CACV,CACE,CAED,GAAGwwC,EAAU6D,gBAAgB,CAC5B,IAAI1sB,EAAiB6oB,EAAU6D,gBAC/B7D,EAAU6D,gBAAkB,SAASr0C,EAAKyP,GACzCzP,EAAMA,IAAQwwC,EAAUg7C,WAAah7C,EAAUg7C,WAAW5iF,WAAa,MACvE,IAAIvE,EAAMsjB,EAAenY,MAAMnP,KAAMzB,WAErC,IAAIoB,IAAQA,EAAImO,WAEf,QADIhO,EAAgBqwC,EAAUgwC,oBAAoB6K,eAC1CjrF,EAAI,EAAGA,EAAID,EAActB,OAAQuB,IACrCD,EAAcC,IAAMJ,IACtBwwC,EAAUqG,YAAY12C,EAAcC,GAAI,QAASmnB,GACjDpnB,EAAcwoC,OAAOvoC,EAAG,GACxBA,KAKH,OAAOiE,CACV,CACE,CACF,EhBpCG,IAAI5F,EAAayB,EAAUsgF,oBAAoBiB,WAI/C,GAFAvhF,EAAUsgF,oBAAoB0K,0BAE3BhrF,EAAUo0C,eAEZp0C,EAAUsgF,oBAAoB+K,yBAG9B,IAAI77D,EAAaxvB,EAAU0hB,YAAY,oBAAoB,WAC1D1hB,EAAUuhB,YAAYiO,GACtBxvB,EAAUsgF,oBAAoB+K,mBACnC,IAKG,SAAStrF,IACR,GAAIC,EAAUwzC,OAAO4sC,QAArB,CAEA,IACI9vC,EAAejxC,SAAS+G,cAQ5B,SANIkqC,GAAgBtwC,EAAU+lD,MAAMwZ,IAAIvlB,UAAU1J,EAAc,sBAAsB,MAG5EtwC,EAAUsgF,oBAAoB5mC,UAAUpJ,EAActwC,EAAUm1C,aAAen1C,EAAUsgF,oBAAoB8K,UAAU96C,GAR5F,CAYrC,CAID,SAASgB,EAAYhB,GACjBA,IAAW/xC,EAAW+nF,YACxB/nF,EAAWijF,UACFlxC,GAAU/xC,EAAW+nF,aAC9B/nF,EAAWq+E,SAEZ,CAED,MAAMrnC,EAAakQ,aAAY,WAC9B,GAAIzlD,EAAUm1C,YAAen1C,EAAUsgF,oBAAoB5mC,UAAU15C,EAAUm1C,WAAY91C,SAASgH,MAApG,CAIA,IAAIiqC,EAASvwC,IAEVuwC,EACFgB,EAAYhB,IACHA,GAAU/xC,EAAW+nF,aAC9Bn9D,YAAW,WACPnpB,EAAUkuD,aAIVluD,EAAUwzC,OAAO4sC,QACnB9uC,EAAYvxC,KAEZC,EAAUm1C,WAAWxzC,gBAAgB,YAGtC,GAAE,IAlBH,CAoBD,GAAE,KACH3B,EAAU0hB,YAAY,aAAa,WAClCikC,cAAcpQ,EAClB,GACG,CAzED,EA0EF,EfrICg2C,MiCvDc,SAASvrF,GAExBA,EAAU0hB,YAAY,oBAAmB,WAExCvhB,KAAKqrF,OAAO3xC,MAAK,SAASt7C,EAAGixB,GAC5B,OAAOjxB,EAAE8M,OAASmkB,EAAEnkB,MACtB,IAECrL,EAAU4jD,SAAS,SAASrlD,GAC3BA,EAAGyiD,SAAS,CAAC,wBAAwB,GAAG,gBAAgB,eAExD7gD,KAAKuhB,YAAY,gBAAe,SAAS8N,IACnCrvB,KAAK47C,UAAY57C,KAAKsrF,QAAQj8D,IAAOrvB,KAAKq8C,SAAShtB,IAAOrvB,KAAKq8C,SAAShtB,GAAI+7D,OAAShtF,EAAGgtF,OAC5FhtF,EAAG09C,WAAWzsB,GAAA,EAAQ,WAC1B,IACErvB,KAAKuhB,YAAY,uBAAsB,SAAS8N,GAC/C,GAAGrvB,KAAKq8C,SAAShtB,IAAOrvB,KAAKq8C,SAAShtB,GAAI+7D,OAAShtF,EAAGgtF,MAAO,CAC5D,IAAKprF,KAAKsrF,QAAQj8D,GAAK,OACvB,IAAIzvB,EAAExB,EAAG+1C,SAAS9kB,GAElB,MAAO,YAAHzvB,GAAiBI,KAAK+7C,YAAe39C,EAAG09C,WAAWzsB,GAAG,OACnD,WAAHzvB,IACG,gBAAHA,IAEJxB,EAAG09C,WAAWzsB,GAAG,EAAK,YACd,GACR,CACI,OAAO,CACf,IACErvB,KAAKuhB,YAAY,kBAAiB,SAAS8N,IACrCrvB,KAAK47C,UAAY57C,KAAKsrF,QAAQj8D,IAAOrvB,KAAKq8C,SAAShtB,IAAOrvB,KAAKq8C,SAAShtB,GAAI+7D,OAAShtF,EAAGgtF,OAC5FhtF,EAAG09C,WAAWzsB,GAAA,EAAQ,UAC1B,IAEEjxB,EAAGgjD,YAAY,SAAS/xB,EAAGzvB,GAC1B,IAAIuxC,EAAGnxC,KAAK2wC,IAAI0L,SAAShtB,GACrB+lB,EAAO,CAAC,EAEZ,IAAK,IAAIjF,KAAKgB,EACQ,IAAjBhB,EAAEnkC,QAAQ,OACVmlC,EAAGhB,IAAMgB,EAAGhB,GAAG2V,eAClB1Q,EAAKjF,GAAKnwC,KAAK2wC,IAAI2T,SAASyB,WAAW5U,EAAGhB,IAE1CiF,EAAKjF,GAAKgB,EAAGhB,IAEf,OAAOiF,CACV,EACEh3C,EAAGmtF,iBAAiB,aAEpBntF,EAAGmjB,YAAY,iBAAkB1hB,EAAUu8C,kBAC3Ch+C,EAAGmjB,YAAY,iBAAkB1hB,EAAUu8C,kBAC3Ch+C,EAAGmjB,YAAY,kBAAkB,SAAS8N,EAAKzvB,GAC9CI,KAAK2wC,IAAI2L,YAAY18C,EAAII,KAAKu8C,aAAc,gBAC5Cv8C,KAAK2wC,IAAI6L,YAAY58C,EACxB,GACA,EAEC,WACO,IAAIxB,EAAY,SAAS+yC,GACrB,GAAW,OAARA,GAA+B,iBAARA,EACtB,OAAOA,EACX,IAAIiE,EAAO,IAAIjE,EAAI9rC,YACnB,QAAQ8qC,KAAOgB,EACXiE,EAAKjF,GAAO/xC,EAAU+yC,EAAIhB,IAC9B,OAAOiF,CACnB,EAEEv1C,EAAU2rF,gBAAkB,GAC5B3rF,EAAU4rF,eAAiB,CAAC,EAC5B,QAAQp8D,EAAE,EAAGA,EAAExvB,EAAUwrF,OAAO7sF,OAAQ6wB,IAAK,CAI5C,GAHAxvB,EAAUwzC,OAAO,YAAYxzC,EAAUwrF,OAAOh8D,GAAGhrB,MAAQ,GAChDxE,EAAUwzC,OAAO,YAAYxzC,EAAUwrF,OAAOh8D,GAAGhrB,MAAM62D,SAAW98D,EAAUyB,EAAUwzC,OAAO4nB,SAASC,UAC/Gr7D,EAAU4rF,eAAe5rF,EAAUwrF,OAAOh8D,GAAGhrB,MAAQxE,EAAUwzC,OAAOq4C,sBAAsB,EAAM,EAAFr8D,EAC7FxvB,EAAUwrF,OAAOh8D,GAAGrP,IAAK,CAC3B,IAAIpgB,EAAKC,EAAUyzE,oBAAoB,CACtCtzD,IAAKngB,EAAUwrF,OAAOh8D,GAAGrP,MAE1BpgB,EAAGwrF,MAAQvrF,EAAUwrF,OAAOh8D,GAAGhrB,KAC/BxE,EAAU2rF,gBAAgBj9E,KAAK3O,GAC/BC,EAAU2rF,gBAAgBn8D,GAAGk0B,KAAK1jD,EAClC,CACEA,EAAUwrF,OAAOh8D,GAAGs8D,YACtB9rF,EAAU+rF,aAAe/rF,EAAUwrF,OAAOh8D,GAAGhrB,KAC9C,CACD,CA3BD,GA8BAxE,EAAUgsF,UAAY,SAASztF,GAC9B4B,KAAK8rF,YAAY1tF,GAAA,EACnB,EAECyB,EAAUksF,UAAY,SAAS3tF,GAC9B4B,KAAK8rF,YAAY1tF,GAAQ,EAC3B,EAECyB,EAAUisF,YAAc,SAAS1tF,EAAQixB,GACxC,IAAIzvB,EAAQI,KAAKgsF,SAAS5tF,GAGzBwB,EAAMqsF,aADc,IAAX58D,IACSA,GAEDzvB,EAAMqsF,QAExBjsF,KAAKs0C,eAAet0C,KAAK8xD,MAAO9xD,KAAK6xD,MACvC,EAEChyD,EAAUmsF,SAAW,SAAS5tF,GAC7B,IAAIixB,EACHzvB,EACmB,iBAAVxB,IACTwB,EAAaxB,GACM,iBAAVA,IACTwB,EAAaxB,EAAOgtF,OACrB,IAAK,IAAIj6C,EAAE,EAAGA,EAAEtxC,EAAUwrF,OAAO7sF,OAAQ2yC,IACrCtxC,EAAUwrF,OAAOl6C,GAAG9sC,MAAQzE,IAC9ByvB,EAAQxvB,EAAUwrF,OAAOl6C,IAE3B,OAAO9hB,CACT,EAECxvB,EAAU0hB,YAAY,oBAAoB,SAAUnjB,GACnD,IAAIixB,EAAKrvB,KAAKq8C,SAASj+C,GAGvB,OAFM4B,KAAKqzC,OAAO4nB,SAASC,SAAWl7D,KAAKqzC,OAAO,YAAYhkB,EAAG+7D,OAAOlwB,SAClEr7D,EAAUy7D,iBAAA,CAElB,IAECz7D,EAAU0hB,YAAY,WAAW,SAAUnjB,EAAUixB,GACpD,IAAIzvB,EAAKC,EAAUw8C,SAASj+C,GACtB,OAAQyB,EAAUmsF,SAASpsF,EAAGwrF,OAAOc,MAC7C,IAECrsF,EAAU0hB,YAAY,oBAAoB,SAASnjB,EAAIixB,GACtD,IAAIzvB,EAAQI,KAAKgsF,SAAS5tF,GAC1B,IAAIwB,EAAMs6E,eACT,OAAO,EAER,QADI/oC,EAAQ,EACJiE,EAAI,EAAGA,EAAE/lB,EAAI7wB,OAAQ42C,IACzB/lB,EAAI+lB,GAAGg2C,OAASxrF,EAAMyE,MAAQgrB,EAAI+lB,GAAG5+B,IAAMpY,EAAGoY,IAChD26B,IAEF,OAAQA,GAAStxC,EAAUwzC,OAAO4mC,eACpC,IAECp6E,EAAUi2C,SAAS,SAAS13C,EAAWixB,EAASzvB,EAAKuxC,EAAGiE,GACvD,IAAIjF,EAAG/xC,EACe,GAAlBG,UAAUC,UACb2xC,EAAGiF,GAAY,CAAC,GACbiP,WAAWjmD,EACd+xC,EAAGqU,SAASn1B,EACZ8gB,EAAGrwB,KAAKlgB,EACRuwC,EAAG35B,GAAG26B,EACNhB,EAAGi7C,MAAQprF,KAAK4rF,cAEjBz7C,EAAG35B,GAAK25B,EAAG35B,IAAI3W,EAAU+2C,MACzBzG,EAAGrwB,KAAOqwB,EAAGrwB,MAAM,GAGS,iBAAjBqwB,EAAGkU,aAAyBlU,EAAGkU,WAAWrkD,KAAKosD,UAAU+W,SAAShzB,EAAGkU,aACtD,iBAAflU,EAAGqU,WAAuBrU,EAAGqU,SAASxkD,KAAKosD,UAAU+W,SAAShzB,EAAGqU,WAC5ErU,EAAGgkB,OAAOn0D,KAAK+3D,cAAc5nB,GAE7B,IAAIhpB,GAAQnnB,KAAKu7C,QAAQpL,EAAG35B,IAC5BxW,KAAKu7C,QAAQpL,EAAG35B,IAAI25B,EACpBnwC,KAAKgkD,cAAc7T,GACdnwC,KAAK47C,UACT57C,KAAKo2C,UAAUjvB,EAAO,eAAe,iBAAiB,CAACgpB,EAAG35B,GAAG25B,GAChE,EAECnwC,KAAKmsF,WAAa,CAAC,EACnB,IAAK,IAAIloF,EAAI,EAAGA,EAAIjE,KAAKqrF,OAAO7sF,OAAQyF,IACvCjE,KAAKmsF,WAAWnsF,KAAKqrF,OAAOpnF,GAAGI,MAAQ,GAGxCxE,EAAU4zD,YAAY,SAASr1D,EAAMixB,EAAIzvB,GACxC,IAAIuxC,EAAO,CAAC,EACQ,iBAAT/yC,IACV+yC,EAAO/yC,EACPA,EAAQ,MAGT,IAAIg3C,EAAwD,KAAnDp1C,KAAKqzC,OAAOqgB,gBAAgB1zD,KAAKqzC,OAAOsgB,WAC5Cv1D,IAAOA,EAAQ+T,KAAKgnC,MAAOt5C,EAAUssD,eAAgB9jD,UAAU+sC,GAAGA,GACvE,IAAIjF,EAAa,IAAI13B,KAAKra,GAC1B,IAAKixB,EAAI,CACR,IAAIlI,EAAannB,KAAKqzC,OAAOugB,WACzBzsC,EAAagpB,EAAW0jB,aAC3B1jB,EAAW2jB,SAAS3sC,GACpB/oB,EAAQ+xC,EAAW9nC,WAEpBgnB,EAAMjxB,EAAMg3C,CACZ,CAGDjE,EAAKkT,WAAalT,EAAKkT,YAAYlU,EACnCgB,EAAKqT,SAAYrT,EAAKqT,UAAU,IAAI/rC,KAAK4W,GACzC8hB,EAAKrxB,KAAOqxB,EAAKrxB,MAAM9f,KAAK6c,OAAOqhC,OAAOsI,UAC1CrV,EAAK36B,GAAKxW,KAAK0yD,SAAW1yD,KAAK42C,MAC/BzF,EAAKi6C,MAAQprF,KAAK4rF,aAClB5rF,KAAK4yD,WAAW,WAEhB5yD,KAAK47C,UAAA,EACL57C,KAAK81C,SAAS3E,GACdnxC,KAAKo2C,UAAU,iBAAiB,CAACp2C,KAAK0yD,SAAS9yD,IAC/CI,KAAK47C,UAAS,EAEd57C,KAAKg0D,YAAY,CAAC,EAClBh0D,KAAKsxD,aAAa1xD,EACpB,EAECC,EAAUusF,oBAAsB,SAAShuF,GACxC,GAAI4B,KAAKqzC,OAAOgnB,YAAcr6D,KAAKqwD,YAAa,CAG/C,IAAK,IAFDhhC,EAAM,GACNzvB,EAAM,GACDuxC,EAAI,EAAGA,EAAI/yC,EAAOI,OAAQ2yC,IAC9B/yC,EAAO+yC,GAAGgjB,OACb9kC,EAAI9gB,KAAKnQ,EAAO+yC,IAEhBvxC,EAAI2O,KAAKnQ,EAAO+yC,IAElBnxC,KAAKqwD,aAAA,EACLrwD,KAAKsnE,YAAY1nE,GACjBI,KAAKqwD,aAAA,EACLrwD,KAAKsnE,YAAYj4C,EACjB,MAEArvB,KAAKsnE,YAAYlpE,EACpB,EAECyB,EAAUo4D,iBAAmB,WAC5B,GAAIj4D,KAAKknE,YACRlnE,KAAKq4D,cAAe,MADrB,CAIAr4D,KAAKq4D,cAAe,EAEpBr4D,KAAK0mE,aAEL1mE,KAAKmsF,WAAa,CAAC,EACnB,IAAK,IAAI/tF,EAAI,EAAGA,EAAI4B,KAAKqrF,OAAO7sF,OAAQJ,IACvC4B,KAAKmsF,WAAWnsF,KAAKqrF,OAAOjtF,GAAGiG,MAAQ,GAGxC,IAAIgrB,EAAMrvB,KAAK+mE,qBACf,IAAS3oE,EAAI,EAAGA,EAAIixB,EAAI7wB,OAAQJ,IAC5B4B,KAAKmsF,WAAW98D,EAAIjxB,GAAGgtF,QACzBprF,KAAKmsF,WAAW98D,EAAIjxB,GAAGgtF,OAAO78E,KAAK8gB,EAAIjxB,IAGzC,GAAiB,SAAd4B,KAAK6xD,MAAkB,CACzB,IAAIjyD,EAAO,GACX,IAASxB,EAAI,EAAGA,EAAI4B,KAAKqrF,OAAO7sF,OAAQJ,IACnC4B,KAAKqrF,OAAOjtF,GAAG6tF,UAClBrsF,EAAOA,EAAKsmB,OAAOlmB,KAAKmsF,WAAWnsF,KAAKqrF,OAAOjtF,GAAGiG,QAEpDrE,KAAKosF,oBAAoBxsF,EACzB,MAEA,IAASxB,EAAI,EAAGA,EAAI4B,KAAKqrF,OAAO7sF,OAAQJ,IACvC,GAAI4B,KAAKqrF,OAAOjtF,GAAG6tF,QAAS,CAC3B,IAAI96C,EAAYnxC,KAAKmsF,WAAWnsF,KAAKqrF,OAAOjtF,GAAGiG,MAC/CrE,KAAKosF,oBAAoBj7C,EACzB,CA7BF,CAgCH,EAECtxC,EAAUiqE,cAAc,SAAS1rE,EAAGixB,EAAEzvB,EAAEuxC,EAAEiE,EAAEjF,EAAMhpB,EAASD,EAASkqB,GACnE,IAAI9yC,EAAKF,EAAGoY,IAAA,GAET2Q,EAASnb,QAAQ,iBACnBmb,EAAYtnB,EAAUusD,UAAU,gBAAgBhuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,gBAAgBhuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAI+oB,IAAA,GACrID,EAASlb,QAAQ,iBACpBkb,EAAYrnB,EAAUusD,UAAU,cAAchuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,cAAchuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAI8oB,GAEnI,IAAII,EAAEpoB,SAASC,cAAc,OACzBQ,EAAK,gBACLyP,EAAOvP,EAAUusD,UAAU,eAAehuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,eAAehuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAIyB,EAAUusD,UAAUyZ,YAAYznE,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAC1LgR,IAAKzP,EAAGA,EAAG,IAAIyP,GAEnB,IAAIpL,EAAYnE,EAAUiyE,qBAEtBhyE,EAAiBqxC,EAAI,EACrBpxC,EAAWiE,EAAYlE,EAAkBqxC,EAAE,EAC/ChzC,EAAc6F,EAAYlE,EAAkBqxC,EAAE,EAC9C7hB,EAAYtrB,EAAYlE,EAAkBqxC,EAAE,GAC5C5pB,EAAcvjB,EAAalE,EAAiB,EAAMqxC,EAAE,EAEhD9yC,EAAa2F,EAAaoxC,EAAIp1C,KAAKq1C,GAAG4a,oBAAwB7a,EAAE,GAAK,EAErElxC,EAAK,kBAAkB5F,EAAG,KAAKuB,EAAUwzC,OAAO6xB,gBAAgB,KAAK5mE,EAAG,YAAYqB,EAAG,mCAAmCC,EAAE,YAAYyvB,EAAE,aAAatvB,EAAS,cAAcq1C,EAAE,OAAOjF,GAAO,IAAI,KAQtM,OAPAjsC,GAAM,yCAAyC/F,EAAY,qBAC3D+F,GAAM,0BAA0BijB,EAAS,SACzCjjB,GAAM,uCAAuCorB,EAAU,cAAcjxB,EAAW,QAAQ6oB,EAAS,SACjGhjB,GAAM,yCAAyCqjB,EAAY,OAAO6pB,EAAO,oBAAoB,IAAI,kBAEjG9pB,EAAElf,UAAUlE,EACZojB,EAAEvb,MAAMb,OAAS,IACVoc,EAAE/e,UACX,EAEC1I,EAAUmoE,iBAAiB,SAAS5pE,GACnC,IAAIixB,EAAOrvB,KAAKw1C,KAAmBqd,aAAE,GAEjCjzD,EAAEI,KAAK20D,OAAOv2D,EAAGqpE,OACjBt2B,EAAGnxC,KAAK20D,OAAOv2D,EAAGspE,OAClBv2B,GAAIvxC,IAAGuxC,EAAGnxC,KAAK20D,OAAOv2D,EAAGspE,MAAM,IACnC,IAAItyB,EAAKp1C,KAAKq1C,GAAGka,WAEbpf,EAAEnwC,KAAK20D,OAAOG,QAAQ12D,EAAGupE,SAAS3nE,KAAK20D,OAAOz3C,OAAQld,KAAKq1C,GAAGsa,mBAAmB,EAAG,GAAGvxD,EAAG8pE,QAAQ9yB,EAElGjuB,EAAEjoB,SAASC,cAAc,OACzB+nB,EAAK9oB,EAAG+1D,OAAO,sBAAsB,qBACrC/iB,EAAOvxC,EAAUusD,UAAU,eAAehuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,eAAehuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAIyB,EAAUusD,UAAUyZ,YAAYznE,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAC1LgzC,IAAKlqB,EAAGA,EAAG,IAAIkqB,GAEnB,IAAI9yC,EAAK,kBAAkBF,EAAGoY,GAAG,KAAKxW,KAAKqzC,OAAO6xB,gBAAgB,KAAK9mE,EAAGoY,GAAG,YAAY0Q,EAAG,mCAAmCipB,EAAE,YAAYvwC,EAAE,cAAcuxC,EAAGvxC,EAAE,IAAI,OAAOxB,EAAG2lD,aAAa,IAAI,KAE7L3lD,EAAG+1D,SACN71D,GAAOuB,EAAUusD,UAAU,kBAAkBhuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,kBAAkBhuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAIyB,EAAUusD,UAAU0Z,eAAe1nE,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,IACpME,GAASuB,EAAUusD,UAAU,kBAAkBhuD,EAAGgtF,OAAQvrF,EAAUusD,UAAU,kBAAkBhuD,EAAGgtF,OAAOhtF,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAIyB,EAAUusD,UAAU2Z,eAAe3nE,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAM,UAC3ME,GAAM,SAEN6oB,EAAE/e,UAAU9J,EAEZ0B,KAAK4mE,UAAUr4D,KAAK4Y,EAAE5e,YACtB8mB,EAAO5mB,YAAY0e,EAAE5e,WACvB,EAEC1I,EAAUyoE,aAAa,SAASlqE,GAC/B,IAAIixB,EAAOxvB,EAAUw1C,GAAGua,WAIxB,GAHG/vD,EAAUmsF,SAAS5tF,EAAGgtF,OAAOc,SAC/B78D,EAAO,KAEJjxB,EAAGqpE,MAAM,GAAb,CACA,IAAI7nE,EAAOC,EAAUsoE,cAAc/pE,EAAGqpE,OACtC,GAAK7nE,EAAL,CACA,IAAIuxC,EAA8B,GAAzB/yC,EAAGimD,WAAWwP,WAAcz1D,EAAGimD,WAAW4R,aAC/C7gB,EAA6B,GAAvBh3C,EAAGomD,SAASqP,WAAcz1D,EAAGomD,SAASyR,cAA2C,GAA3Bp2D,EAAUwzC,OAAO2iB,UAE7E7lB,EAAOh+B,KAAKgnC,OAAU,GAAHhI,EAAM,IAA4B,GAAvBnxC,KAAKqzC,OAAOugB,WAAc,GAAG,KAAM5zD,KAAKqzC,OAAOmhB,aAAA,OAAsD,GAAzBx0D,KAAKqzC,OAAOmhB,cAAiB,EACvIrtC,EAAShV,KAAK0+C,IAAIhxD,EAAUw1C,GAAGia,kBAAkBla,EAAGjE,GAAInxC,KAAKqzC,OAAOmhB,aAAa,IAAI,EAErFttC,EAAM/U,KAAKk9B,OAAOzvC,EAAOiuD,YAAYx+B,GAAMjxB,EAAG6qE,QAC9C73B,EAAKhzC,EAAG8pE,QAAQhhD,EAAM,EACrB9oB,EAAG2qE,SAAQ7hD,GAAa9oB,EAAG6qE,OAAO7qE,EAAG8pE,SAI1C,IAAI5pE,EAAE0B,KAAK8pE,cAAc1rE,EAAGoY,GAAG6Y,EAAK+hB,EAAKjB,EAAIjpB,EAAMC,EAAO/oB,EAAG2lD,YAAYlkD,EAAUusD,UAAUwZ,aAAaxnE,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,GAAIyB,EAAUusD,UAAUmQ,WAAWn+D,EAAGimD,WAAWjmD,EAAGomD,SAASpmD,IAUjM,GARA4B,KAAK4mE,UAAUr4D,KAAKjQ,GACpBsB,EAAO6I,YAAYnK,GAEnB8yC,EAAKA,EAAKoH,SAAS54C,EAAOmM,MAAMmY,KAAK,IAAImL,EAEzC8gB,GAAKnwC,KAAK64D,UACVv6D,EAAEyN,MAAMb,OAASlL,KAAKyrF,eAAertF,EAAGgtF,OAEpCprF,KAAKoyD,UAAUh0D,EAAGoY,GAAG,CACxBlY,EAAEyN,MAAMb,OAASstC,SAASl6C,EAAEyN,MAAMb,QAAQ,EAC1C,IAAIoc,EAAahpB,EAAEyN,MAAMb,OACzBgc,EAAM/U,KAAK0+C,IAAI3pC,EAAM,EAAErnB,EAAUw1C,GAAG0a,eAChCzxD,EAAEY,SAASC,cAAc,QAC3BsC,aAAa,WAAWrD,EAAGoY,IAC7BlY,EAAEmD,aAAazB,KAAKqzC,OAAO6xB,gBAAgB9mE,EAAGoY,IAC9CxW,KAAKwwD,OAAOlyD,EAAE4oB,EAAMC,EAAO,GAAGiqB,EAAKjB,EAAI,IACvC7xC,EAAE42C,UAAU,iBACZ52C,EAAEyN,MAAMb,OAASoc,EACjB,IAAI3nB,EAAGT,SAASC,cAAc,OAC9Ba,KAAKwwD,OAAO7wD,EAAGunB,EAAM,EAAEC,EAAO,IAC9BxnB,EAAGoM,MAAM+3C,SAAS,2CAGlBnkD,EAAGoM,MAAMb,OAASoc,EAClBhpB,EAAEmK,YAAY9I,GACdK,KAAKw1C,KAAmBqd,aAAE,GAAGpqD,YAAYnK,GACzC0B,KAAK4mE,UAAUr4D,KAAKjQ,GAEpBqB,EAAGyI,UAAU,oCAAoChK,EAAG0hB,KAAK,cAEzD9f,KAAK+pE,QAAQpqE,EAAG4I,WAChBvI,KAAK+pE,QAAQ/6D,iBAAiB,YAAY,SAAS7Q,GAClD,GAAIA,EAAEsb,SAAU,OAAO,EACvB,IAAI6V,EAAMnxB,EAAE8Y,QACRqY,GAAMzvB,EAAUqM,KAAKgkD,WAAWrwD,EAAUohD,UAAS,GACnD3xB,GAAMzvB,EAAUqM,KAAKikD,aAAatwD,EAAUohD,UAAS,EAC7D,IACGjhD,KAAK+pE,QAAQ/6D,iBAAiB,eAAe,SAAS7Q,GAAyB,OAArBA,EAAE2Z,cAAA,GAA0B,CAAO,IAC7FnY,EAAG4I,WAAW+b,QAEdtkB,KAAKw1C,KAAmBqd,aAAE,GAAG1uC,WAAW,EACxCxkB,EAAG4I,WAAWqvC,QACd,CACD,GAAI53C,KAAKyxD,YAAYrzD,EAAGoY,GAAG,CAC1BlY,EAAEyN,MAAMb,OAASstC,SAASl6C,EAAEyN,MAAMb,QAAQ,EAG1C,IAAK,IAFDkE,EAAMpP,KAAKqzC,OAAO,UAAWrzC,KAAKoyD,UAAUh0D,EAAGoY,GAAI,OAAO,WAC1DxS,EAAU,GACLlE,EAAE,EAAGA,EAAEsP,EAAM5Q,OAAQsB,IAC7BkE,GAAW,6BAA6BoL,EAAMtP,GAAG,YAAYE,KAAK6c,OAAOqhC,OAAO9uC,EAAMtP,IAAI,WAC3F,IAAIC,EAAMC,KAAK8pE,cAAc1rE,EAAGoY,GAAG46B,EAAK/hB,EAAK,EAAE8gB,EAAI9gB,EAAkB,GAAbjgB,EAAM5Q,OAAU,GAAG,GAAG,oCAAoCwF,GAAU,GAC5HjE,EAAIgM,MAAMmY,KAAKktB,EAAK/hB,EAAK,EACzBtvB,EAAIgM,MAAMb,OAAS5M,EAAEyN,MAAMb,OAC3BlL,KAAKw1C,KAAmBqd,aAAE,GAAGpqD,YAAY1I,GACzCC,KAAK4mE,UAAUr4D,KAAKxO,EACpB,CArEmB,CAFG,CAyEzB,EAEIF,EAAUwsF,cAAgB,SAASjuF,EAAIixB,GACnC,IAAIzvB,EAAQC,EAAUmsF,SAAS38D,EAAM+7D,OACrC,OAAQxrF,GAASA,EAAMqsF,OAC/B,CACA,GAGA,EjCxWCp/B,MkCxDc,SAAShtD,GAExBA,EAAUwzC,OAAOi5C,YAAc,KAC/BzsF,EAAUwzC,OAAOk5C,UAAc,KAC/B1sF,EAAUwzC,OAAOm5C,YAAc,EAC/B3sF,EAAUwzC,OAAOo5C,cAAe,EAChC5sF,EAAUwzC,OAAOq5C,UAAW,EAC5B7sF,EAAUwzC,OAAOs5C,0BAA2B,EAC5C9sF,EAAUwzC,OAAOu5C,4BAA6B,EAC9C/sF,EAAUgtF,kBAAoB,WAC7B,IAAI5oF,EAAS,KACT7F,EAAiB,iBACjBixB,EAAwB,UAWxBzvB,EAAwB,SAASuwC,EAAMhpB,EAAOD,GACjD,IAX0B5oB,EAASgpB,EAAM3nB,EAWrCyxC,EAA0B,iBAARjB,EAAoBA,EAAO,CAAEu1C,KAAMv1C,GAQzD,OAPAiB,EAAQ9wC,KAAOlC,EACfgzC,EAAQsD,IAAM,GACVvtB,IACCD,IACHkqB,EAAQ8pB,SAAWh0C,GAhBK5oB,EAiBH8yC,EAjBkBzxC,EAiBHwnB,GAjBHG,EAiBH6oB,aAhBZ13B,MAAQ9Y,aAAiB8Y,MAC5Cna,EAAQ+lD,WAAa/8B,EACrBhpB,EAAQkmD,SAAW7kD,IAEnBrB,EAAQonF,KAAOp+D,EACfhpB,EAAQwuF,MAAQntF,GAWhByxC,EATM9yC,GAWA8yC,CACT,EACCvxC,EAAUktF,UAAY,SAAS58C,EAAMhpB,EAAOD,GAC3C,IAAIkqB,EAAUxxC,EAAsBuwC,EAAMhpB,EAAOD,GACjD,OAAOrnB,EAAUutD,kBAAkBhc,EACrC,EACCvxC,EAAUmtF,YAAc,SAAS78C,EAAMhpB,EAAOD,GAE7C,IAAIkqB,EAAUxxC,EAAsBuwC,EADpChpB,EAAQA,GAAS,UACgCD,GACjD,OAAOrnB,EAAUotF,qBAAqB77C,EACxC,EACCvxC,EAAU0hB,YAAY,sBAAqB,SAAS4uB,EAAGhpB,EAAGD,EAAGkqB,GAE5D,SAAS9yC,EAAUgpB,EAAM3nB,GACxB,IAAIyP,EAAcvP,EAAUwzC,OAAOi5C,YAClCtoF,EAAYnE,EAAUwzC,OAAOk5C,UAC7BzsF,EAAYD,EAAUwf,KAAKtgB,IAAIuoB,EAAK,EAAE3nB,GAEvC,OAAQ2nB,EAAKjf,UAAYrE,EAAUqE,WAAavI,GAAYsP,EAAY/G,SACxE,CAED,OAAIxI,EAAUwzC,OAAOm5C,aAEhBluF,EADJ8yC,EAAKA,GAAIjqB,EAAID,EAAKA,GAAIipB,IACKhpB,EAAG9e,WAAa+oC,EAAG/oC,YAC7C2gB,YAAW,WACV,GAAGnpB,EAAUkuD,WACZ,OAAO,EAER,IAAIzmC,EAAahpB,EAAU6oB,EAAID,GAAWrnB,EAAUwzC,OAAOi5C,YAAtBnlE,EAErCtnB,EAAUy0C,eAAgBh2C,EAAUgpB,EAAWJ,GAAkB,KAAZI,EAAkBJ,EACvE,GAAC,MAKN,IACCrnB,EAAUqtF,sBAAwB,SAAS/8C,EAAIhpB,EAAeD,GAC7DC,EAAgBA,GAAiBkI,EAMjC,IAAK,IAJD+hB,GAAA,EACA9yC,EAAkB,IAAIma,KAAK03B,EAAGkU,WAAWh8C,WACzCif,EAAgBznB,EAAUwf,KAAKtgB,IAAIT,EAAiB,EAAG,OACvDqB,EAAYE,EAAUstF,kBACnB7uF,EAAkB6xC,EAAGqU,SAAUlmD,EAAkBuB,EAAUwf,KAAK6sC,UAAU5kC,GAAgBA,EAAgBznB,EAAUwf,KAAKtgB,IAAIT,EAAiB,EAAG,OAAS,CAChK,IAAI8Q,GAAavP,EAAUwf,KAAK6sC,UAAW,IAAIzzC,KAAKna,IAGhD0F,EAAQoxC,EAASjF,EAAIxwC,EAFTrB,EAAgButD,SAEez8C,EAAW+X,GAC1D,GAAInjB,EACH,IAAK,IAAIlE,EAAI,EAAGA,EAAIkE,EAAMxF,OAAQsB,GAAG,EAAG,CAGvC,IAAIC,EAAaF,EAAUutF,kBAAkB9uF,GACzCH,EAAagyC,EAAGqU,SAASl9B,GAAiB6oB,EAAGqU,SAAS7N,WAAar4C,EAAgBq4C,UAAc,KAAO92C,EAAUutF,kBAAkBj9C,EAAGqU,UAEvIl1B,EAActrB,EAAMlE,GACpBynB,EAAYvjB,EAAMlE,EAAE,GACxB,GAAIwvB,EAAYnxB,GAAYopB,EAAUxnB,KAIpCqxC,EAHuB,mBAAdlqB,GAGHA,EAAWipB,EAAIpwC,EAAY5B,EAAUmxB,EAAa/H,IAKxD,KAEF,CAEF,CACD,OAAQ6pB,CACV,EACC,IAAID,EAAUtxC,EAAUwtF,oBAAsB,SAASl9C,GAGtD,IAFIA,IAECtwC,EAAUwzC,OAAOo5C,aACrB,OAAO,EACR,IAAItlE,EAAItnB,EACJqnB,EAAIC,EAAEksB,OACNjC,EAAM,GACV,GAAIjB,EAAM+T,SAET,QADI5lD,EAAQuB,EAAUw6E,YAAYlqC,GAC1B7oB,EAAE,EAAGA,EAAIhpB,EAAME,OAAQ8oB,IAAI,CAClC,IAAI3nB,EAAKE,EAAUqpE,YAAY/4B,GAC/BtwC,EAAUm4D,WAAWr4D,EAAIrB,EAAMgpB,IAC/B8pB,EAAI7iC,KAAK5O,EACT,MAGDyxC,EAAM,CAACjB,GAIR,IAAK,IADD/gC,GAAe,EACVpL,EAAE,EAAGA,EAAEotC,EAAI5yC,OAAQwF,IAAK,CAChC,IAAIlE,GAAM,GACNH,EAAKyxC,EAAIptC,IAEVmwD,OAASt0D,EAAUk4D,cAAcp4D,IAEpCG,GAAOonB,EAAEolE,cAAeplE,EAAEqlE,WAAc5sF,EAAG0kD,WAAWh8C,WAAa6e,EAAEolE,YAAYjkF,WAAa1I,EAAG6kD,SAASn8C,WAAa6e,EAAEqlE,UAAUlkF,aAElIvI,GAAOD,EAAUqtF,sBAAsBvtF,EAAIvB,GAAgB,SAAS2B,EAAO5B,EAAYmxB,EAAU/H,EAAalpB,GAE7G,IAAI6F,GAAA,EAqBJ,OApBI/F,GAAYE,GAAaF,GAAcopB,KACzB,MAAblpB,GAAsBixB,GAAYjxB,KACrC6F,GAAQ,GAGNnE,EAAMo0D,QAAUhtC,EAAEurC,UAA4B,YAAhBvrC,EAAEyrC,YAClC7yD,EAAMskD,WAAWyP,SAAS,GAC1B/zD,EAAMskD,WAAWmd,WAAWnjE,IAE5B6F,GAAA,IAGGorB,GAAY/H,GAAe+H,GAAYjxB,GAAeF,EAAaopB,GAAe+H,EAAWjxB,KAC9F0B,EAAMo0D,QAAUhtC,EAAEurC,UAA4B,YAAhBvrC,EAAEyrC,YAClC7yD,EAAMykD,SAASsP,SAAS,GACxB/zD,EAAMykD,SAASgd,WAAWj6C,IAE1BrjB,GAAQ,GAGHA,CACZ,KAEQpE,IACJA,EAAOqnB,EAAEmvB,WAAW,oBAAuBnvB,EAAEivB,UAAU,mBAAmB,CAACz2C,EAAG6W,GAAI7W,IAAOG,GAE1FsP,EAAeA,GAAgBtP,CAC/B,CAKD,OAJIsP,IACH+X,EAAEurC,SAAW,KACbvrC,EAAEyrC,WAAa,MAETxjD,CAGT,EA8BC,SAASgmC,EAASjF,EAAIhpB,EAAWD,EAAWkqB,EAAW9yC,GACtD,IAAIgpB,EAAIznB,EAEJF,EAAQ,GACRyP,EAAa,CAChBw/C,OAAS,SACTD,OAAS,cAEV,QAAQ3qD,KAAaoL,EAAW,CAC/B,IAAItP,EAAWsP,EAAWpL,GAC1B,GAAGsjB,EAAEtjB,GACJ,QAAQjE,KAAQunB,EAAEtjB,GAAW,CAC5B,IACI7F,EADcmpB,EAAEtjB,GAAWjE,GACND,GACrBqwC,EAAGhyC,KACPwB,EAAS2nB,EAAEgmE,oBAAoB3tF,EAC9BE,EAAU0tF,mBAAmBpmE,EAAUpnB,GAAOowC,EAAGhyC,GAAS+oB,EAAWkqB,EAAW9yC,IACjF,CAEF,CAGD,OADQgpB,EAAEgmE,oBAAoB3tF,EAAOE,EAAU0tF,mBAAmBpmE,EAAW,SAAUD,EAAWkqB,EAAW9yC,GAE7G,CApDDuB,EAAU0tF,mBAAqB,SAASp9C,EAAWhpB,EAAUD,EAAWkqB,EAAW9yC,GAClF,IAAIgpB,EAAO,GACX,GAAI6oB,GAAaA,EAAUhpB,GAG1B,QAFIxnB,EAAiBwwC,EAAUhpB,GAC3B/X,EAAyBpP,KAAKwtF,4BAA4BtmE,EAAWkqB,EAAWzxC,EAAgBrB,GAC3F0F,EAAE,EAAGA,EAAEoL,EAAuB5Q,OAAQwF,IAC9CsjB,EAAQtnB,KAAKstF,oBAAoBhmE,EAAOlY,EAAuBpL,GAAG8oF,OAGpE,OAAOxlE,CACT,EACCznB,EAAU2tF,4BAA8B,SAASr9C,EAAWhpB,EAAWD,EAAOkqB,GAC7E,IAAI9yC,EAeJ,OAdGuB,EAAUwzC,OAAOu5C,2BACnBtuF,EAAe4oB,EAAMC,IAAcD,EAAMC,GAAWiqB,GAAkBlqB,EAAMC,GAAWiqB,GACtFlqB,EAAMipB,IAAcjpB,EAAMipB,GAAWiB,GAAkBlqB,EAAMipB,GAAWiB,GAAiB,IAE1F9yC,EAAc,GACX4oB,EAAMC,IAAcD,EAAMC,GAAWiqB,KACvC9yC,EAAcA,EAAY4nB,OAAOgB,EAAMC,GAAWiqB,KAG/ClqB,EAAMipB,IAAcjpB,EAAMipB,GAAWiB,KACxC9yC,EAAcA,EAAY4nB,OAAOgB,EAAMipB,GAAWiB,MAI7C9yC,CACT,EA0BCuB,EAAU0hB,YAAY,eAAe,SAAS4uB,GAC7C,OAASA,GAAa/xC,CACxB,IACCyB,EAAU0hB,YAAY,gBAAe,SAAS4uB,GAC7C,OAAKA,GACEgB,EAAQtxC,EAAUw8C,SAASlM,GACpC,IACCtwC,EAAU0hB,YAAY,WAAW,SAAU4uB,EAAUhpB,GACpD,OAAOgqB,EAAQtxC,EAAUw8C,SAASlM,GACpC,IACCtwC,EAAU0hB,YAAY,oBAAmB,SAAS4uB,GAEjD,IAAIhpB,EAAKtnB,EAAUw8C,SAASlM,GAE5B,OADAlsC,EAAS,CAACkjB,EAAGk9B,WAAYl9B,EAAGq9B,UACrBrT,EAAQhqB,EACjB,IACCtnB,EAAU0hB,YAAY,eAAe,SAAS4uB,EAAIhpB,EAAMD,GAGvD,IAAKC,EAAKk9B,aAAcl9B,EAAKq9B,SAAU,CACtC,IAAIpT,EAAKvxC,EAAUw8C,SAASlM,GAC5BhpB,EAAKk9B,WAAa,IAAI5rC,KAAK24B,EAAGiT,YAC9Bl9B,EAAKq9B,SAAW,IAAI/rC,KAAK24B,EAAGoT,SAC5B,CAED,GAAGr9B,EAAK+8B,SAAS,CAGhB,IAAI5lD,EAAYuB,EAAU23D,YAAYrwC,GAEtC,OADAtnB,EAAUs6E,iBAAiB77E,GACpB6yC,EAAQ7yC,EACf,CACD,OAAO6yC,EAAQhqB,EACjB,IACCtnB,EAAU0hB,YAAY,gBAAe,SAAS4uB,GAC7C,IAAKA,EAAI,OAAO,EAChB,IAAIhpB,EAAKtnB,EAAUw8C,SAASlM,GAoB5B,OAnBKgB,EAAQhqB,IAAOtnB,EAAUwzC,OAAOi5C,aAAezsF,EAAUwzC,OAAOk5C,YAEhEplE,EAAGk9B,WAAaxkD,EAAUwzC,OAAOi5C,cACpCnlE,EAAGk9B,WAAa,IAAI5rC,KAAK5Y,EAAUwzC,OAAOi5C,cAEvCnlE,EAAGk9B,WAAWh8C,WAAaxI,EAAUwzC,OAAOk5C,UAAUlkF,YACzD8e,EAAGk9B,WAAarkD,KAAKqf,KAAKtgB,IAAIc,EAAUwzC,OAAOk5C,WAAA,EAAe,QAE3DplE,EAAGq9B,SAAW3kD,EAAUwzC,OAAOi5C,cAClCnlE,EAAGq9B,SAAW,IAAI/rC,KAAK5Y,EAAUwzC,OAAOi5C,cAErCnlE,EAAGq9B,SAASn8C,WAAaxI,EAAUwzC,OAAOk5C,UAAUlkF,YACvD8e,EAAGq9B,SAAWxkD,KAAKqf,KAAKtgB,IAAIc,EAAUwzC,OAAOk5C,WAAA,EAAe,QAEzDplE,EAAGk9B,WAAWh8C,WAAa8e,EAAGq9B,SAASn8C,YAC1C8e,EAAGq9B,SAAWxkD,KAAKqf,KAAKtgB,IAAIooB,EAAGk9B,WAAarkD,KAAKqzC,OAAOqgB,gBAAgB1zD,KAAKqzC,OAAOsgB,UAAY,WAEjGxsC,EAAGgtC,OAAOn0D,KAAK+3D,cAAc5wC,KAEvB,CACT,IACCtnB,EAAU0hB,YAAY,kBAAiB,SAAS4uB,GAC/C,IAAKA,EAAI,OAAO,EAChB,IAAIhpB,EAAKtnB,EAAUw8C,SAASlM,GAC5B,IAAKgB,EAAQhqB,GAAI,CAChB,IAAKljB,EAAQ,OAAO,EACpBkjB,EAAGk9B,WAAapgD,EAAO,GACvBkjB,EAAGq9B,SAAWvgD,EAAO,GACrBkjB,EAAGgtC,OAAOn0D,KAAK+3D,cAAc5wC,EAC7B,CACD,OAAO,CACT,IACCtnB,EAAU0hB,YAAY,wBAAuB,SAAS4uB,EAAIhpB,EAAeD,GACxE,OAAOiqB,EAAQhB,EACjB,IACCtwC,EAAU0hB,YAAY,wBAAwB,SAAS4uB,GACtD,IAAIhpB,EAAatnB,EAAUkzD,cAAc5iB,GAAI9wB,KACzC6H,EAAQ,CACXitC,QAAA,EACA9P,WAAYl9B,EACZq9B,SAAU3kD,EAAUwf,KAAKtgB,IAAIooB,EAAYtnB,EAAUwzC,OAAOsgB,UAAW,WAEtE,OAAOxiB,EAAQjqB,EACjB,IAECrnB,EAAU0hB,YAAY,gBAAgB,WACrC1hB,EAAU4tF,WACZ,IAEC5tF,EAAU0hB,YAAY,0BAA0B,WAO/C,OANAtiB,OAAO+pB,YAAW,WACjB,GAAGnpB,EAAUkuD,WACZ,OAAO,EAERluD,EAAU4tF,WACV,GAAE,IACI,CACT,IAEC5tF,EAAU0hB,YAAY,oBAAoB,WACzC1hB,EAAU6tF,gBAAkBzuF,OAAOqmD,aAAY,WAC1CzlD,EAAUg8D,mBAEdh8D,EAAU4tF,WACV,GAAE,IACL,IACC5tF,EAAU0hB,YAAY,aAAa,WAClCikC,cAAc3lD,EAAU6tF,gBAC1B,IACC7tF,EAAU4tF,UAAY,SAASt9C,GAE9B,IAAIhpB,EAAe,eACdnnB,KAAKw1C,KAAKruB,KACdnnB,KAAKw1C,KAAKruB,GAAgB,IAE3B,IAAID,EAAMrnB,EAAUssD,eAChB/a,EAAMpxC,KAAKqzC,OAEf,GADAxzC,EAAU8tF,oBACLx9C,GAAQiB,EAAIs7C,UAAYxlE,EAAMlnB,KAAKkyD,WAAahrC,EAAMlnB,KAAKgyD,WAAa9qC,EAAI2sC,YAAcziB,EAAIwiB,YAAc1sC,EAAI2sC,WAAWziB,EAAI4kB,UAAW,CAC9I,IAAI13D,EAAY0B,KAAKqpE,kBAAkBniD,GACvClnB,KAAKw1C,KAAKruB,GAAgBtnB,EAAU+tF,iBAAiBtvF,EAAW4oB,EAChE,CACH,EACCrnB,EAAU+tF,iBAAmB,SAASz9C,EAAWhpB,GAChD,IAAID,EAAe,eACfkqB,EAAYvxC,EAAUutF,kBAAkBjmE,GACxC7oB,EAAU,CACbwuF,MAAO,CAAC17C,EAAYA,EAAW,GAC/BsD,IAAKxtB,EACL5mB,KAAM4mB,GAEP,IAAKlnB,KAAKqwD,YAAa,CACtB,GAAIrwD,KAAK4uD,QAAU5uD,KAAK4uD,OAAO5uD,KAAK6xD,OAAQ,CAC3C,IAAIvqC,EACH3nB,EAEGyP,EAAOpP,KAAK4uD,OAAO5uD,KAAK6xD,OACxB7tD,EAAUoL,EAAK0wB,MAAQ1wB,EAAKhI,QAAQ5I,OACpC4Q,EAAKs2E,KAAO,GACZt2E,EAAK0wB,MAAQ1wB,EAAKhI,QAAQ5I,SAC5B2xC,GAAc/gC,EAAK8kC,SAAU/D,GAAa/gC,EAAKhI,QAAQ5I,OAAU4Q,EAAK0wB,MAEvExY,EAAc6oB,EACdxwC,EAAYwwC,EAAYnsC,GAIxBrE,GADA2nB,EAAc,GACYtjB,EAK3B,IAAK,IAFDlE,EAAS,GAEJC,EAAIunB,EAAavnB,EAAIJ,EAAWI,IAAK,CAC7C,IAAI5B,EAAQ4B,EACZzB,EAAQonF,KAAOvnF,EACf,IAAImxB,EAAQzvB,EAAUguF,wBAAwBvvF,EAAS,KAAMH,GAAO,GACpE2B,EAAOyO,KAAK+gB,EACZ,CACD,OAAOxvB,CACX,CAEI,OADAxB,EAAQonF,KAAOv1C,EACRtwC,EAAUguF,wBAAwBvvF,EAAS,KAAM6xC,EAE5D,CACG,GAAkB,SAAdnwC,KAAK6xD,MAER,OADAvzD,EAAQonF,MAAQ7lF,EAAUwf,KAAK6sC,UAAU/kC,GAClCtnB,EAAUguF,wBAAwBvvF,EAAS,KAAM,KAG5D,EACCuB,EAAU8tF,iBAAmB,WAG5B,IAAK,IAFDx9C,EAAe,eACfhpB,EAAMnnB,KAAKw1C,KAAKrF,GACXjpB,EAAE,EAAGA,EAAEC,EAAI3oB,OAAQ0oB,IAAK,CAChC,IAAIkqB,EAAMjqB,EAAID,GACV5oB,EAAS8yC,EAAItjC,WACbxP,GACHA,EAAOkK,YAAY4oC,EAEpB,CACDpxC,KAAKw1C,KAAKrF,GAAgB,EAC5B,EA4CCtwC,EAAUstF,kBAAoB,CAAEl6C,OAAQ,CAAE,GAE1CpzC,EAAUutF,kBAAoB,SAASj9C,GACtC,OAAuB,GAAhBA,EAAK0jB,WAAgB1jB,EAAK8lB,YACnC,EACCp2D,EAAUiuF,0BAA4B,SAAS39C,GAC9C,IAAIhpB,EAAY,GACZD,EAAe,GAKnB,GAHmB,YAAfipB,EAAOu1C,OACVv1C,EAAOu1C,KAAO,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAExBv1C,EAAOu1C,gBAAgBz+E,MAAO,CAEjC,IAAK,IADDmqC,EAASjB,EAAOu1C,KAAKzkF,QAChB3C,EAAE,EAAGA,EAAE8yC,EAAO5yC,OAAQF,IAAK,CACnC,IAAIgpB,EAAgBznB,EAAU23D,YAAYrnB,GAC1C7oB,EAAco+D,KAAOt0C,EAAO9yC,GAC5B6oB,EAAU5Y,KAAKY,MAAMgY,EAAWtnB,EAAUiuF,0BAA0BxmE,GACpE,CACD,OAAOH,CACP,CAED,IAAMgpB,KACFA,EAAOkU,YAAclU,EAAOqU,UAAYrU,EAAOqU,SAAWrU,EAAOkU,iBAAA,IAAgBlU,EAAOu1C,MAAsBv1C,EAAO28C,SAAY38C,EAAO7vC,KAC3I,OAAO6mB,EAIY,WAAhBgpB,EAAO28C,QACV38C,EAAO28C,MAAQ,CAHN,EACA,OAGN38C,EAAO28C,OAAS38C,EAAO49C,eAC1B59C,EAAO28C,MAAQjtF,EAAUmuF,YAAY79C,EAAO28C,QAG7C38C,EAAO35B,GAAK3W,EAAU+2C,MACtBzG,EAAOuE,IAAMvE,EAAOuE,KAAK,GACzBvE,EAAO7vC,KAAO6vC,EAAO7vC,MAAM+uB,EAE3B,IAAI1vB,EAAWwwC,EAAO+qB,SACtB,GAAIv7D,GACH,IAAK,IAAIyP,KAAYzP,EACpB,GAAIA,EAASJ,eAAe6P,GAAW,CACtC,IAAIpL,EAAMrE,EAASyP,GAGnB,IAFMpL,aAAeiD,QACpBjD,EAAM,CAACA,IACC1F,EAAE,EAAGA,EAAE0F,EAAIxF,OAAQF,KACvB4F,EAAWrE,EAAUm4D,WAAW,CAAE,EAAE7nB,IAC/B+qB,SAAW,CAAC,EACrBh3D,EAASg3D,SAAS9rD,GAAYpL,EAAI1F,GAClC4oB,EAAa3Y,KAAKrK,EAEnB,OAGFgjB,EAAa3Y,KAAK4hC,GAGnB,IAAK,IAAIrwC,EAAE,EAAGA,EAAEonB,EAAa1oB,OAAQsB,IAAK,CACzC,IAAIC,EAAWmnB,EAAapnB,GAExB3B,EAAa4B,EAASskD,WACtB/0B,EAAWvvB,EAASykD,SAExB,GAAIrmD,GAAcmxB,EAIjB,QAHI/H,EAAO1nB,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAKta,IACzCE,EAAMwB,EAAUwf,KAAKtgB,IAAIwoB,EAAM,EAAG,OAE/BA,EAAO+H,GAAU,CACvB,IAAIprB,SAAAA,EAAWrE,EAAUm4D,WAAW,CAAE,EAAEj4D,IACxBskD,kBACTngD,EAASsgD,SAChBtgD,EAASwhF,KAAOn+D,EAAKlf,UACrB,IAAIkiB,EAAcpsB,EAAaopB,EAAQ1nB,EAAUutF,kBAAkBjvF,GA9C5D,EA+CHooB,EAAa+I,EAAWjxB,GAAQixB,EAASqnB,WAAapvB,EAAKovB,UA9CxD,KA8C4E92C,EAAUutF,kBAAkB99D,GAC/GprB,EAAS4oF,MAAQ,CAACviE,EAAYhE,GAC9BY,EAAU5Y,KAAKrK,GAEfqjB,EAAOlpB,EACPA,EAAOwB,EAAUwf,KAAKtgB,IAAIV,EAAM,EAAG,MACnC,MAEG0B,EAAS2lF,gBAAgBjtE,OAC5B1Y,EAAS2lF,KAAQ7lF,EAAUwf,KAAK6sC,UAAUnsD,EAAS2lF,MAAOr9E,WAC3DtI,EAAS+sF,MAAQ38C,EAAO28C,MAAM7rF,QAC9BkmB,EAAU5Y,KAAKxO,EAEhB,CACD,OAAOonB,CACT,EACCtnB,EAAUouF,oBAAsB,SAAS99C,EAAOhpB,EAAOD,GACtD,IAAIkqB,EAAQ,GACZjqB,EAAQtnB,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAK0O,GAAOtnB,EAAUmyD,YAC3D9qC,EAAM,IAAIzO,KAAKyO,GAAKrnB,EAAUqyD,WAI9B,IAAK,IAHD5zD,EAAY6oB,EAAM0kC,SAClBvkC,EAAS6oB,EAAM7xC,GAAa,EAAM6xC,EAAM7xC,EAAc,EAAE6oB,EAAM0kC,SAAS1b,EACvExwC,EAASE,EAAUwf,KAAKtgB,IAAIooB,EAAOG,EAAO,OACvC3nB,EAASunB,EAAKvnB,EAASE,EAAUwf,KAAKtgB,IAAIY,EAAQ,EAAG,QAC3DyxC,EAAM7iC,KAAK5O,GAEZ,OAAOyxC,CACT,EACCvxC,EAAUquF,2BAA6B,SAAS/9C,GAC/C,IAAIhpB,EAAc,GAOlB,OANIgpB,EAAO7vC,MAAQlC,IAClB+oB,EAAY5Y,KAAKnQ,GACb+xC,EAAOuE,KACVvtB,EAAY5Y,KAAKnQ,EAAe,WAElC+oB,EAAY5Y,KAAK,sBAAuB4hC,EAAOuE,KACxCvtB,EAAYsH,KAAK,IAC1B,EACC5uB,EAAUsuF,qBAAuB,SAASh+C,GACzC,IAAIhpB,EAASjoB,SAASC,cAAc,OAOpC,OANIgxC,EAAOwE,OACgB,iBAAfxE,EAAOwE,KACjBxtB,EAAM/e,UAAY+nC,EAAOwE,KAEzBxtB,EAAM1e,YAAY0nC,EAAOwE,OAEpBxtB,CACT,EACCtnB,EAAUguF,wBAA0B,SAAS19C,EAAShpB,EAAMD,GAC3D,IAAIkqB,EAAS,GACT9yC,EAAIuB,EAAUwzC,OACd/rB,EAAWtnB,KAAKgyD,UAChBryD,EAAWK,KAAKkyD,UAChB9iD,GAAA,EAEJ,IAAK9Q,EAAEquF,yBACN,OAAOv7C,EAGR,IAAKlqB,GAAe,IAARA,EAAW,CACtB,GAAIipB,EAAQu1C,KAAO,EAClBx+D,EAAMipB,EAAQu1C,SACV,CACJ,IAAI1hF,EAAkB,IAAIyU,KAAK03B,EAAQu1C,MAIvC,GAHAt2E,GAAapL,KAGLrE,GAAYqE,IAAoBsjB,IAAatjB,GACpD,OAAOotC,EAERlqB,EAAMljB,EAAgB6nD,QACtB,CAGD,IAAI/rD,EAAUwnB,EAASukC,SACnB/rD,EAAUonB,EACbA,EAAM,GAAKpnB,EAAQonB,GAEnBA,GAAYpnB,CAEb,CACD,IAAIC,EAAQowC,EAAQ28C,MAChB3uF,EAAc0B,EAAUquF,2BAA2B/9C,GAEvD,GAAItwC,EAAUwwD,aAAkC,SAAnBxwD,EAAUgyD,MAAkB,CACxD,IAAIviC,EAAQ,GACR/H,EAAO,GAGX,GAAKJ,EAMJmI,EAAM/gB,KAAK4Y,GACXI,EAAKhZ,KAAK2Y,OAPA,CACVK,EAAOnY,EAAc,CAACA,GAAavP,EAAUouF,oBAAoB/mE,GACjE,IAAK,IAAI7oB,EAAE,EAAGA,EAAIkpB,EAAK/oB,OAAQH,IAC9BixB,EAAM/gB,KAAMvO,KAAKi6D,QAAQ1yC,EAAKlpB,IAEnC,CAKG,IAASA,EAAE,EAAGA,EAAIixB,EAAM9wB,OAAQH,IAAK,CACpC8oB,EAAOmI,EAAMjxB,GACb6oB,EAAMK,EAAKlpB,GAEX,IAAI6F,EAAOlE,KAAKqpE,kBAAkBniD,GAAA,GAAclnB,KAAKq0D,MAAM71D,OAE3D,IAAGwB,KAAKs0D,SAASpwD,GAAjB,CAEA,IAAIqmB,EAAc1qB,EAAUsuF,qBAAqBh+C,GACjD5lB,EAAY2qB,UAAY/2C,EACxBosB,EAAYxe,MAAMqY,IAAM,MACxBmG,EAAYxe,MAAMmR,OAAS,OAE3B,IAAK,IAAIqJ,EAAE,EAAGA,EAAIxmB,EAAMvB,OAAQ+nB,GAAG,EAAG,CACrC,IAAIc,EAAQtnB,EAAM1B,GAElB,IADI6E,EAAMnD,EAAM1B,EAAE,KACPgpB,EACV,MAAO,IAEJ5T,EAAQ8W,EAAY+vC,WAAA,IAElBvuD,MAAMmY,KAAO,MACnBzQ,EAAM1H,MAAMkR,MAAQ,OAEpBkK,EAAK1e,YAAYgL,GACjB29B,EAAO7iC,KAAKkF,EACZ,CApBgC,CAqBjC,CACJ,KAAS,CACN,IAAI6rB,EAAQpY,EAEZ,GAAGlnB,KAAKs0D,SAASt0D,KAAKqpE,kBAAkBniD,GAAA,IAAc,OAAOkqB,EAE7D,GAAIpxC,KAAK4uD,QAAU5uD,KAAK4uD,OAAO5uD,KAAK6xD,QAAU1hB,EAAQ+qB,UAAY/qB,EAAQ+qB,SAASl7D,KAAK6xD,OAAQ,CAC/F,IAAIj+B,EAAO5zB,KAAK4uD,OAAO5uD,KAAK6xD,OAC5BvyB,EAAQ1L,EAAK9oB,MAAMqlC,EAAQ+qB,SAASl7D,KAAK6xD,QAEzC,IAAIl+B,EAAcC,EAAK9oB,MAAMqlC,EAAQ+qB,SAASl7D,KAAK6xD,QAC9Cj+B,EAAK8xD,KAAO,EAOhBpmD,EAAQA,GADM1L,EAAKkM,MAAQlM,EAAKxsB,QAAQ5I,QAChBm1B,GANxB2L,EAAQ3L,EACJC,EAAKkM,MAASR,EAAQ1L,EAAKsgB,SAAStgB,EAAKkM,OAC5CR,EAAQ,GAMV,CAGD,IAFAnY,EAAOA,GAActnB,EAAUsoE,cAAc7oC,GAEpCjhC,EAAI,EAAGA,EAAI0B,EAAMvB,OAAQH,GAAG,EAAE,CACtC,IACI6E,EAQAuQ,EAPJ,GAFI4T,EAAQlV,KAAK0+C,IAAI9wD,EAAM1B,GAAiB,GAAbC,EAAEs1D,aAC7B1wD,EAAMiP,KAAKgR,IAAIpjB,EAAM1B,EAAE,GAAgB,GAAZC,EAAE03D,aACtB3uC,EAAO,CACjB,GAAIhpB,EAAE,EAAI0B,EAAMvB,OACf,SAEA,MAAO,EACR,EAEGiV,EAAQ5T,EAAUsuF,qBAAqBh+C,IACrC+E,UAAY/2C,EAGlB,IAAI+hC,EAA4C,GAAzBlgC,KAAKqzC,OAAOmhB,aAAkB,EACjD3gC,EAAU,KACdpgB,EAAM1H,MAAMqY,IAAOjS,KAAKgnC,OAAa,GAAN9xB,EAAS,IAAKrnB,KAAKqzC,OAAOugB,WAAW//B,GAAS7zB,KAAKqzC,OAAOmhB,aAAa3gC,GAAWqM,EAAoB,KACrIzsB,EAAM1H,MAAMmR,OAAS/K,KAAK0+C,IAAK1+C,KAAKgnC,MAAmB,IAAXj2C,EAAImkB,GAAU,IAAMrnB,KAAKqzC,OAAOmhB,aAAa3gC,GAAYqM,EAAkB,GAAG,KAE1H/Y,EAAK1e,YAAYgL,GACjB29B,EAAO7iC,KAAKkF,EACZ,CACD,CACD,OAAO29B,CACT,EAECvxC,EAAUuuF,gBAAkB,WAC3B,IAAIj+C,EAAOnwC,KAAKw1C,KAAmBqd,aAAE,GACjC1rC,EAAO,GACX,GAAItnB,EAAUwwD,aAAkC,SAAnBxwD,EAAUgyD,MACtC,IAAK,IAAI3qC,KAAOlnB,KAAKi6D,QAAS,CAC7B,IAAI7oB,EAAO,IAAI34B,MAAMyO,GACrBC,EAAK5Y,KAAKY,MAAMgY,EAAMtnB,EAAUwuF,qBAAqBruF,KAAKi6D,QAAQ/yC,GAAKkqB,GACvE,KAGD,CAAIA,EAAO,IAAI34B,KAAK5Y,EAAUmyD,WAC9B,IAAK,IAAI1zD,EAAI,EAAGgpB,EAAM6oB,EAAKqO,WAAWhgD,OAAQF,EAAIgpB,EAAKhpB,IAAK,CAC3D,IAAIqB,EAAOwwC,EAAKqO,WAAWlgD,GACvBqB,EAAK4I,YAAc1I,EAAUixD,cAAcnxD,EAAK4I,YAAYyD,QAAQ,mBAAqB,IAI7Fmb,EAAK5Y,KAAKY,MAAMgY,EAAMtnB,EAAUwuF,qBAAqB1uF,EAAMyxC,IAC3DA,EAAOvxC,EAAUwf,KAAKtgB,IAAIqyC,EAAM,EAAG,OACnC,CATuC,CAWzC,OAAOjqB,CACT,EAGCtnB,EAAUyuF,aAAe,SAASn+C,GAEjC,IAAInwC,KAAKw1C,KACR,MAAM,IAAInyC,MAAM,uIAGjB,IAAI8jB,GAAc,EACdnnB,KAAKw1C,KAAmBqd,eAC3BhzD,EAAU41C,eACVtuB,GAAA,GAKD,IAAID,EAAgBrnB,EAAU0uF,sBAC7Bn9C,EAAiBvxC,EAAU2uF,wBAC3BlwF,EAAYuB,EAAUstF,kBAEvBttF,EAAUotF,uBAGVptF,EAAUutD,kBAAkBjd,GAE5B,IAAI7oB,EAAOznB,EAAUuuF,kBAUrB,OARGjnE,IACFtnB,EAAU21C,KAAO,IAGlB31C,EAAU0uF,sBAAwBrnE,EAClCrnB,EAAU2uF,wBAA0Bp9C,EACpCvxC,EAAUstF,kBAAoB7uF,EAEvBgpB,CACT,EACCznB,EAAU4uF,eAAiB,SAASt+C,GACnC,GAAKA,EAEL,IAAK,IAAIhpB,EAAE,EAAGA,EAAEgpB,EAAK3xC,OAAQ2oB,IAAK,CACjC,IAAID,EAAMipB,EAAKhpB,GAEXD,EAAIpZ,YACPoZ,EAAIpZ,WAAWtF,YAAY0e,EAE5B,CACH,EAGCrnB,EAAU6uF,yBAA2B,SAASv+C,GAC7C,IAAIhpB,EAAS,SACTD,EAAYrnB,EAAUstF,kBACtB/7C,EAAKjB,EAAO35B,GAEZlY,EAAMuB,EAAU0uF,sBACfjwF,EAAI8yC,KACR9yC,EAAI8yC,GAAM,IAGX,IAAI9pB,EAAM6oB,EAAOu1C,KAEb/lF,EAAWwwC,EAAO+qB,SAClB9rD,EAAO+gC,EAAO7vC,KAGlB,GAFA6vC,EAAO35B,GAAK46B,EAERzxC,GACH,IAAK,IAAIqE,KAAYrE,EACpB,GAAIA,EAASJ,eAAeyE,GAAW,CACjCkjB,EAAUljB,KACdkjB,EAAUljB,GAAY,IACvB,IAAIlE,EAAUH,EAASqE,GACnBjE,EAAiBmnB,EAAUljB,GAC1BjE,EAAeD,KACnBC,EAAeD,GAAW,CAAC,GACvBC,EAAeD,GAASwnB,KAC5BvnB,EAAeD,GAASwnB,GAAO,CAAC,GAC5BvnB,EAAeD,GAASwnB,GAAKlY,KACjCrP,EAAeD,GAASwnB,GAAKlY,GAAQ,GACjCvP,EAAU2uF,0BACb3uF,EAAU2uF,wBAA0B,CAAC,GAClC3uF,EAAU2uF,wBAAwBp/E,KACrCvP,EAAU2uF,wBAAwBp/E,IAAQ,IAE5C,IAAIjR,EAAc4B,EAAeD,GAASwnB,GAAKlY,GAC/C+gC,EAAOw+C,OAASxwF,EAChBA,EAAYoQ,KAAK4hC,GACjB7xC,EAAI8yC,GAAI7iC,KAAK4hC,EACb,OAGGjpB,EAAUC,GAAQG,KACtBJ,EAAUC,GAAQG,GAAO,CAAC,GACtBJ,EAAUC,GAAQG,GAAKlY,KAC3B8X,EAAUC,GAAQG,GAAKlY,GAAQ,IAE5BvP,EAAU2uF,0BACb3uF,EAAU2uF,wBAA0B,CAAC,GAClC3uF,EAAU2uF,wBAAwBp/E,KACrCvP,EAAU2uF,wBAAwBp/E,IAAQ,GAEvCjR,EAAc+oB,EAAUC,GAAQG,GAAKlY,GACzC+gC,EAAOw+C,OAASxwF,EAChBA,EAAYoQ,KAAK4hC,GACjB7xC,EAAI8yC,GAAI7iC,KAAK4hC,EAGhB,EAECtwC,EAAU0uF,sBAAwB,CAAC,EAEnC1uF,EAAUutD,kBAAoB,SAASjd,GACtC,IAAIhpB,EAAUtnB,EAAUiuF,0BAA0B39C,GAClD,GAAKhpB,EAAQ3oB,OAAb,CAIA,IAAK,IADD0oB,EAAKC,EAAQ,GAAG3Q,GACX46B,EAAE,EAAGA,EAAEjqB,EAAQ3oB,OAAQ4yC,IAC/BvxC,EAAU6uF,yBAAyBvnE,EAAQiqB,IAE5C,OAAOlqB,CANC,CAOV,EAECrnB,EAAUytF,oBAAsB,SAASn9C,EAAehpB,GACvD,IAAID,EAAkBipB,EAAclvC,QAGpC,GAFAkmB,EAAQA,EAAMlmB,SAETimB,EAAgB1oB,OACpB,OAAO2oB,EAER,IAAK,IAAIiqB,EAAE,EAAGA,EAAElqB,EAAgB1oB,OAAQ4yC,GAAG,EAK1C,IAAK,IAJD9yC,EAAe4oB,EAAgBkqB,GAC/B9pB,EAAaJ,EAAgBkqB,EAAE,GAC/BzxC,EAAUyxC,EAAE,GAAKlqB,EAAgB1oB,OAE5B4Q,EAAE,EAAGA,EAAE+X,EAAM3oB,OAAQ4Q,GAAG,EAAG,CACnC,IAAIpL,EAAamjB,EAAM/X,GACnBtP,EAAWqnB,EAAM/X,EAAE,GACvB,GAAKtP,EAAWwnB,GAActjB,GAAcsjB,GAAgBtjB,EAAa1F,GAAgBwB,GAAYxB,EACpG4oB,EAAgBkqB,GAAKj/B,KAAKgR,IAAI7kB,EAAc0F,GAC5CkjB,EAAgBkqB,EAAE,GAAKj/B,KAAK0+C,IAAIvpC,EAAYxnB,GAC5CsxC,GAAK,MACC,CACN,IAAKzxC,EACJ,SAED,IAAII,EAAUzB,EAAe0F,EAAY,EAAE,EAC3CkjB,EAAgBohB,OAAO8I,EAAErxC,EAAQ,EAAGiE,EAAYlE,EAChD,CACDqnB,EAAMmhB,OAAOl5B,IAAI,GACjB,KACA,CAEF,OAAO8X,CACT,EACCrnB,EAAU+uF,yBAA2B,SAASz+C,EAAehpB,GAE5D,IAAK,IADDD,EAAkBipB,EAAclvC,QAC3BmwC,EAAE,EAAGA,EAAElqB,EAAgB1oB,OAAQ4yC,GAAG,EAG1C,IAAK,IAFD9yC,EAAe4oB,EAAgBkqB,GAC/B9pB,EAAaJ,EAAgBkqB,EAAE,GAC1BzxC,EAAE,EAAGA,EAAEwnB,EAAM3oB,OAAQmB,GAAG,EAAG,CACnC,IAAIyP,EAAa+X,EAAMxnB,GACnBqE,EAAWmjB,EAAMxnB,EAAE,GACvB,GAAIqE,EAAW1F,GAAgB8Q,EAAakY,EAAY,CACvD,IAAIxnB,GAAA,EACAxB,GAAgB8Q,GAAckY,GAActjB,GAC/CkjB,EAAgBohB,OAAO8I,EAAG,GAEvB9yC,EAAe8Q,IAClB8X,EAAgBohB,OAAO8I,EAAG,EAAG9yC,EAAc8Q,GAC3CtP,GAAA,GAEGwnB,EAAatjB,GAChBkjB,EAAgBohB,OAAQxoC,EAAesxC,EAAE,EAAGA,EAAGtxC,EAAc,EAAE,EAAGkE,EAAUsjB,GAE7E8pB,GAAK,EACL,KACL,CAGI,CAEF,OAAOlqB,CACT,EACCrnB,EAAUmuF,YAAc,SAAS79C,GAChC,OAAOtwC,EAAU+uF,yBAAyB,CAAC,EAAG,MAAOz+C,EAAMlvC,QAC7D,EACCpB,EAAUgvF,8BAAgC,SAAS1+C,GAClD,IAAIhpB,EAAUtnB,EAAU0uF,sBAAsBp+C,GAC9C,GAAIhpB,EACH,IAAK,IAAID,EAAE,EAAGA,EAAEC,EAAQ3oB,OAAQ0oB,IAG/B,IAAK,IAFDkqB,EAASjqB,EAAQD,GACjB5oB,EAAe8yC,EAAOu9C,OACjBrnE,EAAE,EAAGA,EAAEhpB,EAAaE,OAAQ8oB,IACpC,GAAIhpB,EAAagpB,IAAM8pB,EAAQ,CAC9B9yC,EAAagqC,OAAOhhB,EAAG,GACvB,KACA,CAIN,EACCznB,EAAUivF,kCAAoC,SAAS3+C,GACtD,IAIIhpB,EAJAD,EAAYrnB,EAAUstF,kBACtB/7C,EAAWjB,EAAO+qB,SAClB58D,EAAM6xC,EAAOu1C,KACbp+D,EAAO6oB,EAAO7vC,MAAM+uB,EAExB,GAAI+hB,GACH,IAAK,IAAIzxC,KAAYyxC,EACpB,GAAIA,EAAS7xC,eAAeI,IAAaunB,EAAUvnB,GAAW,CAC7D,IAAIyP,EAAUgiC,EAASzxC,GACnBunB,EAAUvnB,GAAUyP,KACvB+X,EAAYD,EAAUvnB,GAAUyP,GAEjC,OAGF+X,EAAYD,EAAU+rB,OAGvB,GAAG9rB,EACF,QAAY,IAAR7oB,EACC6oB,EAAU7oB,IAAQ6oB,EAAU7oB,GAAKgpB,KACpCznB,EAAU6uF,yBAAyBv+C,GACnCtwC,EAAUkvF,8BAA8B5nE,EAAU7oB,GAAKgpB,GAAO6oB,SAI/D,QAASnsC,KAAKmjB,EACb,GAAIA,EAAUnjB,GAAGsjB,GAAO,CACvB,IAAIxnB,EAAYD,EAAU23D,YAAYrnB,GACtCA,EAAOu1C,KAAO1hF,EACdnE,EAAU6uF,yBAAyB5uF,GACnCD,EAAUkvF,8BAA8B5nE,EAAUnjB,GAAGsjB,GAAO6oB,EAC5D,CAIN,EACCtwC,EAAUkvF,8BAAgC,SAAS5+C,EAAehpB,GACjE,IAAK,IAAID,EAAE,EAAGA,EAAEipB,EAAc3xC,OAAQ0oB,IAAK,CAC1C,IAAIkqB,EAAMjB,EAAcjpB,GACpB5oB,EAAQuB,EAAU+uF,yBAAyBx9C,EAAI07C,MAAO3lE,EAAO2lE,OACjE,GAAIxuF,EAAME,OACT4yC,EAAI07C,MAAQxuF,MACR,CACJ6xC,EAAc7H,OAAOphB,EAAE,GACvBA,IAGA,IAAK,IADDI,EAAgBznB,EAAU0uF,sBAAsBn9C,EAAI56B,IAC/C7W,EAAE,EAAGA,EAAE2nB,EAAc9oB,OAAQmB,IACrC,GAAI2nB,EAAc3nB,IAAMyxC,EAAK,CAC5B9pB,EAAcghB,OAAO3oC,EAAG,GACxB,KACA,CAEF,CACD,CACH,EACCE,EAAUotF,qBAAuB,SAAS98C,GAQzC,GANK5xC,UAAUC,SACdqB,EAAUstF,kBAAoB,CAAEl6C,OAAQ,CAAE,GAC1CpzC,EAAU0uF,sBAAwB,CAAC,EACnC1uF,EAAU2uF,wBAA0B,CAAC,GAGV,iBAAjBr+C,EACVtwC,EAAUgvF,8BAA8B1+C,OAClC,CAEDA,EAAckU,YAAclU,EAAcqU,gBACpB,IAAvBrU,EAAcu1C,MAAuBv1C,EAAc7vC,OACrD6vC,EAAcu1C,KAAO,YAClBv1C,EAAc28C,QACjB38C,EAAc28C,MAAQ,YAGxB,IAAI3lE,EAAQ,GACZ,GAAIgpB,EAAc7vC,KAMjB6mB,EAAM5Y,KAAK4hC,EAAc7vC,WAJzB,QAAQ4mB,KAAQrnB,EAAU2uF,wBACzBrnE,EAAM5Y,KAAK2Y,GASb,IAAK,IAFDkqB,EAAUvxC,EAAUiuF,0BAA0B39C,GAEzC7xC,EAAE,EAAGA,EAAE8yC,EAAQ5yC,OAAQF,IAG/B,QADIgpB,EAAS8pB,EAAQ9yC,GACZqB,EAAE,EAAGA,EAAIwnB,EAAM3oB,OAAQmB,IAAI,CACnC,IAAIyP,EAAcvP,EAAU23D,YAAYlwC,GACxClY,EAAY9O,KAAO6mB,EAAMxnB,GACzBE,EAAUivF,kCAAkC1/E,EAC5C,CAGF,CACH,EACCvP,EAAUmvF,qBAAuB,SAAS7+C,EAAQhpB,GACjD,IAAID,EAAkBipB,EAAWtwC,EAAUm4D,WAAW,CAAC,EAAE7nB,GAAU,GACnE,IAAK,IAAIiB,KAAQjqB,GAAU,CAAC,EACvBA,EAAS5nB,eAAe6xC,KAC3BlqB,EAAgBkqB,GAAQjqB,EAASiqB,IAGnC,OAAOlqB,CACT,EACCrnB,EAAUovF,uBAAyB,SAAS9+C,GAC3C,IAAIhpB,EAAU,GACd,IAAK,IAAID,KAAQipB,EACZA,EAAM5wC,eAAe2nB,IACxBC,EAAQ5Y,KAAKY,MAAMgY,EAASgpB,EAAMjpB,IAGpC,OAAOC,CACT,EAECtnB,EAAUwuF,qBAAuB,SAASl+C,EAAMhpB,GAC/C,IAAItnB,EAAUwwD,aAAkC,SAAnBxwD,EAAUgyD,MAAvC,CAGA,IAAI3qC,EAAYC,EAAI0kC,SAChBza,EAAYjqB,EAAI9e,UAChB/J,EAAO0B,KAAK6xD,MACZvqC,EAAYznB,EAAUstF,kBACtBxtF,EAAY,GACZyP,EAAO,GACX,GAAIpP,KAAK4uD,QAAU5uD,KAAK4uD,OAAOtwD,GAAO,CACrC,IAAI0F,EAAOhE,KAAK4uD,OAAOtwD,GACnBwB,EAAQkE,EAAKoD,QAEbrH,EAAOD,EADCD,EAAUqvF,gBAAgBlrF,EAAMmjB,IAG5C,GAAKnjB,EAAK0hF,KAAO,EAEZ,CACJ,IACIvnF,EAAUgU,KAAKgnC,OAAOhyB,EAAMtnB,EAAUmyD,WADjC,OAEL1iC,EAActrB,EAAK87B,MAAQhgC,EAAMtB,OACrC2oB,EAAMtnB,EAAUwf,KAAKtgB,IAAIc,EAAUmyD,UAAW7/C,KAAKk9B,MAAMlxC,EAAQmxB,GAAc,OAC/EnI,EAAMtnB,EAAUwf,KAAK6sC,UAAU/kC,EAC/B,MAPAA,EAAMtnB,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAKzY,KAAK8xD,QAW9C,GAHA5qC,EAAYC,EAAI0kC,SAChBza,EAAYjqB,EAAI9e,UAEZif,EAAUhpB,IAASgpB,EAAUhpB,GAAMyB,EAAKwc,KAAM,CACjD,IAAIgL,EAAaD,EAAUhpB,GAAMyB,EAAKwc,KAClCle,EAAawB,EAAUmvF,qBAAqBznE,EAAWL,GAAYK,EAAW6pB,IAClFzxC,EAAU4O,KAAKY,MAAMxP,EAAWE,EAAUovF,uBAAuB5wF,GACjE,CACD,CAED,IAAI6F,EAAcojB,EAAkB2rB,OAEpC,GAAGpzC,EAAUwzC,OAAOu5C,2BAA2B,CAC9C,IAAIriE,EAAYrmB,EAAYktC,IAAYltC,EAAYgjB,GACpDvnB,EAAU4O,KAAKY,MAAMxP,EAAWE,EAAUovF,uBAAuB1kE,GACpE,MACMrmB,EAAYktC,IACdzxC,EAAU4O,KAAKY,MAAMxP,EAAWE,EAAUovF,uBAAuB/qF,EAAYktC,KAE3EltC,EAAYgjB,IACdvnB,EAAU4O,KAAKY,MAAMxP,EAAWE,EAAUovF,uBAAuB/qF,EAAYgjB,KAI/E,IAAK,IAAIX,EAAE,EAAGA,EAAE5mB,EAAUnB,OAAQ+nB,IACjCnX,EAAKb,KAAKY,MAAMC,EAAOvP,EAAUguF,wBAAwBluF,EAAU4mB,GAAI4pB,EAAMhpB,IAE9E,OAAO/X,CAlDC,CAmDV,EACCvP,EAAU0hB,YAAY,cAAc,WACnC1hB,EAAUwuF,qBAAqBl/E,MAAMtP,EAAWtB,UAClD,IAECsB,EAAUsvF,6BAA+B,SAASh/C,EAAEhpB,GACnDtnB,EAAUu2C,UAAU,kBAAkB,CAACv2C,EAAUkzD,cAAc5iB,GAAG9wB,KAAK8H,EAAIgpB,IAEvEtwC,EAAUwzC,OAAO4gB,iBACpBp0D,EAAU4zD,YAAY5zD,EAAUkzD,cAAc5iB,GAAG9wB,KAAK,KAAK8wB,EAE9D,CAEA,EACAtwC,EAAUgtF,mBAGV,ElCjiCCuC,SmCzDc,SAASvvF,GAGpBA,EAAUk1E,MACbl1E,EAAUk1E,IAAM,CAAC,GAElBl1E,EAAUk1E,IAAIsa,QAAU,CACvBC,SAAU,KACV9iD,IAAK,KACL+iD,OAAQ,KACRC,QAAS,KACTC,WAAY,KACZC,aAAc,SAASzrF,GACtB,OAAO,IAAI0rF,OAAOC,KAAKC,OAAO5rF,EAC9B,GAIFpE,EAAUw1C,GAAGy6C,eAAiB,IAC9BjwF,EAAUw1C,GAAG06C,eAAiB,GAC9BlwF,EAAUw1C,GAAG26C,sBAAwB,IAErCnwF,EAAUwzC,OAAO48C,4BAAA,EACjBpwF,EAAUwzC,OAAO68C,2BAAA,EAEjBrwF,EAAUwzC,OAAO88C,qBAAuB,IAAIR,OAAOC,KAAKQ,OAAO,OAAQ,OACvEvwF,EAAUwzC,OAAOg9C,mBAAqB,IAAIV,OAAOC,KAAKQ,OAAO,GAAI,IAEjEvwF,EAAUwzC,OAAOi9C,yBAA2B,IAE5CzwF,EAAUwzC,OAAOk9C,SAAWZ,OAAOC,KAAKY,UAAUC,QAElD5wF,EAAUwzC,OAAOq9C,uBAAyB,GAE1C7wF,EAAUgd,OAAOqhC,OAAOyyC,mBAAqB,yBAC7C9wF,EAAUgd,OAAOqhC,OAAO0yC,gBAAkB,gEAE1C/wF,EAAUusD,UAAUykC,YAAchxF,EAAUwf,KAAKusC,YAAY,kBAE7D/rD,EAAUusD,UAAU0kC,YAAc,SAAS7sF,EAAO7F,EAAKixB,GACtD,MAAO,WAAaA,EAAGvP,KAAO,kBAAoBuP,EAAG0hE,gBAAkB,IAAM,aAAelxF,EAAUusD,UAAUykC,YAAY5sF,GAAS,MAAQpE,EAAUusD,UAAUykC,YAAYzyF,GAAO,QACrL,EACAyB,EAAUmxF,sBAAwB,YAC5BhxF,KAAKqzC,OAAOyf,UAAY9yD,KAAKqzC,OAAO4gB,iBACxCj0D,KAAKyzD,YAAY,CAChBpP,WAAYxkD,EAAUiyD,MACtBtN,SAAU3kD,EAAUwf,KAAKtgB,IAAIc,EAAUiyD,MAAOjyD,EAAUwzC,OAAOsgB,UAAW,WAE7E,EACA9zD,EAAUusD,UAAU6kC,SAAW,SAAShtF,EAAO7F,EAAKixB,GACnD,OAAIxvB,EAAUwzC,OAAO0b,MAAQ1/B,EAAG8kC,OACxBt0D,EAAUusD,UAAU8P,SAAS99D,GAAO,YAAcyB,EAAUusD,UAAU8P,SAASj4D,GAC5EorB,EAAG8kC,OACNn0D,KAAKk8D,SAAS7sC,EAAGg1B,WAAYh1B,EAAGm1B,SAAUn1B,GAAM,IAAMrvB,KAAK0lE,WAAWzhE,GAEtEpE,EAAUusD,UAAU8P,SAASj4D,GAAS,YAAcpE,EAAUusD,UAAU8P,SAAS99D,EAE1F,EACAyB,EAAUusD,UAAU8kC,SAAW,SAASjtF,EAAO7F,EAAKixB,GACnD,OAAOA,EAAGvP,IACX,EAEAjgB,EAAUwf,KAAK8xE,UAAY,SAASltF,GACnC,OAAOA,CACR,EACApE,EAAUwf,KAAK+xE,QAAU,SAASntF,EAAM7F,EAAKixB,GAC5C,OAAO,IAAK5W,KAAKxU,EAAKoE,UACvB,EAEAxI,EAAUusD,UAAUilC,SAAW,SAASptF,EAAI7F,EAAIixB,GAC/C,MAAO,EACR,EAEAxvB,EAAUyxF,eAAA,EAEVzxF,EAAU0hB,YAAY,oBAAoB,WACzC1hB,EAAU0xF,mBAAoB,EAE9B,MAAMttF,EAAO/E,SAASC,cAAc,OACpC8E,EAAKixC,UAAY,UACjBjxC,EAAKuS,GAAK,WACVvS,EAAK8H,MAAMw2B,QAAU,OAErB1iC,EAAU2uD,KAAK/lD,YAAYxE,GAE3BpE,EAAU21C,KAAKg8C,SAAW,GAC1B3xF,EAAU21C,KAAKg8C,SAASjjF,KAAKtK,GAE7BksC,EAAY,YAEZ,MAAM/xC,EAAa,CAClB+M,KAAMtL,EAAUwzC,OAAOo+C,kBAAoB,GAC3CC,OAAQ7xF,EAAUwzC,OAAO88C,qBACzBwB,UAAW9xF,EAAUwzC,OAAOk9C,UAAYZ,OAAOC,KAAKY,UAAUC,SAEzDphE,EAAM,IAAIsgE,OAAOC,KAAKt7E,IAAIpV,SAASq/C,eAAe,YAAangD,GACrEixB,EAAIuiE,kBAAA,EACJviE,EAAIwiE,wBAA0BhyF,EAAUwzC,OAAOyf,SAE/C68B,OAAOC,KAAKvvE,MAAMyxE,YAAYziE,EAAK,YAAY,SAAS/H,GACvD,MAAM3nB,EAAWE,EAAUk1E,IAAIsa,QAAQC,SAEvC,IAAKzvF,EAAUwzC,OAAOyf,UAAYjzD,EAAUwzC,OAAO4gB,gBAAiB,CACnE,IAAI7kD,EAAQkY,EAAMyqE,OAClBpyF,EAASqyF,QACR,CAAED,OAAU3iF,IACZ,SAASpL,EAASlE,GACbA,GAAU6vF,OAAOC,KAAKqC,eAAeC,KACxC9iF,EAAQpL,EAAQ,GAAGmuF,SAASx1E,SAC5B9c,EAAU4zD,YAAY,CACrB2+B,IAAKhjF,EAAMgjF,MACXC,IAAKjjF,EAAMijF,MACXtB,eAAgB/sF,EAAQ,GAAGsuF,kBAC3BjuC,WAAYxkD,EAAUiyD,MACtBtN,SAAU3kD,EAAUwf,KAAKtgB,IAAIc,EAAUiyD,MAAOjyD,EAAUwzC,OAAOsgB,UAAW,YAG5E,GAEF,CACH,IAEC,IAAI/zD,EAAoB,CACvBq+C,QAAS,IAGNp+C,EAAUwzC,OAAOi9C,2BACpB1wF,EAAkB2yF,SAAW1yF,EAAUwzC,OAAOi9C,0BAG/CzwF,EAAU2sC,IAAM,CACfgmD,QAAS,GACTC,SAAU,GACVC,YAAa,IAAI/C,OAAOC,KAAK+C,WAAW/yF,GACxCgzF,qBAAsB,GACtBC,uBAAA,EACArkC,KAAMn/B,GAGPxvB,EAAUk1E,IAAIsa,QAAQC,SAAW,IAAIK,OAAOC,KAAKkD,SACjDjzF,EAAUk1E,IAAIsa,QAAQ7iD,IAAMnd,EAC5BxvB,EAAUk1E,IAAIsa,QAAQE,OAAS1vF,EAAU2sC,IAAIgmD,QAC7C3yF,EAAUk1E,IAAIsa,QAAQG,QAAU3vF,EAAU2sC,IAAIimD,SAC9C5yF,EAAUk1E,IAAIsa,QAAQI,WAAa5vF,EAAU2sC,IAAIkmD,YAE7C7yF,EAAUwzC,OAAO68C,2BAChBxhD,UAAUqkD,cACRlzF,EAAU0xF,mBACd7iD,UAAUqkD,YAAYC,oBAAmB,SAAS1rE,GACjD,IAAI3nB,EAAgB,IAAIgwF,OAAOC,KAAKQ,OAAO9oE,EAAS2rE,OAAOC,SAAU5rE,EAAS2rE,OAAOE,WACrF9jE,EAAI+jE,UAAUzzF,GACd0vB,EAAIgkE,QAAQxzF,EAAUwzC,OAAOq9C,wBAA0B,IACvD7wF,EAAU2sC,IAAIkmD,YAAY9b,WAAW/2E,EAAUgd,OAAOqhC,OAAOyyC,oBAC7D9wF,EAAU2sC,IAAIkmD,YAAYx+C,SAAW7kB,EAAIikE,YACzCzzF,EAAU2sC,IAAIkmD,YAAYzxB,KAAK5xC,GAE/BxvB,EAAU0xF,mBAAA,CACV,IACC,WACC1xF,EAAU2sC,IAAIkmD,YAAY9b,WAAW/2E,EAAUgd,OAAOqhC,OAAO0yC,iBAC7D/wF,EAAU2sC,IAAIkmD,YAAYa,YAAYlkE,EAAIikE,aAC1CzzF,EAAU2sC,IAAIkmD,YAAYzxB,KAAK5xC,GAC/BxvB,EAAU0xF,mBAAA,CACjB,KAIC5B,OAAOC,KAAKvvE,MAAMyxE,YAAYziE,EAAK,UAAU,SAAS/H,GACrDrjB,EAAK8H,MAAMb,OAAS,IACpBmkB,EAAIgkE,QAAQhkE,EAAImkE,UAElB,IACC7D,OAAOC,KAAKvvE,MAAMyxE,YAAYziE,EAAK,eAAe,SAAS/H,GAC1DrjB,EAAK8H,MAAMb,OAAS,GACtB,IAECjH,EAAK8H,MAAMw2B,QAAU,OAErB,MAAM4O,EAAMtxC,EAAUynE,YA0CtB,SAASlyB,IAER,IAAI9tB,EAASznB,EAAUknE,qBACvBz/C,EAAOoyB,MAAK,SAASnvB,EAAGhE,GACvB,OAAGgE,EAAE85B,WAAWh8C,WAAWke,EAAE89B,WAAWh8C,UAChCkiB,EAAE/T,GAAG+P,EAAE/P,GAAG,KACX+T,EAAE85B,WAAW99B,EAAE89B,WAAW,IACpC,IAME,IAAK,IADD1kD,EAAO,SAFP2vB,EAAWzvB,EAAUg+C,SAASwf,iBAEN,yBACnBjuD,EAAI,EAAGA,EAAIkY,EAAO9oB,OAAQ4Q,IAAK,CACvC,IAAIpL,EAAKsjB,EAAOlY,GACZtP,EAAekE,EAAGwS,IAAM3W,EAAU4zF,mBAAsB,yBAA2B,eACnF1zF,EAAYiE,EAAGob,MAAS,oCAAsCpb,EAAGob,MAAQ,IAAO,GAChFjhB,EAAS6F,EAAGgmE,UAAa,+BAAiChmE,EAAGgmE,UAAY,IAAO,GAEhF16C,EAAWzvB,EAAUg+C,SAASyf,iBAAiBt5D,GAC/CujB,EAAiB1nB,EAAUg+C,SAAS0f,sBAExC59D,GAAQ,QAAQ2vB,EAAS,WAAaxvB,EAAc,eAAiBkE,EAAGwS,GAAK,KAAK3W,EAAUwzC,OAAO6xB,gBAAgB,KAAKlhE,EAAGwS,GAAG,YAAczW,EAAgB5B,GAAc6F,EAAG+/C,aAAe,IAAM,YAAclkD,EAAUw1C,GAAGy6C,eAAiBjwF,EAAUw1C,GAAG26C,sBAAwB,GAAK,sDAAwDnwF,EAAUw1C,GAAGy6C,eAAiB,SAAWjwF,EAAUusD,UAAU6kC,SAASjtF,EAAGqgD,WAAYrgD,EAAGwgD,SAAUxgD,GAAM,SACxbrE,GAAA,QAAAumB,OAAgBqB,EAGhB,8iBAAA5nB,GAAQ,+CAAiDE,EAAUw1C,GAAG26C,sBAAwBnwF,EAAUw1C,GAAG06C,gBAAkB,QAAUlwF,EAAUusD,UAAU8kC,SAASltF,EAAGqgD,WAAYrgD,EAAGwgD,SAAUxgD,GAAM,cACtM,CACDrE,GAAQ,oCAAoCE,EAAUwzC,OAAO0b,IAAM,WAAa,YAAclvD,EAAUw1C,GAAGy6C,eAAiB,GAAK,gEAGjIjwF,EAAU21C,KAAmBqd,aAAE,GAAGxuC,UAAY,EAC9CxkB,EAAU21C,KAAmBqd,aAAE,GAAGzqD,UAAYzI,EAG9C,IAAItB,EAAIwB,EAAU21C,KAAmBqd,aAAE,GAAGtqD,WAAWi2C,WAEjDt6C,EAAcrE,EAAUi6D,qBAM5B,IALG51D,IACFA,EAAYkE,UAAUvI,EAAUusD,UAAUvsD,EAAUgyD,MAAQ,SAAShyD,EAAUmyD,UAAWnyD,EAAUqyD,UAAWryD,EAAUgyD,QAG1HhyD,EAAU+mE,UAAY,GACbx3D,EAAI,EAAGA,EAAI/Q,EAAEG,OAAS,EAAG4Q,IACjCvP,EAAU+mE,UAAUx3D,GAAK/Q,EAAE+Q,EAE5B,CAED,SAAS+gC,EAAY7oB,GACpB,IAAI3nB,EAAMT,SAASq/C,eAAej3B,GAClC,MAAMlY,EAAavP,EAAUm1C,WAAWC,cAAc,oBAAoByC,aAC1E,IAAI1zC,EAASnE,EAAUitE,GAAK19D,EACxBpL,EAAS,IACZA,EAAS,GACV,IAAIlE,EAAQD,EAAUuwD,GAAKvwD,EAAUw1C,GAAGy6C,eAAiBjwF,EAAUw1C,GAAG26C,sBAAwB,EAC1FlwF,EAAQ,IACXA,EAAQ,GACTH,EAAIoM,MAAMmR,OAASlZ,EAAS,KAC5BrE,EAAIoM,MAAMkR,MAAQnd,EAAQ,KAC1BH,EAAIoM,MAAMmoC,SAAW,WACrBv0C,EAAIoM,MAAMqY,IAAMhV,EAAa,KACzBvP,EAAUwzC,OAAO0b,IACpBpvD,EAAIoM,MAAM2nF,YAAe7zF,EAAUw1C,GAAGy6C,eAAiBjwF,EAAUw1C,GAAG26C,sBAAwB,EAAK,KAEjGrwF,EAAIoM,MAAM4nF,WAAc9zF,EAAUw1C,GAAGy6C,eAAiBjwF,EAAUw1C,GAAG26C,sBAAwB,EAAK,KAEjGrwF,EAAIoM,MAAM6nF,UAAa/zF,EAAUw1C,GAAGC,WAAa,EAAK,IACtD,CA5GDz1C,EAAUynE,YAAc,SAAShgD,EAAK3nB,GACrC,GAAkB,OAAdK,KAAK6xD,MASR,OAAO1gB,EAAIhiC,MAAMnP,KAAMzB,WARvB62C,IAEA,IAAK,IADDhmC,EAASvP,EAAUknE,qBACd/iE,EAAI,EAAGA,EAAIoL,EAAO5Q,OAAQwF,IAC7BnE,EAAU2sC,IAAIimD,SAASrjF,EAAOpL,GAAGwS,KACrC0Q,EAAY9X,EAAOpL,IAAA,GAAW,EAKnC,EAmGCnE,EAAUuvF,SAAW,SAAS9nE,GAC7BznB,EAAU2sC,IAAIqmD,wBACd,IACIlzF,EADAyP,EAAOvP,EAAU21C,KAAKg8C,SAAS,GAUnC,GANA3xF,EAAUmyD,UAAYnyD,EAAUwzC,OAAO89C,WAActxF,EAAUssD,eAC/DtsD,EAAUqyD,UAAYryD,EAAUwzC,OAAOwgD,SAAWh0F,EAAUwf,KAAKtgB,IAAIc,EAAUssD,eAAgB,EAAG,QAElGtsD,EAAUwwD,aAAA,EA1GX,SAAuBtwD,GACtB,GAAIA,EAAM,CACT,IAAI5B,EAAI0B,EAAUgd,OAAOqhC,OACzBr+C,EAAU21C,KAAqB+a,eAAE,GAAGnoD,UAAY,4CAClCvI,EAAUw1C,GAAGy6C,eAAiBjwF,EAAUw1C,GAAG26C,sBAAwB,GACpE,kDACAnwF,EAAUw1C,GAAGy6C,eAAiB,QAAU3xF,EAAEkhB,KAC1C,yDACAxf,EAAUw1C,GAAG26C,sBAAwB,QAAU7xF,EAAE8pD,YAAc,eAC5EpoD,EAAUwwD,aAAc,EACxBxwD,EAAUuvD,WACV,CACD,CAZD,CA2Ge9nC,GAEVA,EAAM,aA9FVznB,EAAU4zF,mBAAqB,KAC/B5zF,EAAU2sC,IAAIkmD,YAAYoB,QAC1B,IAAI/zF,EAAUF,EAAU2sC,IAAIimD,SAC5B,IAAK,IAAIt0F,KAAO4B,EACXA,EAAQR,eAAepB,KAC1B4B,EAAQ5B,GAAK41F,OAAO,aACbl0F,EAAU2sC,IAAIimD,SAASt0F,GAC1B0B,EAAU2sC,IAAIomD,qBAAqBz0F,WAC/B0B,EAAU2sC,IAAIomD,qBAAqBz0F,GAG7C,EAmFU,GAETi3C,IACAhmC,EAAKrD,MAAMw2B,QAAU,QAGrB4N,EAAY,YACZxwC,EAAcE,EAAU2sC,IAAIgiB,KAAK8kC,YAGjC,IAAK,IADDtvF,EAASnE,EAAUknE,qBACdjnE,EAAI,EAAGA,EAAIkE,EAAOxF,OAAQsB,IAC7BD,EAAU2sC,IAAIimD,SAASzuF,EAAOlE,GAAG0W,KACrC0Q,EAAYljB,EAAOlE,GAIxB,MACGsP,EAAKrD,MAAMw2B,QAAU,OAEtBotD,OAAOC,KAAKvvE,MAAM2zE,QAAQn0F,EAAU2sC,IAAIgiB,KAAM,UAEF,IAAxC3uD,EAAU2sC,IAAIqmD,uBAA+BlzF,GAChDE,EAAU2sC,IAAIgiB,KAAK4kC,UAAUzzF,GAG1BE,EAAU4zF,oBACbtsE,EAAYtnB,EAAU4zF,mBAEzB,EAEC,IAAItsE,EAAc,SAASG,GAC1BznB,EAAU2sC,IAAIgiB,KAAK4kC,UAAUvzF,EAAU2sC,IAAIgmD,QAAQlrE,IACnDznB,EAAUu2C,UAAU,UAAW,CAAC9uB,GAClC,EAEKJ,EAAc,SAASI,EAAO3nB,EAAWyP,GAC5C,IAAIpL,EAAQnE,EAAUwzC,OAAOg9C,mBACzB/oE,EAAM8qE,KAAO9qE,EAAM+qE,MACtBruF,EAAQ,IAAI2rF,OAAOC,KAAKQ,OAAO9oE,EAAM8qE,IAAK9qE,EAAM+qE,MAEjD,IAAIvyF,EAAUD,EAAUusD,UAAU0kC,YAAYxpE,EAAM+8B,WAAY/8B,EAAMk9B,SAAUl9B,GAC3EznB,EAAUk8C,aAEdl8C,EAAU2sC,IAAIomD,qBAAqBtrE,EAAM9Q,IAAM1W,EAE3CD,EAAU2sC,IAAIimD,SAASnrE,EAAM9Q,KAChC3W,EAAU2sC,IAAIimD,SAASnrE,EAAM9Q,IAAIu9E,OAAO,MAEzCl0F,EAAU2sC,IAAIimD,SAASnrE,EAAM9Q,IAAM3W,EAAUk1E,IAAIsa,QAAQK,aAAa,CACrEx7C,SAAUlwC,EACVwoC,IAAK3sC,EAAU2sC,IAAIgiB,OAGpBmhC,OAAOC,KAAKvvE,MAAMyxE,YAAYjyF,EAAU2sC,IAAIimD,SAASnrE,EAAM9Q,IAAK,SAAS,WACxE3W,EAAU2sC,IAAIkmD,YAAY9b,WAAW/2E,EAAU2sC,IAAIomD,qBAAqBtrE,EAAM9Q,KAC9E3W,EAAU2sC,IAAIkmD,YAAYzxB,KAAKphE,EAAU2sC,IAAIgiB,KAAM3uD,EAAU2sC,IAAIimD,SAASnrE,EAAM9Q,KAChF3W,EAAU4zF,mBAAqBnsE,EAAM9Q,GACrC3W,EAAUynE,aACd,IACGznE,EAAU2sC,IAAIgmD,QAAQlrE,EAAM9Q,IAAMxS,EAE9BrE,GAAWE,EAAU2sC,IAAIgiB,KAAK4kC,UAAUvzF,EAAU2sC,IAAIgmD,QAAQlrE,EAAM9Q,KACpEpH,GAAcvP,EAAUu2C,UAAU,UAAW,CAAC9uB,EAAM9Q,KAE3D,EAEC3W,EAAU0hB,YAAY,WAAW,SAAS+F,EAAI3nB,GAC7C,GAAkB,OAAdK,KAAK6xD,MAAgB,CACxBhyD,EAAU4zF,mBAAqBnsE,EAC/B,IAAK,IAAIlY,EAAI,EAAGA,EAAIvP,EAAU+mE,UAAUpoE,OAAQ4Q,IAC/CvP,EAAU+mE,UAAUx3D,GAAG8lC,UAAY,eAC/Br1C,EAAU+mE,UAAUx3D,GAAGiiC,aAAaxxC,EAAUwzC,OAAO6xB,kBAAoB59C,IAC5EznB,EAAU+mE,UAAUx3D,GAAG8lC,WAAa,cAGlCr1C,EAAU2sC,IAAIgmD,QAAQlrE,IAAOznB,EAAU2sC,IAAIimD,SAASnrE,KACvDznB,EAAU2sC,IAAIgiB,KAAK4kC,UAAUvzF,EAAU2sC,IAAIgmD,QAAQlrE,IACnDqoE,OAAOC,KAAKvvE,MAAM2zE,QAAQn0F,EAAU2sC,IAAIimD,SAASnrE,GAAK,SAEvD,CACD,OAAO,CACT,IAEC,IAAI8pB,EAAqB,SAAS9pB,GACjC,MAAM3nB,EAAWE,EAAUk1E,IAAIsa,QAAQC,SACnChoE,EAAMypE,gBAAkBpxF,EAC3BA,EAASqyF,QACR,CACCiC,QAAW3sE,EAAMypE,eACjBmD,SAAYr0F,EAAU+2C,MAAMtuC,aAE7B,SAAS8G,EAASpL,GACjB,IAAIlE,EAAQ,CAAC,EACTkE,GAAU2rF,OAAOC,KAAKqC,eAAeC,IACxCpyF,EAAQD,EAAUu2C,UAAU,kBAAmB,CAAC9uB,EAAM9Q,QAC9B,IAAV1W,IACbA,EAAQD,EAAUwzC,OAAOg9C,oBAE1BvwF,EAAQsP,EAAQ,GAAG+iF,SAASx1E,SAE7B2K,EAAM8qE,IAAMtyF,EAAMsyF,MAClB9qE,EAAM+qE,IAAMvyF,EAAMuyF,MAElBxyF,EAAU4zF,mBAAqBnsE,EAAM9Q,GAErC3W,EAAUyxF,eAAA,EACVzxF,EAAUu2C,UAAU,iBAAkB,CAAC9uB,EAAM9Q,GAAI8Q,IACjDJ,EAAYI,GAAA,GAAa,EACzB,IAGFJ,EAAYI,GAAO,KAEtB,EAEKhpB,EAAuB,SAASgpB,GACnC,MAAM3nB,EAAWE,EAAUk1E,IAAIsa,QAAQC,SACnChoE,EAAMypE,gBAAkBpxF,GAC3BA,EAASqyF,QACR,CACCiC,QAAW3sE,EAAMypE,eACjBmD,SAAYr0F,EAAU+2C,MAAMtuC,aAE7B,SAAS8G,EAASpL,GACjB,IAAIlE,EAAQ,CAAC,EACTkE,GAAU2rF,OAAOC,KAAKqC,eAAeC,IACxCpyF,EAAQD,EAAUu2C,UAAU,kBAAmB,CAAC9uB,EAAM9Q,QAAA,IACxC1W,IACbA,EAAQD,EAAUwzC,OAAOg9C,oBAE1BvwF,EAAQsP,EAAQ,GAAG+iF,SAASx1E,SAE7B2K,EAAM8qE,IAAMtyF,EAAMsyF,MAClB9qE,EAAM+qE,IAAMvyF,EAAMuyF,MAClBxyF,EAAUyxF,eAAgB,EAC1BzxF,EAAUu2C,UAAU,iBAAkB,CAAC9uB,EAAM9Q,GAAI8Q,GACjD,GAGL,EAaCznB,EAAU0hB,YAAY,kBAAkB,SAAS+F,EAAI3nB,GAC/C,OAAAK,KAAKsxF,cAcTtxF,KAAKsxF,eAAgB,GAbjB3xF,EAAQE,EAAUw8C,SAAS/0B,IACpB+8B,WAAaxkD,EAAUmyD,WAAaryD,EAAM6kD,SAAW3kD,EAAUmyD,WAAeryD,EAAM0kD,WAAaxkD,EAAUqyD,WAAavyD,EAAM6kD,SAAW3kD,EAAUqyD,WAAevyD,EAAM0kD,WAAWh8C,WAAaxI,EAAUmyD,WAAaryD,EAAM6kD,SAASn8C,WAAaxI,EAAUqyD,WACnQryD,EAAU2sC,IAAIimD,SAASnrE,IAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAIysE,OAAO,MACnC3iD,EAAmBzxC,KAEnBE,EAAU4zF,mBAAqB,KAC/B5zF,EAAU2sC,IAAIkmD,YAAYoB,QACtBj0F,EAAU2sC,IAAIimD,SAASnrE,IAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAIysE,OAAO,QAK9B,CACT,IAGCl0F,EAAU0hB,YAAY,mBAAmB,SAAS+F,EAAc3nB,GAC/D,IAAIyP,EAAQvP,EAAUw8C,SAAS18C,GAU/B,OATKyP,EAAMi1C,WAAaxkD,EAAUmyD,WAAa5iD,EAAMo1C,SAAW3kD,EAAUmyD,WAAe5iD,EAAMi1C,WAAaxkD,EAAUqyD,WAAa9iD,EAAMo1C,SAAW3kD,EAAUqyD,WAAe9iD,EAAMi1C,WAAWh8C,WAAaxI,EAAUmyD,WAAa5iD,EAAMo1C,SAASn8C,WAAaxI,EAAUqyD,aACnQryD,EAAU2sC,IAAIimD,SAASnrE,KAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAcysE,OAAO,aACrCl0F,EAAU2sC,IAAIimD,SAASnrE,IAE3BznB,EAAU2sC,IAAIomD,qBAAqBtrE,WAC/BznB,EAAU2sC,IAAIomD,qBAAqBtrE,GAC3C8pB,EAAmBhiC,KAAA,CAGtB,IAECvP,EAAU0hB,YAAY,gBAAgB,SAAS+F,EAAI3nB,GAQlD,OAPKE,EAAUilD,iBACTnlD,EAAM0kD,WAAaxkD,EAAUmyD,WAAaryD,EAAM6kD,SAAW3kD,EAAUmyD,WAAeryD,EAAM0kD,WAAaxkD,EAAUqyD,WAAavyD,EAAM6kD,SAAW3kD,EAAUqyD,WAAevyD,EAAM0kD,WAAWh8C,WAAaxI,EAAUmyD,WAAaryD,EAAM6kD,SAASn8C,WAAaxI,EAAUqyD,aACnQryD,EAAU2sC,IAAIimD,SAASnrE,IAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAIysE,OAAO,MACnC3iD,EAAmBzxC,KAGd,CACT,IAQCE,EAAU0hB,YAAY,uBAAuB,SAAS+F,EAAI3nB,GAMzD,OALIE,EAAU2sC,IAAIimD,SAASnrE,IAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAIysE,OAAO,MAEnCl0F,EAAU4zF,mBAAqB,KAC/B5zF,EAAU2sC,IAAIkmD,YAAYoB,SACnB,CACT,IAECj0F,EAAUs0F,qBAAuB,KACjCt0F,EAAU0hB,YAAY,kBAAkB,SAAS+F,GAKhD,OAJIznB,EAAUwzC,OAAO48C,4BAA8B3oE,EAAMypE,iBAAmBzpE,EAAM8qE,MAAQ9qE,EAAM+qE,MAC/FxyF,EAAUs0F,sBAAwB,KA1Edx0F,EA2EbrB,EA3EqB8Q,EA2ECpP,KA3EOgE,EA2ED,CAACsjB,GA3EQxnB,EA2EAD,EAAUs0F,qBA1EvDnrE,YAAW,WACV,GAAGnpB,EAAUkuD,WACZ,OAAO,EAER,IAAIhuD,EAAMJ,EAAOwP,MAAMC,EAAQpL,GAE/B,OADArE,EAASyP,EAASpL,EAAS,KACpBjE,CACV,GAAKD,GAAS,KAmE2C,EA3E3C,IAASH,EAAQyP,EAAQpL,EAAQlE,CA8E/C,IAECD,EAAU0hB,YAAY,iBAAiB,SAAS+F,EAAI3nB,GAMnD,OALIA,IACCE,EAAU2sC,IAAIimD,SAASnrE,IAC1BznB,EAAU2sC,IAAIimD,SAASnrE,GAAIysE,OAAO,MACnCl0F,EAAU2sC,IAAIkmD,YAAYoB,UAEpB,CACT,GACA,GAGA,EnC3dCM,QoC1Dc,SAASv0F,GAExB,MAAMoE,EAAmBpE,EAAU+qD,uBAGnC/qD,EAAUwzC,OAAOghD,aAAe,CAC/BC,aAAa,GAEdz0F,EAAU00F,sBAAwB,GAClC10F,EAAUo0C,eAAiB,SAAS71C,EAAKixB,EAAOzvB,GAC/C,IAAIuxC,EAAM,KACNiE,EAAOh3C,EAAIihB,MAASxf,EAAUssD,eAIlC,GAHmB,iBAAR/W,IACVA,EAAOp1C,KAAKosD,UAAU+W,SAAS/tB,IAE3B/lB,EA4CJ8hB,EAAMnxC,KAAKw0F,iBAAiBnlE,EAAMvhB,WAAYsnC,EAAMh3C,EAAKixB,GACzDxvB,EAAU40F,eAAetjD,OA7Cd,CACX,IAAIhB,EAAO/xC,EAAIosD,UACXrjC,EAAM/oB,EAAI81C,SAOd,GALmB,iBAAR/D,IACVA,EAAOjxC,SAASq/C,eAAepO,IAEd,iBAAPhpB,IACVA,EAAMjoB,SAASq/C,eAAep3B,IAC3BA,QAAA,IAAeA,EAAIjD,WAA2C,IAAbiD,EAAIkzB,MAAuB,CAC/E,IAAInzB,EAAOrnB,EAAU+0D,YAAYvc,UAAUlxB,GAC3CA,EAAM,CACL/C,IAAK8C,EAAK9C,IAAM+C,EAAIuwB,aACpBxzB,KAAMgD,EAAKhD,KAEZ,CACIisB,IACJA,EAAOtwC,EAAU60F,cAAcvtE,KAEhCgqB,EAAMnxC,KAAKw0F,iBAAiBrkD,EAAMiF,EAAMh3C,IAE/B01C,kBACR3C,EAAI2C,iBAAA,EACJ7vC,EAAiB03C,OAAOxK,EAAK,QAAS,SAAUhzC,GAC/C,IAAImxB,EAAMnxB,EAAEwP,QAAUxP,EAAEyP,WAEpB2Z,EAAO1nB,EAAU+0D,YACrB,GAAIrtC,EAAK6xB,QAAQ9pB,EAAK,qBAChB/H,EAAK6xB,QAAQ9pB,EAAK,gBAAkB/H,EAAK6xB,QAAQ9pB,EAAK,eAAgB,CAE1E,IACIjxB,EADWkpB,EAAK6xB,QAAQ9pB,EAAK,oBACJ+hB,aAAa,kBACtCntC,EAAUrE,EAAUusD,UAAU2O,WAAW18D,GAE7CwB,EAAU40F,eAAez0F,MACzBH,EAAU80F,aAAa30F,KAAMkE,EAAS,sBACtClE,KAAK40F,WAAa1wF,EACdlE,KAAK60F,KAAKxgD,SAASr0C,KAAK60F,KAAKxgD,QAAQhzC,KAAKxB,EAAWqE,EAASlE,KAClE,CAEF,EAAE+mB,KAAKoqB,IAGX,CAKC,GAAItxC,EAAUwzC,OAAOghD,aAAaC,YAMjC,IAAK,IALDljD,EAAQvxC,EAAUwf,KAAK4sC,YAAY7W,GACnC92C,EAAMuB,EAAUwf,KAAKtgB,IAAIqyC,EAAO,EAAG,SACnC9pB,EAAMtnB,KAAK4nE,UAAUx2B,EAAO9yC,GAC5BqB,EAASK,KAAK,UAAYA,KAAK6xD,OAC/BziD,EAAc,CAAC,EACVpL,EAAI,EAAGA,EAAIsjB,EAAI9oB,OAAQwF,IAAK,CACpC,IAAIlE,EAAKwnB,EAAItjB,GACb,IAAIrE,GAAWA,EAAOG,EAAG0W,GAAI1W,GAA7B,CAEA,IAAIC,EAAID,EAAGukD,WAIX,IAHItkD,EAAEsI,UAAY+oC,EAAM/oC,YACvBtI,EAAIqxC,GACLrxC,EAAIF,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAK1Y,EAAEsI,YACjCtI,EAAID,EAAG0kD,WACTp1C,GAAarP,KAChBqP,GAAarP,IAAA,EACbC,KAAK20F,aAAaxjD,EAAKpxC,EAAG,sBAE3BA,EAAIC,KAAKqf,KAAKtgB,IAAIgB,EAAG,EAAG,QAClBsI,WAAa/J,EAAI+J,cAXd,CAcV,CAmBF,OAhBArI,KAAK80F,yBAAyB3jD,GAE9BA,EAAI0jD,KAAOz2F,EACPA,EAAI22F,OAASn1F,GAChBI,KAAKu0F,sBAAsBhmF,KAAK4iC,GAE7BA,EAAI0jD,KAAKG,kBACZ7jD,EAAI0jD,KAAKG,gBAAkBn1F,EAAU0hB,YAAY,SAAS,WACzD1hB,EAAUo1F,eAAe9jD,EAAKA,EAAI0jD,KAAKx1E,KAC1C,KAGIrf,KAAKqzC,OAAO8a,qBAAuBnuD,KAAKqzC,OAAOob,2BACjDtd,EAAI1vC,aAAa,OAAQ,eAGnB0vC,CACR,EACAtxC,EAAU60F,cAAgB,SAASt2F,GAuBlC,OAtBK4B,KAAKmrF,aACTnrF,KAAKmrF,WAAajsF,SAASC,cAAc,OACzCa,KAAKmrF,WAAWj2C,UAAY,oBAC5Br1C,EAAUwgB,MAAMrgB,KAAKmrF,WAAY,SAAS,SAAS97D,GAAKA,EAAEvX,cAAe,CAAO,IAChF5Y,SAASgH,KAAKuC,YAAYzI,KAAKmrF,aAG7B/sF,EAAI8lB,OACNlkB,KAAKmrF,WAAWp/E,MAAMmY,KAAO9lB,EAAI8lB,KAAO,MAEtC9lB,EAAIi8C,QACNr6C,KAAKmrF,WAAWp/E,MAAMsuC,MAAQj8C,EAAIi8C,MAAQ,MAExCj8C,EAAIgmB,MACNpkB,KAAKmrF,WAAWp/E,MAAMqY,IAAMhmB,EAAIgmB,IAAM,MAEpChmB,EAAIk8C,SACNt6C,KAAKmrF,WAAWp/E,MAAMuuC,OAASl8C,EAAIk8C,OAAS,MAG7Ct6C,KAAKmrF,WAAW+J,SAAW,IAAIz8E,KAExBzY,KAAKmrF,UACb,EACAtrF,EAAUs1F,gBAAkB,SAAS/2F,EAAKixB,GAIzC,GAHmB,iBAARA,IACVA,EAAOxvB,EAAUusD,UAAU+W,SAAS9zC,KAEjCA,GAAQjxB,EAAI8zD,YAAc7iC,GAAQjxB,EAAI4zD,UACzC,OAAO,KAMR,QAJIpyD,EAAQxB,EAAI62C,cAAc,kBAAkBuJ,WAAW,GAEvDrN,EAAU,EACViE,EAAM,IAAI38B,KAAKra,EAAI4zD,YAChBhyD,KAAKqf,KAAKtgB,IAAIq2C,EAAK,EAAG,UAAY/lB,GACxC+lB,EAAMp1C,KAAKqf,KAAKtgB,IAAIq2C,EAAK,EAAG,QAC5BjE,IAGD,IAAIhB,EAAKtwC,EAAUwzC,OAAOsuB,gBACtBx6C,GAAOkI,EAAKw8B,WAAa1b,EAAK,EAAI,KAAOA,EAAK,EAAI,GAEtD,MAAMjpB,EAAUtnB,EAAMq1C,cAAA,gCAAA/uB,OAA8CirB,EAAU,EAAoC,oCAAAjrB,OAAAiB,EAAM,EACxH,aAAGD,EACKA,EAAQ3e,WAER,IAET,EACA1I,EAAU80F,aAAe,SAASv2F,EAAKixB,EAAMzvB,GAC5C,IAAIuxC,EAAMnxC,KAAKm1F,gBAAgB/2F,EAAKixB,GAChC8hB,IAGJA,EAAI+D,WAAa,IAAMt1C,EACxB,EACAC,EAAU40F,eAAiB,SAASr2F,EAAKixB,EAAMzvB,GAG9C,GADAA,EAAMA,GAAO,qBADbyvB,EAAOA,GAAQjxB,EAAIw2F,WAEnB,CACA,IAAIzjD,EAAKnxC,KAAKm1F,gBAAgB/2F,EAAKixB,GAC/B8hB,IAEJA,EAAG+D,WAAa/D,EAAG+D,WAAa,IAAIvzC,QAAQo6D,OAAOn8D,EAAK,MAJtC,CAKnB,EACAC,EAAUu1F,eAAiB,SAASh3F,GAMnC,IAAK,IALDixB,EAAQjxB,GAAS,IACjBwB,EAAO,EAEPuxC,EAAgBjyC,SAASC,cAAc,OACvCi2C,EAAap1C,KAAKqf,KAAKssC,WAAW9rD,EAAUssD,gBACvChc,EAAI,EAAGA,EAAI,EAAGA,IACtBnwC,KAAKq0D,MAAMlkB,GAAKh+B,KAAKk9B,MAAMhgB,GAAQ,EAAI8gB,IACvCnwC,KAAK+4D,iBAAiB5oB,EAAGvwC,EAAMw1C,EAAYjE,GAC3CiE,EAAap1C,KAAKqf,KAAKtgB,IAAIq2C,EAAY,EAAG,OAC1C/lB,GAAQrvB,KAAKq0D,MAAMlkB,GACnBvwC,GAAQI,KAAKq0D,MAAMlkB,GAGpB,OADAgB,EAActoC,UAAUqsC,WAAa,sBAC9B/D,CACR,EACAtxC,EAAUo1F,eAAiB,SAAS72F,EAAKixB,GACxCjxB,EAAIy2F,KAAKx1E,KAAOgQ,EAChBrvB,KAAKi0C,eAAe71C,EAAIy2F,KAAMz2F,GAAA,EAC/B,EACAyB,EAAUw1F,iBAAmB,CAAC,SAAU,UACxCx1F,EAAU20F,iBAAmB,SAASp2F,EAAKixB,EAAIzvB,EAAMuxC,GAEpD,IAAIiE,EAAKv1C,EAAUusD,UACfjc,EAAOnwC,KAAKq0D,MAChBr0D,KAAKq0D,MAAQ,GACb,IAAIltC,EAAQnnB,KAAK6xD,MACjB7xD,KAAK6xD,MAAQ,WACb,IAAI3qC,EAAQlnB,KAAK20D,OACjB30D,KAAK20D,OAAS,CAACz3C,OAAQ,GACvB,IAAIk0B,EAAQ,IAAI34B,KAAKzY,KAAKgyD,WACtB1zD,EAAQ,IAAIma,KAAKzY,KAAKkyD,WACtB5qC,EAAQ,IAAI7O,KAAK5Y,EAAUiyD,OAC3BnyD,EAAQy1C,EAAG0lB,UACX1rD,EAAQpP,KAAK+0D,kBAAmB/0D,KAAK+0D,kBAAoB,EAC7D3f,EAAG0lB,UAAY1lB,EAAGmxB,cAElBl3C,EAAKrvB,KAAKqf,KAAK4sC,YAAY58B,GAC3B,IAEIrrB,EAFAlE,EAAgBE,KAAKo1F,eAAeh3F,EAAIg8C,YAAc,EAAIp6C,KAAKqzC,OAAOghD,aAAaiB,SAGnFnkD,EACHntC,EAAImtC,GAEJntC,EAAI9E,SAASC,cAAc,QACzB+1C,UAAY,sCAEflxC,EAAEvC,aAAa,OAAQzB,KAAKskD,SAASyB,WAAW12B,IAChDrrB,EAAEoE,UAAY,+DAEXvI,EAAUwzC,OAAO0b,IAAM,kBAAoB,MAC5C,+BAA+BjvD,EAAgBA,EAAcsI,UAAY,IAH7D,gDAMd,IAAIrI,EAASiE,EAAEixC,cAAc,mBACzB92C,EAAa6F,EAAEixC,cAAc,kBAC7B3lB,EAAOtrB,EAAEixC,cAAc,kBAG3B,GADAl1C,EAAOqI,UAAYpI,KAAKosD,UAAUia,eAAeh3C,GAC7CzvB,EAAKw0C,WA4BR,IAAK,IA3BD7sB,EAAyB,SAASmD,EAAUwJ,GAC/C,IAAIzzB,EAAOZ,EAAUwf,KAAKtgB,IAAI2rB,EAASonC,MAAO59B,EAAM,SACpDr0B,EAAUo1F,eAAevqE,EAAUjqB,GAC/BZ,EAAUiyD,MAAMpb,YAAchsB,EAASonC,MAAMpb,YAAc72C,EAAUiyD,MAAMrb,eAAiB/rB,EAASonC,MAAMrb,eAC9G52C,EAAUi1F,yBAAyBpqE,EAEvC,EAEMrsB,EAAiB,CAAC,sBAAuB,uBACzC6F,EAAY,CAAC,sCAAuC,mDACpDqmB,EAAQ,EAAE,EAAG,GACbhE,EAAU,SAASmE,GACtB,OAAO,WACN,GAAI9qB,EAAKm1F,KAER,IAAK,IADD7gE,EAAYr0B,EAAU00F,sBACjB9zF,EAAI,EAAGA,EAAIyzB,EAAU11B,OAAQiC,IACrC8mB,EAAuB2M,EAAUzzB,GAAIiqB,QAGlC7qB,EAAUwzC,OAAO0b,MACpBrkC,GAAQA,GAETnD,EAAuBvjB,EAAG0mB,EAE/B,CACA,EACMrD,EAAS,CAACxnB,EAAUgd,OAAOqhC,OAAOxM,KAAM7xC,EAAUgd,OAAOqhC,OAAO3uB,MAC3D+P,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC3B,IAAI1L,EAAQ10B,SAASC,cAAc,OAEnCy0B,EAAMshB,UAAY72C,EAAeihC,GAEjCz/B,EAAUg+C,SAAS6a,wBAAwB9kC,EAAOvM,EAAOiY,IAEzD1L,EAAM7nB,MAAM+3C,QAAU5/C,EAAUo7B,GAChC1L,EAAMxrB,UAAYpI,KAAKq1F,iBAAiB/1D,GACxCv/B,EAAO0I,YAAYmrB,GACnB3vB,EAAiB03C,OAAO/nB,EAAO,QAASrN,EAAQgE,EAAM+U,IACtD,CAEFt7B,EAAE8tD,MAAQ,IAAIr5C,KAAK4W,GAEnBrrB,EAAE2nD,YAAct8B,EAAGw8B,UAAY7rD,KAAKqzC,OAAOsuB,gBAAkB,EAAI,GAAK,GAAK,EAE3E,IAAIhuC,EAAK3vB,EAAEguD,UAAYhyD,KAAKqf,KAAKssC,WAAWt8B,GAC5CrrB,EAAEkuD,UAAYlyD,KAAKqf,KAAKtgB,IAAIiF,EAAEguD,UAAW,EAAG,QAE5ChyD,KAAKm6D,mBAAmB7qC,EAAMD,EAAIsE,EAAI,GAEjCwd,GACJ/yC,EAAIqK,YAAYzE,GAEjB7F,EAAW4N,MAAMmR,OAAU/e,EAAWqgD,WAAW,GAAG9G,aAAe,EAAK,KAExE,IAAIx0C,EAAWrD,EAAU+2C,MACzB/2C,EAAUg+C,SAAS2f,cAAcz9D,EAAQmD,GACzCrD,EAAUg+C,SAAS4f,YAAYz5D,EAAEixC,cAAc,kBAAmB/xC,GAClErD,EAAUg+C,SAAS6f,WAAWv/D,GAG9B,QADIsV,EAAatV,EAAWoqC,iBAAiB,kBACrCrI,EAAI,EAAGA,EAAIzsB,EAAWjV,OAAQ0hC,IACrCrgC,EAAUg+C,SAAS+f,gBAAgBnqD,EAAWysB,IAE/C,IAAIrM,EAAWvE,EAAKiZ,iBAAiB,uBACjCtV,EAAY,IAAIxa,KAAKkb,GACzB,IAAQuM,EAAI,EAAGA,EAAIrM,EAASr1B,OAAQ0hC,IAEnCrgC,EAAUg+C,SAAS8f,eAAe9pC,EAASqM,GAAI,IAAIznB,KAAKwa,IACxDA,EAAYpzB,EAAUwf,KAAKtgB,IAAIk0B,EAAW,EAAG,OAc9C,OAXApzB,EAAUg+C,SAAS2f,cAAcz9D,EAAQmD,GAGzClD,KAAKq0D,MAAQlkB,EACbnwC,KAAK6xD,MAAQ1qC,EACbnnB,KAAK20D,OAASztC,EACdlnB,KAAKgyD,UAAY5gB,EACjBpxC,KAAKkyD,UAAY5zD,EACjBuB,EAAUiyD,MAAQxqC,EAClB8tB,EAAG0lB,UAAYn7D,EACfK,KAAK+0D,kBAAoB3lD,EAClBpL,CACR,EACAnE,EAAUm0C,gBAAkB,SAAS51C,EAAKixB,IACpCjxB,GAAO4B,KAAKmrF,YAAcnrF,KAAKmrF,WAAW5iF,aAC1C8mB,IAAA,IAAc5W,MAAQpQ,UAAYrI,KAAKmrF,WAAW+J,SAAS7sF,UAAY,OAC1EjK,EAAM4B,KAAKmrF,WAAW5iF,YAEnBnK,IACL6F,EAAiBqnD,YAEjBltD,EAAIgK,UAAY,GACZhK,EAAI0P,YACP1P,EAAI0P,WAAWtF,YAAYpK,GACxB4B,KAAKmrF,aACRnrF,KAAKmrF,WAAWp/E,MAAMqY,IAAM,WAE1BhmB,EAAIy2F,MAAQz2F,EAAIy2F,KAAKG,iBACvBn1F,EAAUuhB,YAAYhjB,EAAIy2F,KAAKG,iBACjC,EACAn1F,EAAUk0C,kBAAoB,WAC7B,SAAI/zC,KAAKmrF,YAAc3yC,SAASx4C,KAAKmrF,WAAWp/E,MAAMqY,IAAK,IAAM,IACzDpkB,KAAKmrF,UAEd,EAEAtrF,EAAU0hB,YAAY,oBAAoB,WACzC1hB,EAAUwgB,MAAMnhB,SAASgH,KAAM,SAAS,WAAarG,EAAUm0C,iBAAkB,GAClF,GAAG,CAAC+B,MAAA,IAIJl2C,EAAUqtE,YAAY1G,cAAgB,CACrChiE,OAAQ,SAASpG,GAChB,IAAIixB,EAAO,4HAEPzvB,EAAMC,EAAUwzC,OAChBlC,EAAKnxC,KAAKqf,KAAK6sC,UAAUrsD,EAAUssD,gBAEnC/W,EAAO,KAASjF,EAAQ,EACxBvwC,EAAIsuE,oBACP/9B,EAAQ,GAAKvwC,EAAIg0D,WACjBxe,EAAO,GAAKx1C,EAAIo2D,UAAY,GAE7B7kB,EAAG2iB,SAAS3jB,EAAQ,IAEpB/xC,EAAIgwE,aAAe,GACnB/+C,GAAQ,6CACR,IAAK,IAAIlI,EAAIgpB,EAAOhpB,EAAIiuB,EAAMjuB,GAA6B,EAAxBnnB,KAAKqzC,OAAOsgB,UAE9CtkC,GAAQ,kBAAoBlI,EAAI,KADrBnnB,KAAKosD,UAAUqZ,YAAYt0B,GACQ,YAC9C/yC,EAAIgwE,aAAa7/D,KAAK4Y,GACtBgqB,EAAKnxC,KAAKqf,KAAKtgB,IAAIoyC,EAAInxC,KAAKqzC,OAAOsgB,UAAW,UAM/C,MAAO,uDAJPtkC,GAAQ,aAI8D,yEAA2EA,EAAO,QACxJ,EACD+9C,UAAW,SAAShvE,EAAMixB,EAAOzvB,EAAIuxC,GAEpC,IAEIiE,EACHjF,EAHGhpB,EAAS/oB,EAAK8yC,qBAAqB,SACnChqB,EAAU9oB,EAAK8yC,qBAAqB,UAIpCE,EAAa,SAASrxC,EAAK5B,EAAMmxB,GACpCzvB,EAAUwgB,MAAMtgB,EAAK,SAAS,WAC7BF,EAAUm0C,gBAAgB,MAAM,GAChCn0C,EAAUo0C,eAAe,CACxBC,SAAUn0C,EACVsf,KAAM,IAAI5G,KAAKzY,KAAK8xD,OACpB1d,YAAA,EACAC,QAAS,SAAS9sB,GACjBxnB,EAAIgG,MAAQlG,EAAUusD,UAAUoa,cAAcj/C,GAC9CxnB,EAAI+xD,MAAQ,IAAIr5C,KAAK8O,GACrB1nB,EAAUm0C,kBACNn0C,EAAUwzC,OAAOqgB,gBAAkB7zD,EAAUwzC,OAAOi7B,eAA4B,IAAXh/C,GACxElgB,GAED,GAEN,GACA,EAEE,GAAIvP,EAAUwzC,OAAO6T,SAAU,CAC9B,IAAK9oD,EAAKiwE,UAAW,CACpB,IAAI/vE,EAAO,mFAAqFuB,EAAUgd,OAAOqhC,OAAOgJ,SAAW,yBAC9HrnD,EAAUwzC,OAAOiwB,YACrBhlE,EAAOF,EAAK0rB,gBAAgB1hB,UAAY9J,GACzCF,EAAK0rB,gBAAgB1hB,UAAY9J,EACjCF,EAAKiwE,WAAA,CACL,CACD,IAAI/mD,EAAQlpB,EAAK0rB,gBAAgBonB,qBAAqB,SAAS,GAE3DvxC,EAA8D,IAA5CE,EAAUwf,KAAKm3C,UAAU52D,EAAGykD,aAA+D,IAA1CxkD,EAAUwf,KAAKm3C,UAAU52D,EAAG4kD,UACnGl9B,EAAMxhB,QAAUnG,EAEhBunB,EAAQ,GAAG3f,SAAW+f,EAAMxhB,QAC5BohB,EAAQ,GAAG3f,SAAW+f,EAAMxhB,QAEvBwhB,EAAMwsB,kBACVxsB,EAAMwsB,iBAAA,EACNj0C,EAAUwgB,MAAMiH,EAAO,SAAS,WAC/B,IAAsB,IAAlBA,EAAMxhB,QAAkB,CAC3B,IAAI/F,EAAM,CAAC,EACXF,EAAUqtE,YAAY1G,cAAc2G,UAAU/uE,EAAM2B,GAEpDq1C,EAAav1C,EAAUwf,KAAK6sC,UAAUnsD,EAAIskD,eAC1ClU,EAAWtwC,EAAUwf,KAAK6sC,UAAUnsD,EAAIykD,aAEtBpP,IAAgBjF,IAAaiF,IAA0C,IAA3Bx1C,EAAG4kD,SAASqP,YAAiD,IAA7Bj0D,EAAG4kD,SAASyR,iBACzG9lB,EAAWtwC,EAAUwf,KAAKtgB,IAAIoxC,EAAU,EAAG,OAC5C,CAED,IAAIhyC,EAAQi3C,GAAcx1C,EAAGykD,WACzB/0B,EAAM6gB,GAAYvwC,EAAG4kD,SACzBxgD,EAAemjB,EAAO,GAAIhpB,GAC1B6F,EAAemjB,EAAO,GAAImI,GAC1BpI,EAAQ,GAAGnhB,MAA2B,GAAnB5H,EAAM01D,WAAkB11D,EAAM83D,aACjD/uC,EAAQ,GAAGnhB,MAAyB,GAAjBupB,EAAIukC,WAAkBvkC,EAAI2mC,aAE7C/uC,EAAQ,GAAG3f,SAAW+f,EAAMxhB,QAC5BohB,EAAQ,GAAG3f,SAAW+f,EAAMxhB,OAEjC,IAEG,CACD,GAAIjG,EAAUwzC,OAAOqgB,gBAAkB7zD,EAAUwzC,OAAOi7B,cAAe,CAEtE,IAAIl/D,EAAyB,WACtBvP,EAAUwzC,OAAOi7B,eAAiBzuE,EAAUwzC,OAAOqgB,iBAIzDte,EAAav1C,EAAUwf,KAAKtgB,IAAIooB,EAAO,GAAG2qC,MAAO5qC,EAAQ,GAAGnhB,MAAO,UACnEoqC,EAAW,IAAI13B,KAAK28B,EAAW4b,UAA+C,GAAlCnxD,EAAUwzC,OAAOqgB,eAAsB,KAEnFvsC,EAAO,GAAGphB,MAAQlG,EAAUusD,UAAUoa,cAAcr2B,GACpDhpB,EAAO,GAAG2qC,MAAQjyD,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAK03B,IAEpDjpB,EAAQ,GAAGnhB,MAA8B,GAAtBoqC,EAAS0jB,WAAkB1jB,EAAS8lB,aAC3D,EAEO/uC,EAAQ,GAAG4sB,iBACd5sB,EAAQ,GAAGlY,iBAAiB,SAAUI,EAEvC,CAED,SAASpL,EAAejE,EAAK5B,EAAMmxB,GAClC8hB,EAAWrxC,EAAK5B,EAAMmxB,GACtBvvB,EAAIgG,MAAQlG,EAAUusD,UAAUoa,cAAcroE,GAC9C4B,EAAI+xD,MAAQjyD,EAAUwf,KAAK6sC,UAAU,IAAIzzC,KAAKta,GAC9C,CAMD,SAAS2B,EAAeC,GAMvB,IAAK,IALD5B,EAAcgzC,EAAOi9B,aACrB9+C,EAAiC,GAAlBvvB,EAAK8zD,WAAkB9zD,EAAKk2D,aAC3C1uC,EAAc+H,EACdjxB,GAAA,EAEK6F,EAAI,EAAGA,EAAI/F,EAAYK,OAAQ0F,IAAK,CAC5C,IAAIqmB,EAAMpsB,EAAY+F,GACtB,GAAIqmB,IAAQ+E,EAAc,CACzBjxB,GAAc,EACd,KACA,CACGksB,EAAM+E,IACT/H,EAAcgD,EACf,CAED,OAAKlsB,GAAekpB,EAGblpB,EAAgBixB,EAAe/H,GAAA,CACtC,CAxBDvjB,EAAemjB,EAAO,GAAIvnB,EAAGykD,WAAY,GACzCrgD,EAAemjB,EAAO,GAAIvnB,EAAG4kD,SAAU,GACvCpT,EAAa,WAAW,EAwBxBlqB,EAAQ,GAAGnhB,MAAQjG,EAAeF,EAAGykD,YACrCn9B,EAAQ,GAAGnhB,MAAQjG,EAAeF,EAAG4kD,SAErC,EACD2oB,UAAW,SAAS/uE,EAAMixB,GACzB,IAAIzvB,EAASxB,EAAK8yC,qBAAqB,SACnCC,EAAU/yC,EAAK8yC,qBAAqB,UAOxC,OALA7hB,EAAGg1B,WAAaxkD,EAAUwf,KAAKtgB,IAAIa,EAAO,GAAGkyD,MAAO3gB,EAAQ,GAAGprC,MAAO,UACtEspB,EAAGm1B,SAAW3kD,EAAUwf,KAAKtgB,IAAIa,EAAO,GAAGkyD,MAAO3gB,EAAQ,GAAGprC,MAAO,UAEhEspB,EAAGm1B,UAAYn1B,EAAGg1B,aACrBh1B,EAAGm1B,SAAW3kD,EAAUwf,KAAKtgB,IAAIswB,EAAGg1B,WAAYxkD,EAAUwzC,OAAOsgB,UAAW,WACtE,CACNtP,WAAY,IAAI5rC,KAAK4W,EAAGg1B,YACxBG,SAAU,IAAI/rC,KAAK4W,EAAGm1B,UAEvB,EACDlgC,MAAO,SAASlmB,GACf,GAEFyB,EAAU01F,aAAe,SAASn3F,EAAUixB,GAC3C,IAAIzvB,EAAS,WACZ,IAAIuxC,EAAOtxC,EAAUiyD,MACjB1c,EAAU,IAAI38B,KAAK04B,EAAK9oC,WAI5B,OAHIgnB,IAAU+lB,EAAU/lB,EAAS+lB,IACjCA,EAAQwsB,QAAQ,GAChB/hE,EAAUo1F,eAAe72F,EAAUg3C,IAC5B,CACT,EAECv1C,EAAU0hB,YAAY,eAAgB3hB,GACtCC,EAAU0hB,YAAY,QAAS3hB,GAC/BC,EAAU0hB,YAAY,eAAgB3hB,GACtCC,EAAU0hB,YAAY,iBAAkB3hB,GACxCC,EAAU0hB,YAAY,iBAAkB3hB,GACxCA,GACD,EAEAC,EAAUi1F,yBAA2B,SAAS12F,GAC7C,IAAIixB,EAAQxvB,EAAUs0C,WAClBv0C,EAAOyvB,EAAM0iC,SACb5gB,EAAK9hB,EAAM4iC,SACX7c,EAAO/lB,EAAM3B,KAEbyiB,EAActwC,EAAUwf,KAAK4sC,YAAY,IAAIxzC,KAAKra,EAAS0zD,QAC3D3qC,EAAYtnB,EAAUwf,KAAKtgB,IAAIoxC,EAAa,EAAG,SASnD,KAPkB,CACjB3wB,OAAA,EACAooC,MAAA,EACA2E,QAAA,EACAC,MAAA,GAGcpX,IAAUx1C,EAAKyI,WAAa8nC,EAAY9nC,WAAa8oC,EAAG9oC,WAAa8e,EAAU9e,WAK9F,QADI6e,EAAUtnB,EACRsnB,EAAQ7e,UAAY8oC,EAAG9oC,WACxB8nC,EAAY9nC,WAAa6e,EAAQ7e,WAAa8e,EAAYD,GAC7DrnB,EAAU80F,aAAav2F,EAAU8oB,EAAS,sBAE3CA,EAAUrnB,EAAUwf,KAAKtgB,IAAImoB,EAAS,EAAG,MAE3C,EAEArnB,EAAU0hB,YAAY,iBAAiB,WACtC1hB,EAAUm0C,gBAAgB,MAAM,EACjC,IAEAn0C,EAAU0hB,YAAY,aAAa,WAClC1hB,EAAUm0C,iBACX,GAEA,EpClgBCwhD,YqC3Dc,SAAS31F,GAExBA,EAAU0hB,YAAY,oBAAmB,WACxC1hB,EAAUw1C,GAAGoa,aAAe,EAE5B,IAAIxrD,EAAMpE,EAAUo4D,iBACpBp4D,EAAUo4D,iBAAiB,WAC1B,IAAI5oC,EAAOrvB,KAAKw1C,KAAmBqd,aAAE,GACrCxjC,EAAK9mB,WAAWmyE,QAAA,EAEhBz2E,EAAIkL,MAAMtP,EAAUtB,WAIpB,IAAIqB,EAAS44C,SAASnpB,EAAKtjB,MAAMmR,QACjCmS,EAAKtjB,MAAMmR,OAAO,MAClBmS,EAAKtjB,MAAMmR,OAAOmS,EAAKq5C,aAAa,KAEpC1oE,KAAKwuD,KAAKziD,MAAMmR,OAASld,KAAKwuD,KAAKV,aAAez+B,EAAKq5C,aAAe9oE,EAAS,IACjF,EAEC,IAAIxB,EAAMyB,EAAUs6D,mBACpBt6D,EAAUs6D,mBAAmB,SAAS9qC,EAAEzvB,EAAEuxC,EAAEiE,GAC3C,IAAIjF,EAAQ,CAAC2d,aAAa,KAC1B1vD,EAAM+Q,MAAMtP,EAAU,CAACswC,EAAMvwC,EAAEuxC,EAAEiE,IACjC/lB,EAAEjnB,UAAY+nC,EAAM/nC,SACtB,CAEA,GAEA,ErC8BCoiF,asC1Dc,SAAS3qF,GACvB+3B,GAAqB,eAAgB/3B,EAAUw/D,OAChD,EtCyDCo2B,YuC7Dc,SAAS51F,GA2BxBA,EAAUqtE,YAAyBuoB,YAAE,CACpCjxF,OAAO,SAASP,GACf,IAAI7F,EAAM,6CAA6C6F,EAAII,KACtDJ,EAAI+4E,WACR5+E,GAAO,sCAIR,IAAK,IADDixB,EAAU,eAAejxB,EAAI,wCAAwC6F,EAAIiZ,OAAO,6BAC3Etd,EAAE,EAAGA,EAAEqE,EAAImD,QAAQ5I,OAAQoB,IACnCyvB,GAAW,wCAAwCprB,EAAImD,QAAQxH,GAAG2c,IAAI,MAAMtY,EAAImD,QAAQxH,GAAG0+C,MAAM,WAGlG,OADAjvB,EAAW,QAEX,EACD+9C,UAAU,SAASnpE,EAAK7F,EAAMixB,EAAGzvB,GAGhC,QADIuxC,EAAYltC,EAAKitC,qBAAqB,SAClCkE,EAAE,EAAEA,EAAEjE,EAAU3yC,OAAO42C,IAC9BjE,EAAUiE,GAAGtvC,SAAU,EAGxB,SAASqqC,EAAa7oB,GAErB,QADI3nB,EAAYsE,EAAKitC,qBAAqB,SAClC9hC,EAAE,EAAEA,EAAEzP,EAAUnB,OAAQ4Q,IAC/BzP,EAAUyP,GAAGtJ,UAAawhB,EAAI3nB,EAAUyP,GAAGrJ,MAE5C,CAED,IAAIohB,EAAO,CAAC,EACZ,GAAIkI,EAAGzvB,EAAOu7D,QAAS,CACtB,IAAIj0C,GAAWmI,EAAGzvB,EAAOu7D,QAAU,IAAIz6D,MAAMd,EAAO81F,WAAa71F,EAAUwzC,OAAOo3B,mBAAqB,KACvG,IAASr1B,EAAI,EAAGA,EAAIluB,EAAQ1oB,OAAQ42C,IACnCjuB,EAAKD,EAAQkuB,KAAA,EAEdjF,EAAahpB,EAChB,KAAS,CACN,GAAItnB,EAAUk8C,aAAen8C,EAAO+1F,WACnC,OACD,IAAIvkD,EAAalyC,SAASC,cAAc,OACxCiyC,EAAW8D,UAAY,cACvB9D,EAAWrlC,MAAM+3C,QAAU,2CAC3B7/C,EAAKwE,YAAY2oC,GAEjB,IAAI9yC,EAAM,CACTsB,EAAO+1F,YAAA,GACN/1F,EAAO+1F,WAAW3pF,QAAQ,KAAa,IAAM,IAC9C,iBAAmBpM,EAAOu7D,OAAS,IAAM9rC,EAAG7Y,GAAK,QAAU3W,EAAU+2C,OACpEnoB,KAAK,IAEP5uB,EAAU8hD,KAAKr8C,IAAIhH,GAAK,SAASgpB,GAChC,IAAI3nB,EAjER,SAA0ByP,EAAQpL,GACjC,IAGC,IAAK,IAFDlE,EAAQ0oC,KAAK8Z,MAAMlzC,EAAO4zC,OAAOb,cACjCpiD,EAAM,CAAC,EACF5B,EAAI,EAAGA,EAAI2B,EAAMtB,OAAQL,IAAK,CACtC,IAAImxB,EAASxvB,EAAM3B,GAEnB4B,EAAIuvB,EAAOvpB,OAASupB,EAAO/S,KAAO+S,EAAO9Y,KAAM,CAC/C,CACD,OAAOzW,CACP,OACA,OAAO,IACP,CACF,CAbA,CAiEmCunB,GAC3B3nB,IACHA,EA5EL,SAAyByP,EAAQpL,GAGhC,IAAK,IAFDlE,EAAQD,EAAU8hD,KAAK2B,MAAM,cAAel0C,EAAO4zC,QACnDjjD,EAAM,CAAC,EACF5B,EAAI,EAAGA,EAAI2B,EAAMtB,OAAQL,IACjC4B,EAAID,EAAM3B,GAAGkzC,aAAartC,EAAOm3D,UAAW,EAE7C,OAAOp7D,CACR,CAPA,CA4E+BunB,EAAQ1nB,IAEnCuwC,EAAaxwC,GACbsE,EAAKuE,YAAY4oC,EACrB,GACG,CACD,EACD+7B,UAAU,SAASlpE,EAAK7F,EAAGixB,GAG1B,QAFIzvB,EAAU,GACVuxC,EAAYltC,EAAKitC,qBAAqB,SAClCkE,EAAE,EAAEA,EAAEjE,EAAU3yC,OAAO42C,IAC3BjE,EAAUiE,GAAGtvC,SACflG,EAAQ2O,KAAK4iC,EAAUiE,GAAGrvC,OAE5B,OAAOnG,EAAQ6uB,KAAKY,EAAOqmE,WAAa71F,EAAUwzC,OAAOo3B,mBAAqB,IAC9E,EAEDnmD,MAAM,SAASrgB,GACd,EAGF,EvCtCC2xF,YwC9Dc,SAAS/1F,GASvB,IAAIoE,EAAMpE,EAAUu4D,MACpBv4D,EAAUu4D,MAAM,SAASh6D,EAAIixB,GAE5B,GAAkB,iBADlBjxB,EAAIA,GAAK4B,KAAKkrE,WAGb,IAAK,IADDtrE,EAVN,SAAgBw1C,GACf,IAAIjF,EAAI,aAER,OADAA,EAAE7wC,UAAY81C,EACPjF,CACP,CAJD,CAUiBnwC,KAAKymE,SACXt1B,EAAE,EAAGA,EAAI/yC,EAAII,OAAQ2yC,IAC7BnxC,KAAKymE,QAAQ,IAAI7mE,EACjBqE,EAAI5C,KAAKrB,KAAK5B,EAAI+yC,GAAG9hB,QAGtBprB,EAAIkL,MAAMnP,KAAKzB,UAClB,CAEA,ExCyCCs3F,IyC/Dc,SAASh2F,GAEvB,IAiBIoE,EAjBA7F,EAAM,CACT03F,QAAS,GAIV,SAASzmE,EAAS+lB,GACjB,IAAIjF,EAAM,CAAC,EACX,IAAK,IAAIhpB,KAAOiuB,EACU,IAArBjuB,EAAInb,QAAQ,OACfmkC,EAAIhpB,GAAOiuB,EAAGjuB,IAKhB,OAHK/oB,EAAI03F,eACD3lD,EAAI35B,GAEL25B,CACP,CAmBD,SAASvwC,EAAiBw1C,GACzBA,EAAI8xB,aAAA,EACA9xB,EAAIijB,cACPjjB,EAAI6iB,mBACL7iB,EAAIwG,UAAW,EAEfxG,EAAIgB,UAAU,QAAS,GACvB,CAGD,SAASjF,EAAQiE,GAChB,OAAOh3C,EAAI03F,OAAS1gD,EAAM5+B,GAAK4+B,EAAM2gD,GACrC,CAEFl2F,EAAUm2F,SAAW,SAAS5gD,EAAQjF,GACjCA,IAAQ/xC,EAAM+xC,GAElBiF,EAAOruB,KAAK,UAAU,SAASqqB,EAAO9yC,GACrC,IAAIgpB,EAAM6pB,EAAQC,GACdzxC,EAAKE,EAAU07C,QAAQj0B,GAAO8pB,EAAM6kD,SACxCt2F,EAAG6W,GAAK8Q,EAERznB,EAAU6rE,YAAY/rE,GArCtBupB,aAAajlB,GACbA,EAAe+kB,YAAW,WACzB,GAAGnpB,EAAUkuD,WACZ,OAAO,EAERluD,EAAUouD,YACV,GAAC,EAiCJ,IACC7Y,EAAOruB,KAAK,UAAU,SAASqqB,EAAO9yC,GACrC,IAAIgpB,EAAM6pB,EAAQC,GACdvxC,EAAU07C,QAAQj0B,IACrBznB,EAAU28C,YAAYl1B,EACzB,IAEC,IAAIH,EAAQ,GACZ,SAASD,IACR,GAAGrnB,EAAUkuD,WACZ,OAAO,EAEJ5mC,EAAM3oB,SACTqB,EAAUyiD,MAAMn7B,EAAO,QACvBA,EAAQ,GAET,CAEDiuB,EAAOruB,KAAK,OAAO,SAASqqB,EAAO9yC,GAClC,IAAIgpB,EAAM6pB,EAAQC,GAClB,IAAKvxC,EAAU07C,QAAQj0B,GAAK,CAC3B,IAAI3nB,EAAMyxC,EAAM6kD,SAChBt2F,EAAG6W,GAAK8Q,EACRznB,EAAU6rE,YAAY/rE,GAEtBwnB,EAAM5Y,KAAK5O,GACS,GAAhBwnB,EAAM3oB,QACTwqB,WAAW9B,EAAe,EAC3B,CACH,IAECkuB,EAAOruB,KAAK,WAAW,SAASqqB,GA7DhC,IAAyB9yC,EA8DpB8yC,aAAe8kD,SAASC,cA9DJ73F,EA+DPuB,GA9Db+7C,UAAW,EACft9C,EAAI4oE,aAAA,EAEJ5oE,EAAI83C,UAAU,QAAS,IA4DzB,IACChB,EAAOruB,KAAK,QAAQ,SAASqqB,GACxBA,aAAe8kD,SAASC,YAC3Bv2F,EAAiBC,EACpB,IACCu1C,EAAOruB,KAAK,SAAS,SAASqqB,GACzBA,aAAe8kD,SAASC,YAC3Bv2F,EAAiBC,EACpB,IAGCA,EAAU0hB,YAAY,kBAAkB,SAAS6vB,GAChD,IAAI9yC,EAAK,IAAI82C,EAAOghD,MAAMv2F,EAAUw8C,SAASjL,IAI7C,OAHAvxC,EAAU07C,QAAQnK,GAAM9yC,EAAG23F,SAC3Bp2F,EAAU07C,QAAQnK,GAAI56B,GAAK46B,GAEpB,CACT,IAECvxC,EAAU0hB,YAAY,gBAAgB,SAAS6vB,GAC9C,IAAKgE,EAAO9vC,IAAI8rC,GAAI,CACnB,IAAI9yC,EAAO+wB,EAASxvB,EAAUw8C,SAASjL,IACnC9pB,EAAQ,IAAI8tB,EAAOghD,MAAM93F,GAEzBqB,EAAMwxC,EAAQ7pB,GACd3nB,GAAOyxC,GACVpxC,KAAK0kD,cAActT,EAAIzxC,GACxBy1C,EAAOr2C,IAAIuoB,GACX8tB,EAAO4+C,QAAQ,gBAAiB1sE,EAChC,CACD,OAAO,CACT,IACCznB,EAAU0hB,YAAY,kBAAkB,SAAS6vB,GAChD,IAAI9yC,EAAK82C,EAAO9vC,IAAI8rC,GAChB9pB,EAAM+H,EAASxvB,EAAUw8C,SAASjL,IAKtC,OAHA9yC,EAAGuF,IAAIyjB,GACP8tB,EAAO4+C,QAAQ,mBAAoB11F,IAAA,CAGrC,IACCuB,EAAU0hB,YAAY,kBAAkB,SAAS6vB,GAChD,IAAI9yC,EAAQ82C,EAAO9vC,IAAI8rC,GAKvB,OAJI9yC,IACH82C,EAAO4+C,QAAQ,mBAAoB11F,GACnC82C,EAAOkE,OAAOlI,KAER,CACT,GACA,CAEA,EzCjFC+jC,U0ChEc,SAASt1E,GAIvBA,EAAU0hB,YAAY,oBAAoB,WACzC,IAEItd,EAFA7F,EAAO,IAAQi4F,uBACfhnE,EAAMjxB,EAAQk4F,SAOlB,SAAS12F,EAAQuxC,EAAkBiE,EAAajF,EAAkBhpB,GAEjE,IAAItnB,EAAUy2C,WAAW,2BAA8Bz2C,EAAUu2C,UAAU,yBAA0B,CAACjF,EAAkBiE,EAAajF,EAAkBhpB,EAAYljB,IAAnK,CAGA,IAAIijB,EAAOrnB,EAAU0hB,YAAY,kBAAkB,SAAUnS,GACvDvP,EAAUu2C,UAAU,mBAAoB,CAAChnC,EAAI+hC,EAAkBltC,MACnEjE,KAAK4yD,WAAa5yD,KAAK0yD,SAAW,KAClC1yD,KAAKw8C,YAAYptC,GAEtB,IAEOgiC,EAAcvxC,EAAUkzD,cAAc9uD,GACtC3F,EAAa,CAChB+lD,WAAY,IAAI5rC,KAAK24B,EAAY/xB,OAIlC,GAAIxf,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAAQ,CAC1D,IAAIvqC,EAAeznB,EAAU8uD,OAAO9uD,EAAUgyD,OAC9CvzD,EAAWgpB,EAAas0C,YAAcxqB,EAAYoqB,QAElD,IAAI77D,EAAME,EAAU02F,sBAAsBtyF,GAC1C3F,EAAW+lD,WAAa/8B,EAAak+D,SAAS7lF,EAAI0nB,GAClD/oB,EAAWkmD,SAAW3kD,EAAUwf,KAAKtgB,IAAIT,EAAW+lD,WAAY/8B,EAAa6tC,OAAQ7tC,EAAa8tC,OAClG,CACGv1D,EAAU+uD,QAAU/uD,EAAU+uD,OAAO/uD,EAAUgyD,SAClDvzD,EAAWuB,EAAU+uD,OAAO/uD,EAAUgyD,OAAOsJ,QAAU/pB,EAAYoqB,SAGpE37D,EAAU4zD,YAAYn1D,GAEtBuB,EAAUuhB,YAAY8F,EA7Bd,CA8BR,CAtCD9oB,EAAQk4F,SAAW,SAASnlD,GAE3B,OADAltC,EAAaktC,EACN9hB,EAAIlgB,MAAMnP,KAAMzB,UAC1B,EAqCEH,EAAQo4F,eAAe32F,EAAU21C,KAAmBqd,aAAE,GAAI,CACzD4jC,MAAO,SAAStlD,EAAkBiE,EAAajF,EAAkBhpB,GAChEvnB,EAAQuxC,EAAkBiE,EAAajF,EAAkBhpB,EACzD,EACDuvE,QAAS,SAASvlD,EAAYiE,GAC7B,OAAOjE,CACP,EACDwlD,SAAU,SAASxlD,GAClB,OAAOnxC,IACP,IAGCwrE,OAAOorB,aACTprB,OAAOorB,YAAYC,QAAQh3F,EAAU21C,KAAmBqd,aAAE,GAAI,CAC7DikC,OAAQ,SAAU3lD,EAAQiE,EAAQjF,EAAGhpB,GACpC,IAAID,EAAeskD,OAAOorB,YAAYG,UAAU5lD,GAChDltC,EAAakjB,EACbvnB,EAAQuxC,EAAQjqB,EAAckuB,EAAQjuB,EAAExZ,QAAUwZ,EAAEvZ,WACpD,EAEDopF,SAAU,SAAU7lD,EAAQiE,EAAQjF,GACnC,OAAOiF,CACP,IACC,EAEN,GAEA,E1CVC6hD,I2CjEc,SAASp3F,GAEvB,IAAIoE,EAAI7F,EACPixB,EAAc,IAAI0sC,OAAO,UAAW,KACpCn8D,EAAiB,IAAIm8D,OAAO,YAAa,KAE1C,SAAS5qB,EAAW9yC,GACnB,OAAOA,EAAIsD,QAAQ/B,EAAA,MAAsB+B,QAAQ0tB,EAAa,GAC9D,CAED,SAAS+lB,EAAO/2C,EAAG6F,GAClB7F,EAAIkhF,WAAWlhF,GACf6F,EAASq7E,WAAWr7E,GACf/C,MAAM+C,KAAS7F,GAAK6F,GAEzB,IAAIqmB,EAAIpD,EAAU9oB,GAElB,OADAA,EAAIA,EAAIksB,EAAEtN,MAAQsN,EAAEkqB,KAAKxwC,EAClB9C,MAAM9C,GAAG,OAAQ,IAAIA,EAAC4F,CAC7B,CAED,SAASksC,EAAa9xC,EAAG6F,EAAQqmB,GAChClsB,EAAIkhF,WAAWlhF,GACf6F,EAASq7E,WAAWr7E,IACf/C,MAAM+C,IAAWqmB,IAASlsB,GAAK6F,GAEpC,IAAIqiB,EAAIY,EAAU9oB,GAElB,OADAA,EAAIA,EAAIkoB,EAAEtJ,MAAQsJ,EAAEkuB,KAAKxwC,EAClB9C,MAAM9C,GAAG,OAAQ,IAAIA,GAAG4F,GAAK9C,MAAM+C,GAAe,EAAPA,GAClD,CACD,SAASijB,EAAU9oB,GAIlB,IAAK,IAHD6F,EAAI,EACJqmB,EAAS1qB,EAAU21C,KAAK+a,eAAe,GAAG/R,WAC1Cj4B,EAAMgE,EAAO,GAAKA,EAAO,GAAGi0B,WAAaj0B,EAAO,GAAGi0B,WAC9Cn3B,EAAI,EAAGA,EAAId,EAAI/nB,OAAQ6oB,IAAK,CACpC,IAAIiY,EAAK/Y,EAAIc,GAAGtb,MAAQwa,EAAIc,GAAKd,EAAIc,GAAGvZ,WACpC8lB,EAAI2rD,WAAWjgD,EAAGvzB,MAAMkR,OAC5B,KAAI5e,EAAQu1B,GAKX,MAJAv1B,GAAUu1B,EAAE,EACZ1vB,GAAI0vB,EAAE,CAIP,CACD,MAAO,CAAE3W,MAAO/Y,EAAGuwC,KAAMptB,EACzB,CAED,SAASH,EAAO7oB,GAEf,OADAA,EAAIkhF,WAAWlhF,GACX8C,MAAM9C,GAAW,OACd,IAAMA,EAAID,CACjB,CAED,SAASgzC,EAAU/yC,EAAM6F,GACxB,OAAQjF,OAAOs4C,iBAAkBt4C,OAAOs4C,iBAAiBl5C,EAAM,MAAM6F,GAAS7F,EAAKo5C,aAAap5C,EAAKo5C,aAAavzC,GAAO,OAAQ,EACjI,CAED,SAAS5F,EAAOD,EAAM6F,GAGrB,IAAK,IAFDqmB,EAAIiuB,SAASn6C,EAAK0N,MAAMmY,KAAM,IAEzBqC,EAAK,EAAGA,EAAK1mB,EAAUw0D,MAAM71D,OAAQ+nB,IAE7C,IADAgE,GAAK1qB,EAAUw0D,MAAM9tC,IACb,EAAG,OAAOA,EAEnB,OAAOriB,CACP,CAED,SAASojB,EAAQjpB,EAAM6F,GAEtB,IAAK,IADDqmB,EAAIiuB,SAASn6C,EAAK0N,MAAMqY,IAAK,IACxBmC,EAAK,EAAGA,EAAK1mB,EAAU80D,OAAOG,QAAQt2D,OAAQ+nB,IACtD,GAAI1mB,EAAU80D,OAAOG,QAAQvuC,GAAMgE,EAAG,OAAOhE,EAC9C,OAAOriB,CACP,CAKD,SAASvE,EAAQtB,GAChB,OAAOA,EAAM,KAAKA,EAAI,IAAM,EAC5B,CAED,SAAS+Q,EAAQ/Q,EAAK6F,EAASqmB,EAAQhE,GACtC,IAAIc,EAAM,IAAIhpB,EAAI,aAAe6F,EAAU,IAM3C,OALIqmB,IACHlD,GAAO,YAAckD,EAAS,KAC3BhE,IACHc,GAAO,YAAcd,EAAS,KAC/Bc,EAAO,GAEP,CAED,SAASrjB,IACR,IAAI3F,EAAM,GAEN6F,EAAOrE,EAAUgyD,MAKrB,GAJIhyD,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,SAClD3tD,EAAoD,QAA5CrE,EAAU8uD,OAAO9uD,EAAUgyD,OAAOrtD,OAAoB,SAAW,YAC1EnG,GAAO,gBAAkB6F,EAAO,YAAcrE,EAAU21C,KAAK0hD,aAAa,GAAG9uF,UAAY,KAElE,eAAnBvI,EAAUgyD,MAEb,IAAK,IADDtnC,EAAK1qB,EAAU21C,KAAKqd,aAAa,GAAG3hB,qBAAqB,OACpD3qB,EAAI,EAAGA,EAAIgE,EAAG/rB,OAAQ+nB,IACP,oBAAnBgE,EAAGhE,GAAG2uB,YACT72C,GAAO,WAAa8yC,EAAW5mB,EAAGhE,GAAGne,WAAa,qBACvB,UAAnBvI,EAAUgyD,OAAwC,OAAnBhyD,EAAUgyD,MAGnDxzD,GAAO,WAAa8yC,GAFhB5mB,EAAK1qB,EAAU21C,KAAK+a,eAAe,GAAG/R,WAAW,GAAGA,YAEtB,GAAGp2C,WAAa,oBAAsB+oC,EAAW5mB,EAAG,GAAGniB,WAAa,oBACzE,QAAnBvI,EAAUgyD,MAEpB,IADItnC,EAAK1qB,EAAU21C,KAAKqd,aAAa,GAAGrU,WAC/Bj4B,EAAI,EAAGA,EAAIgE,EAAG/rB,OAAQ+nB,IAC9BloB,GAAO,iBAAmB8yC,EAAW5mB,EAAGhE,GAAG0uB,cAAc,mBAAmB7sC,WAAa,KACzF/J,GAAO0B,EAAgBwqB,EAAGhE,GAAG0uB,cAAc,kBAAkBuJ,YAC7DngD,GAAOyB,EAAUyqB,EAAGhE,GAAG0uB,cAAc,mBACrC52C,GAAO,eAEF,CACNA,GAAO,MAEPA,GAAO0B,EADHwqB,EAAK1qB,EAAU21C,KAAK+a,eAAe,GAAG/R,YAE1CngD,GAAO,OAEP,IAAIgpB,EAAKxnB,EAAU21C,KAAKqd,aAAa,GACrC,GAAIhzD,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAAQ,CAE1D,IADAxzD,GAAO,MACEkoB,EAAI,EAAGA,EAAIc,EAAG9e,WAAWisC,KAAKh2C,OAAQ+nB,IAE9CloB,GAAO,iBAAmB8yC,EADjB9pB,EAAG9e,WAAWisC,KAAKjuB,GACY4wE,MAAM,GAAG/uF,WAAa,YAE/D/J,GAAO,OACPD,EAAKipB,EAAG9e,WAAWisC,KAAK,GAAG2iD,MAAM,GAAGz/C,YACpC,SAAmC,SAAzBrwB,EAAG9e,WAAWsqB,QACxBx0B,GAAOyB,EAAUunB,OACX,CAEN,IADAA,EAAKA,EAAGm3B,WAAWn3B,EAAGm3B,WAAWhgD,OAAS,IACU,GAA7C6oB,EAAG6tB,UAAUlpC,QAAQ,qBAC3Bqb,EAAKA,EAAGyC,gBAIT,IAHAzC,EAAKA,EAAGm3B,WAERngD,GAAO,MACEkoB,EAAI,EAAGA,EAAIc,EAAG7oB,OAAQ+nB,IAC9BloB,GAAO,mBAAqB8yC,EAAW9pB,EAAGd,GAAGne,WAAa,YAC3D/J,GAAO,OACPD,EAAKipB,EAAG,GAAGqwB,YACX,CACD,CAED,OADAr5C,EAAO,UAEP,CAED,SAASyB,EAAUzB,GAGlB,IAAK,IAFD6F,EAAM,GACNqmB,EAAIlsB,EAAGkqC,iBAAiB,MACnBhiB,EAAI,EAAGA,EAAIgE,EAAE/rB,OAAQ+nB,IAAK,CAIlC,IAAK,IAHDc,EAAO,GACPiY,EAAQ/U,EAAEhE,GAAGgiB,iBAAiB,MAEzB3U,EAAI,EAAGA,EAAI0L,EAAM9gC,OAAQo1B,IACjCvM,EAAK9Y,KAAK+wB,EAAM1L,GAAGqhB,cAAc,mBAAmB7sC,WAErDlE,GAAO,kBAAoBo7B,EAAM,GAAGoY,aAAe,cAAgBvG,EAAW9pB,EAAKoH,KAAK,MAAQ,YAChGrwB,EAAKkhC,EAAM,GAAGoY,YACd,CACD,OAAOxzC,CACP,CAED,SAASnE,EAAgB1B,GACxB,IAAI6F,EACHqmB,EAAM,GACH1qB,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,SAC9ChyD,EAAU8uD,OAAO9uD,EAAUgyD,OAAOulC,eACrClzF,EAAM7F,EAAG,GAAGmgD,YAEbngD,EAAKA,EAAG,GAAGmgD,YAGZ,IAAK,IAAIj4B,EAAI,EAAGA,EAAIloB,EAAGG,OAAQ+nB,IAC9BgE,GAAO,sBAAwB4mB,EAAW9yC,EAAGkoB,GAAGne,WAAa,eAG9D,GAFAnE,EAAK5F,EAAG,GAAG+7C,YAEPl2C,EACH,KAAImjB,EAAQ,EACRiY,EAAYjhC,EAAG,GAAG+7C,YAClBxmB,EAAU,EACd,IAASrN,EAAI,EAAGA,EAAIriB,EAAI1F,OAAQ+nB,IAC/BgE,GAAO,2BAA6BqJ,EAAU,cAAgBud,EAAWjtC,EAAIqiB,GAAGne,WAAa,gBAC7Fif,GAASnjB,EAAIqiB,GAAG6zB,cACH9a,IACZA,GAAcjhC,EAAGu1B,GAAWv1B,EAAGu1B,GAASwmB,YAAc,EACtDxmB,KAED3vB,EAAKC,EAAI,GAAGk2C,WAVA,CAad,OAAO7vB,CACP,CAED,SAASpsB,EAASE,GACjB,IAAI6F,EAAM,GACNqmB,EAAM1qB,EAAU+mE,UAChBrgD,EAAS1mB,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAE5D,GAAuB,UAAnBhyD,EAAUgyD,OAAwC,OAAnBhyD,EAAUgyD,MAE5C,IAAK,IAAIxqC,EAAI,EAAGA,EAAIkD,EAAI/rB,OAAQ6oB,IACnBnjB,GAAO,yBAA2BitC,EAAW5mB,EAAIlD,GAAGm3B,WAAW,GAAGp2C,WAAa,4BAA8B+oC,EAAW5mB,EAAIlD,GAAGm3B,WAAW,GAAGp2C,WAAa,6BAE1I,eAAnBvI,EAAUgyD,MAEpB,IAASxqC,EAAI,EAAGA,EAAIkD,EAAI/rB,OAAQ6oB,IAC/BnjB,GAAO,eAAiBqmB,EAAIlD,GAAGvZ,WAAWujC,aAAa,OAAS,WAAaF,EAAW5mB,EAAIlD,GAAGjf,WAAa,0BAEhF,QAAnBvI,EAAUgyD,MAGpB,IADItnC,EAAM1qB,EAAUknE,qBACX1/C,EAAI,EAAGA,EAAIkD,EAAI/rB,OAAQ6oB,IAAK,CACpC,IAAIiY,EAAI/U,EAAIlD,GAAGg9B,WAIf,IAHI/kB,EAAEj3B,UAAYxI,EAAUmyD,UAAU3pD,YACrCi3B,EAAIz/B,EAAUmyD,WAER1yB,EAAI/U,EAAIlD,GAAGm9B,UAAU,CAC3B,IAAI5wB,EAAI0L,EAAEoX,WAAa,IAAMpX,EAAEmX,cAAgB52C,EAAUmyD,UAAUvb,eAAiB52C,EAAUw3F,YAAYC,OACtG3jE,EAAM9zB,EAAUw3F,YAAYzjE,GAAK0L,EAAEqX,UAAY,EAC/CzzC,EAAa7E,EAAS+yC,EAAUvxC,EAAUylF,eAAehmD,GAAI,SAAW,GACxE7rB,EAAWpV,EAAS+yC,EAAUvxC,EAAUylF,eAAehmD,GAAI,mBAAqB,GAIpF,GAFAp7B,GAAO,eAAkByvB,EAAM,EAAK,WAAaxhB,KAAKk9B,MAAM1b,EAAM,GAAK,YAAcC,EAAI,sBAAwBngB,EAAW,YAAcvQ,EAAa,cACvJo8B,EAAIz/B,EAAUwf,KAAKtgB,IAAIugC,EAAG,EAAG,QACvBj3B,WAAaxI,EAAUqyD,UAAU7pD,UACtC,KACD,CACD,SACSke,GAA2B,QAAjBA,EAAO/hB,OAE3B,IADI+lB,EAAM1qB,EAAU21C,KAAKqd,aAAa,GAAG3hB,qBAAqB,MACrD7pB,EAAI,EAAGA,EAAIkD,EAAI/rB,OAAQ6oB,IAC3BnkB,EAAa7E,EAAS+yC,EAAU7mB,EAAIlD,GAAI,SAAW,GAEvDnjB,GAAO,oCADHuP,EAAWpV,EAAS+yC,EAAU7mB,EAAIlD,GAAI,mBAAqB,IACR,YAAcnkB,EAAa,cAAgBiuC,EAAW5mB,EAAIlD,GAAGjf,WAAa,0BAGlI,IAASif,EAAI,EAAGA,EAAIkD,EAAI/rB,OAAQ6oB,IAAK,CACpC,IAAI6Y,EAAIrM,EACR,GAAIh0B,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAElD3xB,EAAKkV,EAAO7qB,EAAIlD,GAAGtb,MAAMmY,MACzB2P,EAAMuhB,EAAO7qB,EAAIlD,GAAG+yB,aAAa,MAC3B,CAEN,IAAInnB,EAAYpzB,EAAUwzC,OAAOmwB,sBAAwB,EAAI,GAC7DtjC,EAAKiQ,EAAa5lB,EAAIlD,GAAGtb,MAAMmY,KAAM+O,GAAA,GACrCY,EAAMsc,EAAa5lB,EAAIlD,GAAGtb,MAAMkR,MAAOgW,GAAW,CAClD,CACD,IAAI9xB,MAAY,EAAN0yB,GAAV,CACA,IAAInJ,EAAKxD,EAAOqD,EAAIlD,GAAGtb,MAAMqY,KACzB8P,EAAMhN,EAAOqD,EAAIlD,GAAGtb,MAAMmR,QAE1Bzc,EAAS8pB,EAAIlD,GAAG6tB,UAAUx0C,MAAM,KAAK,GAAGiB,QAAQ,WAAY,IAChE,GAAe,qBAAXlB,EAAJ,CAEA,IAAIq2D,EAAOj3D,EAAUw8C,SAAS9xB,EAAIlD,GAAGgqB,aAAaxxC,EAAUwzC,OAAO6xB,kBACvD,GAAKpO,EAAL,CACRnjC,EAAMmjC,EAAK2Q,MAAf,IACIv1B,EAAO4kB,EAAK6Q,OACZngD,EAASsvC,EAAK0S,SAAW,EAE7B,GAAuB,SAAnB3pE,EAAUgyD,MACb39B,EAAMskB,SAASjuB,EAAIlD,GAAGqwB,aAAc,IACpChtB,EAAK8tB,SAASjuB,EAAIlD,GAAGtb,MAAMqY,IAAK,IAAMvkB,EAAUw1C,GAAG2a,kBAEnDr8B,EAAMr1B,EAAOisB,EAAIlD,GAAIsM,GACrBue,EAAO5qB,EAAQiD,EAAIlD,GAAI6qB,QACjB,GAAIryC,EAAU8uD,QAAU9uD,EAAU8uD,OAAO9uD,EAAUgyD,OAAQ,CACjEl+B,EAAM,EAENue,EADS3nB,EAAIlD,GAAGvZ,WAAWA,WAAWA,WAC5BypF,SACV,IAAIh3D,EAAUniC,EACdA,EAAKmsB,EAAIlD,GAAGvZ,WAAW4pC,aACvBhtB,EAAKxD,EAAOqD,EAAIlD,GAAGtb,MAAMqY,KACzBsG,GAAW,GAALA,EACNtsB,EAAKmiC,CACV,KAAW,CACN,GAAIhW,EAAIlD,GAAGvZ,YAAcjO,EAAU21C,KAAKqd,aAAa,GAAI,SACzD,IAAIzrC,EAASvnB,EAAU21C,KAAmBqd,aAAE,GAAGrU,WAAW,GACtD99B,EAAS6+D,YAAA,GAAWn4D,EAAO8tB,UAAUlpC,QAAQ,oBAA4Bob,EAAOrb,MAAMmY,KAAO,GACjGgc,GAAMkV,EAAO7qB,EAAIlD,GAAGvZ,WAAW/B,MAAMmY,KAAMxD,EAC3C,CAEDxc,GAAO,kBAAoBguC,EAAO,UAAYve,EAAM,WAAalzB,EAAS,QAAUy/B,EAAK,QAAUxV,EAAK,YAAcmJ,EAAM,aAAeK,EAAM,UAAY1M,EAAS,KAExJ,SAAV/mB,GACHyD,GAAO,oBAAsBitC,EAAW5mB,EAAIlD,GAAGm3B,WAAW,GAAGp2C,WAAa,eACtElF,EAAa7E,EAAS+yC,EAAU7mB,EAAIlD,GAAGm3B,WAAW,GAAI,SAAW,GAErEt6C,GAAO,2BADHuP,EAAWpV,EAAS+yC,EAAU7mB,EAAIlD,GAAGm3B,WAAW,GAAI,mBAAqB,IAC/B,YAAct7C,EAAa,cAAgBiuC,EAAW5mB,EAAIlD,GAAGm3B,WAAW,GAAGp2C,WAAa,eAElIlF,EAAa7E,EAAS+yC,EAAU7mB,EAAIlD,GAAI,SAAW,GAEvDnjB,GAAO,2BADHuP,EAAWpV,EAAS+yC,EAAU7mB,EAAIlD,GAAI,mBAAqB,IACjB,YAAcnkB,EAAa,cAAgBiuC,EAAW5mB,EAAIlD,GAAGjf,WAAa,cAEzHlE,GAAO,UAvCyB,CAHY,CALf,CAgD7B,CAGF,OAAOA,CACP,CAED,SAASorB,EAAMjxB,EAAO6F,EAAKqmB,EAAMhE,EAAMc,EAAQiY,GAC9C,IAAI1L,GAAS,EACD,aAARrN,IACHqN,GAAS,EACTrN,EAAO,SAGRA,EAAOA,GAAQ,QAEf,IAAIrjB,EAAM,GACV,GAAI7E,EAAO,CAEV,IAAIoV,EAAgB5T,EAAUiyD,MAC1B5xB,EAAgBrgC,EAAUgyD,MAC9B3tD,EAAMrE,EAAUwf,KAAKkL,EAAK,UAAUrmB,GACpCA,EAAMrE,EAAUwf,KAAK,OAAOkL,EAAK,QAAU1qB,EAAUwf,KAAK,OAAOkL,EAAK,QAAQrmB,GAAOrE,EAAUwf,KAAKtgB,IAAImF,EAAK,EAAGqmB,GAEhHrnB,EAAMkM,EAAQ,QAASmX,EAAMc,EAAQiY,GACrC,IAAK,IAAIzL,EAAY,IAAIpb,KAAKpa,IAASw1B,GAAa3vB,EAAK2vB,EAAY7zB,KAAKqf,KAAKtgB,IAAI80B,EAAW,EAAGtJ,GAChGvqB,KAAKs0C,eAAezgB,EAAWtJ,GAC/BrnB,IAAiB,OA3PN,SAAc,IA2PEc,IAAkBrC,QAAQ,SAAU,KAAOxD,EAASy1B,GAAUj0B,EAAQ,QAElGuD,GAAOvD,EAAQ,SAEfK,KAAKs0C,eAAe7gC,EAAeysB,EACtC,MACGh9B,EAAMkM,EAAQ,OAAQmX,EAAMc,EAAQiY,GAAUt7B,IAAkBrC,QAAQ,SAAU,KAAOxD,EAASy1B,GAAUj0B,EAAQ,QAErH,OAAOuD,CACP,CAcD,SAASqkB,EAAOlpB,EAAO6F,EAAKqmB,EAAMhE,EAAKc,EAAMiY,EAAQ1L,IAAA,SAZnCD,EAAKzwB,GACtB,IAAIuQ,EAAM5T,EAAU+2C,MAChB1W,EAAIhhC,SAASC,cAAc,OAC/B+gC,EAAEn0B,MAAMw2B,QAAU,OAClBrjC,SAASgH,KAAKuC,YAAYy3B,GAE1BA,EAAE93B,UAAY,aAAeqL,EAAM,2CAA6CvQ,EAAM,2HACtFhE,SAASq/C,eAAe9qC,GAAKlL,WAAWxC,MAAQtH,mBAAmBk1B,GACnEz0B,SAASq/C,eAAe9qC,GAAKqrE,SAC7B5+C,EAAEpyB,WAAWtF,YAAY03B,EACzB,CAEoD,CAElC,iBAAR7Y,EASX,SAAyBsM,GAExB,QADIzwB,EAAM,SACFuQ,EAAE,EAAGA,EAAIkgB,EAAQn1B,OAAQiV,IAChCvQ,GAAOywB,EAAQlgB,GAAGtG,OAAOqqF,WAAW7jE,EAAQlgB,GAAGsP,MAAO4Q,EAAQlgB,GAAGuP,IAAK2Q,EAAQlgB,GAAGqF,KAAM6a,EAAQlgB,GAAGia,KAAMiG,EAAQlgB,GAAGi7C,OAAQ/6B,EAAQlgB,GAAGosE,QAGvI,OADA38E,GAAO,SAEP,CAPD,CARwBmkB,GAEhBiI,EAAMngB,MAAMnP,KAAM,CAAC3B,EAAO6F,EAAKqmB,EAAMlD,EAAMiY,EAAQ1L,IAG5CrN,EACd,CAtBD1mB,EAAU23F,WAAaloE,EA4CvBzvB,EAAU43F,MAAQ,SAASp5F,EAAK6F,EAAMqmB,EAAQhE,GAC7C,OAAOgB,EAAOpY,MAAMnP,KAAM,CAAC,KAAM,KAAM,KAAM3B,EAAK6F,EAAMqmB,EAAQhE,GAClE,EACC1mB,EAAU63F,WAAa,SAASr5F,EAAO6F,EAAKqmB,EAAMhE,EAAKc,EAAMiY,EAAQ1L,GAMpE,MALoB,iBAATv1B,IACVA,EAAQwB,EAAUusD,UAAU+W,SAAS9kE,GACrC6F,EAAMrE,EAAUusD,UAAU+W,SAASj/D,IAG7BqjB,EAAOpY,MAAMnP,KAAMzB,UAC5B,CAEA,E3CrUCo5F,W4ClEc,SAAS93F,GAExBA,EAAUwzC,OAAOsxB,aAAe,CAAC,YAAa,eAC9C9kE,EAAUwzC,OAAOykB,mBAAoB,EACrCj4D,EAAUwzC,OAAOukD,iBAAkB,EACnC/3F,EAAUw1C,GAAGua,WAAa,EAE1B/vD,EAAU0hB,YAAY,WAAW,SAAStd,GACzC,GAAIpE,EAAUwzC,OAAOukD,gBAIrB,OADA/3F,EAAUg4F,cAAc5zF,IACjB,CACR,IAEA,WAQC,IAAK,IALDA,EAAS,CAAC,eAAgB,eAAgB,aAAc,sBAAuB,gBAC/E7F,EAAkB,WAErB,OADAyB,EAAUi4F,eAAA,IACH,CACT,EACUzoE,EAAE,EAAGA,EAAEprB,EAAOzF,OAAQ6wB,IAC9BxvB,EAAU0hB,YAAYtd,EAAOorB,GAAIjxB,EAElC,CAXD,GAaAyB,EAAUusD,UAAU2rC,iBAAmB,SAAS9zF,EAAO7F,EAAKixB,GAAK,OAAOA,EAAGvP,KAAKwsD,OAAO,EAAE,GAAI,EAC7FzsE,EAAUusD,UAAU4rC,mBAAqB,SAAS/zF,EAAO7F,EAAKixB,GAAK,OAAOA,EAAGyxB,SAAW,EAAG,EAC3FjhD,EAAUusD,UAAU6rC,gBAAkB,SAASh0F,EAAO7F,EAAKixB,GAC1D,OAAIxvB,EAAUk4D,cAAc1oC,IAAOxvB,EAAUwzC,OAAO0b,IAC5ClvD,EAAUusD,UAAU8P,SAASj4D,EAAO7F,EAAKixB,GAAM,IAAKxvB,EAAUusD,UAAUwZ,aAAaxnE,EAAK6F,EAAOorB,GAC9FxvB,EAAUk4D,cAAc1oC,GAC3BxvB,EAAUusD,UAAU8P,SAASj4D,EAAO7F,EAAKixB,GAAM,IAAKxvB,EAAUusD,UAAUwZ,aAAa3hE,EAAO7F,EAAKixB,GAC9FxvB,EAAUwzC,OAAO0b,IACpBlvD,EAAUusD,UAAU4W,UAAU5kE,EAAK6F,EAAOorB,GAE1CxvB,EAAUusD,UAAU4W,UAAU/+D,EAAO7F,EAAKixB,EAEnD,EAEAxvB,EAAUg4F,cAAgB,SAAS5zF,GAClC,GAAIA,GAAMjE,KAAKk4F,qBACfl4F,KAAK83F,eAAA,IAC4C,IAA9C93F,KAAKo2C,UAAU,oBAAqB,CAACnyC,KAAxC,CAGA,IAAI7F,EAAM4B,KAAKm4F,wBAAwBl0F,GAEnC7F,IACH4B,KAAKo4F,gBAAkBp4F,KAAKq4F,iBAAiBj6F,GAC7C4B,KAAKs4F,iBAAiBr0F,GACtBjE,KAAKu4F,iBAAiBn6F,GAEtB4B,KAAKo2C,UAAU,cAAe,CAACnyC,IAR/B,CAUF,EAEA,WAEA,SAASA,EAAY7F,GACpBA,EAAOA,GAAQ,GAEf,IAECixB,EAFGzvB,EAAM2/E,WAAWnhF,GACpB+yC,EAAO/yC,EAAKoF,MAAM,OAOnB,OAJI2tC,IACHA,EAAOA,EAAK,IAGLA,GACP,IAAK,IACJ9hB,EAAqB,IAANzvB,EACf,MACD,IAAK,KACJyvB,EAAezvB,EACf,MACD,QACCyvB,EAAe,EAIjB,OAAOA,CACR,CAEAxvB,EAAUi4F,cAAgB,SAAS15F,GAClC,IAAIixB,EAAKrvB,KAAKo4F,gBACVx4F,EAAUI,KAAKk4F,mBAGnB,GAFAl4F,KAAKk4F,mBAAqB,EAEtB7oE,GAAMA,EAAGvhB,WAAW,CACvB,IAAIqjC,EAAQ9hB,EAAG+qB,YACf,GAAIv6C,EAAUwzC,OAAOmxB,oBAEpB,OADAxkE,KAAKo2C,UAAU,mBAAoB,CAACx2C,IAC7ByvB,EAAGvhB,WAAWtF,YAAY6mB,GAQlC,GALsB,QAAlBA,EAAGtjB,MAAMsuC,MACZhrB,EAAGtjB,MAAMmY,MAAQitB,EAAQ,KAEzB9hB,EAAGtjB,MAAMsuC,OAASlJ,EAAQ,KAEvB/yC,EACHixB,EAAGvhB,WAAWtF,YAAY6mB,OACtB,CAEJ,IAAI+lB,EACDn2C,OAAOs4C,iBACTnC,EAAQn2C,OAAOs4C,iBAAiBloB,EAAI,MAC5BA,EAAGooB,eACXrC,EAAQ/lB,EAAGooB,cAEZ,IAAItH,EAAQlsC,EAAYmxC,EAAM,qBAAuBnxC,EAAYmxC,EAAM,wBACvEpsB,YAAW,WACPqG,EAAGvhB,YACLuhB,EAAGvhB,WAAWtF,YAAY6mB,EAE3B,GAAE8gB,EACH,CAEDnwC,KAAKo2C,UAAU,mBAAoB,CAACx2C,GACpC,CACF,CAEC,CAnED,GAqEAC,EAAUwgB,MAAMphB,OAAQ,WAAW,SAASgF,GAC1B,IAAbA,EAAEgT,SACLpX,EAAUi4F,eACZ,IAEAj4F,EAAU04F,iBAAmB,SAASt0F,GACrC,IAAI7F,EAAKyB,EAAUu4F,gBACnBv4F,EAAU2uD,KAAK/lD,YAAYrK,GAC3B,IAAIixB,EAAQjxB,EAAGg8C,YACXx6C,EAASxB,EAAGs5C,aAEhB,GAAI73C,EAAUwzC,OAAOmxB,oBAAoB,CACxC,IAAIrzB,EAAOltC,EAAIigB,KAAOjgB,EAAI2mE,IAAIv7C,EAAQprB,EAAIgZ,OACvCpd,EAAUs3D,WAAat3D,EAAUs3D,UAAUqhC,YAE1C34F,EAAUwzC,OAAO0b,IACnB5d,GAAQtxC,EAAUs3D,UAAUqhC,UAE5BrnD,GAAQtxC,EAAUs3D,UAAUqhC,WAKlBrnD,EAAO9hB,EACRpwB,OAAO0/C,aACjBxN,EAAOlyC,OAAO0/C,WAAatvB,GAE5B8hB,EAAOh/B,KAAK0+C,IAAI,EAAG1f,GAEnB/yC,EAAG2N,MAAMmY,KAAOitB,EAAO,KACvB/yC,EAAG2N,MAAMqY,IAAMngB,EAAImgB,KAAOngB,EAAI4mE,GAAGjrE,GAAQqE,EAAIiZ,QAAU,IACzD,KAAQ,CAEN,MAAMk4B,EAAUv1C,EAAUm1C,WAAWC,cAAc,iBAAiBwD,UACpEr6C,EAAG2N,MAAMqY,IAAMgxB,EAAU,GAAK,KAChB,GAAVnxC,EAAI2mE,IACPxsE,EAAG2N,MAAMsuC,MAAQ,OACjBj8C,EAAG2N,MAAMmY,MAAQmL,EAAQ,KAEzBrG,YAAW,WACV5qB,EAAG2N,MAAMmY,KAAO,OAChB,GAAC,KAEF9lB,EAAG2N,MAAMmY,KAAO,OAChB9lB,EAAG2N,MAAMsuC,OAAShrB,EAAQ,KAE1BrG,YAAW,WACV5qB,EAAG2N,MAAMsuC,MAAQ,OACjB,GAAC,IAEHj8C,EAAG82C,UAAY92C,EAAG82C,UAAUvzC,QAAQ,eAAe,IAAIA,QAAQ,gBAAgB,IAAI,YAAoB,GAARsC,EAAI2mE,GAAM,OAAO,QAChH,CACF,EACA/qE,EAAU0hB,YAAY,oBAAoB,WAEzC,GADA1hB,EAAUi4F,gBACP93F,KAAKo4F,gBAAgB,CACvB,IAAIn0F,EAAMjE,KAAKo4F,gBACZn0F,EAAI6J,YACN7J,EAAI6J,WAAWtF,YAAYvE,GAE5BjE,KAAKo4F,gBAAkB,IACvB,CACF,IACAv4F,EAAU44F,6BAA+B,SAASx0F,GACjDpE,EAAUi4F,eACX,EACAj4F,EAAUw4F,iBAAmB,WAC5B,IAAKr4F,KAAKo4F,gBAAgB,CAGzB,IAAIn0F,EAAKjE,KAAKo4F,gBAAkBl5F,SAASC,cAAc,OAEvDa,KAAK69C,SAASghB,cAAc56D,GAE5BA,EAAGixC,UAAY,qBACXr1C,EAAU64F,YACbz0F,EAAGixC,WAAa,mBACbr1C,EAAUwzC,OAAO0b,MAAK9qD,EAAGixC,WAAa,uBAE1C,IACI92C,EAAA,4JAAA8nB,OADWlmB,KAAK69C,SAASihB,4BAa7B,0KAAA1gE,GAAQ,oCAEP,IAAK,IADFixB,EAAUxvB,EAAUwzC,OAAOsxB,aACrB/kE,EAAI,EAAGA,EAAIyvB,EAAQ7wB,OAAQoB,IAEnCxB,GAAA,QAAA8nB,OADelmB,KAAK69C,SAASmhB,0BAA0Bh/D,KAAK6c,OAAOqhC,OAAO7uB,EAAQzvB,KAAA,4BAAAsmB,OAC/BmJ,EAAQzvB,GAAA,aAAAsmB,OAAcrmB,EAAUgd,OAAOqhC,OAAO7uB,EAAQzvB,IAC7E,2CAAAsmB,OAAAmJ,EAAQzvB,GAAkB,iBAAAsmB,OAAArmB,EAAUgd,OAAOqhC,OAAO7uB,EAAQzvB,IAAA,gBAGxFxB,GAAQ,SAER6F,EAAGmE,UAAYhK,EACfyB,EAAUwgB,MAAMpc,EAAI,SAAS,SAASktC,GACrCtxC,EAAU84F,iBAAiBxnD,EAAGxjC,QAAUwjC,EAAGvjC,WAC9C,IACM/N,EAAUwzC,OAAOmxB,sBACpB3kE,EAAU8tD,gBAAgB9tD,EAAU21C,KAAmBqd,aAAE,GAAI,SAAUhzD,EAAU44F,8BACjF54F,EAAUwgB,MAAMxgB,EAAU21C,KAAmBqd,aAAE,GAAI,SAAUhzD,EAAU44F,8BAExE,CAED,OAAOz4F,KAAKo4F,eACb,EAEAv4F,EAAU84F,iBAAmB,SAAS10F,GACrC,IAAI7F,EAAMyB,EAAUu4F,gBACpB,GAAKn0F,GAAQA,GAAQ7F,EAErB,GAAG6F,EAAKm1C,QAAQ,yBACfv5C,EAAUi4F,oBADX,CAKA,IAAIzoE,EAAOxvB,EAAUixD,cAAc7sD,GACnC,IAA4B,GAAxBorB,EAAKrjB,QAAQ,SAAa,CAC7B,IAAIpM,EAAKC,EAAUq4F,mBACnBr4F,EAAUoxD,OAAOl3C,QAAQsV,EAAK3uB,MAAM,KAAK,GAAGiB,QAAQ,QAAQ,KAAK/B,EACjE,MACAC,EAAU84F,iBAAiB10F,EAAK6J,WAPhC,CAQF,EACAjO,EAAUs4F,wBAA0B,SAASl0F,GAM5C,QALI7F,EAAQyB,EAAU0qE,iBAAiBtmE,GACnCorB,EAAO,EACPzvB,EAAM,EAENuxC,EAAO/yC,EACJ+yC,GAAQA,GAAQtxC,EAAU2uD,MAChCn/B,GAAQ8hB,EAAKuH,WACb94C,GAAOuxC,EAAKsH,UAAUtH,EAAK9sB,UAC3B8sB,EAAOA,EAAKwH,aAEb,OAAGxH,EAIK,CAAEjtB,KAAKmL,EAAMjL,IAAIxkB,EAAKgrE,GAHnBv7C,EAAOjxB,EAAMg8C,YAAY,EAAMv6C,EAAUuwD,GAAG,EAAK,EAAI,EAG3Bya,GAF1BjrE,EAAMxB,EAAMs5C,aAAa,EAAM73C,EAAUitE,GAAG,EAAK,EAAI,EAG9D7vD,MAAM7e,EAAMg8C,YAAal9B,OAAO9e,EAAMs5C,cAEjC,CACR,EAEA73C,EAAUy4F,iBAAoB,SAASr0F,GACtC,IAAI7F,EAAKyB,EAAUw8C,SAASp4C,GACxBorB,EAAKxvB,EAAUu4F,gBAEnBv4F,EAAUq4F,mBAAqBj0F,EAI/B,IAAIrE,EAAS,CACZq+C,QAASp+C,EAAUusD,UAAU2rC,iBAAiB35F,EAAGimD,WAAYjmD,EAAGomD,SAAUpmD,GAC1EihB,KAAMxf,EAAUusD,UAAU6rC,gBAAgB75F,EAAGimD,WAAYjmD,EAAGomD,SAAUpmD,IAEpDixB,EAAG4lB,cAAc,wBACvB7sC,UAAA,SAAA8d,OAAqBtmB,EAAOq+C,QAAA,WACzB5uB,EAAG4lB,cAAc,qBACvB7sC,UAAYxI,EAAOyf,KAE7Bxf,EAAUg+C,SAASkhB,gBAAgB1vC,EAAI,CAACzvB,EAAOq+C,QAASr+C,EAAOyf,MAAMoP,KAAK,MAG1E,IAAI0iB,EAAO9hB,EAAG4lB,cAAc,uBAC5B,MAAMG,EAAcv1C,EAAUusD,UAAU4rC,mBAAmB55F,EAAGimD,WAAYjmD,EAAGomD,SAAUpmD,GACpFg3C,GACFjE,EAAK+B,UAAUoG,OAAO,cACtBnI,EAAK/oC,UAAYgtC,GAEjBjE,EAAK+B,UAAUn0C,IAAI,aAErB,CAGA,E5CpPC+zD,S6CnEc,SAASjzD,GAExBA,EAAU0hB,YAAY,oBAAoB,WACzC,IAAItd,EACApE,EAAUqtE,YAAYmD,YACzBpsE,EAA4BpE,EAAUqtE,YAAYmD,UAAUjD,WAE7D,IAAIhvE,EAAwByB,EAAUwzC,OAAOuxB,aAAa3jE,QACtDouB,EAAyBxvB,EAAUwzC,OAAOwxB,cAAc5jE,QA4D5D,SAASrB,EAAYuwC,EAAKhpB,EAAGD,EAAGkqB,GAG/B,IAAK,IAFD9yC,EAAO6oB,EAAE+pB,qBAAqBf,GAC9B7oB,EAAOJ,EAAEgqB,qBAAqBf,GACzBxwC,EAAI2nB,EAAK9oB,OAAS,EAAGmB,GAAK,EAAGA,IAErC,GADIunB,EAAII,EAAK3nB,GACRyxC,EAKC,CACL,IAAIhiC,EAAIlQ,SAASC,cAAc,QAC/BiQ,EAAE8lC,UAAY,oBACd9lC,EAAEhH,UAAYgpC,EAAK9yC,EAAKqB,IACxBunB,EAAEpZ,WAAWwzB,aAAalyB,EAAG8X,GAC7BA,EAAEpZ,WAAWtF,YAAY0e,EACzB,MAVAA,EAAE3f,UAAA,EAEC4f,EAAErhB,UACJohB,EAAEphB,SAAU,EASf,CA5EDjG,EAAU0hB,YAAY,oBAAoB,SAAS4uB,GAC9CnwC,KAAKqzC,OAAOulD,eAAiB54F,KAAKq8C,SAASlM,GAAI2iB,SAClD9yD,KAAKqzC,OAAOy8B,iBAAkB,GAG9B9vE,KAAKqzC,OAAOy8B,iBAAkB,EAC9BjwE,EAAUwzC,OAAOuxB,aAAexmE,EAAsB6C,QACtDpB,EAAUwzC,OAAOwxB,cAAgBx1C,EAAuBpuB,QAGrDpB,EAAUqtE,YAAYmD,YACxBxwE,EAAUqtE,YAAYmD,UAAUjD,UAAYnpE,IAI9C,IAAIkjB,EAAMnnB,KAAKqzC,OAAO4nB,SAASC,SAC/B,GAAIl7D,KAAKqzC,OAAOy8B,gBAAiB,CAChC,IAAK,IAAI5oD,EAAI,EAAGA,EAAIC,EAAI3oB,OAAQ0oB,IACZ,aAAfC,EAAID,GAAG5mB,MACNN,KAAKqzC,OAAOy8B,iBAAmBjwE,EAAUqtE,YAAYmD,YACxDxwE,EAAUqtE,YAAYmD,UAAUjD,UAAY,SAASrtE,EAAM5B,EAAOmxB,GACjE,IAAI/H,EAAU1nB,EAAU+0D,YAAYxb,QAAQr5C,EAAM,qBAC9C1B,EAAQ,OACZkpB,EAAQ0tB,cAAc,qBAAqB1S,QAAUlkC,EACrDkpB,EAAQ0tB,cAAc,oBAAoB1S,QAAUlkC,EACpDkpB,EAAQxb,MAAMw2B,QAAUlkC,EAExBwB,EAAUkwE,iBACjB,GAKG,IAAI3+B,EAAoB,CAAC,iBAAkB,gBACvC9yC,EAAgB,CAACuB,EAAUwzC,OAAOuxB,aAAc/kE,EAAUwzC,OAAOwxB,eACrE,IAAS39C,EAAI,EAAGA,EAAIkqB,EAAkB5yC,OAAQ0oB,IAE7C,IAAK,IADDI,EAAmB8pB,EAAkBlqB,GAChCvnB,EAAI,EAAGA,EAAIrB,EAAcE,OAAQmB,IAAK,CAG9C,IAAK,IAFDyP,EAAe9Q,EAAcqB,GAC7BqE,GAAA,EACKlE,EAAI,EAAGA,EAAIsP,EAAa5Q,OAAQsB,IACxC,GAAIsP,EAAatP,IAAMwnB,EAAkB,CACxCtjB,EAAQlE,EACR,KACA,KAEEkE,GACHoL,EAAak5B,OAAOtkC,EAAO,EAE5B,CAEF,CAID,OAFAhE,KAAKs7D,iBAEE,CACT,IAsBC,IAAInqB,EAAMtxC,EAAU8uE,eACpB9uE,EAAU8uE,eAAiB,WAE1B,IAAIx+B,EAAKnwC,KAAKitE,cACVjtE,KAAKqzC,OAAOy8B,kBACf3/B,EAAGpkC,MAAMyrC,WAAa,SAGtBrH,EAAGpkC,MAAMw2B,QAAU,SAEpB,IAAIpb,EAAMgqB,EAAIhiC,MAAMnP,KAAMzB,WAO1B,GANIyB,KAAKqzC,OAAOy8B,kBAEf3/B,EAAGpkC,MAAMyrC,WAAa,GACtBrH,EAAGpkC,MAAMw2B,QAAU,QAGhBviC,KAAKqzC,OAAOy8B,gBAAiB,CAEhC,IAAI5oD,EAAelnB,KAAKitE,cACpB77B,EAAepxC,KAAK64F,YAAc3xE,EAAaozC,WAAU,GAC7DlpB,EAAa56B,GAAK3W,EAAU+2C,MAC5BxF,EAAa8D,WAAa,0BAC1Bt1C,EAAY,WAAYsnB,EAAckqB,GAAc,SAAS9yC,GAC5D,OAAOA,EAAEyH,KACb,IACGnG,EAAY,QAASsnB,EAAckqB,GAAc,GACjDxxC,EAAY,SAAUsnB,EAAckqB,GAAc,SAAS9yC,GAC1D,OAAIA,EAAE8I,QAAQ5I,OACPF,EAAE8I,QAAQ+K,KAAK0+C,IAAKvyD,EAAEiwE,eAAiB,EAAI,IAAIzuD,KADzB,EAEjC,IAEGoH,EAAapZ,WAAWwzB,aAAa8P,EAAclqB,GAEnDlnB,KAAKwuE,UAAUp9B,GACXvxC,EAAU4wD,WACb5wD,EAAU4wD,UAAU3iD,WAAWtF,YAAY3I,EAAU4wD,WACtDzwD,KAAKywD,UAAYrf,EAEbvxC,EAAUwzC,OAAO6wB,eACpBrkE,EAAUwgB,MAAM+wB,EAAa7oC,WAAY,YAAa1I,EAAUuwE,eAEjEvwE,EAAU+vE,wBACV5vE,KAAK+vE,iBACL,CACD,OAAO5oD,CACT,EAEC,IAAIiuB,EAAOv1C,EAAUovE,cACrBpvE,EAAUovE,cAAgB,WAMzB,OALIjvE,KAAK64F,cACR74F,KAAK64F,YAAY/qF,WAAWtF,YAAYxI,KAAK64F,aAC7C74F,KAAK64F,YAAc74F,KAAKywD,UAAY,MAG9Brb,EAAKjmC,MAAMnP,KAAMzB,UAC1B,CACA,GAGA,E7ChFC8xE,U8CpEc,SAASxwE,GAwqBxB,SAASoE,IACR,IAAIktC,EAAmBtxC,EAAUmtE,YAAY,aAK7C,GAJI77B,IACHA,EAAmB/yC,EAAsB,eAGrC+yC,EACJ,MAAM,IAAI9tC,MAAM,CAAC,2CACjB,yJACA,uDACF,GACA,yCACA,6BACA,MAAMorB,KAAA,OAIL,OAAO0iB,CACR,CAEA,SAAS/yC,EAAsB+yC,GAC9B,QAAQiE,EAAI,EAAGA,EAAIv1C,EAAUwzC,OAAO4nB,SAASC,SAAS18D,OAAQ42C,IAAI,CACjE,IAAIjF,EAAUtwC,EAAUwzC,OAAO4nB,SAASC,SAAS9lB,GACjD,GAAGjF,EAAQ7vC,OAAS6wC,EACnB,OAAOtxC,EAAUmtE,YAAY78B,EAAQ9rC,KAEtC,CACD,OAAO,IACR,CAoBA,SAASgrB,EAAkB8hB,GAE1B,OAAO,IAAI14B,KACV04B,EAAKsF,cACLtF,EAAKuF,WACLvF,EAAKwF,UACLxF,EAAK0iB,WACL1iB,EAAK8kB,aACL9kB,EAAKoxB,aACL,EAEF,CAGA,IACK3iE,EAruBLC,EAAUwzC,OAAOylD,6BAAA,EACjBj5F,EAAUwzC,OAAO0lD,mBAAqB,CAAC,EAAE,EAAE,EAAE,EAAE,GAC/Cl5F,EAAUqtE,YAAuBmD,UAAI,CACpC2oB,UAAY,SAAS7nD,GACpB,GAAmB,iBAARA,EAAiB,CAC3B,IAAIiE,EAAUv1C,EAAU4wD,UAAUxb,cAAA,IAAA/uB,OAAkBirB,IAChDiE,IAGHA,EAAUl2C,SAASq/C,eAAepN,IAEnCA,EAAOiE,CACP,CAGD,MAF0B,QAAtBjE,EAAKplC,MAAMw2B,UACd4O,EAAKplC,MAAMw2B,QAAU,IACf4O,CACP,EACD8nD,YAAa,SAAS9nD,GACrB,OAAOA,EAAK+nD,YAGU9jD,EAHgBjE,GAIjChqB,EAAMjoB,SAASC,cAAc,QAC7BsJ,YAAa2sC,EAAEklB,WAAU,IAC7BnqB,EAAIhpB,EAAI/e,UACR+e,EAAM,KACCgpB,GALR,IAAsBiF,EACoBjF,EAArChpB,CAML,EACD3iB,OAAO,SAAS2sC,GACf,GAAGA,EAAIzI,KAAK,CACX,IAAI0M,EAAMv1C,EAAUqtE,YAAuBmD,UACvClgC,EAAOiF,EAAI4jD,UAAU7nD,EAAIzI,MACzBvhB,EAAOiuB,EAAI6jD,YAAY9oD,GAE3B,OADAA,EAAKpkC,MAAMw2B,QAAU,OACdpb,CACP,CACD,IAAID,EAAMrnB,EAAUgd,OAAOqhC,OAC3B,MAAO,2JAGsFh3B,EAAIkhC,iBAH1F,uGAIsFlhC,EAAImhC,kBAJ1F,iHAKgGnhC,EAAIohC,mBALpG,wGAMuFphC,EAAIqhC,kBAN3F,oOAYsFrhC,EAAIshC,sBAZ1F,0FAaiFthC,EAAIuhC,sBAbrF,8GAc8FvhC,EAAIwhC,uBAdlG,qFAiBcxhC,EAAIyhC,YAjBlB,0FAkBQzhC,EAAI0hC,uBAlBZ,sJAqBmG1hC,EAAI0iC,kBAAkB,GArBzH,6GAsB+F1iC,EAAI0iC,kBAAkB,GAtBrH,sHAuBmG1iC,EAAI0iC,kBAAkB,GAvBzH,6GAwB+F1iC,EAAI0iC,kBAAkB,GAxBrH,sHAyBmG1iC,EAAI0iC,kBAAkB,GAzBzH,6GA0B+F1iC,EAAI0iC,kBAAkB,GA1BrH,sHA2BmG1iC,EAAI0iC,kBAAkB,GA3BzH,iMAgCyH1iC,EAAI2hC,wBAhC7H,0FAiCkF3hC,EAAI6hC,sBAjCtF,4FAkCoF7hC,EAAI8hC,wBAlCxF,iJAmCkI9hC,EAAI4hC,yBAnCtI,oJAuCiCjpD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GAC9D,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACrD,YACAh/B,EAAI+hC,gCA/CL,6FAiDqF/hC,EAAIgiC,+BAjDzF,+LAoDuHhiC,EAAIshC,sBApD3H,yFAqDgFthC,EAAImiC,qBArDpF,wEAwDgCniC,EAAIyiC,oBAAoB,GACvD,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,sBAAsBziC,EAAIyiC,oBAAoB,IAC9C,sBAAsBziC,EAAIyiC,oBAAoB,IAC/C,YACAziC,EAAIoiC,kBArEJ,+IAuE+HpiC,EAAIiiC,kBAvEnI,yIA0E+BtpD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GAC9D,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACpD,qBAAqBrmD,EAAUgd,OAAOwC,KAAK6mC,SAAS,GACrD,YACAh/B,EAAIkiC,iBAlFH,0DAoF+BliC,EAAIyiC,oBAAoB,GACvD,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,qBAAqBziC,EAAIyiC,oBAAoB,GAC7C,sBAAsBziC,EAAIyiC,oBAAoB,IAC9C,sBAAsBziC,EAAIyiC,oBAAoB,IA/F9C,oLAsG8EziC,EAAIqiC,iBAtGlF,wFAuGuEriC,EAAIuiC,kBAvG3E,0FAwGgFviC,EAAIsiC,6BAxGpF,gFAyGuEtiC,EAAIwiC,kBAzG3E,gFA0GsE7pD,EAAUwzC,OAAO8lD,mBA1GvF,yCA+GP,EACDC,IAAK,CAAE,EACPC,eAAgB,SAASloD,EAAKiE,EAAMjF,GACnC,IAAIhpB,EAAMgqB,EAAIiE,GACd,IAAIjuB,EAAK,OAAO,KAChB,GAAGA,EAAIliB,SAAU,OAAOkiB,EAExB,GAAGA,EAAI3oB,OACN,QAAQ0oB,EAAE,EAAGA,EAAIC,EAAI3oB,OAAQ0oB,IAC5B,GAAGC,EAAID,GAAGnhB,OAASoqC,EAClB,OAAOhpB,EAAID,EAGd,EACDoyE,gBAAiB,SAASnoD,EAAKiE,EAAMjF,GACpC,IAAIhpB,EAAMgqB,EAAIiE,GACd,IAAIjuB,EAAK,MAAO,GAChB,GAAGA,EAAI3oB,OAAO,CACb,GAAG2xC,EAAY,CAEd,IAAK,IADDjpB,EAAM,GACDkqB,EAAI,EAAGA,EAAIjqB,EAAI3oB,OAAQ4yC,IAC3BjqB,EAAIiqB,GAAGtrC,SAASohB,EAAI3Y,KAAK4Y,EAAIiqB,GAAGrrC,OAErC,OAAOmhB,CACX,CACI,IAASkqB,EAAI,EAAGA,EAAIjqB,EAAI3oB,OAAQ4yC,IAC/B,GAAIjqB,EAAIiqB,GAAGtrC,QAAS,OAAOqhB,EAAIiqB,GAAGrrC,KAEpC,CAED,OAAGohB,EAAIphB,MACEoqC,EAA0B,CAAChpB,EAAIphB,OAAjBohB,EAAIphB,WAAA,CAC3B,EAEDwzF,wBAAyB,SAASpoD,EAAKiE,GAEtC,OAAiB,EADLv1C,EAAUqtE,YAAuBmD,UAAEipB,gBAAgBnoD,EAAKiE,IAC7C,CACvB,EAEDokD,gBAAiB,SAASroD,EAAKiE,EAAMjF,GACpC,IAAIhpB,EAAMgqB,EAAIiE,GACd,GAAIjuB,EAEJ,GAAGA,EAAI9iB,MAAQ+wC,EACdjuB,EAAIphB,MAAQoqC,OAAA,GACJhpB,EAAI3oB,OAEZ,IAAK,IADD0oB,EAA6B,iBAATipB,EACfiB,EAAI,EAAGA,EAAIjqB,EAAI3oB,OAAQ4yC,KAC3BlqB,GAAcC,EAAIiqB,GAAGrrC,OAASoqC,KACjChpB,EAAIiqB,GAAGtrC,QAAUohB,IAAeipB,EAAMhpB,EAAIiqB,GAAGrrC,SAAWoqC,EAG3D,EAEDspD,gBAAgB,SAAStoD,EAAMiE,EAAOjF,GACrC,IAAIhpB,EAAQtnB,EAAUqtE,YAAuBmD,UACzCnpD,EAAYC,EAAMmyE,gBAClBloD,EAAYjqB,EAAMqyE,gBACtB35F,EAAUqtE,YAAuBmD,UAAE+oB,IAAM,CAACr2E,MAAMotB,EAAGkU,WAAYrhC,IAAImtB,EAAGupD,WAEtE,IAAIp7F,EAAkBuB,EAAUwf,KAAKqjD,YAAY7iE,EAAUwzC,OAAOsmD,aAAa,MAQ3EryE,EAAWznB,EAAUwf,KAAKusC,YAAY/rD,EAAUwzC,OAAOsmD,aAEvDh6F,EAAMwxC,EAAKD,qBAAqB,QAAQ,GACxC9hC,EAAM,CAAC,EAEX,SAASpL,EAAauiB,GACrB,IAAK,IAAIc,EAAI,EAAGA,EAAId,EAAK/nB,OAAQ6oB,IAAK,CACrC,IAAIiY,EAAM/Y,EAAKc,GAEf,GAAGiY,EAAIj7B,KACN,GAAI+K,EAAIkwB,EAAIj7B,MAEN,GAAG+K,EAAIkwB,EAAIj7B,MAAMyE,SAAS,CAC/B,IAAI8qB,EAAOxkB,EAAIkwB,EAAIj7B,MACnB+K,EAAIkwB,EAAIj7B,MAAQ,CAACuvB,EAAM0L,EAE7B,MACMlwB,EAAIkwB,EAAIj7B,MAAMkK,KAAK+wB,QANnBlwB,EAAIkwB,EAAIj7B,MAAQi7B,CAUlB,CACD,CAKD,GAHAt7B,EAAarE,EAAIuxC,qBAAqB,UACtCltC,EAAarE,EAAIuxC,qBAAqB,YAEjCrxC,EAAUwzC,OAAO8lD,mBAAoB,CACzC,IAAIr5F,EAAYD,EAAUwf,KAAKusC,YAAY/rD,EAAUwzC,OAAOsmD,aAC5D95F,EAAUwzC,OAAO8lD,mBAAqBr5F,EAAUD,EAAUwf,KAAKtgB,IAAIc,EAAUssD,eAAgB,GAAI,OACjG,CACD/a,EAAUhiC,EAAK,cAAevP,EAAUwzC,OAAO8lD,oBAE/C,IAAIp5F,EAAI,SAASwmB,GAChB,OAAO1mB,EAAU4wD,UAAUxb,cAAA,IAAA/uB,OAAkBK,KAAQ,CAAExa,MAAM,CAAC,EACjE,EAEE,SAAS5N,IACR4B,EAAE,kBAAkBgM,MAAMw2B,QAAU,OACpCxiC,EAAE,mBAAmBgM,MAAMw2B,QAAU,OACrCxiC,EAAE,oBAAoBgM,MAAMw2B,QAAU,OACtCxiC,EAAE,mBAAmBgM,MAAMw2B,QAAU,OACrCxiC,EAAE,cAAgBC,KAAK+F,OAAOgG,MAAMw2B,QAAU,GAC9C1iC,EAAUkwE,iBACV,CAsED,SAASzgD,EAAa/I,EAAKc,GAC1B,IAAIiY,EAAM/Y,EAASvD,IAEnB,GAAGsc,EAAI9gC,OAEN,GADmB8gC,EAAI,GAAGv5B,OAAyB,MAAhBu5B,EAAI,GAAGv5B,MAEzC,QAAQ6tB,EAAG,EAAGA,EAAI0L,EAAI9gC,OAAQo1B,IAC1B0L,EAAI1L,GAAG7tB,OAASshB,IAClBiY,EAAI1L,GAAG9tB,SAAA,OAEL,CACJ,IAAI6tB,EAAM,EACV,OAAOtM,GACN,IAAK,KACJsM,EAAM,EACN,MACD,IAAK,cACJA,EAAM,EACN,MACD,QACCA,EAAM,EAGR2L,EAAI3L,GAAK7tB,SAAU,CACnB,MAEDw5B,EAAIv5B,MAAQshB,CAEb,CAGDxnB,EAAUqtE,YAAuBmD,UAAEupB,iBAnGnC,SAAyBrzE,GACxB,IAAIc,EAAO,CAACH,EAAU9X,EAAK,WAG3B,IAFAmY,EAAUF,EAAK,IAAIA,EAAMd,GAElBc,EAAK7oB,OAAS,GAAG6oB,EAAK9Y,KAAK,IAClC,IAAI+wB,EAAS,GAET1L,EAqCL,SAAsBD,GACrB,IAAIzwB,EAAMywB,EAAS3Q,IACnB,GAAG9f,EAAI1E,QACN,QAAQiV,EAAG,EAAGA,EAAIvQ,EAAI1E,OAAQiV,IAC7B,GAAGvQ,EAAIuQ,GAAG3N,QACT,OAAG5C,EAAIuQ,GAAG1N,OAAyB,MAAhB7C,EAAIuQ,GAAG1N,MAClB7C,EAAIuQ,GAAG1N,MAEV0N,EAEU,GAALA,EACD,cAEA,mBAJA,aAURvQ,EAAI6C,MACN,OAAO7C,EAAI6C,MAEb,MAAO,IACP,CAvBD,CArCwBqJ,GAEvB,MAAW,MAAPwkB,GACHrN,EAAMvD,IAAM,IAAIvK,KAAK,KAAM,EAAG,GAC9B6mB,EAAS,MAEM,eAAP1L,EACRrN,EAAMvD,IAnEO,SAAS2Q,GACvB,IAAIzwB,EAAO5E,EAAgBq1B,GAG3B,OAFI9zB,EAAUwzC,OAAOwmD,iBACpB32F,EAAOrD,EAAUwf,KAAKtgB,IAAImE,EAAM,EAAG,QAC7BA,CACV,CALiB,CAmEQgkB,EAAU9X,EAAK,iBAGpCvP,EAAUi6F,eAAezyE,EAAKoH,KAAK,MACnC6Q,EAASntB,KAAK0+C,IAAI,EAAG3pC,EAAU9X,EAAK,qBAqBpCmX,EAAMvD,IAAMnjB,EAAUwf,KAAK,OAASgI,EAAKoH,KAAK,MAAM,IAAIhW,KAAK8N,EAAMxD,OAAQuc,EAnB9D,EAmB+E,CAAC+kB,WAAY99B,EAAMxD,SAAWwD,EAAMxD,OAG1HsE,EAAKoH,KAAK,KAAO,IAAM6Q,CAC9B,EAyDD,IAAI/X,EAAY,CACf/H,MAAM,SAAS+G,EAAMc,GACpB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEipB,gBAC/C1lE,EAAoB/zB,EAAUqtE,YAAuBmD,UAAEkpB,wBAEvB,KAAhCj6D,EAAUlwB,EAAK,eAClBmX,EAAKhY,KAAK4D,KAAK0+C,IAAI,EAAGj9B,EAAkBxkB,EAAK,iBAC7CiY,EAAMtE,MAAM6+C,QAAQtiC,EAAUlwB,EAAK,gBAEnCmX,EAAKhY,KAAK4D,KAAK0+C,IAAI,EAAGj9B,EAAkBxkB,EAAK,kBAC7CmX,EAAKhY,KAAM+wB,EAAUlwB,EAAK,eAC1BmX,EAAKhY,KAAK4D,KAAK0+C,IAAI,EAAGj9B,EAAkBxkB,EAAK,iBACxCvP,EAAUwzC,OAAO0mD,gBACrB1yE,EAAMtE,MAAM6+C,QAAQ,IAGtBv6C,EAAM2yE,QAAA,CACN,EACD/5E,KAAK,SAASsG,EAAMc,GACnB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEipB,gBAC/C1lE,EAAoB/zB,EAAUqtE,YAAuBmD,UAAEkpB,wBAE3DhzE,EAAKhY,KAAK4D,KAAK0+C,IAAI,EAAGj9B,EAAkBxkB,EAAK,gBAC7CmX,EAAKhY,KAAK,IACVgY,EAAKhY,KAAK,IAQV,IAAK,IAPDolB,EAAI,GAEJzwB,EAAMo8B,EAAUlwB,EAAK,YAAY,GAEjCqE,EAAM4T,EAAMtE,MAAM8oC,SAClB3rB,GAAe,EAEVrM,EAAI,EAAGA,EAAI3wB,EAAI1E,OAAQq1B,IAC/BF,EAAEplB,KAAKrL,EAAI2wB,IACXqM,EAAeA,GAAgBh9B,EAAI2wB,IAAMpgB,EAErCkgB,EAAEn1B,SACNm1B,EAAEplB,KAAKkF,GACPysB,GAAe,GAEhBvM,EAAE+lB,OAGG75C,EAAUwzC,OAAO0mD,eAGV75D,IACXrgC,EAAUo6F,mBAAmB5yE,EAAMtE,MAAO4Q,EAAG,EAAG,GAChDtM,EAAM2yE,QAAS,IAJf3yE,EAAMtE,MAAQljB,EAAUwf,KAAKssC,WAAWtkC,EAAMtE,OAC9CsE,EAAM2yE,QAAS,GAMhBzzE,EAAKhY,KAAKolB,EAAElF,KAAK,KACjB,EACDo5B,IAAI,SAASthC,GACZ,IAAIc,EAAYxnB,EAAUqtE,YAAuBmD,UAAEipB,gBAC/Ch6D,EAAoBz/B,EAAUqtE,YAAuBmD,UAAEkpB,wBAEzB,KAA9BlyE,EAAUjY,EAAK,YAClBmX,EAAKhY,KAAK4D,KAAK0+C,IAAI,EAAGvxB,EAAkBlwB,EAAK,gBAG7CmX,EAAKhY,KAAK,QACVgY,EAAKhY,KAAK,GACVgY,EAAKhY,KAAK,IACVgY,EAAKhY,KAAK,IACVgY,EAAKhY,KAAK1O,EAAUwzC,OAAO0lD,mBAAmBtqE,KAAK,MACnDlI,EAAK+hB,OAAO,EAAG,GAEhB,EACDsf,KAAK,SAASrhC,EAAMc,GACnB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEipB,gBAEhB,KAA/Bh6D,EAAUlwB,EAAK,cAClBmX,EAAKhY,KAAK,KACV8Y,EAAMtE,MAAMioC,SAAS,GACrB3jC,EAAMtE,MAAM6+C,QAAQtiC,EAAUlwB,EAAK,aACnCiY,EAAMtE,MAAMioC,SAAS1rB,EAAUlwB,EAAK,iBAGpCmX,EAAKhY,KAAK,KACVgY,EAAKhY,KAAK+wB,EAAUlwB,EAAK,cACzBmX,EAAKhY,KAAK+wB,EAAUlwB,EAAK,eACzBiY,EAAMtE,MAAM6+C,QAAQ,GACpBv6C,EAAMtE,MAAMioC,SAAS1rB,EAAUlwB,EAAK,iBAErCiY,EAAM2yE,QAAS,CACf,GAEE37F,EAAY,CACf4hB,KAAK,SAASsG,EAAMc,GACnB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEmpB,gBACnDl6D,EAAUlwB,EAAK,aAAcmX,EAAK,IAIlC,IAAK,IAFDqN,EAAIrN,EAAK,GAAG7lB,MAAM,KAClBizB,EAAI,CAAC,EACAzwB,EAAI,EAAGA,EAAI0wB,EAAEp1B,OAAQ0E,IAAKywB,EAAEC,EAAE1wB,KAAM,EAE7Co8B,EAAUlwB,EAAK,WAAYukB,EAI3B,EACDnU,MAAM,SAAS+G,EAAMc,GACpB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEmpB,gBAEnC,KAAZjzE,EAAK,IACR+Y,EAAUlwB,EAAK,aAAc,KAC7BkwB,EAAUlwB,EAAK,cAAemX,EAAK,IACnC+Y,EAAUlwB,EAAK,YAAaiY,EAAMtE,MAAM4zB,aAExCrX,EAAUlwB,EAAK,aAAc,KAC7BkwB,EAAUlwB,EAAK,eAAgBmX,EAAK,IACpC+Y,EAAUlwB,EAAK,cAAgBmX,EAAK,IACpC+Y,EAAUlwB,EAAK,aAAcmX,EAAK,IAEnC,EACDshC,IAAI,SAASthC,EAAMc,GAClB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEmpB,gBACnDl6D,EAAUlwB,EAAK,WAAY,KAC3BkwB,EAAUlwB,EAAK,YAAamX,EAAK,GACjC,EACDqhC,KAAK,SAASrhC,EAAMc,GACnB,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEmpB,gBAEnC,KAAZjzE,EAAK,IACR+Y,EAAUlwB,EAAK,YAAa,KAC5BkwB,EAAUlwB,EAAK,WAAYiY,EAAMtE,MAAM4zB,WACvCrX,EAAUlwB,EAAK,aAAciY,EAAMtE,MAAM2zB,cAGzCpX,EAAUlwB,EAAK,YAAa,KAC5BkwB,EAAUlwB,EAAK,aAAcmX,EAAK,IAClC+Y,EAAUlwB,EAAK,YAAamX,EAAK,IACjC+Y,EAAUlwB,EAAK,cAAeiY,EAAMtE,MAAM2zB,YAE3C,GA2CF72C,EAAUqtE,YAAuBmD,UAAE6pB,iBAxCnC,SAAyB3zE,EAAMc,GAC9B,IAAIiY,EAAYz/B,EAAUqtE,YAAuBmD,UAAEmpB,gBAC/C5lE,EAAOrN,EAAK7lB,MAAM,KAItB,OAHA6lB,EAAOqN,EAAK,GAAGlzB,MAAM,KACrBrC,EAAUkoB,EAAK,IAAIA,EAAMc,GAEjBuM,EAAK,IACZ,IAAK,KACJtE,EAAalgB,EAAK,MAClB,MACD,IAAK,GACJkgB,EAAalgB,EAAK,eAElB,IAAIukB,EAAWtM,EAAMrE,IACjBnjB,EAAUwzC,OAAOwmD,iBACpBlmE,EAAW9zB,EAAUwf,KAAKtgB,IAAI40B,GAAA,EAAc,QAE7C2L,EAAUlwB,EAAK,cAAekY,EAASqM,IAEvC,MACD,QACCrE,EAAalgB,EAAK,oBAClBkwB,EAAUlwB,EAAK,mBAAoBwkB,EAAK,IAK1C0L,EAAUlwB,EAAK,SAAUmX,EAAK,IAG9B,IAAIrjB,EAAOrD,EAAUqtE,YAAuBmD,UAAEgpB,eAAejqF,EAAK,SAAUmX,EAAK,IAC7D,UAAjBrjB,EAAK+B,UAEP/B,EAAKwS,cAAc,IAAIkrE,MAAM,WAC7B19E,EAAKwS,cAAc,IAAIykF,WAAW,WAElCj3F,EAAKwS,cAAc,IAAIykF,WAAW,SAEnC,EAID,IAAK,IAAIj2F,EAAI,EAAGA,EAAIvE,EAAIy6F,SAAS57F,OAAQ0F,IAAK,CAC7C,IAAIqmB,EAAK5qB,EAAIy6F,SAASl2F,GAEhB,WADEqmB,EAAGlmB,OAEU,UAAfkmB,EAAGtlB,UAAyBslB,EAAGupB,gBAGxBvpB,EAAGupB,kBACbvpB,EAAGupB,iBAAkB,EACrBvpB,EAAGvb,iBAAiB,QAAS7Q,KAJ7BosB,EAAGupB,iBAAkB,EACrBvpB,EAAGvb,iBAAiB,SAAU7Q,IAOjC,CACD0B,EAAU4wD,UAAU4pC,gBAAA,CACpB,EACDjtB,UAAU,SAASj8B,EAAMiE,EAAOjF,GAC/B,IAAIhpB,EAAKtnB,EAAUqtE,YAAuBmD,UACrCxwE,EAAU4wD,UAAU4pC,gBACxBlzE,EAAGsyE,gBAAgBtoD,EAAMiE,EAAOjF,GACjCgB,EAAK8vB,MAAQ9wB,EAAG+T,SAEhB/S,EAAKmpD,QAAUt6F,KAAKu6F,uBAAuBpqD,GAE3C,IAAIjpB,EAAKC,EAAGiyE,IACZlyE,EAAGnE,MAAQotB,EAAGkU,WACdn9B,EAAGlE,IAAMmtB,EAAGupD,UAEZvyE,EAAGqzE,gBAECplD,GACHjuB,EAAG+yE,iBAAiB9kD,EAAOluB,EAC5B,EACDimD,UAAU,SAASh8B,EAAMiE,GACxB,GAAIjE,EAAK8vB,KAAM,CACd,IAAI9wB,EAAKtwC,EAAUqtE,YAAuBmD,UAAE+oB,IACxCjyE,EAAe,CAAC,GAAD,WA6ErB,IAAID,EAAcrnB,EAAUmtE,YAAY,QASxC,GARI9lD,IACHA,EAAc9oB,EAAsB,SAEjC8oB,IACHA,EAAc9oB,EAAsB,mBAIhC8oB,EACJ,MAAM,IAAI7jB,MAAM,CAAC,gLACnB,wLACA,6DACA,GACA,yCACA,kEACCorB,KAAA,OAGA,OAAOvH,CACP,EAjGqB,GAIPzhB,SAAS0hB,GACrBgpB,EAAGptB,MAAQoE,EAAak9B,WACxBjP,EAAG8O,SAAWrkD,EAAUqtE,YAAuBmD,UAAEupB,iBAAiBzpD,GAC9DA,EAAG6pD,QACN5kD,EAAGiP,WAAa,IAAI5rC,KAAK03B,EAAGptB,OAC5BqyB,EAAGqlD,YAAc,IAAIhiF,KAAK03B,EAAGptB,OAC7BotB,EAAG6pD,QAAA,GAEH5kD,EAAGqlD,YAAc,KAElBrlD,EAAGskD,UAAYvpD,EAAGntB,IAClBoyB,EAAG+O,YAAc/O,EAAG8O,SAASxjD,MAAM,KAAK,EAC3C,MACG00C,EAAG8O,SAAW9O,EAAG+O,YAAc,GAC/B/O,EAAGskD,UAAYtkD,EAAGoP,SAEnB,OAAOpP,EAAG8O,QACV,EACDw2C,YAAa,WAEZ,OADWz2F,IAAsByqD,OACrBnmD,WAAWA,UACvB,EACDoyF,UAAW,WACV,OAAO12F,IAAsB8d,IAC7B,EACDk/C,KAAK,WACJ,IAAI9vB,EAAQtxC,EAAUqtE,YAAYmD,UAEvBl/B,EAAMwpD,YACR15B,MACR9vB,EAAMqpD,eACP,EACD1G,MAAO,WACN,IAAI3iD,EAAQtxC,EAAUqtE,YAAYmD,UAEvBl/B,EAAMwpD,YAET15B,MACP9vB,EAAMqpD,eACP,EACDA,cAAe,WACd,IAAIrpD,EAAQtxC,EAAUqtE,YAAYmD,UAE9Bj7B,EAAOjE,EAAMwpD,YAChBxqD,EAAKgB,EAAMupD,cACPtlD,EAAK6rB,MAAS7rB,EAAKklD,SAOvBllD,EAAKrpC,MAAMmR,OAAS,MACjBizB,IACFA,EAAGpkC,MAAM6uF,mBAAqB,YAC9BzqD,EAAGluB,YAAY7Z,UAAYvI,EAAUgd,OAAOqhC,OAAOmJ,oBATpDjS,EAAKrpC,MAAMmR,OAAS,OACjBizB,IACFA,EAAGpkC,MAAM6uF,mBAAqB,WAC9BzqD,EAAGluB,YAAY7Z,UAAYvI,EAAUgd,OAAOqhC,OAAOoJ,wBASrDlS,EAAK6rB,MAAQ7rB,EAAK6rB,KAElBphE,EAAUkwE,iBACV,EACDzrD,MAAM,SAAS6sB,GACd,EACD0+B,aAAa,SAAS1+B,EAAMiE,EAAQjF,GACvBtwC,EAAUqtE,YAAYmD,UACjBsqB,YACPL,SACTz6F,EAAUqtE,YAAYmD,UAAUmqB,eACjC,GAyDF36F,EAAUg7F,aAAe,CAAC,EAC1Bh7F,EAAUi7F,kBAAoB,CAAC,EAC/Bj7F,EAAU48C,gBAAkB,SAAStL,EAAIiE,GACxCjE,EAAG4pD,UAAY3lD,EACfp1C,KAAK66F,aAAa1pD,EAAG36B,IAAM26B,EACtBnxC,KAAK86F,kBAAkB3pD,EAAGyoC,aAAY55E,KAAK86F,kBAAkB3pD,EAAGyoC,WAAa,CAAC,GACnF55E,KAAK86F,kBAAkB3pD,EAAGyoC,WAAWxkC,GAAQjE,CAC9C,EACAtxC,EAAUm7F,gBAAkB,SAAS7pD,EAAMiE,GAC1C,IAAIjF,EAAKnwC,KAAK86F,kBAAkB1lD,GAChC,OAAIjF,EAAWA,EAAGgB,GACX,IACR,EACAtxC,EAAUo7F,iBAAmB,SAAS9pD,GACrC,OAAQnxC,KAAK86F,kBAAkB3pD,IAAO,EACvC,EAeAtxC,EAAUq7F,UAAY,GAEjBt7F,EAAgBC,EAAUi2C,SAC9Bj2C,EAAUi2C,SAAW,SAAS3E,EAAYiE,EAAUjF,EAAMhpB,EAAID,GAC7D,IAAIkqB,EAAQxxC,EAAcuP,MAAMnP,KAAMzB,WAEtC,GAAI6yC,GAASvxC,EAAUw8C,SAASjL,GAAQ,CACvC,IAAI9yC,EAAKuB,EAAUw8C,SAASjL,GAEzB9yC,EAAG+lD,aACL/lD,EAAG+lD,WAAah1B,EAAkB/wB,EAAG+lD,aAEnC/lD,EAAGkmD,WACLlmD,EAAGkmD,SAAWn1B,EAAkB/wB,EAAGkmD,WAEhCxkD,KAAKu6F,uBAAuBj8F,IAC/BuB,EAAU48C,gBAAgBn+C,EAAsB,IAAlBA,EAAGw7E,cAC9Bx7E,EAAG4lD,WACN5lD,EAAG6lD,YAAc7lD,EAAG4lD,SAASxjD,MAAM,KAAK,GACzC,CACD,OAAO0wC,CACT,EAGAvxC,EAAU0hB,YAAY,mBAAmB,SAAS4vB,EAAIiE,GACrD,IAAIp1C,KAAKm7F,aAAT,CACAn7F,KAAKm7F,cAAA,EAEFt7F,EAAUg7F,aAAa1pD,KAEzBtxC,EAAUg7F,aAAazlD,GAAUv1C,EAAUg7F,aAAa1pD,UACjDtxC,EAAUg7F,aAAa1pD,IAG5BtxC,EAAUi7F,kBAAkB3pD,KAC9BtxC,EAAUi7F,kBAAkB1lD,GAAUv1C,EAAUi7F,kBAAkB3pD,UAC3DtxC,EAAUi7F,kBAAkB3pD,IAGpC,IAAK,IAAIhB,EAAI,EAAGA,EAAInwC,KAAKk7F,UAAU18F,OAAQ2xC,KACtChpB,EAAMnnB,KAAKk7F,UAAU/qD,IACjBypC,WAAazoC,IACpBhqB,EAAIyyD,UAAYxkC,EAChBp1C,KAAK0kD,cAAcv9B,EAAI3Q,GAAI4+B,EAAS,IAAMjuB,EAAI3Q,GAAG9V,MAAM,KAAK,KAI9D,QAAQyvC,KAAKnwC,KAAK66F,aAAa,CAC9B,IAAI1zE,GAAAA,EAAMnnB,KAAK66F,aAAa1qD,IACrBypC,WAAazoC,IACnBhqB,EAAIyyD,UAAYxkC,EAChBjuB,EAAIi0E,cAAA,EAEL,CAED,IAAIl0E,EAAKrnB,EAAUg7F,aAAazlD,GAC7BluB,GAAMA,EAAGk0E,sBACJl0E,EAAGk0E,aACVpyE,YAAW,WACV,GAAGnpB,EAAUkuD,WACZ,OAAO,EAERluD,EAAUu2C,UAAU,iBAAkB,CAAChB,EAAQv1C,EAAUw8C,SAASjH,IAClE,GAAE,WAGGp1C,KAAKm7F,YAzCkB,CA0C/B,IACAt7F,EAAU0hB,YAAY,gCAAgC,SAAS4vB,GAC9D,IAAIiE,EAAKp1C,KAAKq8C,SAASlL,GACvB,GAAInxC,KAAK0jD,kBAAkBvS,IAAQnxC,KAAKu6F,uBAAuBnlD,IAAOA,EAAG8O,UAA2B,QAAf9O,EAAG8O,SAAqB,CAC5G/S,EAAKA,EAAGzwC,MAAM,KACd,IAAIyvC,EAAMnwC,KAAK42C,MACXzvB,EAAOgqB,EAAG,GAAMA,EAAG,GAAKh/B,KAAKgnC,MAAM/D,EAAG2lD,UAAY,KAElD7zE,EAAMlnB,KAAKkpE,YAAY9zB,GAC3BluB,EAAI1Q,GAAK25B,EACTjpB,EAAI0yD,UAAYxkC,EAAGwkC,WAAazoC,EAAG,GACnC,IAAIC,EAAYjqB,EAChBD,EAAI4yD,aAAe1oC,EACnBlqB,EAAIg9B,SAAWh9B,EAAIi9B,YAAc,OACjCnkD,KAAK81C,SAAS5uB,GAEdlnB,KAAKy8C,gBAAgBv1B,EAAiB,IAAZkqB,EAC5B,KAAQ,CACFgE,EAAG8O,UAAYlkD,KAAKsyD,cACvBtyD,KAAKm6E,iBAAiB/kC,GACvB,IAAI92C,EAAM0B,KAAKi7F,iBAAiB9pD,GAChC,IAAK,IAAI7pB,KAAKhpB,EACTA,EAAIiB,eAAe+nB,KACtB6pB,EAAK7yC,EAAIgpB,GAAG9Q,GACRxW,KAAKq8C,SAASlL,IACjBnxC,KAAKw8C,YAAYrL,GAAI,GAGxB,CACD,OAAO,CACR,IACAtxC,EAAU0hB,YAAY,kBAAkB,SAAS4vB,EAAIiE,IAChDp1C,KAAK0jD,kBAAkBvS,IAAOnxC,KAAKu6F,uBAAuBnlD,KACzDv1C,EAAU07C,QAAQpK,KACrBiE,EAAG8O,SAAW9O,EAAG+O,YAAc,OAC/BnkD,KAAK2mE,SAASx1B,EAAIiE,IAGrB,IACAv1C,EAAU0hB,YAAY,kBAAkB,SAAS4vB,EAAIiE,GACpD,GAAIp1C,KAAK47C,SAAU,OAAO,EAE1B,IAAIzL,EAAKnwC,KAAKq8C,SAASlL,GAEvB,GAAInxC,KAAK0jD,kBAAkBvS,GAAK,CAC3BA,EAAKA,EAAGzwC,MAAM,KAAlB,IACIymB,EAAMnnB,KAAK42C,MACf52C,KAAKknE,aAAA,EAEL,IAAIhgD,EAAMlnB,KAAKkpE,YAAY9zB,GAC3BluB,EAAI1Q,GAAK2Q,EACTD,EAAI0yD,UAAYzoC,EAAG,GACnB,IAAIC,EAAYD,EAAG,GACnBjqB,EAAI4yD,aAAe1oC,EACnBlqB,EAAIg9B,SAAWh9B,EAAIi9B,YAAc,GAEjCnkD,KAAKy8C,gBAAgBv1B,EAAiB,IAAZkqB,GAC1BpxC,KAAK81C,SAAS5uB,GAEdlnB,KAAKknE,aAAc,CAErB,KAAQ,CACH/2B,EAAGkU,aACLlU,EAAGkU,WAAah1B,EAAkB8gB,EAAGkU,aAEnClU,EAAGqU,WACLrU,EAAGqU,SAAWn1B,EAAkB8gB,EAAGqU,WAGhCrU,EAAG+T,UAAYlkD,KAAKsyD,cACvBtyD,KAAKm6E,iBAAiBhqC,GAEvB,IAAI7xC,EAAM0B,KAAKi7F,iBAAiB9pD,GAChC,IAAK,IAAI7pB,KAAKhpB,EACTA,EAAIiB,eAAe+nB,YACftnB,KAAK66F,aAAav8F,EAAIgpB,GAAG9Q,IAChCxW,KAAKw8C,YAAYl+C,EAAIgpB,GAAG9Q,IAAA,WAGnBxW,KAAK86F,kBAAkB3pD,GAI9B,IAAK,IADDxxC,GAAe,EACVyP,EAAI,EAAGA,EAAIpP,KAAK4mE,UAAUpoE,OAAQ4Q,IACtCpP,KAAK4mE,UAAUx3D,GAAGiiC,aAAarxC,KAAKqzC,OAAO6xB,kBAAoB/zB,IAClExxC,GAAA,GAEGA,IACJK,KAAKyxD,WAAa,KACnB,CACD,OAAO,CACR,IACA5xD,EAAU0hB,YAAY,gBAAgB,SAAS4vB,GAC9C,IAAKnxC,KAAK47C,SAAU,CACnB,IAAIxG,EAAKp1C,KAAKq8C,SAASlL,GACnBiE,EAAG8O,WAAa9O,EAAG0kC,cACtB95E,KAAKm6E,iBAAiB/kC,EAEvB,CACD,OAAO,CACR,IACAv1C,EAAU0hB,YAAY,eAAe,SAAS4vB,EAAIiE,EAAMjF,GAIvD,OAHSnwC,KAAKq8C,SAASlL,GACf+S,WAAY9O,EAAK8O,UAAalkD,KAAK0jD,kBAAkBvS,KAC5DnxC,KAAKyxD,WAAa,OACZ,CACR,IACA5xD,EAAU0hB,YAAY,kBAAkB,SAAS4vB,GAChD,IAAIiE,EAAKp1C,KAAKq8C,SAASlL,GAGvB,OAFKiE,EAAG8O,WACP9O,EAAG8O,SAAW9O,EAAG+O,YAAc/O,EAAG0kC,aAAe1kC,EAAGwkC,UAAY,KAC1D,CACR,IACA/5E,EAAU0hB,YAAY,iBAAiB,SAAS4vB,GAC/C,IAAIiE,EAAKp1C,KAAKq8C,SAASlL,GACnBiE,EAAG8O,WACNlkD,KAAKm6E,iBAAiB/kC,GAEtBp1C,KAAKi4D,mBAEP,IACAp4D,EAAUs6E,iBAAmB,SAAShpC,GAClCA,EAAGkT,aACLlT,EAAGkT,WAAah1B,EAAkB8hB,EAAGkT,aAEnClT,EAAGqT,WACLrT,EAAGqT,SAAWn1B,EAAkB8hB,EAAGqT,WAEpCrT,EAAG2oC,aAAe3nE,KAAKgnC,OAAOhI,EAAGqT,SAASn8C,UAAY8oC,EAAGkT,WAAWh8C,WAAa,KACjF8oC,EAAGqT,SAAWrT,EAAGuoD,UACbvoD,EAAGspD,cACNtpD,EAAGkT,WAAW2G,SAAS,GACvB7Z,EAAGkT,WAAWud,QAAQzwB,EAAGspD,YAAY9jD,WACrCxF,EAAGkT,WAAW2G,SAAS7Z,EAAGspD,YAAY/jD,YACtCvF,EAAGkT,WAAW4G,YAAY9Z,EAAGspD,YAAYhkD,eAG3C,EAEA52C,EAAU6jD,kBAAoB,SAASvS,GACtC,OAAsC,GAA/BA,EAAG7oC,WAAW0D,QAAQ,IAC9B,EACAnM,EAAU06F,uBAAyB,SAASppD,GAC3C,OAAQA,EAAGyoC,WAA6B,KAAhBzoC,EAAGyoC,SAC5B,EAEA/5E,EAAUw7F,iBAAmBx7F,EAAU0zD,aACvC1zD,EAAU0zD,aAAe,SAASpiB,GACjC,IAAIiE,EAASp1C,KAAK6c,OACdszB,EAAItwC,EAAUwzC,OAAOioD,mBACrBn0E,EAAKnnB,KAAKq8C,SAASlL,GACnBjqB,EAAMC,EAAGyyD,UACTxoC,EAAYpxC,KAAK0jD,kBAAkBvS,GACnCC,IACHlqB,EAAMiqB,EAAGzwC,MAAM,KAAK,IAGrB,IAAIpC,EAAa,SAASqB,GACzB,IAAIyP,EAAQvP,EAAUw8C,SAAS18C,GAG/B,OAFAyP,EAAMsqF,UAAYtqF,EAAMo1C,SACxBp1C,EAAMo1C,SAAW,IAAI/rC,KAAKrJ,EAAMi1C,WAAWh8C,UAAiC,IAArB+G,EAAM0qE,cACtDj6E,EAAUw7F,iBAAiB17F,EACpC,EAEC,IAAMunB,GAAW,EAAJA,GAAU,IAAMC,EAAG+8B,SAE/B,OAAO5lD,EAAW6yC,GAEnB,IAAMjqB,GAAe,MAARA,IAAmBkuB,EAAO8I,OAAOiJ,mBAA0B,YAALhX,GAA0B,UAALA,IAAkBiB,EAEzG,OAAOpxC,KAAKq7F,iBAAiBlqD,GAE9B,GAAS,OAALhB,EAAY,CACf,IAAI7oB,EAAOtnB,KACXH,EAAUw/C,SAAS,CAClBv/B,KAAMs1B,EAAO8I,OAAOiJ,kBACpBnJ,MAAO5I,EAAO8I,OAAOq9C,wBACrBt+E,MAAO,QACPi3B,SAAU,SACVn6B,QAAQ,CAACq7B,EAAO8I,OAAOqJ,mBAAoBnS,EAAO8I,OAAOsJ,uBAAwBpS,EAAO8I,OAAOwI,aAC/F30B,SAAU,SAASpyB,GAClB,QAAQA,GACP,KAAK,EACJ,OAAOrB,EAAW4oB,GACnB,KAAK,EACJ,OAAOI,EAAK+zE,iBAAiBlqD,GAC9B,KAAK,EACJ,OAEF,GAEJ,MACE7yC,EAAW4oB,EAEb,EAGArnB,EAAU27F,uBAAyB37F,EAAUknE,mBAC7ClnE,EAAUknE,mBAAqB,SAAS51B,GACvC,IAAK,IAAIiE,EAAI,EAAGA,EAAIp1C,KAAKk7F,UAAU18F,OAAQ42C,WACnCp1C,KAAKu7C,QAAQv7C,KAAKk7F,UAAU9lD,GAAG5+B,IACvCxW,KAAKk7F,UAAY,GAEjB,IAAI/qD,EAAQnwC,KAAKw7F,uBAAuBrqD,GACpChqB,EAAM,GACV,IAASiuB,EAAI,EAAGA,EAAIjF,EAAM3xC,OAAQ42C,IAC7BjF,EAAMiF,GAAG8O,SAEgB,QAAxB/T,EAAMiF,GAAG+O,aACZnkD,KAAK25F,YAAYxpD,EAAMiF,GAAIjuB,GAExBA,EAAI5Y,KAAK4hC,EAAMiF,IAErB,OAAOjuB,CACR,EAGA,WACC,IAAIgqB,EAAMtxC,EAAUk4D,cACpBl4D,EAAUk4D,cAAgB,SAAS5nB,GAClC,QAAIA,EAAG+T,UACA/S,EAAI9vC,KAAKrB,KAAMmwC,EACxB,EACC,IAAIiF,EAAmBv1C,EAAU+xD,YACjC/xD,EAAU+xD,YAAc,SAASzhB,GAChC,IAAIhpB,EAAKtnB,EAAUw8C,SAASlM,GACzBhpB,GAAMA,EAAG+8B,WAGX/8B,EAAGg9B,aAAeh9B,EAAG+8B,UAAY,IAAIxjD,MAAM,KAAK,IAE7CymB,GAAMA,EAAG+8B,WAAalkD,KAAK0jD,kBAAkBvT,GAChDtwC,EAAUy3D,cAEVliB,EAAiB/zC,KAAKrB,KAAMmwC,EAE/B,CACC,CApBD,GAsBAtwC,EAAU47F,gBAAkB,CAC3B5zC,IAAI,EAAG5nC,KAAK,EAAGT,MAAM,EAAGooC,KAAK,IAE9B/nD,EAAUwf,KAAKq8E,SAAW,SAASvqD,EAAIiE,EAAKjF,GAC3CgB,EAAGywB,QAAQ,GACX,IAAIz6C,EAAgBtnB,EAAUwf,KAAK4sC,YAAY,IAAIxzC,KAAK04B,IAGpDjqB,EAAa,EAANkuB,GAFXjF,EAAoB,GAAZA,EAAO,IACJgB,EAAG0a,SACqB,EACnC1a,EAAGywB,QAAQ16C,GAAQipB,EAAQjpB,EAAO,EAAKA,GACvC,IAAIkqB,EAAWvxC,EAAUwf,KAAK4sC,YAAY,IAAIxzC,KAAK04B,IACnD,OAAGhqB,EAAc9e,YAAc+oC,EAAS/oC,SAIzC,EACAxI,EAAUo6F,mBAAqB,SAAS9oD,EAAIiE,EAAMjF,EAAKhpB,EAAMD,GAE5D,IAAK,IADDkqB,GAAQD,EAAG0a,WAAahsD,EAAUwzC,OAAOsuB,gBAAkB,EAAI,IAAMxxB,EAChE7xC,EAAI,EAAGA,EAAI82C,EAAK52C,OAAQF,IAChC,GAAI82C,EAAK92C,GAAK8yC,EACb,OAAOD,EAAGywB,QAAQzwB,EAAGwF,UAAsB,EAAVvB,EAAK92C,GAAS8yC,GAAQjqB,EAAOgpB,EAAMjpB,IAEtElnB,KAAKi6F,mBAAmB9oD,EAAIiE,EAAMjF,EAAMhpB,EAAM,KAAMgpB,EACrD,EACAtwC,EAAUi6F,eAAiB,SAAS3oD,GACnC,IAAIiE,EAAqB,aAAejE,EACxC,IAAKnxC,KAAKqf,KAAK+1B,GAAqB,CACnC,IAAIjF,EAAiBgB,EAAKzwC,MAAM,KAE5BymB,EAAe,OAASgqB,EACxBjqB,EAAoBlnB,KAAKy7F,gBAAgBtrD,EAAe,IAAMA,EAAe,GAEjF,GAAyB,OAArBA,EAAe,IAAoC,QAArBA,EAAe,GAAc,CAC9D,IAAIiB,EAAW,KACf,GAAIjB,EAAe,KAClBiB,EAAWjB,EAAe,GAAGzvC,MAAM,KAC/Bb,EAAUwzC,OAAOsuB,iBAAiB,CACrC,IAAK,IAAIrjE,EAAI,EAAGA,EAAI8yC,EAAS5yC,OAAQF,IACpC8yC,EAAS9yC,GAAoB,EAAd8yC,EAAS9yC,IAAW,EACpC8yC,EAASsI,MACT,CAGF15C,KAAKqf,KAAK+1B,GAAsB,SAAS9tB,EAAI3nB,GAC5C,IAAIyP,EAAQ+C,KAAKk9B,OAAO1vC,EAAG0I,UAAYif,EAAGjf,YAhBxB,MAgBsD6e,IAMxE,OALI9X,EAAQ,GACXkY,EAAGs6C,QAAQt6C,EAAGqvB,UAAYvnC,EAAQ8X,GAC/BkqB,GACHvxC,EAAUo6F,mBAAmB3yE,EAAI8pB,EAAU,EAAGlqB,GAExCI,CACX,EACGtnB,KAAKqf,KAAK8H,GAAgB,SAASG,EAAI3nB,GACtC,IAAIyP,EAAK,IAAIqJ,KAAK6O,EAAGjf,WACrB,GAAI+oC,EACH,IAAK,IAAIptC,EAAQ,EAAGA,EAAQrE,EAAKqE,IAChCnE,EAAUo6F,mBAAmB7qF,EAAIgiC,EAAU,EAAGlqB,QAE/C9X,EAAGwyD,QAAQxyD,EAAGunC,UAAYh3C,EAAMunB,GAEjC,OAAO9X,CACX,CACG,KAC6B,SAArB+gC,EAAe,IAAsC,QAArBA,EAAe,KACvDnwC,KAAKqf,KAAK+1B,GAAsB,SAAS9tB,EAAI3nB,EAAIyP,GAChD,IAAIpL,EAAQmO,KAAK6wB,MAA0B,GAAnBrjC,EAAG82C,cAAqC,EAAhB92C,EAAG+2C,WAAiB,GAAyB,GAAnBpvB,EAAGmvB,cAAqC,EAAhBnvB,EAAGovB,WAAiB,IAAExvB,EAA0B,GAOlJ,OALIljB,GAAS,IACZsjB,EAAGs6C,QAAQ,GACXt6C,EAAG0jC,SAAS1jC,EAAGovB,WAAa1yC,EAAQkjB,IAG9BrnB,EAAUwf,KAAK8H,GAAcG,EAAI,EAAGlY,EAI/C,EACGpP,KAAKqf,KAAK8H,GAAgB,SAASG,EAAI3nB,EAAKyP,EAAgBpL,GAO3D,GANIA,EAGHA,IAFAA,EAAe,EAKbA,EADY,GAEd,OAAO,KAGR,IAAIlE,EAAK,IAAI2Y,KAAK6O,EAAGjf,WACrBvI,EAAG8hE,QAAQ,GAGX9hE,EAAGkrD,SAASlrD,EAAG42C,WAAa/2C,EAAMunB,GAClC,IAAInnB,EAAYD,EAAG42C,WACfv4C,EAAW2B,EAAG22C,cAClB32C,EAAG8hE,QAAQxyD,EAAei1C,WAAW1N,WACjCxG,EAAe,IAClBtwC,EAAUwf,KAAKq8E,SAAS57F,EAAIqwC,EAAe,GAAIA,EAAe,IAG/D,IAAI7gB,EAA2BzvB,EAAUwzC,OAAOsoD,6BAYhD,OAXG77F,EAAG42C,YAAc32C,GAAyC,QAA5BuvB,IAI/BxvB,EAF+B,YAA7BwvB,EAEG,IAAI7W,KAAKta,EAAU4B,EAAY,EAAG,EAAGD,EAAG+zD,WAAY/zD,EAAGm2D,aAAcn2D,EAAGyiE,aAAcziE,EAAG87F,mBAGzF/7F,EAAUwf,KAAK8H,GAAc,IAAI1O,KAAKta,EAAU4B,EAAY,EAAG,GAAIJ,GAAK,EAAGyP,EAAgBpL,IAI3FlE,CACX,EAEE,CACF,EACAD,EAAU85F,YAAc,SAASxoD,EAAIiE,EAAOjF,EAAYhpB,EAAMD,EAAIkqB,GAEjEjqB,EAAOA,GAAQnnB,KAAKgyD,UACpB9qC,EAAKA,GAAMlnB,KAAKkyD,UAChB,IAAI5zD,EAAM8yC,IAAA,EACN9pB,EAAK,IAAI7O,KAAK04B,EAAGkT,WAAWh8C,WAE5B1I,EAAY2nB,EAAGusC,WAEfzkD,EAAe,EAOnB,KALK+hC,EAAGgT,aAAehT,EAAG+S,WACzB/S,EAAGgT,YAAchT,EAAG+S,SAASxjD,MAAM,KAAK,IAEzCV,KAAK85F,eAAe3oD,EAAGgT,aACvB78B,EAAKznB,EAAUwf,KAAK,aAAe8xB,EAAGgT,aAAa78B,EAAIH,EAAMgqB,GACrD7pB,IACPA,EAAK6pB,EAAGkT,YACRxkD,EAAUg8F,0BAA0Bv0E,EAAGH,EAAKgqB,EAAG7pB,EAAG,IAAI7O,KAAK6O,EAAGjf,UAA8B,IAAlB8oC,EAAG2oC,eAAsBzxE,WAAa8e,EAAK9e,WACrHif,EAAGjf,UAA8B,IAAlB8oC,EAAG2oC,cAAuB3yD,EAAK9e,YAC7Cif,EAAKtnB,KAAKqf,KAAK,OAAS8xB,EAAGgT,aAAa78B,EAAI,EAAG6pB,GAGjD,KAAO7pB,GAAOA,EAAKJ,GAAMI,EAAK6pB,EAAGqT,WAAalmD,EAAM,GAAK8Q,EAAe9Q,IAAO,CAC9EgpB,EAAGwsC,SAASn0D,GAEZ,IAAIqE,EAAanE,EAAUwzC,OAAkCylD,4BAAIrgF,KAAK6oD,IAAIh6C,EAAGmvB,cAAenvB,EAAGovB,WAAYpvB,EAAGqvB,UAAWrvB,EAAGusC,WAAYvsC,EAAG2uC,aAAc3uC,EAAGi7C,cAAgBj7C,EAAGjf,UAC3KvI,EAAKE,KAAKg7F,gBAAgBh3F,EAAWmtC,EAAG36B,IAC5C,GAAK1W,EAyBDqwC,IACe,QAAfrwC,EAAGokD,UACL90C,IAEDgmC,EAAM7mC,KAAKzO,QA7BH,CACR,IAAIC,EAAM,IAAI0Y,KAAK6O,EAAGjf,UAA8B,IAAlB8oC,EAAG2oC,cACjC37E,EAAO6B,KAAKkpE,YAAY/3B,GAY5B,GAVAhzC,EAAK2hB,KAAOqxB,EAAGrxB,KACf3hB,EAAKkmD,WAAa/8B,EAClBnpB,EAAKy7E,UAAYzoC,EAAG36B,GACpBrY,EAAKqY,GAAK26B,EAAG36B,GAAK,IAAMrE,KAAKgnC,MAAMn1C,EAAY,KAC/C7F,EAAKqmD,SAAWzkD,EAEhB5B,EAAKqmD,SAAW3kD,EAAUg8F,0BAA0B19F,EAAKkmD,WAAYlmD,EAAKqmD,SAAUrT,EAAI7pB,EAAInpB,EAAKqmD,UAEjGrmD,EAAKg2D,OAASn0D,KAAK+3D,cAAc55D,IAE5BA,EAAKg2D,SAAWn0D,KAAKqwD,cAAgBrwD,KAAKqzC,OAAOgnB,UAAW,OACjEjlB,EAAM7mC,KAAKpQ,GAENgyC,IACJnwC,KAAKu7C,QAAQp9C,EAAKqY,IAAMrY,EACxB6B,KAAKk7F,UAAU3sF,KAAKpQ,IAGrBiR,GAEA,CAQDkY,EAAKtnB,KAAKqf,KAAK,OAAS8xB,EAAGgT,aAAa78B,EAAI,EAAG6pB,EAI/C,CACF,EACAtxC,EAAUg8F,0BAA4B,SAAS1qD,EAAYiE,EAAUjF,EAAIhpB,EAASD,GACjF,IAAIkqB,EAAQD,EAAWukB,oBAAsBtgB,EAASsgB,oBACtD,OAAItkB,EACCA,EAAQ,EAEJ,IAAI34B,KAAK0O,EAAQ9e,UAA8B,IAAlB8nC,EAAG2pC,aAA8B,GAAR1oC,EAAa,KAInE,IAAI34B,KAAK28B,EAAS/sC,UAAoB,GAAR+oC,EAAa,KAG7C,IAAI34B,KAAKyO,EAAa7e,UAC9B,EACAxI,EAAUw6E,YAAc,SAASlpC,EAAIiE,GACpC,IAAIjF,EAAkB,iBAANgB,EAAiBA,EAAKtxC,EAAUw8C,SAASlL,GACrDhqB,EAAa,GAGjB,GAFAiuB,EAAMA,GAAO,KAERjF,EAAG+T,SACP,MAAO,CACN,CAAEG,WAAYlU,EAAGkU,WAAYG,SAAUrU,EAAGqU,WAG5C,GAAmB,QAAfrU,EAAG+T,SACN,MAAO,GAGRrkD,EAAU85F,YAAYxpD,EAAIhpB,GAAA,EAAkBgpB,EAAGkU,WAAYlU,EAAGqU,SAAUpP,GAGxE,QADIluB,EAAS,GACLkqB,EAAI,EAAGA,EAAIjqB,EAAW3oB,OAAQ4yC,IACR,QAA1BjqB,EAAWiqB,GAAG8S,UAChBh9B,EAAO3Y,KAAK,CAAC81C,WAAYl9B,EAAWiqB,GAAGiT,WAAYG,SAAUr9B,EAAWiqB,GAAGoT,WAI7E,OAAOt9B,CACR,EACArnB,EAAU+nE,UAAY,SAASz2B,EAAMiE,GACpC,IAAIjF,EAAS,GACb,IAAK,IAAIhpB,KAAKnnB,KAAKu7C,QAAS,CAC3B,IAAIr0B,EAAKlnB,KAAKu7C,QAAQp0B,GACtB,GAAID,GAAMA,EAAGm9B,WAAajP,GAAMluB,EAAGs9B,SAAWrT,EAC7C,GAAIjqB,EAAGi9B,YAAa,CACnB,GAAsB,QAAlBj9B,EAAGi9B,YAAuB,SAC9B,IAAI/S,EAAM,GACVpxC,KAAK25F,YAAYzyE,EAAIkqB,GAAA,EAAWD,EAAMiE,GACtC,IAAK,IAAI92C,EAAI,EAAGA,EAAI8yC,EAAI5yC,OAAQF,KAE1B8yC,EAAI9yC,GAAG6lD,aAAe/S,EAAI9yC,GAAG+lD,WAAajP,GAAMhE,EAAI9yC,GAAGkmD,SAAWrT,IAASnxC,KAAK66F,aAAazpD,EAAI9yC,GAAGkY,KACxG25B,EAAO5hC,KAAK6iC,EAAI9yC,GAGlB,MAAW0B,KAAK0jD,kBAAkBx8B,EAAG1Q,KACrC25B,EAAO5hC,KAAK2Y,EAGd,CACD,OAAOipB,CACR,EAEAtwC,EAAUwzC,OAAOsmD,YAAc,WAC/B95F,EAAUwzC,OAAO4nB,SAASC,SAAW,CACpC,CAAC72D,KAAK,cAAe82D,OAAO,OAAQ76D,KAAK,WAAagkB,OAAA,GACtD,CAACjgB,KAAK,YAAa/D,KAAK,YAAa66D,OAAO,WAAYrhD,OAAO,aAC/D,CAACzV,KAAK,OAAQ6Y,OAAO,GAAI5c,KAAK,OAAQ66D,OAAO,SAK9Ct7D,EAAU8pE,YAAc,SAASx4B,GAChC,IAAIiE,EAAa,IAAI38B,KAAKzY,KAAKqkD,YAC3BlU,EAAW,IAAI13B,KAAKzY,KAAKwkD,UAC7BxkD,KAAKqkD,WAAajP,EAClBp1C,KAAKwkD,SAAWrU,EAChBnwC,KAAK85E,aAAe95E,KAAK45E,UAAY55E,KAAKmkD,YAAcnkD,KAAKkkD,SAAW,IACzE,EAEArkD,EAAUwzC,OAAOwmD,gBAAiB,EAClCh6F,EAAUwzC,OAAOioD,mBAAqB,MAEtCz7F,EAAU0hB,YAAY,cAAc,WACnC1hB,EAAUg7F,aAAe,CAAC,EAC1Bh7F,EAAUi7F,kBAAoB,CAAC,EAC/Bj7F,EAAUq7F,UAAY,EACvB,GAEA,E9CjuCC55C,U+CpEc,SAASzhD,GAGxB,MAAMoE,EAAsBmc,EAAgBvgB,GAG5CA,EAAUi8F,gBAAgB,WACzB,IAAI19F,EAAQ,GACRixB,EAASxvB,EAAUykD,SAASyB,WAC5BnmD,EAAaqE,IACjB,IAAK,IAAIktC,KAAKvxC,EAAW,CACxB,IAAIw1C,EAAKx1C,EAAWuxC,GACpB,IAAK,IAAIhB,KAAQiF,EACO,KAAnBjF,EAAKm8B,OAAO,EAAE,IACjBluE,EAAMmQ,KAAK,CAAC4hC,EAAe,cAARA,GAAgC,YAARA,EAAoB9gB,EAAO,OACxE,KACA,CACD,OAAOjxB,CACR,EAEAyB,EAAUk8F,MAAQ,SAAS39F,GAC1B,IAAIixB,EAAM,GACNzvB,EAAQI,KAAK87F,kBACb3qD,EAAaltC,IACjB,IAAK,IAAImxC,KAAKjE,EAAW,CACxB,IAAIhB,EAAKgB,EAAWiE,GAEpB/lB,EAAI9gB,KAAK,WACT,IAAK,IAAI4Y,EAAE,EAAGA,EAAIvnB,EAAMpB,OAAQ2oB,IAC/BkI,EAAI9gB,KAAK,IAAI3O,EAAMunB,GAAG,GAAG,cAAcvnB,EAAMunB,GAAG,GAAGvnB,EAAMunB,GAAG,GAAGgpB,EAAGvwC,EAAMunB,GAAG,KAAKgpB,EAAGvwC,EAAMunB,GAAG,KAAK,QAAQvnB,EAAMunB,GAAG,GAAG,KAEtHkI,EAAI9gB,KAAK,WACT,CACD,OAAQnQ,GAAQ,IAAI,SAASixB,EAAIZ,KAAA,MAAW,SAC7C,EAEA5uB,EAAUm8F,sBAAwB,SAAS59F,GAY1C,OAXa,OAAVA,GAAmC,kBAAVA,EAC3BA,EAAQ,GAAKA,GAETA,GAAmB,IAAVA,IACZA,EAAQ,IAETA,EAAQ,IAAMA,EAAMkK,WACnB3G,QAAQ,MAAM,IACdA,QAAQ,MAAM,QACdA,QAAQ,KAAM,OAAS,KAElBvD,CACR,EAIAyB,EAAUo2F,OAAS,WAClB,OAAOztD,KAAKC,UAAUzoC,KAAKshD,YAC5B,EAGAzhD,EAAUo8F,OAAS,SAAS79F,GAC3B,IAEIixB,EAASxvB,EAAUwf,KAAKusC,YAAY,iBACpChsD,EAAkBC,EAAUwf,KAAKusC,YAAY,UAE7Cza,EAAO,GACPiE,EAAanxC,IACjB,IAAK,IAAIksC,KAAKiF,EAAW,CACxB,IAAIjuB,EAAKiuB,EAAWjF,GAGpBgB,EAAK5iC,KAAK,gBACL4Y,EAAGgtC,SAAYhtC,EAAGk9B,WAAWwP,YAAe1sC,EAAGk9B,WAAW4R,cAG9D9kB,EAAK5iC,KAAK,WAAW8gB,EAAOlI,EAAGk9B,aAF/BlT,EAAK5iC,KAAK,WAAW3O,EAAgBunB,EAAGk9B,aAGpCl9B,EAAGgtC,SAAYhtC,EAAGq9B,SAASqP,YAAe1sC,EAAGq9B,SAASyR,cAG1D9kB,EAAK5iC,KAAK,SAAS8gB,EAAOlI,EAAGq9B,WAF7BrT,EAAK5iC,KAAK,SAAS3O,EAAgBunB,EAAGq9B,WAGvCrT,EAAK5iC,KAAK,WAAW4Y,EAAGrH,MACxBqxB,EAAK5iC,KAAK,aACV,CACD,MAvBY,2FAuBEnQ,GAAQ,SAAS+yC,EAAK1iB,KAAA,MAAK,iBAC1C,CAEA,E/ChBCi+B,SgDpEc,SAAS7sD,GACvB+3B,GAAqB,WAAY/3B,EAAUw/D,OAC5C,EhDmECkY,QiDrED,SAAyB13E,GAExBA,EAAUwzC,OAAO8kC,gBAAkB,GACnCt4E,EAAUwzC,OAAO2jC,iBAAmB,GACpCn3E,EAAUwzC,OAAO0jC,iBAAmB,GACpCl3E,EAAUwzC,OAAO+kC,qBAAuB,GAElC,MAAAn0E,EAAiB,IAAIozE,GAAex3E,GAE1CA,EAAUk1E,IAAImnB,SAAWj4F,EAEfpE,EAAA0hB,YAAY,oBAAoB,WAEzCtd,EAAe+zE,WAAW,CACzBL,SAAU,IAAM93E,EAAUwzC,OAAO6xB,gBAAkB,IACnDvwB,KAAOv2C,IACN,GAAIyB,EAAU83D,UAAY93D,EAAUwzC,OAAO8oD,cAC1C,OAGD,MAAM9sE,EAAgBxvB,EAAU2xD,cAAcpzD,EAAMuP,QAChD,GAAA9N,EAAUw8C,SAAShtB,GAAgB,CAChC,MAAAzvB,EAAQC,EAAUw8C,SAAShtB,GACjC,OAAOxvB,EAAUusD,UAAUga,aAAaxmE,EAAMykD,WAAYzkD,EAAM4kD,SAAU5kD,EAC3E,CACO,aAERqzC,QAAQ,GACR,IAGQpzC,EAAA0hB,YAAY,aAAa,WAClCtd,EAAe0hD,YAAW,IAGjB9lD,EAAA0hB,YAAY,cAAc,WACnCtd,EAAewzE,aAAY,IAGlB53E,EAAA0hB,YAAY,gBAAgB,WAE9B,OADPtd,EAAewzE,eAAA,CACR,IAEE53E,EAAA0hB,YAAY,kBAAkB,WAEhC,OADPtd,EAAewzE,eAAA,CACR,GAGT,EjDsBCxC,akDtEc,SAASp1E,GACvB+3B,GAAqB,gBAAiB/3B,EAAUw/D,OACjD,ElDqEColB,MmDvEc,SAAS5kF,GACvB+3B,GAAqB,QAAS/3B,EAAUw/D,OACzC,EnDsECr/C,IoD1Ec,SAASngB,GAExBA,EAAUy7E,aAAe,WAGxB,IAAK,IAFDr3E,EAAI,CAAC,EACL7F,GAAQc,SAASyd,SAASy/E,MAAQ,IAAIz6F,QAAQ,IAAK,IAAIjB,MAAM,KACxD2uB,EAAI,EAAGA,EAAIjxB,EAAKI,OAAQ6wB,IAAK,CACrC,IAAIzvB,EAAIxB,EAAKixB,GAAG3uB,MAAM,KACN,GAAZd,EAAEpB,SACLyF,EAAErE,EAAE,IAAMA,EAAE,GACb,CACD,OAAOqE,CACR,EAEApE,EAAU0hB,YAAY,oBAAoB,WACzC,IAAItd,GAAQ,EACR7F,EAAMyB,EAAUwf,KAAKqjD,YAAY,YACjCrzC,EAAMxvB,EAAUwf,KAAKusC,YAAY,YACjChsD,EAAgBC,EAAUy7E,eAAej7D,OAAS,KAuDtD,SAAS8wB,EAAUiE,GAClB,GAAGv1C,EAAUkuD,WACZ,OAAO,EAERnuD,EAAew1C,EACZv1C,EAAUw8C,SAASjH,IACrBv1C,EAAU2qE,UAAUp1B,EAErB,CA7DDv1C,EAAU0hB,YAAY,uBAAuB,SAAS6zB,GAErD,OADAx1C,EAAe,OAEjB,IAECC,EAAU0hB,YAAY,sBAAsB,SAAU6zB,EAAIjF,EAAIhpB,EAAGD,GAChE,GAAIjjB,EAAO,CACVA,GAAQ,EACR,IAAImtC,EAAIvxC,EAAUy7E,eAElB,GAAIlqC,EAAE/wB,MACL,IACC,GAAGxgB,EAAUw8C,SAASjL,EAAE/wB,OAIvB,OAHA2I,YAAW,WACVmoB,EAAUC,EAAE/wB,MACnB,OAGM,IAAI/hB,EAAUuB,EAAU0hB,YAAY,SAAS,WAC5CyH,YAAW,WACVmoB,EAAUC,EAAE/wB,MACpB,IACOxgB,EAAUuhB,YAAY9iB,EAC7B,GAEA,OAAiB,CAGd,GAAI8yC,EAAE/xB,MAAQ+xB,EAAE1jB,KAAM,CACrB,IACC1tB,KAAKs0C,eAAgBlD,EAAE/xB,KAAOjhB,EAAIgzC,EAAE/xB,MAAQ,KAAQ+xB,EAAE1jB,MAAQ,KAC9D,OAEA1tB,KAAKs0C,eAAgBlD,EAAE/xB,KAAOjhB,EAAIgzC,EAAE/xB,MAAQ,KAAO8H,EACnD,CACD,OAAO,CACP,CACD,CAED,IAAIG,EAAS,CACZ,QAAU+H,EAAInI,GAAKipB,GACnB,SAAWhpB,GAAKiuB,IAGdx1C,GACF0nB,EAAO/Y,KAAK,SAAW3O,GAGxB,IAAID,EAAO,IAAM2nB,EAAOmH,KAAK,KAE7B,OADAvvB,SAASyd,SAASy/E,KAAOz8F,GAAA,CAE3B,GAWA,GACA,EpDPCgtD,YqDzEc,SAAS9sD,GACvB+3B,GAAqB,cAAe/3B,EAAUw/D,OAC/C,ErDwECg9B,GsD5Ec,SAASx8F,GACxBA,EAAU0hB,YAAY,cAAa,WAClC,GAAIvhB,KAAK0uE,OACR,IACC1uE,KAAK0uE,OAAO3iE,MAAMmR,OAASld,KAAKwyD,SAAW,QAAWtzD,SAASgH,KAAK4H,YAAY5O,SAASgH,MAAMwiE,aAAa,IAC5G,OAEA,CAEH,IAEA7oE,EAAUqtE,YAAYt1B,OAAOw1B,UAAU,SAASnpE,EAAK7F,EAAMixB,QACtC,IAATjxB,GAAkC,KAAVA,IAClCA,GAAS6F,EAAKsE,WAAWnB,QAAQ,IAAI,CAAE,GAAErB,OAC1C9B,EAAKsE,WAAWxC,MAAM3H,GAAO,EAC9B,CAEA,EtD4DCk+F,UuD7Ec,SAASz8F,GAMvBA,EAAUusD,UAAUmwC,UAAY,SAASpsD,GACxC,OAAOtwC,EAAUwf,KAAKusC,YAAY/rD,EAAUgd,OAAOqhC,OAAOgK,SAAW,MAA9DroD,CAAqEswC,EAC9E,EACCtwC,EAAUusD,UAAUowC,WAAa38F,EAAUwf,KAAKusC,YAAY,MAC5D/rD,EAAUusD,UAAUqwC,gBAAkB58F,EAAUwf,KAAKusC,YAAY,MACjE/rD,EAAUusD,UAAUswC,aAAe,SAASvsD,EAAGhpB,EAAGD,GACjD,OAAOA,EAAGpH,IACZ,EAEC,MAAM7b,EAAa,WAClB,MAA0B,QAAnBpE,EAAUgyD,KACnB,EAEOzzD,EAAc,SAAS+xC,GAC5B,IAAIhpB,EAAMtnB,EAAU+0D,YAAYxb,QAAQjJ,EAAM,oBAC9C,OAAIhpB,GAAQA,EAAI4wB,aAAa,kBACtBl4C,EAAUusD,UAAU2O,WAAW5zC,EAAIkqB,aAAa,mBADA,IAEzD,EAGCxxC,EAAU88F,wBAA0B,SAASxsD,GAC5C,GAAIlsC,IAAc,CACjB,MAAMkjB,EAASgpB,EAAExiC,OACjB,GAAG9N,EAAU+0D,YAAYxb,QAAQjyB,EAAQ,gBAAkBtnB,EAAU+0D,YAAYxb,QAAQjyB,EAAQ,cAChG,SAGD,MAAMD,EAAO9oB,EAAY+oB,GAEzB,GAAGD,EAAK,CACP,MAAMkqB,EAAQlqB,EACR5oB,EAAM0B,KAAKqf,KAAKtgB,IAAIqyC,EAAO,EAAG,QAC/BpxC,KAAKqzC,OAAOyf,UAAY9yD,KAAKqzC,OAAO4gB,iBACxCj0D,KAAKyzD,YAAYriB,EAAM/oC,UAAW/J,EAAI+J,UAAW8nC,EAElD,CACD,CACH,EAECtwC,EAAU0hB,YAAY,mBAAmB,WACpCtd,KACHjE,KAAKs8F,WAAU,EAClB,IAGC,IAAIjtE,EAAMxvB,EAAUynE,YACpBznE,EAAUynE,YAAc,SAASn3B,GAChC,IAAKlsC,IAAc,OAAOorB,EAAIlgB,MAAMnP,KAAMzB,WAC1C,IAAK,IAAI4oB,EAAI,EAAGA,EAAIgpB,EAAI3xC,OAAQ2oB,IAC/BnnB,KAAK48F,mBAAmBzsD,EAAIhpB,GAC/B,EAEC,IAAIvnB,EAAQC,EAAU6mE,WACtB7mE,EAAU6mE,WAAa,WACtB,IAAKziE,IAAc,OAAOrE,EAAMuP,MAAMnP,KAAMzB,WAC5C,IAAI4xC,EAAQtwC,EAAUg9F,mBAEtB,IAAK,IAAI11E,KAAQgpB,EACZA,EAAM5wC,eAAe4nB,IAClBgpB,EAAMhpB,GACR+rB,UAAUoG,OAAO,iBAAkB,4BAMzCz5C,EAAUg9F,mBAAqB,CAAC,CAClC,EAECh9F,EAAUi9F,aAAe,WACpB98F,KAAK+8F,WACR/8F,KAAK+8F,SAAShxF,MAAMw2B,QAAU,OAC9BviC,KAAK+8F,SAAS19E,KAAO,IAAI5G,KAAK,KAAM,EAAG,GAE1C,EAEC5Y,EAAUm9F,aAAe,SAAS7sD,EAAMhpB,EAAKD,EAAGkqB,GAC/C,GAAIpxC,KAAK+8F,SAAU,CAClB,GAAI/8F,KAAK+8F,SAAS19E,KAAKhX,WAAa8nC,EAAK9nC,UAAW,OACpDrI,KAAK+8F,SAAS30F,UAAY,EAC7B,KAAS,CACN,IAAI9J,EAAI0B,KAAK+8F,SAAW79F,SAASC,cAAc,OAC/Cb,EAAE42C,UAAY,mBACVl1C,KAAKqzC,OAAO0b,MAAKzwD,EAAE42C,WAAa,oBACpCh2C,SAASgH,KAAKuC,YAAYnK,GAC1BA,EAAE0Q,iBAAiB,QAASnP,EAAUoxD,OAAO4B,cAC7Cv0D,EAAE0Q,iBAAiB,SAAS,SAAS7Q,GACpC,GAAGA,EAAEwP,OAAOyrC,QAAA,IAAAlzB,OAAYrmB,EAAUwzC,OAAO6xB,gBAAoB,OAC5D,MAAM51C,EAAKnxB,EAAEwP,OAAOyrC,QAAA,IAAAlzB,OAAYrmB,EAAUwzC,OAAO6xB,gBAAoB,MAAA7zB,aAAaxxC,EAAUwzC,OAAO6xB,iBACnGrlE,EAAU0zD,aAAajkC,EACvB,CACL,GACG,CAID,IAAK,IAHDhI,EAAMtnB,KAAK4nE,UAAUz3B,EAAMnwC,KAAKqf,KAAKtgB,IAAIoxC,EAAM,EAAG,QAClDxwC,EAAO,GAEFyP,EAAI,EAAGA,EAAIkY,EAAI9oB,OAAQ4Q,IAAK,CACpC,IAAIpL,EAAKsjB,EAAIlY,GACb,GAAIpP,KAAKgnE,aAAahjE,EAAGwS,GAAIxS,GAA7B,CAGA,IAAIlE,EAAYkE,EAAGob,MAAS,oCAAsCpb,EAAGob,MAAQ,IAAO,GAChFrf,EAASiE,EAAGgmE,UAAa,+BAAiChmE,EAAGgmE,UAAY,IAAO,GAEpFrqE,GAAQ,wCAA0CG,EAAgBC,EAAQ,eAAiBunB,EAAIlY,GAAGoH,GAAK,KAAKxW,KAAKqzC,OAAO6xB,gBAAgB,KAAK59C,EAAIlY,GAAGoH,GAAG,KACvJ7W,GAAQ,wCAA0CG,EAAgBC,EAAQ,MAAQunB,EAAIlY,GAAG+kD,OAASn0D,KAAKosD,UAAUsZ,WAAWp+C,EAAIlY,GAAGi1C,YAAc,IAAM,SACvJ1kD,GAAQ,wDACRA,GAAQK,KAAKosD,UAAUswC,aAAap1E,EAAIlY,GAAGi1C,WAAY/8B,EAAIlY,GAAGo1C,SAAUl9B,EAAIlY,IAAM,QARxE,CASV,CAEDpP,KAAK+8F,SAAShxF,MAAMw2B,QAAU,GAC9BviC,KAAK+8F,SAAShxF,MAAMqY,IAAM,MAGtBllB,SAASgH,KAAKk0C,YAAcjzB,EAAIjD,KAAOlkB,KAAK+8F,SAAS3iD,YAAc,EACtEp6C,KAAK+8F,SAAShxF,MAAMmY,KAAOiD,EAAIjD,KAAOlkB,KAAK+8F,SAAS3iD,YAAc,KAElEp6C,KAAK+8F,SAAShxF,MAAMmY,KAAOiD,EAAIjD,KAAOktB,EAAIgJ,YAAc,KAEzDp6C,KAAK+8F,SAAS19E,KAAO8wB,EACrBnwC,KAAK+8F,SAAS30F,UAAYzI,EAEtBT,SAASgH,KAAKwxC,aAAevwB,EAAI/C,IAAMpkB,KAAK+8F,SAASrlD,aAAe,EACvE13C,KAAK+8F,SAAShxF,MAAMqY,IAAM+C,EAAI/C,IAAMpkB,KAAK+8F,SAASrlD,aAAetG,EAAIsG,aAAe,KAEpF13C,KAAK+8F,SAAShxF,MAAMqY,IAAM+C,EAAI/C,IAAM,IACvC,EAECvkB,EAAUo9F,2BAA6B,SAAS9sD,GAC/C,GAAKlsC,IAAL,CAEA,IAAIkjB,EAAMgpB,EAAExiC,QAAUwiC,EAAEviC,WACS,KAA7BuZ,EAAI0L,QAAQjyB,gBACfumB,EAAMA,EAAIrZ,aACoD,GAA3DjO,EAAUixD,cAAc3pC,GAAKnb,QAAQ,kBACxCnM,EAAUm9F,aAAan9F,EAAUusD,UAAU2O,WAAW5zC,EAAIkqB,aAAa,mBAAoBxxC,EAAU+0D,YAAYvc,UAAUlxB,GAAMgpB,EAAGhpB,GAEpItnB,EAAUi9F,cARe,CAS5B,EACCj9F,EAAUq9F,mBAAqB,WAC9Br9F,EAAU8tD,gBAAgB9tD,EAAU21C,KAAmBqd,aAAE,GAAI,YAAahzD,EAAUo9F,4BACpFp9F,EAAUwgB,MAAMxgB,EAAU21C,KAAmBqd,aAAE,GAAI,YAAahzD,EAAUo9F,2BAC5E,EAECp9F,EAAUylF,eAAiB,SAASn1C,GAGnC,QAFIhpB,EAAatnB,EAAUusD,UAAUC,YAAYlc,GAC7CjpB,EAAQlnB,KAAKguD,MAAMzlB,iBAAA,0DAAAriB,OAA2EiB,EAC1F,OAAAiqB,EAAI,EAAGA,EAAIlqB,EAAM1oB,OAAQ4yC,IAChC,IAAIvxC,EAAU+0D,YAAYxb,QAAQlyB,EAAMkqB,GAAI,2BAC3C,OAAOlqB,EAAMkqB,GAGf,OAAO,IACT,EAECvxC,EAAUg9F,mBAAqB,CAAC,EAChCh9F,EAAUs9F,gBAAkB,SAAShtD,EAAMhpB,GAC1C,IAAID,EAAarnB,EAAUusD,UAAUC,YAAYlc,GAC7CiB,EAAOpxC,KAAKslF,eAAen1C,GAC/B,GAAKiB,EAAL,CAGA,IAAI9yC,EAAW0B,KAAKosD,UAAUyZ,YAAY1+C,EAAMk9B,WAAYl9B,EAAMq9B,SAAUr9B,GACvEtnB,EAAUg9F,mBAAmB31E,KACjCkqB,EAAK8B,UAAUn0C,IAAI,iBAAkB,4BACrCqyC,EAAK3vC,aAAa,iBAAkBylB,GACpCkqB,EAAK3vC,aAAa,OAAQylB,GAC1BrnB,EAAUg9F,mBAAmB31E,GAAckqB,GAEzC9yC,GACF8yC,EAAK8B,UAAUn0C,IAAIT,EATnB,CAWH,EACCuB,EAAUu9F,kBAAoB,SAASjtD,GACtC,IAAIhpB,EAAOnnB,KAAKslF,eAAen1C,GAC1BhpB,GAGLA,EAAK+rB,UAAUoG,OAAO,iBAAkB,2BAE1C,EACCz5C,EAAU+8F,mBAAqB,SAASzsD,GACvC,IAAIhpB,EAAOgpB,EAAMkU,WAOjB,IALCl9B,EADGA,EAAK9e,UAAYrI,KAAKgyD,UAAU3pD,UAC5BrI,KAAKgyD,UAELhyD,KAAKqf,KAAK6sC,UAAU,IAAIzzC,KAAK0O,IAG9BA,EAAOgpB,EAAMqU,UAGnB,GAFAxkD,KAAKm9F,gBAAgBh2E,EAAMgpB,IAC3BhpB,EAAOnnB,KAAKqf,KAAKtgB,IAAIooB,EAAM,EAAG,QACrB9e,WAAarI,KAAKkyD,UAAU7pD,UACpC,MAEJ,EAECxI,EAAUy8F,UAAY,SAASnsD,GAM9B,GAJAtwC,EAAUuvD,YAEVvvD,EAAUwwD,YAAclgB,GAEpBnwC,KAAKm4D,aAAcn4D,KAAKo4D,QAE5B,GAAIjoB,EAAM,CAGT,GAFAtwC,EAAUq9F,qBACVr9F,EAAUw9F,oBACNx9F,EAAUs4D,YAAct4D,EAAUu4D,QAErC,YADAv4D,EAAUw4D,cAAA,GAGXx4D,EAAUo4D,kBACb,MACGp4D,EAAUi9F,cAEb,EACCj9F,EAAUw9F,kBAAoB,WAC7Br9F,KAAKq0D,MAAQ,GACbr0D,KAAK20D,OAAS,CAAC,EACf,IAAIxkB,EAAc,GACdhpB,EAAWnnB,KAAKw1C,KAAmBqd,aAAE,GAErC3rC,EAAIlnB,KAAKqzC,OACblsB,EAAS9C,UAAY,EACrB8C,EAAS/e,UAAY,GAEZ+J,KAAKk9B,OAAOmJ,SAASrxB,EAASpb,MAAMmR,QAAUrd,EAAUw1C,GAAGioD,UAAYp2E,EAAEyzD,QAKlF,IAAIvpC,EAAgBlyC,SAASC,cAAc,OACvCb,EAAa0B,KAAKqf,KAAKssC,WAAW9rD,EAAUssD,gBAEhDnsD,KAAKs5D,iBAAiBh7D,EAAY,EAAG,MAAO,GAE5C,IAAK,IAAIgpB,EAAI,EAAGA,EAAI,EAAGA,IACjBtnB,KAAKs0D,UAAYt0D,KAAKs0D,SAAShtC,KACnCtnB,KAAKq0D,MAAM/sC,GAAK,4CAChBtnB,KAAK+4D,iBAAiBzxC,EAAG,EAAGhpB,EAAY8yC,IAGzC9yC,EAAa0B,KAAKqf,KAAKtgB,IAAIT,EAAY,EAAG,OAI3C,IAFA8yC,EAAcvoC,UAAUqsC,WAAa,sBAE7B5tB,EAAI,EAAGA,EAAI8pB,EAAcoN,WAAWhgD,OAAQ8oB,IACnDtnB,KAAK69C,SAASwgB,aAAajtB,EAAcoN,WAAWl3B,IAGrD,IAAI3nB,EAAKK,KAAKqf,KAAKrf,KAAK6xD,MAAQ,UAAU7xD,KAAKqf,KAAKy3B,KAAK92C,KAAK8xD,QAC1D1iD,EAAMzP,EACNqE,EAAU,KACd,MAAMlE,EAAUZ,SAASC,cAAc,OAEvC,IADAW,EAAQozC,UAAUn0C,IAAI,oBACbuoB,EAAI,EAAGA,EAAIJ,EAAEyzD,OAAQrzD,IAC7B,IAAK,IAAIvnB,EAAI,EAAGA,EAAImnB,EAAEq2E,OAAQx9F,IAAK,EAClCiE,EAAU9E,SAASC,cAAc,QACzB+1C,UAAY,eAEpBlxC,EAAQvC,aAAa,OAAQzB,KAAKskD,SAASyB,WAAWpmD,IACtDqE,EAAQvC,aAAa,kBAAmBzB,KAAKskD,SAASyB,WAAWpmD,IACjEqE,EAAQoE,UAAY,2FAA6FgpC,EAAchpC,UAAY,gDAE3I,IAAIjK,EAAS6F,EAAQixC,cAAc,mBAC/B3lB,EAAOtrB,EAAQixC,cAAc,kBAC7B1tB,EAAOvjB,EAAQixC,cAAc,kBAE7B52C,EAAWwB,EAAU+2C,MACzB52C,KAAK69C,SAASsgB,WAAWhgE,EAAQE,GACjC2B,KAAK69C,SAASugB,SAAS9uC,EAAMjxB,GAG7BF,EAAOiK,UAAYpI,KAAKosD,UAAUowC,WAAW78F,GAI7C,IAAIuE,EAAKlE,KAAKqf,KAAKssC,WAAWhsD,GAC9BK,KAAKm6D,mBAAmB5yC,EAAM5nB,EAAIuE,EAAI,GAGtC,QADIqmB,EAAOhD,EAAKghB,iBAAiB,MACzBhiB,EAAM,EAAGA,EAAMgE,EAAK/rB,OAAQ+nB,IACnCvmB,KAAK69C,SAAS0gB,YAAYh0C,EAAKhE,IAGhCzmB,EAAQ2I,YAAYzE,GAEpBmsC,EAAY7oB,EAAIJ,EAAEq2E,OAASx9F,IAAMJ,EAAGksD,UAAY7rD,KAAKqzC,OAAOsuB,gBAAkB,EAAI,GAAK,GAAK,EAC5FhiE,EAAKK,KAAKqf,KAAKtgB,IAAIY,EAAI,EAAG,QAE1B,CAGFwnB,EAAS1e,YAAY3I,GAErB,IAAIunB,EAAcrnB,KAAK85D,qBACpBzyC,IACFA,EAAYjf,UAAYpI,KAAKosD,UAAUpsD,KAAK6xD,MAAQ,SAASziD,EAAKzP,EAAIK,KAAK6xD,QAG5E7xD,KAAKq3F,YAAclnD,EACnBA,EAAYmnD,OAASloF,EAAIsnC,WACzB12C,KAAKgyD,UAAY5iD,EACjBpP,KAAKkyD,UAAYvyD,CACnB,EAECE,EAAUw9F,kBAAoB,WAE7B,IAAIltD,EAAWnwC,KAAKw1C,KAAmBqd,aAAE,GAEzC1iB,EAAS9rB,UAAY,EACrB8rB,EAAS/nC,UAAY,GAErB,IAAI+e,EAAYnnB,KAAKqf,KAAKwiD,WAAW,IAAIppD,KAAKzY,KAAK8xD,QAEnD9xD,KAAKgyD,UAAYhyD,KAAKqf,KAAKssC,WAAW,IAAIlzC,KAAK0O,IAE/C,MAAMD,EAAUhoB,SAASC,cAAc,OACvC+nB,EAAQgsB,UAAUn0C,IAAI,oBAEtB,IAAIqyC,EAAcjqB,EAClB,QAAQxnB,EAAI,EAAGA,EAAI,GAAIA,IAAI,CAC1B,IAAIyP,EAAUlQ,SAASC,cAAc,OACrCiQ,EAAQ8lC,UAAY,eAEpB9lC,EAAQ3N,aAAa,OAAQzB,KAAKskD,SAASyB,WAAW3U,IACtDhiC,EAAQ3N,aAAa,kBAAmBzB,KAAKskD,SAASyB,WAAW3U,IACjEhiC,EAAQhH,UAAA,+BAAA8d,OAA2ClmB,KAAKosD,UAAUowC,WAAWprD,GAG7E,yDAAMptC,EAAWoL,EAAQ6lC,cAAc,kBACjCn1C,EAAaD,EAAU0/D,kBAAkB,KAAM,CACpDlgD,KAAM+xB,EACN2a,SAAU,IAEXjsD,EAAWyrD,eAAevnD,GAC1BlE,EAAW6lD,aAEXz+B,EAAQze,YAAY2G,GAEpBgiC,EAAcpxC,KAAKqf,KAAKtgB,IAAIqyC,EAAa,EAAG,QAE5C,CACDjB,EAAS1nC,YAAYye,GAErB,IAAI5oB,EAAW0B,KAAKqf,KAAKtgB,IAAIooB,EAAW,EAAG,QACxC7oB,EAAS+J,WAAarI,KAAKqf,KAAKssC,WAAW,IAAIlzC,KAAKna,IAAW+J,YACjE/J,EAAW0B,KAAKqf,KAAKssC,WAAW,IAAIlzC,KAAKna,IACzCA,EAAW0B,KAAKqf,KAAKtgB,IAAIT,EAAU,EAAG,SAEvC0B,KAAKkyD,UAAY5zD,EACjB,IAAIgpB,EAActnB,KAAK85D,qBACpBxyC,IACFA,EAAYlf,UAAYpI,KAAKosD,UAAUpsD,KAAK6xD,MAAQ,SAAS1qC,EAAW7oB,EAAU0B,KAAK6xD,OAE1F,EAEC,IAAI1gB,EAAgBtxC,EAAUkzD,cAC9BlzD,EAAUkzD,cAAgB,SAAS5iB,GAClC,OAAIlsC,IAKG,CACNob,KAFUjhB,EAAY+xC,EAAKxiC,QAG3B6tD,QAAQ,MANDrqB,EAAchiC,MAAMtP,EAAWtB,UAQzC,EAEC,IAAI62C,EAAcv1C,EAAU2xD,cAC5B3xD,EAAU2xD,cAAgB,SAASrhB,GAClC,IAAIhpB,EAAKiuB,EAAYjmC,MAAMtP,EAAWtB,WACtC,IAAI4oB,EAAG,CAEN,IAAID,EAAO9oB,EAAY+xC,GACvB,IAAIjpB,EAAM,OAAO,KACjB,IAAIkqB,EAAMvxC,EAAU+nE,UAAU1gD,EAAMrnB,EAAUwf,KAAKtgB,IAAImoB,EAAM,EAAG,QAChE,IAAIkqB,EAAI5yC,OAAQ,OAAO,KAGvB2oB,EAAKiqB,EAAI,GAAG56B,EACZ,CACD,OAAO2Q,CACT,EAECtnB,EAAU0hB,YAAY,aAAa,WAClC1hB,EAAUi9F,cACZ,GACA,GCzYMr7D,GAAU,ICQhB,MAECp8B,WAAAA,CAAaxF,GACZG,KAAKw9F,MAAQ,EACbx9F,KAAKy9F,kBAAoB,GACzBz9F,KAAK09F,mBAAqB79F,EAC1BG,KAAK29F,mBAAqB,IAAIzpB,GAAkBr0E,EAChD,CAED+9F,MAAAA,CAAO/9F,GACNG,KAAKy9F,kBAAkBlvF,KAAK1O,GAEzBitB,EAAO49B,WACT7qD,EAAKitB,EAAO49B,UAEb,CAED2oB,oBAAAA,CAAqBxzE,GAGpB,IAAK,IAFDoE,EAAYqoD,GAActsD,KAAK29F,oBAE1Bv/F,EAAI,EAAGA,EAAI4B,KAAKy9F,kBAAkBj/F,OAAQJ,IAClD4B,KAAKy9F,kBAAkBr/F,GAAG6F,GAY3B,OAVAA,EAAU45F,aAAe79F,KAAKw9F,QAE1Bx9F,KAAK89F,cACR99F,KAAK89F,aAAa75F,GAGhBpE,GACFG,KAAK+9F,gBAAgB95F,EAAWpE,GAG1BoE,CACP,CAED85F,eAAAA,CAAgBl+F,EAAWoE,GAe1B,GAdGA,EAAW+wE,SACbn1E,EAAUm1E,QAAQ/wE,EAAW+wE,SAG3B/wE,EAAWovC,QACbxzC,EAAUg3C,MAAMh3C,EAAUwzC,OAAQpvC,EAAWovC,QAAA,GAG3CpvC,EAAWmoD,WACbvsD,EAAU0hB,YAAY,oBAAoB,WACzC1hB,EAAUg3C,MAAMh3C,EAAUusD,UAAWnoD,EAAWmoD,WAAW,EAC/D,GAAM,CAACrW,MAAM,IAGR9xC,EAAW2nE,OACb,UAAUxtE,KAAS6F,EAAW2nE,OAC7B/rE,EAAU0hB,YAAYnjB,EAAO6F,EAAW2nE,OAAOxtE,IAI9C6F,EAAW4Y,QACbhd,EAAU60E,KAAKC,UAAU1wE,EAAW4Y,QAGlC5V,MAAMC,QAAQjD,EAAW+5F,YAC3B/5F,EAAW+5F,UAAUr9F,SAAQ,SAASvC,GACrCyB,EAAUo+F,YAAY7/F,EAC1B,IAGK6F,EAAWumD,UACb3qD,EAAU0jD,KAAKt/C,EAAWumD,WAE1B3qD,EAAU0jD,OAGRt/C,EAAWgX,OACiB,iBAApBhX,EAAWgX,KACpBpb,EAAU8sE,KAAK1oE,EAAWgX,MAE1Bpb,EAAUyiD,MAAMr+C,EAAWgX,MAG7B,GDxFmCo9D,IAE/Bh1C,GAAY5B,GAAQ4xC,uBACpB50D,GAAY,CACjBm/E,OAAQv6D,GAAUtc,KAAK0a,GAAQm8D,OAAQn8D,KAGxCxiC,OAAOyrD,UAAYrnB,GACnBpkC,OAAOm0E,UAAY30D,GAEfxf,OAAOi/F,OACVj/F,OAAOi/F,KAAO,CAAC,GAGhBj/F,OAAOi/F,KAAKxzC,UAAYrnB,GACxBpkC,OAAOi/F,KAAK9qB,UAAY30D,iBEdxB,MAAMisC,GAAYzrD,OAAOyrD,UAEV,MAAM0oB,WAAkBxmC,EAAAA,UACnCuxD,mBAAAA,GACI,GAAIzzC,GAAU0zC,cACV,OAGJ,MAAMC,EAAgBr+F,KAAK+uB,MAAMsvE,cAEjC3zC,GAAUnpC,YAAY,gBAAgB,CAAC/K,EAAIq+C,KACnCwpC,GACAA,EAAc,SAAUxpC,EAAIr+C,EAChC,IAGJk0C,GAAUnpC,YAAY,kBAAkB,CAAC/K,EAAIq+C,KACrCwpC,GACAA,EAAc,SAAUxpC,EAAIr+C,EAChC,IAGJk0C,GAAUnpC,YAAY,kBAAkB,CAAC/K,EAAIq+C,KACrCwpC,GACAA,EAAc,SAAUxpC,EAAIr+C,EAChC,IAEJk0C,GAAU0zC,eAAgB,CAChC,CACG3jE,iBAAAA,GACGiwB,GAAUsnB,KAAO,WACjBtnB,GAAUrX,OAAOqb,OAAS,CACtB,MACA,OACA,QACA,OACA,OACA,QACA,QAEJhE,GAAUrX,OAAO4vB,UAAY,WAC7BvY,GAAUrV,GAAGma,YAAc,GAE3BxvD,KAAKm+F,sBAEL,MAAM,OAAEvyB,GAAW5rE,KAAK+uB,MACxB27B,GAAUnH,KAAKvjD,KAAKs+F,mBAAoB,IAAI7lF,KAAK,KAAM,EAAG,KAC1DiyC,GAAUiV,WACVjV,GAAUpI,MAAMspB,EACpB,CACAjyC,qBAAAA,CAAsB4kE,GAClB,OAAOv+F,KAAK+uB,MAAMyvE,kBAAoBD,EAAUC,eACpD,CAEAnhE,kBAAAA,GACIqtB,GAAUlmD,QACd,CAEAi6F,aAAAA,CAAc1kE,GACV2wB,GAAUrX,OAAO4vB,UAAYlpC,EAAQ,QAAU,WAC/C2wB,GAAU0B,UAAUmO,WAAa7P,GAAUrrC,KAAKusC,YAAYlB,GAAUrX,OAAO4vB,UACjF,CAEAz+D,MAAAA,GACI,MAAM,gBAAEg6F,GAAoBx+F,KAAK+uB,MAEjC,OADA/uB,KAAKy+F,cAAcD,IAEfE,EAAAA,GAAAA,KAAA,OACItwE,IAAOthB,IAAY9M,KAAKs+F,mBAAqBxxF,CAAK,EAClDf,MAAQ,CAAEkR,MAAO,OAAQC,OAAQ,SAG7C,EC1EJ,YCDe,MAAMyhF,WAAgB/xD,EAAAA,UAAUvnC,WAAAA,GAAA,SAAA9G,WAAA,KAC3CqgG,4BAA+B/+F,IACvBG,KAAK+uB,MAAM8vE,yBACX7+F,KAAK+uB,MAAM8vE,wBAAwBh/F,EAAE8N,OAAO7H,QAChD,CACH,CACDtB,MAAAA,GACI,OACIk6F,EAAAA,GAAAA,KAAA,OAAKxpD,UAAU,sBAAqBxtC,UAChCo3F,EAAAA,GAAAA,MAAA,SAAO5pD,UAAU,oBAAmBxtC,SAAA,CAAC,gBAEjCg3F,EAAAA,GAAAA,KAAA,SAAOp+F,KAAK,WACRwF,QAAU9F,KAAK+uB,MAAMyvE,gBACrBO,SAAW/+F,KAAK4+F,+BAEpBF,EAAAA,GAAAA,KAAA,OAAKxpD,UAAU,mBAI/B,EClBJ,YCAe,MAAM8pD,WAAoBpyD,EAAAA,UACrCpoC,MAAAA,GACI,MAAMy4C,EAAWj9C,KAAK+uB,MAAMkuB,SAASzQ,KAAIgnB,IAAkB,IAAjB,QAAE74B,GAAS64B,EACjD,OAAOkrC,EAAAA,GAAAA,KAAA,MAAAh3F,SAA2BizB,GAAjBxoB,KAAK0U,SAAyB,IAGnD,OACIi4E,EAAAA,GAAAA,MAAA,OAAK5pD,UAAU,eAAcxtC,SAAA,EACzBg3F,EAAAA,GAAAA,KAAA,MAAAh3F,SAAI,eACJg3F,EAAAA,GAAAA,KAAA,MAAAh3F,SACMu1C,MAIlB,EAGJ+hD,GAAY9lE,aAAe,CACvB+jB,SAAU,IClBd,YCIMhiC,GAAO,CACT,CAAEopC,WAAW,kBAAmBG,SAAS,kBAAmB1kC,KAAK,UAAWtJ,GAAI,GAChF,CAAE6tC,WAAW,mBAAoBG,SAAS,mBAAoB1kC,KAAK,UAAWtJ,GAAI,IAGtF,MAAMyoF,WAAYryD,EAAAA,UAAUvnC,WAAAA,GAAA,SAAA9G,WAAA,KAE1Bw7B,MAAQ,CACNmlE,wBAAwB,EACxBjiD,SAAU,IACZ,KAeFkiD,cAAgB,CAAClqE,EAAQ4/B,EAAIr+C,KACzB,MAAMsJ,EAAO+0C,GAAMA,EAAG/0C,KAAI,KAAAoG,OAAQ2uC,EAAG/0C,KAAI,KAAM,GACzC6a,EAAO,SAAAzU,OAAY+O,EAAM,MAAA/O,OAAK1P,EAAE,KAAA0P,OAAIpG,GAC1C9f,KAAKo/F,WAAWzkE,EAAQ,EAC3B,KAEDikE,4BAA+B7kE,IAC3B/5B,KAAKisC,SAAS,CACVizD,uBAAwBnlE,GAC1B,CACL,CAxBDqlE,UAAAA,CAAWzkE,GACP,MAEMsiB,EAAW,CADE,CAAEtiB,cAGd36B,KAAK+5B,MAAMkjB,UAGdA,EAASz+C,OAPQ,IAQjBy+C,EAASz+C,OARQ,GAUrBwB,KAAKisC,SAAS,CAAEgR,YACpB,CAaAz4C,MAAAA,GACE,MAAM,uBAAE06F,EAAsB,SAAEjiD,GAAaj9C,KAAK+5B,MAClD,OACI+kE,EAAAA,GAAAA,MAAA,OAAAp3F,SAAA,EACIg3F,EAAAA,GAAAA,KAAA,OAAKxpD,UAAU,WAAUxtC,UACrBg3F,EAAAA,GAAAA,KAACC,GAAO,CACJH,gBAAiBU,EACjBL,wBAAyB7+F,KAAK4+F,iCAGtCF,EAAAA,GAAAA,KAAA,OAAKxpD,UAAU,sBAAqBxtC,UAChCg3F,EAAAA,GAAAA,KAACtrB,GAAS,CACNxH,OAAQ3wD,GACRujF,gBAAiBU,EACjBb,cAAer+F,KAAKm/F,mBAG5BT,EAAAA,GAAAA,KAACM,GAAW,CACR/hD,SAAUA,MAIxB,EAEC,YCtDD,GAZwBoiD,IAClBA,GAAeA,aAAuB3uD,UACxC,6BAAqBlnB,MAAKgqC,IAAkD,IAAjD,OAAE8rC,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAASlsC,EACpE8rC,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,EAAY,GAExB,ECHWM,EAAAA,WAAoBzgG,SAASq/C,eAAe,SACpD/5C,QACHk6F,EAAAA,GAAAA,KAACkB,EAAAA,WAAgB,CAAAl4F,UACfg3F,EAAAA,GAAAA,KAACO,GAAG,OAORY","sources":["../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/dhtmlx-scheduler/sources/global.js","../node_modules/dhtmlx-scheduler/sources/core/nav_bar.js","../node_modules/dhtmlx-scheduler/sources/utils/eventable.js","../node_modules/dhtmlx-scheduler/sources/core/utils/event.js","../node_modules/dhtmlx-scheduler/sources/core/utils/utils.js","../node_modules/dhtmlx-scheduler/sources/core/utils/dom_helpers.js","../node_modules/dhtmlx-scheduler/sources/utils/env.js","../node_modules/dhtmlx-scheduler/sources/core/common/url_serialize.js","../node_modules/dhtmlx-scheduler/sources/core/common/get_serializable_events.js","../node_modules/dhtmlx-scheduler/sources/core/dataprocessor/dataprocessor_hooks.js","../node_modules/dhtmlx-scheduler/sources/core/dataprocessor/dataprocessor.js","../node_modules/dhtmlx-scheduler/sources/core/message.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ar.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_be.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ca.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_cn.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_cs.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_da.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_de.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_el.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_en.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_es.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_fi.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_fr.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_he.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_hu.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_id.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_it.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_jp.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_manager.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_nb.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_nl.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_no.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_pl.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_pt.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ro.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ru.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_si.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_sk.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_sv.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_tr.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ua.js","../node_modules/dhtmlx-scheduler/sources/core/datepicker.js","../node_modules/dhtmlx-scheduler/sources/scheduler_factory_method.js","../node_modules/dhtmlx-scheduler/sources/core/wai_aria.js","../node_modules/dhtmlx-scheduler/sources/core/common_errors.js","../node_modules/dhtmlx-scheduler/sources/core/common.js","../node_modules/dhtmlx-scheduler/sources/core/utils/scoped_event.js","../node_modules/dhtmlx-scheduler/sources/core/scheduler.js","../node_modules/dhtmlx-scheduler/sources/core/scheduler_resize_listener.js","../node_modules/dhtmlx-scheduler/sources/core/common/assert.js","../node_modules/dhtmlx-scheduler/sources/core/jquery.js","../node_modules/dhtmlx-scheduler/sources/core/destructor.js","../node_modules/dhtmlx-scheduler/sources/core/utils/ajax.js","../node_modules/dhtmlx-scheduler/sources/core/base.js","../node_modules/dhtmlx-scheduler/sources/core/config.js","../node_modules/dhtmlx-scheduler/sources/core/event.js","../node_modules/dhtmlx-scheduler/sources/core/event_highlight.js","../node_modules/dhtmlx-scheduler/sources/core/load.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/xml.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/json.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/ical.js","../node_modules/dhtmlx-scheduler/sources/core/lightbox.js","../node_modules/dhtmlx-scheduler/sources/core/touch.js","../node_modules/dhtmlx-scheduler/sources/core/dhtmlx/dhtmlx_suite_hooks.js","../node_modules/dhtmlx-scheduler/sources/core/skins.js","../node_modules/dhtmlx-scheduler/sources/core/delay_render.js","../node_modules/dhtmlx-scheduler/sources/core/connector.js","../node_modules/dhtmlx-scheduler/sources/locale/index.js","../node_modules/dhtmlx-scheduler/sources/ext/extension_manager.js","../node_modules/dhtmlx-scheduler/sources/dhtmlx_hook.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/not_implemented_extension.js","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/tooltip.ts","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/tooltipManager.ts","../node_modules/dhtmlx-scheduler/sources/ext/extensions_gpl.js","../node_modules/dhtmlx-scheduler/sources/ext/active_links.js","../node_modules/dhtmlx-scheduler/sources/ext/agenda_legacy_view.js","../node_modules/dhtmlx-scheduler/sources/ext/agenda.js","../node_modules/dhtmlx-scheduler/sources/ext/all_timed.js","../node_modules/dhtmlx-scheduler/sources/ext/collision.js","../node_modules/dhtmlx-scheduler/sources/ext/container_autoresize.js","../node_modules/dhtmlx-scheduler/sources/ext/cookie.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/daytimeline.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/drag_between.js","../node_modules/dhtmlx-scheduler/sources/ext/editors.js","../node_modules/dhtmlx-scheduler/sources/ext/expand.js","../node_modules/dhtmlx-scheduler/sources/ext/export_api/index.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/grid_view.js","../node_modules/dhtmlx-scheduler/sources/ext/html_templates.js","../node_modules/dhtmlx-scheduler/sources/ext/key_nav.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/eventhandler.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/trap_modal_focus.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/marker.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/scheduler_node.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/nav_node.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/header_cell.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/event.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/time_slot.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/minical_button.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/minical_cell.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/data_area.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/modals.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/core.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/key_nav_legacy.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/minical_handlers.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/scheduler_handlers.js","../node_modules/dhtmlx-scheduler/sources/ext/layer.js","../node_modules/dhtmlx-scheduler/sources/ext/limit.js","../node_modules/dhtmlx-scheduler/sources/ext/map_view.js","../node_modules/dhtmlx-scheduler/sources/ext/minical.js","../node_modules/dhtmlx-scheduler/sources/ext/monthheight.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/multisection.js","../node_modules/dhtmlx-scheduler/sources/ext/multiselect.js","../node_modules/dhtmlx-scheduler/sources/ext/multisource.js","../node_modules/dhtmlx-scheduler/sources/ext/mvc.js","../node_modules/dhtmlx-scheduler/sources/ext/outerdrag.js","../node_modules/dhtmlx-scheduler/sources/ext/pdf.js","../node_modules/dhtmlx-scheduler/sources/ext/quick_info.js","../node_modules/dhtmlx-scheduler/sources/ext/readonly.js","../node_modules/dhtmlx-scheduler/sources/ext/recurring.js","../node_modules/dhtmlx-scheduler/sources/ext/serialize.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/timeline.js","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/index.ts","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/treetimeline.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/units.js","../node_modules/dhtmlx-scheduler/sources/ext/url.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/week_agenda.js","../node_modules/dhtmlx-scheduler/sources/ext/wp.js","../node_modules/dhtmlx-scheduler/sources/ext/year_view.js","../node_modules/dhtmlx-scheduler/sources/dhtmlxscheduler.gpl.js","../node_modules/dhtmlx-scheduler/sources/scheduler_factory.js","components/Scheduler/Scheduler.js","components/Scheduler/index.js","components/Toolbar/Toolbar.js","components/Toolbar/index.js","components/MessageArea/MessageArea.js","components/MessageArea/index.js","App.js","reportWebVitals.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"a781f7ea\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"react-scheduler:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkreact_scheduler\"] = self[\"webpackChunkreact_scheduler\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","\r\n/* eslint-disable no-restricted-globals */\r\nvar globalScope;\r\nif(typeof window !== \"undefined\"){\r\n\tglobalScope = window;\r\n}else{\r\n\tglobalScope = global;\r\n}\r\n/* eslint-enable no-restricted-globals */\r\n\r\nexport default globalScope;","export default function extend(scheduler) {\r\n\r\nfunction div(className){\r\n\tvar element = document.createElement(\"div\");\r\n\tvar classes = (className || \"\").split(\" \");\r\n\tclasses.forEach(function(cssClass){\r\n\t\telement.classList.add(cssClass);\r\n\t});\r\n\treturn element;\r\n}\r\nvar itemTypes = {\r\n\trows_container: function(){\r\n\t\treturn div(\"dhx_cal_navbar_rows_container\");\r\n\t},\r\n\trow: function(){\r\n\t\treturn div(\"dhx_cal_navbar_row\");\r\n\t},\r\n\tview: function (config) {\r\n\t\tvar element = div(\"dhx_cal_tab\");\r\n\t\telement.setAttribute(\"name\", config.view + \"_tab\");\r\n\t\telement.setAttribute(\"data-tab\", config.view);\r\n\t\t// element.setAttribute(\"data-viewname\", config.view); // FIXME: need to remove? not used anywhere\r\n\t\tif(scheduler.config.fix_tab_position){\r\n\t\t\tif(config.$firstTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_first\");\r\n\t\t\t}else if(config.$lastTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_last\");\r\n\t\t\t} else if(config.view !== \"week\") {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_standalone\");\r\n\t\t\t}\r\n\r\n\t\t\tif(config.$segmentedTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn element;\r\n\t},\r\n\tdate: function () {\r\n\t\treturn div(\"dhx_cal_date\");\r\n\t},\r\n\tbutton: function (config) {\r\n\t\treturn div(\"dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab\");\r\n\t},\r\n\tbuiltInButton: function (config){\r\n\t\treturn div(\"dhx_cal_\" + config.view + \"_button dhx_cal_nav_button\");\r\n\t},\r\n\tspacer: function () {\r\n\t\treturn div(\"dhx_cal_line_spacer\");\r\n\t},\r\n\tminicalendarButton: function(config){\r\n\t\tvar minicalendarDiv = div('dhx_minical_icon');\r\n\t\tif(!config.click && !minicalendarDiv.$_eventAttached){\r\n\t\t\t\r\n\t\t\tscheduler.event(minicalendarDiv, \"click\", function () {\r\n\t\t\t\tif (scheduler.isCalendarVisible()) {\r\n\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscheduler.renderCalendar({\r\n\t\t\t\t\t\tposition: this,\r\n\t\t\t\t\t\tdate: scheduler.getState().date,\r\n\t\t\t\t\t\tnavigation: true,\r\n\t\t\t\t\t\thandler: function (date, calendar) {\r\n\t\t\t\t\t\t\tscheduler.setCurrentView(date);\r\n\t\t\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn minicalendarDiv;\r\n\t},\r\n\thtml_element: function (config) {\r\n\t\treturn div(\"dhx_cal_nav_content\");\r\n\t}\r\n};\r\n\r\nfunction findRenderer(config) {\r\n\tvar renderer;\r\n\tif (config.view) {\r\n\t\tswitch (config.view){\r\n\t\t\tcase \"today\":\r\n\t\t\tcase \"next\":\r\n\t\t\tcase \"prev\":\r\n\t\t\t\trenderer = itemTypes.builtInButton;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\trenderer = itemTypes.date;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"spacer\":\r\n\t\t\t\trenderer = itemTypes.spacer;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"button\":\r\n\t\t\t\trenderer = itemTypes.button;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minicalendar\":\r\n\t\t\t\trenderer = itemTypes.minicalendarButton;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\trenderer = itemTypes.view;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t} else if(config.rows) {\r\n\t\trenderer = itemTypes.rows_container;\r\n\t} else if(config.cols) {\r\n\t\trenderer = itemTypes.row;\r\n\t}\r\n\treturn renderer;\r\n}\r\n\r\nfunction renderElement(config){\r\n\tvar renderer = findRenderer(config);\r\n\tif(!renderer){\r\n\t\treturn;\r\n\t}\r\n\tvar element = renderer(config);\r\n\tif(config.css){\r\n\t\telement.classList.add(config.css);\r\n\t}\r\n\tif(config.width){\r\n\t\tvar value = config.width;\r\n\t\tif(value === value * 1){\r\n\t\t\tvalue += \"px\";\r\n\t\t}\r\n\t\telement.style.width = value;\r\n\t}\r\n\tif(config.height){\r\n\t\tvar value = config.height;\r\n\t\tif(value === value * 1){\r\n\t\t\tvalue += \"px\";\r\n\t\t}\r\n\t\telement.style.height = value;\r\n\t}\r\n\tif (config.click) {\r\n\t\tscheduler.event(element, \"click\", config.click);\r\n\t}\r\n\tif (config.html) {\r\n\t\telement.innerHTML = config.html;\r\n\t}\r\n\r\n\tif (config.align) {\r\n\t\tvar value = \"\";\r\n\t\tif (config.align == \"right\") {\r\n\t\t\tvalue = \"flex-end\";\r\n\t\t} else if(config.align == \"left\") {\r\n\t\t\tvalue = \"flex-start\";\r\n\t\t}\r\n\t\telement.style.justifyContent = value;\r\n\t}\r\n\treturn element;\r\n}\r\n\r\nfunction prepareConfig(config) {\r\n\tif (typeof config === \"string\") {\r\n\t\tconfig = {\r\n\t\t\tview: config\r\n\t\t};\r\n\t}\r\n\tif (!config.view && !config.rows && !config.cols) {\r\n\t\tconfig.view = \"button\";\r\n\t}\r\n\treturn config;\r\n}\r\n\r\nfunction renderLayout(config) {\r\n\tvar fragment = document.createDocumentFragment();\r\n\tvar items;\r\n\tif(Array.isArray(config)){\r\n\t\titems = config;\r\n\t}else{\r\n\t\titems = [config];\r\n\t}\r\n\r\n\tfor (var i = 0; i < items.length; i++) {\r\n\t\tvar view = prepareConfig(items[i]);\r\n\r\n\t\tif(view.view === \"day\" && items[i + 1]){\r\n\t\t\tvar next = prepareConfig(items[i + 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"month\"){\r\n\t\t\t\tview.$firstTab = true;\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(view.view === \"week\" && items[i - 1]){\r\n\t\t\tvar next = prepareConfig(items[i + 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"month\"){\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(view.view === \"month\" && items[i - 1]){\r\n\t\t\tvar next = prepareConfig(items[i - 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"day\"){\r\n\t\t\t\tview.$lastTab = true;\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar element = renderElement(view);\r\n\r\n\t\tfragment.appendChild(element);\r\n\t\tif(view.cols || view.rows){\r\n\t\t\telement.appendChild(renderLayout(view.cols || view.rows));\r\n\t\t}\r\n\t}\r\n\treturn fragment;\r\n}\r\n\r\nscheduler._init_nav_bar = function (items) {\r\n\tvar navBar = this.$container.querySelector(\".dhx_cal_navline\");\r\n\tif (!navBar){\r\n\t\tnavBar = document.createElement(\"div\");\r\n\t\tnavBar.className = \"dhx_cal_navline dhx_cal_navline_flex\";\r\n\t\tscheduler._update_nav_bar(items, navBar);\r\n\t\treturn navBar;\r\n\t}\r\n\treturn navBar;\r\n};\r\n\r\nvar previousNavbar = null;\r\nvar previousHeight = null;\r\nscheduler._update_nav_bar = function (config, container) {\r\n\r\n\tif(!config){\r\n\t\treturn;\r\n\t}\r\n\tvar heightChanged = false;\r\n\tvar configChanged = false;\r\n\r\n\tvar newHeight = config.height || scheduler.xy.nav_height;\r\n\r\n\tif(previousHeight === null ||\r\n\t\t\t(previousHeight !== newHeight)){\r\n\t\theightChanged = true;\r\n\t}\r\n\tif(!previousNavbar || JSON.stringify(config) !== previousNavbar){\r\n\t\tconfigChanged = true;\r\n\t}\r\n\r\n\tif(heightChanged){\r\n\t\tscheduler.xy.nav_height = newHeight;\r\n\t}\r\n\tif(configChanged){\r\n\t\tcontainer.innerHTML = \"\";\r\n\t\tcontainer.appendChild(renderLayout(config));\r\n\t}\r\n\r\n\tif(heightChanged || configChanged){\r\n\t\tscheduler.unset_actions();\r\n\t\tscheduler._els = [];\r\n\t\tscheduler.get_elements();\r\n\t\tscheduler.set_actions();\r\n\t}\r\n\r\n\tif(newHeight === 0){\r\n\t\tcontainer.style.display = \"none\";\r\n\t}else{\r\n\t\tcontainer.style.display = \"\";\r\n\t}\r\n\r\n\tpreviousHeight = newHeight;\r\n};\r\n\r\n}","class EventHost {\r\n\tconstructor(){\r\n\t\tthis._silent_mode = false;\r\n\t\tthis.listeners = {};\r\n\t}\r\n\t_silentStart(){\r\n\t\tthis._silent_mode = true;\r\n\t}\r\n\t_silentEnd() {\r\n\t\tthis._silent_mode = false;\r\n\t}\r\n}\r\n\r\nconst createEventStorage = function(obj) {\r\n\tlet handlers = {};\r\n\tlet index = 0;\r\n\tconst eventStorage = function(){\r\n\t\tlet combinedResult = true;\r\n\t\tfor(const i in handlers){\r\n\t\t\tconst handlerResult = handlers[i].apply(obj, arguments);\r\n\t\t\tcombinedResult=combinedResult && handlerResult;\r\n\t\t}\r\n\t\treturn combinedResult;\r\n\t};\r\n\teventStorage.addEvent=function(handler, settings){\r\n\t\tif (typeof (handler) == \"function\"){\r\n\t\t\tlet handlerId;\r\n\t\t\tif(settings && settings.id){\r\n\t\t\t\thandlerId = settings.id;\r\n\t\t\t}else{\r\n\t\t\t\thandlerId = index;\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\r\n\t\t\tif(settings && settings.once){\r\n\t\t\t\tconst originalHandler = handler;\r\n\t\t\t\thandler = function(){\r\n\t\t\t\t\toriginalHandler();\r\n\t\t\t\t\teventStorage.removeEvent(handlerId);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\thandlers[handlerId] = handler;\r\n\t\t\treturn handlerId;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\teventStorage.removeEvent=function(id){\r\n\t\tdelete handlers[id];\r\n\t};\r\n\r\n\teventStorage.clear = function(){\r\n\t\thandlers = {};\r\n\t};\r\n\r\n\treturn eventStorage;\r\n};\r\n\r\nfunction makeEventable(obj){\r\n\r\n\tconst eventHost = new EventHost();\r\n\tobj.attachEvent=function(eventName, handler, settings){\r\n\t\teventName = 'ev_'+eventName.toLowerCase();\r\n\t\tif (!eventHost.listeners[eventName]){\r\n\t\t\teventHost.listeners[eventName] = createEventStorage(this);\r\n\t\t}\r\n\r\n\t\tif(settings && settings.thisObject){\r\n\t\t\thandler = handler.bind(settings.thisObject);\r\n\t\t}\r\n\r\n\t\tconst innerId = eventHost.listeners[eventName].addEvent(handler, settings);\r\n\r\n\t\tlet handlerId = (eventName+':'+innerId); //return ID (ev_eventname:1)\r\n\t\tif(settings && settings.id){\r\n\t\t\thandlerId = settings.id;\r\n\t\t}\r\n\t\treturn handlerId;\r\n\t};\r\n\r\n\tobj.attachAll = function(callback){\r\n\t\tthis.attachEvent('listen_all', callback);\r\n\t};\r\n\r\n\tobj.callEvent=function(name, eventArguments){\r\n\t\tif (eventHost._silent_mode) return true;\r\n\r\n\t\tconst handlerName = 'ev_'+name.toLowerCase();\r\n\r\n\t\tconst listeners = eventHost.listeners;\r\n\t\tif (listeners['ev_listen_all']){\r\n\t\t\tlisteners['ev_listen_all'].apply(this, [name].concat(eventArguments));\r\n\t\t}\r\n\r\n\t\tif (listeners[handlerName])\r\n\t\t\treturn listeners[handlerName].apply(this, eventArguments);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tobj.checkEvent=function(name){\r\n\t\tconst listeners = eventHost.listeners;\r\n\t\treturn (!!listeners['ev_'+name.toLowerCase()]);\r\n\t};\r\n\r\n\tobj.detachEvent=function(id){\r\n\t\tif (id){\r\n\t\t\tlet listeners = eventHost.listeners;\r\n\t\t\tfor(const i in listeners){\r\n\t\t\t\tlisteners[i].removeEvent(id); //remove event\r\n\t\t\t}\r\n\r\n\t\t\tconst list = id.split(':');//get EventName and ID\r\n\t\t\tlisteners = eventHost.listeners;\r\n\t\t\tif(list.length === 2){\r\n\t\t\t\tconst eventName = list[0];\r\n\t\t\t\tconst eventId = list[1];\r\n\t\t\t\tif(listeners[eventName]){\r\n\t\t\t\t\tlisteners[eventName].removeEvent(eventId); //remove event\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tobj.detachAllEvents = function(){\r\n\t\tfor (const name in eventHost.listeners) {\r\n\t\t\teventHost.listeners[name].clear();\r\n\t\t}\r\n\t};\r\n\r\n}\r\n\r\nexport default makeEventable;","export default {\r\n\tevent: function (el, event, handler){\r\n\t\tif (el.addEventListener)\r\n\t\t\tel.addEventListener(event, handler, false);\r\n\t\r\n\t\telse if (el.attachEvent)\r\n\t\t\tel.attachEvent(\"on\"+event, handler);\r\n\t},\r\n\teventRemove: function (el, event, handler){\r\n\t\tif (el.removeEventListener)\r\n\t\t\tel.removeEventListener(event, handler, false);\r\n\t\r\n\t\telse if (el.detachEvent)\r\n\t\t\tel.detachEvent(\"on\"+event, handler);\r\n\t}\r\n};","var uidSeed = Date.now();\r\nfunction uid () {\r\n\treturn uidSeed++;\r\n}\r\n\r\n// iframe-safe array type check instead of using instanceof\r\nfunction isArray(obj){\r\n\tif(Array.isArray){\r\n\t\treturn Array.isArray(obj);\r\n\t}else{\r\n\t\t// close enough\r\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\r\n\t}\r\n}\r\n\r\n// non-primitive string object, e.g. new String(\"abc\")\r\nfunction isStringObject(obj){\r\n\treturn obj && typeof obj === \"object\" && \r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Number(5)\r\nfunction isNumberObject(obj){\r\n\treturn obj && typeof obj === \"object\" && \r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Boolean(true)\r\nfunction isBooleanObject(obj){\r\n\treturn obj && typeof obj === \"object\" &&\r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\r\n}\r\n\r\nfunction isDate(obj) {\r\n\tif (obj && typeof obj === \"object\") {\r\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction defined(obj) {\r\n\treturn typeof(obj) != \"undefined\";\r\n}\r\n\r\nfunction delay (callback, timeout){\r\n\tvar timer;\r\n\r\n\tvar result = function() {\r\n\t\tresult.$cancelTimeout();\r\n\t\tresult.$pending = true;\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tcallback.apply(this, args);\r\n\t\t\tresult.$pending = false;\r\n\t\t}, timeout);\r\n\t};\r\n\r\n\tresult.$pending = false;\r\n\tresult.$cancelTimeout = function(){\r\n\t\tclearTimeout(timer);\r\n\t\tresult.$pending = false;\r\n\t};\r\n\tresult.$execute = function(){\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\tcallback.apply(this, args);\r\n\t\tresult.$cancelTimeout();\r\n\t};\r\n\r\n\treturn result;\r\n}\r\n\r\nexport default {\r\n\tuid: uid,\r\n\tmixin: function mixin (target, source, force){\r\n\t\tfor (var f in source)\r\n\t\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\r\n\t\treturn target;\r\n\t},\r\n\tcopy: function copy(object) {\r\n\t\tvar i, result; // iterator, types array, result\r\n\t\r\n\t\tif (object && typeof object == \"object\") {\r\n\t\r\n\t\t\tswitch (true){\r\n\t\t\t\tcase (isDate(object)):\r\n\t\t\t\t\tresult = new Date(object);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isArray(object)):\r\n\t\t\t\t\tresult = new Array(object.length);\r\n\t\t\t\t\tfor(i = 0; i < object.length; i++){\r\n\t\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isStringObject(object)):\r\n\t\t\t\t\tresult = new String(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isNumberObject(object)):\r\n\t\t\t\t\tresult = new Number(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isBooleanObject(object)):\r\n\t\t\t\t\tresult = new Boolean(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t\tfor (i in object) {\r\n\t\t\t\t\t\tconst varType = typeof object[i];\r\n\r\n\t\t\t\t\t\tif (varType === \"string\" || varType === \"number\" || varType === \"boolean\" ) {\r\n\t\t\t\t\t\t\tresult[i] = object[i];\r\n\t\t\t\t\t\t} else if(isDate(object[i])){\r\n\t\t\t\t\t\t\tresult[i] = new Date(object[i]);\r\n\t\t\t\t\t\t}else if (Object.prototype.hasOwnProperty.apply(object, [i]))\r\n\t\t\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result || object;\r\n\t},\r\n\tdefined,\r\n\tisDate,\r\n\tdelay\r\n};\r\n","//returns position of html element on the page\r\nfunction elementPosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\n/*\r\nevent position relatively to DOM element\r\n */\r\nfunction getRelativeEventPosition(ev, node){\r\n\tvar d = document.documentElement;\r\n\tvar box = elementPosition(node);\r\n\r\n\treturn {\r\n\t\tx: ev.clientX + d.scrollLeft - d.clientLeft - box.x + node.scrollLeft,\r\n\t\ty: ev.clientY + d.scrollTop - d.clientTop - box.y + node.scrollTop\r\n\t};\r\n}\r\n\r\nfunction getNodePosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\nfunction getClassName(node){\r\n\tif(!node) return \"\";\r\n\r\n\tvar className = node.className || \"\";\r\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\tclassName = className.baseVal;\r\n\r\n\tif(!className.indexOf)\r\n\t\tclassName = '';\r\n\r\n\treturn className || \"\";\r\n}\r\n\r\nfunction getTargetNode(e) {\r\n\tvar trg;\r\n\tif (e.tagName)\r\n\t\ttrg = e;\r\n\telse {\r\n\t\te = e || window.event;\r\n\t\ttrg = e.target || e.srcElement;\r\n\t\tif (trg.shadowRoot && e.composedPath) {\r\n\t\t\ttrg = e.composedPath()[0];\r\n\t\t}\r\n\t}\r\n\treturn trg;\r\n}\r\n\r\nfunction locateCss(e, classname, strict){\r\n\tif(strict === undefined)\r\n\t\tstrict = true;\r\n\r\n\tvar trg = e.target || e.srcElement;\r\n\tvar css = '';\r\n\r\n\twhile (trg){\r\n\t\tcss = getClassName(trg);\r\n\r\n\t\tif(css){\r\n\t\t\tvar ind = css.indexOf(classname);\r\n\t\t\tif (ind >= 0){\r\n\t\t\t\tif (!strict)\r\n\t\t\t\t\treturn trg;\r\n\r\n\t\t\t\t//check that we have exact match\r\n\t\t\t\tvar left = (ind === 0) || (!((css.charAt(ind - 1)||\"\").trim()));\r\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!((css.charAt(ind + classname.length)).trim()));\r\n\r\n\t\t\t\tif (left && right)\r\n\t\t\t\t\treturn trg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n\r\n// get focusable nodes\r\nfunction isVisible(node){\r\n\tvar display = false,\r\n\t\tvisibility = false;\r\n\tif(window.getComputedStyle){\r\n\t\tvar style = window.getComputedStyle(node, null);\r\n\t\tdisplay = style[\"display\"];\r\n\t\tvisibility = style[\"visibility\"];\r\n\t}else if(node.currentStyle){\r\n\t\tdisplay = node.currentStyle[\"display\"];\r\n\t\tvisibility = node.currentStyle[\"visibility\"];\r\n\t}\r\n\r\n\tvar hiddenSection = false;\r\n\tvar recurringSection = locateCss({target:node}, \"dhx_form_repeat\", false);\r\n\tif(recurringSection){\r\n\t\thiddenSection = !!(recurringSection.style.height == \"0px\");\r\n\t}\r\n\thiddenSection = hiddenSection || !(node.offsetHeight);\r\n\r\n\treturn (display != \"none\" && visibility != \"hidden\" && !hiddenSection);\r\n}\r\n\r\nfunction hasNonNegativeTabIndex(node){\r\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\r\n}\r\n\r\nfunction hasHref(node){\r\n\tvar canHaveHref = {\"a\": true, \"area\": true};\r\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\r\n\t\treturn !!node.getAttribute(\"href\");\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isEnabled(node){\r\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\r\n\tif(canDisable[node.nodeName.toLowerCase()]){\r\n\t\treturn !node.hasAttribute(\"disabled\");\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\n\r\nfunction getFocusableNodes(root){\r\n\tvar nodes = root.querySelectorAll([\r\n\t\t\"a[href]\",\r\n\t\t\"area[href]\",\r\n\t\t\"input\",\r\n\t\t\"select\",\r\n\t\t\"textarea\",\r\n\t\t\"button\",\r\n\t\t\"iframe\",\r\n\t\t\"object\",\r\n\t\t\"embed\",\r\n\t\t\"[tabindex]\",\r\n\t\t\"[contenteditable]\"\r\n\t].join(\", \"));\r\n\r\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\r\n\t\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tnodesArray[i].$position = i;\r\n\t\t// we remember original nodes order, \r\n\t\t// so when we sort them by tabindex we ensure order of nodes with same tabindex is preserved, \r\n\t\t// since some browsers do unstable sort\r\n\t}\r\n\t\r\n\tnodesArray.sort(function(a, b) {\r\n\t\tif(a.tabIndex === 0 && b.tabIndex !== 0){\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif(a.tabIndex !== 0 && b.tabIndex === 0){\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t\tif (a.tabIndex === b.tabIndex){\r\n\t\t\t// ensure we do stable sort\r\n\t\t\treturn a.$position - b.$position;\r\n\t\t}\r\n\t\tif (a.tabIndex < b.tabIndex) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 1;\r\n\t});\r\n\t\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tvar node = nodesArray[i];\r\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\r\n\t\tif(!isValid){\r\n\t\t\tnodesArray.splice(i, 1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\treturn nodesArray;\r\n}\r\n\r\n\r\nfunction isShadowDomSupported() {\r\n\treturn document.head.createShadowRoot || document.head.attachShadow;\r\n}\r\n\r\n/**\r\n * Returns element that has the browser focus, or null if no element has focus.\r\n * Works with shadow DOM, so it's prefereed to use this function instead of document.activeElement directly.\r\n * @returns HTMLElement\r\n */\r\nfunction getActiveElement(){\r\n\tvar activeElement = document.activeElement;\r\n\tif (activeElement.shadowRoot) {\r\n\t\tactiveElement = activeElement.shadowRoot.activeElement;\r\n\t}\r\n\tif (activeElement === document.body && document.getSelection) {\r\n\t\tactiveElement = document.getSelection().focusNode || document.body;\r\n\t}\r\n\r\n\treturn activeElement;\r\n}\r\n\r\n/**\r\n * Returns document.body or the host node of the ShadowRoot, if the element is attached to ShadowDom\r\n * @param {HTMLElement} element \r\n * @returns HTMLElement\r\n */\r\nfunction getRootNode(element) {\r\n\tif (!element) {\r\n\t\treturn document.body;\r\n\t}\r\n\tif (!isShadowDomSupported()) {\r\n\t\treturn document.body;\r\n\t}\r\n\twhile (element.parentNode && (element = element.parentNode)) {\r\n\t\tif (element instanceof ShadowRoot) {\r\n\t\t\treturn element.host;\r\n\t\t}\r\n\t}\r\n\treturn document.body;\r\n}\r\n\r\nfunction hasShadowParent(element) {\r\n\treturn !!getRootNode(element);\r\n}\r\n\r\nexport default {\r\n\t/**\r\n\t *     @desc: Calculate absolute position of html object\r\n\t *     @type: private\r\n\t *     @param: htmlObject - html object\r\n\t *     @topic: 0\r\n\t */\r\n\tgetAbsoluteLeft: function getAbsoluteLeft(htmlObject){\r\n\t\treturn this.getOffset(htmlObject).left;\r\n\t},\r\n\t/**\r\n\t *     @desc: Calculate absolute position of html object\r\n\t *     @type: private\r\n\t *     @param: htmlObject - html object\r\n\t *     @topic: 0\r\n\t */\r\n\tgetAbsoluteTop: function getAbsoluteTop(htmlObject){\r\n\t\treturn this.getOffset(htmlObject).top;\r\n\t},\r\n\r\n\tgetOffsetSum: function getOffsetSum(elem) {\r\n\t\tvar top=0, left=0;\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\t\treturn {top: top, left: left};\r\n\t},\r\n\r\n\tgetOffsetRect: function getOffsetRect(elem) {\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\r\n\t\tvar top = 0,\r\n\t\t\tleft = 0;\r\n\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent#Mobile_Tablet_or_Desktop\r\n\t\tif (!/Mobi/.test(navigator.userAgent)) {\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar docElem = document.documentElement;\r\n\t\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\r\n\t\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\t\tleft = box.left + scrollLeft - clientLeft;\r\n\t\t}else {\r\n\t\t\t// incorrect left coordinate on mobile zoom\r\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=489206\r\n\r\n\t\t\tvar dummy = document.createElement(\"div\");\r\n\t\t\tdummy.style.position=\"absolute\";\r\n\t\t\tdummy.style.left=\"0px\";\r\n\t\t\tdummy.style.top=\"0px\";\r\n\t\t\tdummy.style.width=\"1px\";\r\n\t\t\tdummy.style.height = \"1px\";\r\n\r\n\t\t\tdocument.body.appendChild(dummy);\r\n\t\t\tvar dummyBox = dummy.getBoundingClientRect();\r\n\t\t\ttop  = box.top - dummyBox.top;\r\n\t\t\tleft = box.left - dummyBox.left;\r\n\r\n\t\t\tdummy.parentNode.removeChild(dummy);\r\n\t\t}\r\n\r\n\t\treturn { top: Math.round(top), left: Math.round(left) };\r\n\t},\r\n\r\n\tgetOffset: function getOffset(elem) {\r\n\t\tif (elem.getBoundingClientRect) {\r\n\t\t\treturn this.getOffsetRect(elem);\r\n\t\t} else {\r\n\t\t\treturn this.getOffsetSum(elem);\r\n\t\t}\r\n\t},\r\n\r\n\tclosest: function(element, selector){\r\n\t\tif(!element || !selector){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn closest(element, selector);\r\n\t},\r\n\tinsertAfter: function(newNode, referenceNode){\r\n\t\tif(referenceNode.nextSibling){\r\n\t\t\treferenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n\t\t}else{\r\n\t\t\treferenceNode.parentNode.appendChild(newNode);\r\n\t\t}\r\n\t},\r\n\tremove: function(node) {\r\n\t\tif (node && node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t},\r\n\tisChildOf: function(child, parent) {\r\n\t\treturn parent.contains(child);\r\n\t},\r\n\tgetFocusableNodes,\r\n\tgetClassName,\r\n\tlocateCss,\r\n\tgetRootNode,\r\n\thasShadowParent,\r\n\tisShadowDomSupported,\r\n\tgetActiveElement,\r\n\tgetRelativeEventPosition,\r\n\tgetTargetNode,\r\n\tgetNodePosition\r\n};\r\n\r\nvar closest;\r\nif(Element.prototype.closest){\r\n\tclosest = function(element, selector){\r\n\t\treturn element.closest(selector);\r\n\t};\r\n}else{\r\n\tvar matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n\tclosest = function(element, selector) {\r\n\t\tvar el = element;\r\n\t\tdo {\r\n\t\t\tif (matches.call(el, selector)){\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\t\t\tel = el.parentElement || el.parentNode;\r\n\t\t} while (el !== null && el.nodeType === 1);\r\n\t\treturn null;\r\n\t};\r\n}\r\n","/* eslint-disable no-restricted-globals */\r\nvar isWindowAwailable = typeof window !== \"undefined\";\r\n\r\n/* eslint-enable no-restricted-globals */\r\n\r\nexport default {\r\n\tisIE: isWindowAwailable && (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\r\n\tisOpera: isWindowAwailable && (navigator.userAgent.indexOf(\"Opera\") >= 0),\r\n\tisChrome: isWindowAwailable && (navigator.userAgent.indexOf(\"Chrome\") >= 0),\r\n\tisKHTML: isWindowAwailable && (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\r\n\tisFF: isWindowAwailable && (navigator.userAgent.indexOf(\"Firefox\") >= 0),\r\n\tisIPad: isWindowAwailable && (navigator.userAgent.search(/iPad/gi) >= 0),\r\n\tisEdge: isWindowAwailable && (navigator.userAgent.indexOf(\"Edge\")!=-1),\r\n\tisNode: (!isWindowAwailable || typeof navigator == \"undefined\")\r\n};","export default function(data) {\r\n\tif (typeof data === \"string\" || typeof data === \"number\") {\r\n\t\treturn data;\r\n\t}\r\n\tvar result = \"\";\r\n\tfor (var key in data) {\r\n\t\tvar serialized = \"\";\r\n\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\tif (typeof data[key] === \"string\") {\r\n\t\t\t\tserialized = encodeURIComponent(data[key]);\r\n\t\t\t} else if (typeof data[key] === \"number\") {\r\n\t\t\t\tserialized = data[key];\r\n\t\t\t} else {\r\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\r\n\t\t\t}\r\n\t\t\tserialized = key + \"=\" + serialized;\r\n\r\n\t\t\tif (result.length) {\r\n\t\t\t\tserialized = \"&\" + serialized;\r\n\t\t\t}\r\n\t\t\tresult += serialized;\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}","export default function(scheduler){\r\n\treturn (function(){\r\n\t\tvar res = {};\r\n\t\tfor (var a in this._events){\r\n\t\t\tvar ev = this._events[a];\r\n\t\t\tif (ev.id.toString().indexOf(\"#\") == -1){\r\n\t\t\t\tres[ev.id] = ev;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}).bind(scheduler);\r\n}","export default function DataProcessorEvents(scheduler, dp){\r\n\tthis.$scheduler = scheduler;\r\n\tthis.$dp = dp;\r\n\tthis._dataProcessorHandlers = [];\r\n\r\n\tthis.attach = function () {\r\n\t\tvar dp = this.$dp;\r\n\t\tvar scheduler = this.$scheduler;\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onEventAdded\", function(id) {\r\n\t\t\tif (!this._loading && this._validId(id))\r\n\t\t\tdp.setUpdated(id,true,\"inserted\");\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onConfirmedBeforeEventDelete\", function(id) {\r\n\t\t\tif (!this._validId(id)) return;\r\n\t\t\tvar z=dp.getState(id);\r\n\r\n\t\t\tif (z==\"inserted\" || this._new_event) { dp.setUpdated(id,false); return true; }\r\n\t\t\tif (z==\"deleted\") return false;\r\n\t\t\tif (z==\"true_deleted\") return true;\r\n\r\n\t\t\tdp.setUpdated(id,true,\"deleted\");\r\n\t\t\treturn false;\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onEventChanged\", function(id) { \r\n\t\t\tif (!this._loading && this._validId(id))\r\n\t\t\tdp.setUpdated(id,true,\"updated\");\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onClearAll\", function() { \r\n\t\t\t// clear dataprocessor state when scheduler is reset\r\n\t\t\tdp._in_progress={};\r\n\t\t\tdp._invalid={};\r\n\t\t\tdp.updatedRows = [];\r\n\t\t\tdp._waitMode = 0;\r\n\t\t}));\r\n\r\n\t\tdp.attachEvent(\"insertCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"updateCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"deleteCallback\", function(upd, id) {\r\n\t\t\tif (scheduler.getEvent(id)){\r\n\t\t\t\tscheduler.setUserData(id, this.action_param, \"true_deleted\");\r\n\t\t\t\tscheduler.deleteEvent(id);\r\n\t\t\t} else if (scheduler._add_rec_marker)\r\n\t\t\t\tscheduler._update_callback(upd, id);\r\n\t\t});\r\n\t};\r\n\r\n\tthis.detach = function () {\r\n\t\tfor (var key in this._dataProcessorHandlers) {\r\n\t\t\tvar handler = this._dataProcessorHandlers[key];\r\n\t\t\tthis.$scheduler.detachEvent(handler);\r\n\t\t}\r\n\t\tthis._dataProcessorHandlers = [];\r\n\t};\r\n}\r\n\r\nexport function extendScheduler(scheduler, dp){\r\n\tscheduler._validId=function(id){\r\n\t\tif(this._is_virtual_event){\r\n\t\t\treturn !this._is_virtual_event(id);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\tscheduler.setUserData=function(id,name,value){\r\n\t\tif (id){\r\n\t\t\tvar ev = this.getEvent(id);\r\n\t\t\tif(ev) ev[name]=value;\r\n\t\t}else{\r\n\t\t\tthis._userdata[name]=value;\r\n\t\t}\r\n\t};\r\n\tscheduler.getUserData=function(id,name){\r\n\t\tif (id){\r\n\t\t\tvar ev = this.getEvent(id);\r\n\t\t\tif(ev)\r\n\t\t\t\treturn ev[name];\r\n\t\t\telse\r\n\t\t\t\treturn null;\r\n\t\t}else{\r\n\t\t\treturn this._userdata[name];\r\n\t\t}\r\n\t};\r\n\tscheduler._set_event_text_style=function(id,style){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\t\tthis.for_rendered(id,function(r){\r\n\t\t\tr.style.cssText+=\";\"+style;\r\n\t\t});\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tev[\"_text_style\"]=style;\r\n\t\tthis.event_updated(ev);\r\n\t};\r\n\tscheduler._update_callback = function(upd,id){\r\n\t\tvar data = scheduler._xmlNodeToJSON(upd.firstChild);\r\n\t\t//fix for updates of recurring events\r\n\t\tif (data.rec_type == \"none\") data.rec_pattern = \"none\";\r\n\t\tdata.text = data.text||data._tagvalue;\r\n\t\tdata.start_date = scheduler._helpers.parseDate(data.start_date);\r\n\t\tdata.end_date = scheduler._helpers.parseDate(data.end_date);\r\n\t\tscheduler.addEvent(data);\r\n\t\tif (scheduler._add_rec_marker)\r\n\t\t\tscheduler.setCurrentView();\r\n\t};\r\n\tscheduler._dp_change_event_id = function(id, new_id){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\t\tscheduler.changeEventId(id, new_id);\r\n\t};\r\n\tscheduler._dp_hook_delete = function(id, new_id){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\r\n\t\tif(new_id && id != new_id){\r\n\t\t\tif(this.getUserData(id, dp.action_param) == \"true_deleted\")\r\n\t\t\t\tthis.setUserData(id, dp.action_param, \"updated\");\r\n\r\n\t\t\tthis.changeEventId(id, new_id);\r\n\t\t}\r\n\t\treturn this.deleteEvent(new_id, true);\r\n\t};\r\n\r\n\tscheduler.setDp = function() {\r\n\t\tthis._dp = dp;\r\n\t};\r\n\tscheduler.setDp();\r\n}","import DataProcessorEvents from \"./dataprocessor_hooks\";\r\nimport { extendScheduler } from \"./dataprocessor_hooks\";\r\nimport eventable from \"../../utils/eventable\";\r\nimport global from \"../../global\";\r\n\r\n/**\r\n *\t@desc: constructor, data processor object\r\n *\t@param: serverProcessorURL - url used for update\r\n *\t@type: public\r\n */\r\nexport function DataProcessor(serverProcessorURL){\r\n\tthis.serverProcessor = serverProcessorURL;\r\n\tthis.action_param = \"!nativeeditor_status\";\r\n\r\n\tthis.object = null;\r\n\tthis.updatedRows = []; // ids of updated rows\r\n\r\n\tthis.autoUpdate = true;\r\n\tthis.updateMode = \"cell\";\r\n\tthis._tMode = \"GET\";\r\n\tthis._headers = null;\r\n\tthis._payload = null;\r\n\tthis.post_delim = \"_\";\r\n\r\n\tthis._waitMode = 0;\r\n\tthis._in_progress = {};\r\n\tthis._invalid = {};\r\n\tthis.messages = [];\r\n\r\n\tthis.styles = {\r\n\t\tupdated: \"font-weight:bold;\",\r\n\t\tinserted: \"font-weight:bold;\",\r\n\t\tdeleted: \"text-decoration : line-through;\",\r\n\t\tinvalid: \"background-color:FFE0E0;\",\r\n\t\tinvalid_cell: \"border-bottom:2px solid red;\",\r\n\t\terror: \"color:red;\",\r\n\t\tclear: \"font-weight:normal;text-decoration:none;\"\r\n\t};\r\n\tthis.enableUTFencoding(true);\r\n\teventable(this); // TODO: need to update\r\n\r\n\treturn this;\r\n}\r\nDataProcessor.prototype = {\r\n\tsetTransactionMode: function (mode, total) {\r\n\t\tif (typeof mode == \"object\") {\r\n\t\t\tthis._tMode = mode.mode || this._tMode;\r\n\r\n\t\t\tif (mode.headers !== undefined) {\r\n\t\t\t\tthis._headers = mode.headers;\r\n\t\t\t}\r\n\r\n\t\t\tif (mode.payload !== undefined) {\r\n\t\t\t\tthis._payload = mode.payload;\r\n\t\t\t}\r\n\t\t\tthis._tSend = !!total;\r\n\t\t} else {\r\n\t\t\tthis._tMode = mode;\r\n\t\t\tthis._tSend = total;\r\n\t\t}\r\n\r\n\t\tif (this._tMode == \"REST\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t}\r\n\r\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t\tthis._serializeAsJson = true;\r\n\t\t\tthis._headers = this._headers || {};\r\n\t\t\tthis._headers[\"Content-Type\"] = \"application/json\";\r\n\t\t}else{\r\n\t\t\tif(this._headers && !this._headers[\"Content-Type\"]){\r\n\t\t\t\tthis._headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._tMode === \"CUSTOM\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t\tthis._router = mode.router;\r\n\t\t}\r\n\t},\r\n\tescape: function (data) {\r\n\t\tif (this._utf)\r\n\t\t\treturn encodeURIComponent(data);\r\n\t\telse\r\n\t\t\treturn escape(data);\r\n\t},\r\n\t/**\r\n\t *\t@desc: allows to set escaping mode\r\n\t *\t@param: true - utf based escaping, simple - use current page encoding\r\n\t *\t@type: public\r\n\t */\r\n\tenableUTFencoding: function (mode) {\r\n\t\tthis._utf = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: allows to define, which column may trigger update\r\n\t *\t@param: val - array or list of true/false values\r\n\t *\t@type: public\r\n\t */\r\n\tsetDataColumns: function (val) {\r\n\t\tthis._columns = (typeof val == \"string\") ? val.split(\",\") : val;\r\n\t},\r\n\t/**\r\n\t *\t@desc: get state of updating\r\n\t *\t@returns:   true - all in sync with server, false - some items not updated yet.\r\n\t *\t@type: public\r\n\t */\r\n\tgetSyncState: function () {\r\n\t\treturn !this.updatedRows.length;\r\n\t},\r\n\t/**\r\n\t *\t@desc: enable/disable named field for data syncing, will use column ids for grid\r\n\t *\t@param:   mode - true/false\r\n\t *\t@type: public\r\n\t */\r\n\tenableDataNames: function (mode) {\r\n\t\tthis._endnm = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: enable/disable mode , when only changed fields and row id send to the server side, instead of all fields in default mode\r\n\t *\t@param:   mode - true/false\r\n\t *\t@type: public\r\n\t */\r\n\tenablePartialDataSend: function (mode) {\r\n\t\tthis._changed = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: set if rows should be send to server automatically\r\n\t *\t@param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\r\n\t *\t@type: public\r\n\t */\r\n\tsetUpdateMode: function (mode, dnd) {\r\n\t\tthis.autoUpdate = (mode == \"cell\");\r\n\t\tthis.updateMode = mode;\r\n\t\tthis.dnd = dnd;\r\n\t},\r\n\tignore: function (code, master) {\r\n\t\tthis._silent_mode = true;\r\n\t\tcode.call(master || window);\r\n\t\tthis._silent_mode = false;\r\n\t},\r\n\t/**\r\n\t *\t@desc: mark row as updated/normal. check mandatory fields,initiate autoupdate (if turned on)\r\n\t *\t@param: rowId - id of row to set update-status for\r\n\t *\t@param: state - true for \"updated\", false for \"not updated\"\r\n\t *\t@param: mode - update mode name\r\n\t *\t@type: public\r\n\t */\r\n\tsetUpdated: function (rowId, state, mode) {\r\n\t\tif (this._silent_mode) return;\r\n\t\tvar ind = this.findRow(rowId);\r\n\r\n\t\tmode = mode || \"updated\";\r\n\t\tvar existing = this.$scheduler.getUserData(rowId, this.action_param);\r\n\t\tif (existing && mode == \"updated\") mode = existing;\r\n\t\tif (state) {\r\n\t\t\tthis.set_invalid(rowId, false); //clear previous error flag\r\n\t\t\tthis.updatedRows[ind] = rowId;\r\n\t\t\tthis.$scheduler.setUserData(rowId, this.action_param, mode);\r\n\t\t\tif (this._in_progress[rowId])\r\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\r\n\t\t} else {\r\n\t\t\tif (!this.is_invalid(rowId)) {\r\n\t\t\t\tthis.updatedRows.splice(ind, 1);\r\n\t\t\t\tthis.$scheduler.setUserData(rowId, this.action_param, \"\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.markRow(rowId, state, mode);\r\n\t\tif (state && this.autoUpdate) this.sendData(rowId);\r\n\t},\r\n\r\n\tmarkRow: function (id, state, mode) {\r\n\t\tvar str = \"\";\r\n\t\tvar invalid = this.is_invalid(id);\r\n\t\tif (invalid) {\r\n\t\t\tstr = this.styles[invalid];\r\n\t\t\tstate = true;\r\n\t\t}\r\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\r\n\t\t\t//default logic\r\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + str;\r\n\r\n\t\t\tthis.$scheduler[this._methods[0]](id, str);\r\n\r\n\t\t\tif (invalid && invalid.details) {\r\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\r\n\t\t\t\tfor (var i = 0; i < invalid.details.length; i++)\r\n\t\t\t\t\tif (invalid.details[i])\r\n\t\t\t\t\t\tthis.$scheduler[this._methods[1]](id, i, str);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetActionByState: function(state) {\r\n\t\tif (state === \"inserted\") {\r\n\t\t\treturn \"create\";\r\n\t\t}\r\n\t\tif (state === \"updated\") {\r\n\t\t\treturn \"update\";\r\n\t\t}\r\n\t\tif (state === \"deleted\") {\r\n\t\t\treturn \"delete\";\r\n\t\t}\r\n\t\treturn \"update\";\r\n\t},\r\n\r\n\tgetState: function (id) {\r\n\t\treturn this.$scheduler.getUserData(id, this.action_param);\r\n\t},\r\n\tis_invalid: function (id) {\r\n\t\treturn this._invalid[id];\r\n\t},\r\n\tset_invalid: function (id, mode, details) {\r\n\t\tif (details) mode = {\r\n\t\t\tvalue: mode, details: details, toString: function () {\r\n\t\t\t\treturn this.value.toString();\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis._invalid[id] = mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: check mandatory fields and varify values of cells, initiate update (if specified)\r\n\t *\t@param: rowId - id of row to set update-status for\r\n\t *\t@type: public\r\n\t */\r\n\tcheckBeforeUpdate: function (rowId) {\r\n\t\treturn true;\r\n\t},\r\n\t/**\r\n\t *\t@desc: send row(s) values to server\r\n\t *\t@param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\r\n\t *\t@type: public\r\n\t */\r\n\tsendData: function (rowId) {\r\n\t\tif (this.$scheduler.editStop) this.$scheduler.editStop();\r\n\r\n\t\tif (typeof rowId == \"undefined\" || this._tSend) return this.sendAllData();\r\n\t\tif (this._in_progress[rowId]) return false;\r\n\r\n\t\tthis.messages = [];\r\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) return false;\r\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\r\n\t},\r\n\t_beforeSendData: function (data, rowId) {\r\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) return false;\r\n\t\tthis._sendData(data, rowId);\r\n\t},\r\n\tserialize: function (data, id) {\r\n\t\tif (this._serializeAsJson) {\r\n\t\t\treturn  this._serializeAsJSON(data);\r\n\t\t}\r\n\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn data;\r\n\t\tif (typeof id != \"undefined\")\r\n\t\t\treturn this.serialize_one(data, \"\");\r\n\t\telse {\r\n\t\t\tvar stack = [];\r\n\t\t\tvar keys = [];\r\n\t\t\tfor (var key in data)\r\n\t\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this.post_delim));\r\n\t\t\t\t\tkeys.push(key);\r\n\t\t\t\t}\r\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\r\n\t\t\tif (this.$scheduler.security_key)\r\n\t\t\t\tstack.push(\"dhx_security=\" + (this.$scheduler.security_key));\r\n\t\t\treturn stack.join(\"&\");\r\n\t\t}\r\n\t},\r\n\tserialize_one: function (data, pref) {\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn data;\r\n\t\tvar stack = [];\r\n\t\tvar serialized = \"\";\r\n\t\tfor (var key in data)\r\n\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\tif ((key == \"id\" || key == this.action_param) && this._tMode == \"REST\") continue;\r\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\r\n\t\t\t\t\tserialized = data[key];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\r\n\t\t\t\t}\r\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\r\n\t\t\t}\r\n\t\treturn stack.join(\"&\");\r\n\t},\r\n\t_applyPayload: function (url) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tif (this._payload)\r\n\t\t\tfor (var key in this._payload)\r\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\r\n\t\treturn url;\r\n\t},\r\n\t_sendData: function (dataToSend, rowId) {\r\n\t\tif (!dataToSend) {\r\n\t\t\treturn; // nothing to send\r\n\t\t}\r\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (rowId) {\r\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\r\n\t\tif (this._tMode === \"CUSTOM\") {\r\n\t\t\tvar state = this.getState(rowId);\r\n\t\t\tvar action = this.getActionByState(state);\r\n\t\t\tvar _onResolvedCreateUpdate = function (tag) {\r\n\t\t\t\tvar resultState = state;\r\n\t\t\t\tif(tag && tag.responseText && tag.setRequestHeader){\r\n\t\t\t\t\tif(tag.status !== 200){\r\n\t\t\t\t\t\tresultState = \"error\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\ttag = JSON.parse(tag.responseText);\r\n\t\t\t\t\t} catch (e){}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresultState = resultState || \"updated\";\r\n\t\t\t\tvar sid = rowId;\r\n\t\t\t\tvar tid = rowId;\r\n\r\n\t\t\t\tif (tag) {\r\n\t\t\t\t\tresultState = tag.action || resultState;\r\n\t\t\t\t\tsid = tag.sid || sid;\r\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\r\n\t\t\t\t}\r\n\t\t\t\tself.afterUpdateCallback(sid, tid, resultState, tag);\r\n\t\t\t};\r\n\r\n\t\t\tconst routerMode = \"event\";\r\n\t\t\tvar actionPromise;\r\n\t\t\tif (this._router instanceof Function) {\r\n\t\t\t\tactionPromise = this._router(routerMode, action, dataToSend, rowId);\r\n\t\t\t} else {\r\n\t\t\t\tswitch (state) {\r\n\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].create(dataToSend);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].delete(rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].update(dataToSend, rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(actionPromise){\r\n\t\t\t\t// neither promise nor {tid: newId} response object\r\n\t\t\t\tif(!actionPromise.then &&\r\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined && actionPromise.action === undefined)){\r\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(actionPromise.then){\r\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate).catch(function(error) {\r\n\t\t\t\t\t\tif(error && error.action){\r\n\t\t\t\t\t\t\t_onResolvedCreateUpdate(error);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_onResolvedCreateUpdate({ action: \"error\", value: error});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// custom method may return a response object in case of sync action\r\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t_onResolvedCreateUpdate(null);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar queryParams = {\r\n\t\t\tcallback: function(xml) {\r\n\t\t\t\tvar ids = [];\r\n\r\n\t\t\t\tif (rowId) {\r\n\t\t\t\t\tids.push(rowId);\r\n\t\t\t\t} else if (dataToSend) {\r\n\t\t\t\t\tfor (var key in dataToSend) {\r\n\t\t\t\t\t\tids.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.afterUpdate(self, xml, ids);\r\n\t\t\t},\r\n\t\t\theaders: self._headers\r\n\t\t};\r\n\r\n\t\tvar urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$scheduler.getUserData(0, \"version\")].join(\"&\")) : \"\");\r\n\t\tvar url = this._applyPayload(urlParams);\r\n\t\tvar data;\r\n\r\n\t\tswitch (this._tMode) {\r\n\t\t\tcase \"GET\":\r\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\r\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(data, rowId);\r\n\t\t\t\tqueryParams.method = \"GET\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"POST\":\r\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\r\n\t\t\t\tqueryParams.url = url;\r\n\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\tqueryParams.data = this.serialize(data, rowId);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"JSON\":\r\n\t\t\t\tdata = {};\r\n\t\t\t\tvar preprocessedData = this._cleanupItemBeforeSend(dataToSend);\r\n\t\t\t\tfor (var key in preprocessedData) {\r\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[key] = preprocessedData[key];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tqueryParams.url = url;\r\n\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\tqueryParams.data = JSON.stringify({\r\n\t\t\t\t\tid: rowId,\r\n\t\t\t\t\taction: dataToSend[this.action_param],\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"REST\":\r\n\t\t\tcase \"REST-JSON\":\r\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\r\n\t\t\t\tdata = \"\";\r\n\r\n\t\t\t\tswitch (this.getState(rowId)) {\r\n\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\r\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\r\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\r\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tqueryParams.url = this._applyPayload(url);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis._waitMode++;\r\n\t\treturn ajax.query(queryParams);\r\n\t},\r\n\tsendAllData: function () {\r\n\t\tif (!this.updatedRows.length || this.updateMode === \"off\") { // FIXME: need to leave checking 'this.updateMode === \"off\"'?\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.messages = [];\r\n\t\tvar valid = true;\r\n\r\n\t\tthis._forEachUpdatedRow(function(rowId) {\r\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId);\r\n\t\t});\r\n\r\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this._tSend) {\r\n\t\t\tthis._sendData(this._getAllData());\r\n\t\t} else {\r\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\r\n\t\t\t\tif (!this._in_progress[rowId]) {\r\n\t\t\t\t\tif (this.is_invalid(rowId)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t_getAllData: function (rowId) {\r\n\t\tvar out = {};\r\n\t\tvar has_one = false;\r\n\t\tthis._forEachUpdatedRow(function(id) {\r\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar row = this._getRowData(id);\r\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tout[id] = row;\r\n\t\t\thas_one = true;\r\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\r\n\t\t});\r\n\t\treturn has_one ? out : null;\r\n\t},\r\n\r\n\tfindRow: function (pattern) {\r\n\t\tvar i = 0;\r\n\t\tfor (i = 0; i < this.updatedRows.length; i++)\r\n\t\t\tif (pattern == this.updatedRows[i]) break;\r\n\t\treturn i;\r\n\t},\r\n\r\n\t/**\r\n\t *\t@desc: define custom actions\r\n\t *\t@param: name - name of action, same as value of action attribute\r\n\t *\t@param: handler - custom function, which receives a XMl response content for action\r\n\t *\t@type: private\r\n\t */\r\n\tdefineAction: function (name, handler) {\r\n\t\tif (!this._uActions) this._uActions = {};\r\n\t\tthis._uActions[name] = handler;\r\n\t},\r\n\r\n\t/**\r\n\t *\t @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\r\n\t *\t @param: sid - id of item before update\r\n\t *\t @param: tid - id of item after up0ate\r\n\t *\t @param: action - action name\r\n\t *\t @type: public\r\n\t *\t @topic: 0\r\n\t */\r\n\tafterUpdateCallback: function (sid, tid, action, btag) {\r\n\t\tif(!this.$scheduler){\r\n\t\t\t// destructor has been called before the callback\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar marker = sid;\r\n\t\tvar correct = (action !== \"error\" && action !== \"invalid\");\r\n\t\tif (!correct) {\r\n\t\t\tthis.set_invalid(sid, action);\r\n\t\t}\r\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\r\n\t\t\treturn (delete this._in_progress[marker]);\r\n\t\t}\r\n\r\n\t\tif (this._in_progress[marker] !== \"wait\") {\r\n\t\t\tthis.setUpdated(sid, false);\r\n\t\t}\r\n\r\n\t\tvar originalSid = sid;\r\n\r\n\t\tswitch (action) {\r\n\t\t\tcase \"inserted\":\r\n\t\t\tcase \"insert\":\r\n\t\t\t\tif (tid != sid) {\r\n\t\t\t\t\tthis.setUpdated(sid, false);\r\n\t\t\t\t\tthis.$scheduler[this._methods[2]](sid, tid);\r\n\t\t\t\t\tsid = tid;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"delete\":\r\n\t\t\tcase \"deleted\":\r\n\t\t\t\tthis.$scheduler.setUserData(sid, this.action_param, \"true_deleted\");\r\n\t\t\t\tthis.$scheduler[this._methods[3]](sid, tid);\r\n\t\t\t\tdelete this._in_progress[marker];\r\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\r\n\t\t}\r\n\r\n\t\tif (this._in_progress[marker] !== \"wait\") {\r\n\t\t\tif (correct) {\r\n\t\t\t\tthis.$scheduler.setUserData(sid, this.action_param, \"\");\r\n\t\t\t}\r\n\t\t\tdelete this._in_progress[marker];\r\n\t\t} else {\r\n\t\t\tdelete this._in_progress[marker];\r\n\t\t\tthis.setUpdated(tid, true, this.$scheduler.getUserData(sid, this.action_param));\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\r\n\t},\r\n\r\n\t_errorResponse: function (xml, id){\r\n\t\tif(this.$scheduler && this.$scheduler.callEvent){\r\n\t\t\tthis.$scheduler.callEvent(\"onSaveError\", [id, xml.xmlDoc]);\r\n\t\t}\r\n\t\treturn this.cleanUpdate(id);\r\n\t},\r\n\r\n\t_setDefaultTransactionMode: function () {\r\n\t\tif (this.serverProcessor) {\r\n\t\t\tthis.setTransactionMode(\"POST\", true);\r\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\r\n\t\t\tthis._serverProcessor = this.serverProcessor;\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t *\t@desc: response from server\r\n\t *\t@param: xml - XMLLoader object with response XML\r\n\t *\t@type: private\r\n\t */\r\n\tafterUpdate: function (that, xml, id) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\r\n\t\tif (xml.xmlDoc.status !== 200){\r\n\t\t\tthis._errorResponse(xml, id);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// try to use json first\r\n\t\tvar tag;\r\n\t\ttry {\r\n\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\r\n\t\t} catch (e) {\r\n\t\t\t// empty response also can be processed by json handler\r\n\t\t\tif (!xml.xmlDoc.responseText.length) {\r\n\t\t\t\ttag = {};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tag) {\r\n\t\t\tvar action = tag.action || this.getState(id) || \"updated\";\r\n\t\t\tvar sid = tag.sid || id[0];\r\n\t\t\tvar tid = tag.tid || id[0];\r\n\t\t\tthat.afterUpdateCallback(sid, tid, action, tag);\r\n\t\t\tthat.finalizeUpdate();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// xml response\r\n\t\tvar top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\r\n\t\tif (!top) {\r\n\t\t\treturn this._errorResponse(xml, id);\r\n\t\t}\r\n\t\tvar atag = ajax.xpath(\"//data/action\", top);\r\n\t\tif (!atag.length) {\r\n\t\t\treturn this._errorResponse(xml, id);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < atag.length; i++) {\r\n\t\t\tvar btag = atag[i];\r\n\t\t\tvar action = btag.getAttribute(\"type\");\r\n\t\t\tvar sid = btag.getAttribute(\"sid\");\r\n\t\t\tvar tid = btag.getAttribute(\"tid\");\r\n\r\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag);\r\n\t\t}\r\n\t\tthat.finalizeUpdate();\r\n\t},\r\n\tcleanUpdate: function (id) {\r\n\t\tif (id)\r\n\t\t\tfor (var i = 0; i < id.length; i++)\r\n\t\t\t\tdelete this._in_progress[id[i]];\r\n\t},\r\n\tfinalizeUpdate: function () {\r\n\t\tif (this._waitMode) this._waitMode--;\r\n\r\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\r\n\t\tif (!this.updatedRows.length)\r\n\t\t\tthis.callEvent(\"onFullSync\", []);\r\n\t},\r\n\r\n\t/**\r\n\t *\t@desc: initializes data-processor\r\n\t *\t@param: scheduler - dhtmlxScheduler object to attach this data-processor to\r\n\t *\t@type: public\r\n\t */\r\n\tinit: function (scheduler) {\r\n\t\tif (this._initialized) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$scheduler = scheduler;\r\n\t\tif (this.$scheduler._dp_init) {\r\n\t\t\tthis.$scheduler._dp_init(this);\r\n\t\t}\r\n\r\n\t\tthis._setDefaultTransactionMode();\r\n\r\n\t\tthis._methods=this._methods||[\"_set_event_text_style\",\"\",\"_dp_change_event_id\",\"_dp_hook_delete\"];\r\n\t\textendScheduler(this.$scheduler, this);\r\n\t\tvar dataProcessorEvents = new DataProcessorEvents(this.$scheduler, this);\r\n\t\tdataProcessorEvents.attach();\r\n\t\tthis.attachEvent(\"onDestroy\", function() {\r\n\t\t\tdelete this._getRowData;\r\n\r\n\t\t\tdelete this.$scheduler._dp;\r\n\t\t\tdelete this.$scheduler._dataprocessor;\r\n\t\t\tdelete this.$scheduler._set_event_text_style;\r\n\t\t\tdelete this.$scheduler._dp_change_event_id;\r\n\t\t\tdelete this.$scheduler._dp_hook_delete;\r\n\t\t\tdelete this.$scheduler;\r\n\t\t\tdataProcessorEvents.detach();\r\n\t\t});\r\n\t\tthis.$scheduler.callEvent(\"onDataProcessorReady\", [this]);\r\n\t\tthis._initialized = true;\r\n\r\n\t\tscheduler._dataprocessor=this;\r\n\t},\r\n\r\n\tsetOnAfterUpdate: function (ev) {\r\n\t\tthis.attachEvent(\"onAfterUpdate\", ev);\r\n\t},\r\n\tsetOnBeforeUpdateHandler: function (func) {\r\n\t\tthis.attachEvent(\"onBeforeDataSending\", func);\r\n\t},\r\n\r\n\t/* starts autoupdate mode\r\n\t\t@param interval time interval for sending update requests\r\n\t*/\r\n\tsetAutoUpdate: function (interval, user) {\r\n\t\tinterval = interval || 2000;\r\n\r\n\t\tthis._user = user || (new Date()).valueOf();\r\n\t\tthis._need_update = false;\r\n\t\t//this._loader = null;\r\n\t\tthis._update_busy = false;\r\n\r\n\t\tthis.attachEvent(\"onAfterUpdate\", function (sid, action, tid, xml_node) {\r\n\t\t\tthis.afterAutoUpdate(sid, action, tid, xml_node);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onFullSync\", function () {\r\n\t\t\tthis.fullSync();\r\n\t\t});\r\n\r\n\t\tvar self = this;\r\n\t\tlet intervalId = global.setInterval(function () {\r\n\t\t\tself.loadUpdate();\r\n\t\t}, interval);\r\n\t\tthis.attachEvent(\"onDestroy\", function(){\r\n\t\t\tclearInterval(intervalId);\r\n\t\t});\r\n\t},\r\n\r\n\t/* process updating request answer\r\n\t\tif status == collision version is deprecated\r\n\t\tset flag for autoupdating immediately\r\n\t*/\r\n\tafterAutoUpdate: function (sid, action, tid, xml_node) {\r\n\t\tif (action == 'collision') {\r\n\t\t\tthis._need_update = true;\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\r\n\t/* callback function for onFillSync event\r\n\t\tcall update function if it's need\r\n\t*/\r\n\tfullSync: function () {\r\n\t\tif (this._need_update) {\r\n\t\t\tthis._need_update = false;\r\n\t\t\tthis.loadUpdate();\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/* sends query to the server and call callback function\r\n\t*/\r\n\tgetUpdates: function (url, callback) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tif (this._update_busy)\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\tthis._update_busy = true;\r\n\r\n\t\tajax.get(url, callback);\r\n\t},\r\n\r\n\t/* returns xml node value\r\n\t\t@param node\r\n\t\t\txml node\r\n\t*/\r\n\t_getXmlNodeValue: function(node) {\r\n\t\tif (node.firstChild) {\r\n\t\t\treturn node.firstChild.nodeValue;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t},\r\n\r\n\t/* loads updates and processes them\r\n\t*/\r\n\tloadUpdate: function () {\r\n\t\tvar self = this;\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tvar version = this.$scheduler.getUserData(0, \"version\");\r\n\t\tvar url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\r\n\t\turl = url.replace(\"editing=true&\", \"\");\r\n\t\tthis.getUpdates(url, function (xml) {\r\n\t\t\tvar vers = ajax.xpath(\"//userdata\", xml);\r\n\t\t\tself.$scheduler.setUserData(0, \"version\", self._getXmlNodeValue(vers[0]));\r\n\r\n\t\t\tvar updates = ajax.xpath(\"//update\", xml);\r\n\t\t\tif (updates.length) {\r\n\t\t\t\tself._silent_mode = true;\r\n\r\n\t\t\t\tfor (var i = 0; i < updates.length; i++) {\r\n\t\t\t\t\tvar status = updates[i].getAttribute(\"status\");\r\n\t\t\t\t\tvar id = updates[i].getAttribute(\"id\");\r\n\t\t\t\t\tvar parent = updates[i].getAttribute(\"parent\");\r\n\t\t\t\t\tswitch (status) {\r\n\t\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"updated\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself._silent_mode = false;\r\n\t\t\t}\r\n\t\t\tself._update_busy = false;\r\n\t\t\tself = null;\r\n\t\t});\r\n\t},\r\n\r\n\tdestructor: function() {\r\n\t\tthis.callEvent(\"onDestroy\", []);\r\n\t\tthis.detachAllEvents();\r\n\r\n\t\tthis.updatedRows = [];\r\n\t\tthis._in_progress = {};\r\n\t\tthis._invalid = {};\r\n\t\tthis._headers = null;\r\n\t\tthis._payload = null;\r\n\t\tdelete this._initialized;\r\n\t},\r\n\r\n\turl: function(url) {\r\n\t\tthis.serverProcessor = this._serverProcessor = url;\r\n\t},\r\n\r\n\t_serializeAsJSON: function(data) {\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tvar copy = this.$scheduler.utils.copy(data);\r\n\t\tif (this._tMode === \"REST-JSON\") {\r\n\t\t\tdelete copy.id;\r\n\t\t\tdelete copy[this.action_param];\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(copy);\r\n\t},\r\n\r\n\t// GET/POST/JSON modes of the dataProcessor didn't send the whole data items in 'delete' requests\r\n\t// clear extra info from the data in order not to change the request format\r\n\t_cleanupArgumentsBeforeSend: function(dataToSend) {\r\n\t\tvar processedData;\r\n\t\tif(dataToSend[this.action_param] === undefined){// hash of updated items, and not an individual item\r\n\t\t\tprocessedData = {};\r\n\t\t\tfor(var i in dataToSend) {\r\n\t\t\t\tprocessedData[i] = this._cleanupArgumentsBeforeSend(dataToSend[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tprocessedData = this._cleanupItemBeforeSend(dataToSend);\r\n\t\t}\r\n\t\treturn processedData;\r\n\t},\r\n\t_cleanupItemBeforeSend: function(updatedItem) {\r\n\t\tvar output = null;\r\n\t\tif(updatedItem){\r\n\t\t\tif(updatedItem[this.action_param] === \"deleted\"){\r\n\t\t\t\toutput = {};\r\n\t\t\t\toutput.id = updatedItem.id;\r\n\t\t\t\toutput[this.action_param] = updatedItem[this.action_param];\r\n\t\t\t}else{\r\n\t\t\t\toutput = updatedItem;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t},\r\n\r\n\t_forEachUpdatedRow: function(code) {\r\n\t\tvar updatedRows = this.updatedRows.slice();\r\n\t\tfor (var i = 0; i < updatedRows.length; i++) {\r\n\t\t\tvar rowId = updatedRows[i];\r\n\t\t\tif (this.$scheduler.getUserData(rowId, this.action_param)) {\r\n\t\t\t\tcode.call(this, rowId);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_prepareDataItem: function(item) {\r\n\t\tvar processedItem = {};\r\n\t\tvar scheduler = this.$scheduler;\r\n\t\tvar copy = scheduler.utils.copy(item);\r\n\t\tfor (var i in copy) {\r\n\t\t\tif (i.indexOf(\"_\") === 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (copy[i]) {\r\n\t\t\t\tif(copy[i].getUTCFullYear){\r\n\t\t\t\t\tprocessedItem[i] = scheduler._helpers.formatDate(copy[i]);\r\n\t\t\t\t} else if(typeof copy[i] == \"object\") {\r\n\t\t\t\t\tprocessedItem[i] = this._prepareDataItem(copy[i]);\r\n\t\t\t\t} else if(copy[i] === null) {\r\n\t\t\t\t\tprocessedItem[i] = \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprocessedItem[i] = copy[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprocessedItem[this.action_param] = scheduler.getUserData(item.id, this.action_param);\r\n\t\treturn processedItem;\r\n\t},\r\n\t_getRowData: function(id) {\r\n\t\tvar dataItem = this.$scheduler.getEvent(id);\r\n\t\tif (!dataItem) {\r\n\t\t\tdataItem = { id: id };\r\n\t\t}\r\n\t\treturn this._prepareDataItem(dataItem);\r\n\t}\r\n};\r\n\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler.createDataProcessor = function(config) {\r\n\tvar router;\r\n\tvar tMode;\r\n\tif (config instanceof Function) {\r\n\t\trouter = config;\r\n\t} else if (config.hasOwnProperty(\"router\")) {\r\n\t\trouter = config.router;\r\n\t} else if(config.hasOwnProperty(\"event\")){\r\n\t\trouter = config;\r\n\t}\r\n\r\n\tif (router) {\r\n\t\ttMode = \"CUSTOM\";\r\n\t} else {\r\n\t\ttMode = config.mode || \"REST-JSON\";\r\n\t}\r\n\r\n\tvar dp = new DataProcessor(config.url);\r\n\tdp.init(scheduler);\r\n\tdp.setTransactionMode({\r\n\t\tmode: tMode,\r\n\t\trouter: router\r\n\t}, config.batchUpdate); // FIXME: config.batchUpdate where it is explained?\r\n\treturn dp;\r\n};\r\n\r\nscheduler.DataProcessor = DataProcessor;\r\n\r\n}\r\n\r\n//var dataProcessor = global.dataProcessor = DataProcessor; // for old","import utils from \"./utils/utils\";\r\nimport domHelpers from \"./utils/dom_helpers\";\r\n\r\n\r\nexport default function(scheduler) {\r\n\r\n\tvar boxAttribute = \"data-dhxbox\";\r\n\r\n\tvar _dhx_msg_cfg = null;\r\n\r\n\tfunction callback(config, result) {\r\n\t\tvar usercall = config.callback;\r\n\t\tmodalBox.hide(config.box);\r\n\r\n\t\t_dhx_msg_cfg = config.box = null;\r\n\tif (usercall)\r\n\t\t\tusercall(result);\r\n\t}\r\n\r\n\tfunction modal_key(event) {\r\n\t\tif (_dhx_msg_cfg) {\r\n\r\n\t\t\tvar code = event.which || event.keyCode;\r\n\t\t\tvar preventDefault = false;\r\n\r\n\t\t\tif (messageBox.keyboard) {\r\n\t\t\t\tif (code == 13 || code == 32) {\r\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\r\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\r\n\t\t\t\t\tvar target = event.target || event.srcElement;\r\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"scheduler_popup_button\") > -1 && target.click) {\r\n\t\t\t\t\t\ttarget.click();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\r\n\t\t\t\t\t\tpreventDefault = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (code == 27) {\r\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\r\n\t\t\t\t\tpreventDefault = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (preventDefault) {\r\n\t\t\t\tif (event.preventDefault){\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\treturn !(event.cancelBubble = true);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.event(document, \"keydown\", modal_key, true);\r\n\r\n\tfunction modality(mode) {\r\n\t\tif (!modality.cover) {\r\n\t\t\tmodality.cover = document.createElement(\"div\");\r\n\t\t\t//necessary for IE only\r\n\t\t\tscheduler.event(modality.cover, \"keydown\", modal_key);\r\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\r\n\t\t\tdocument.body.appendChild(modality.cover);\r\n\t\t}\r\n\r\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\r\n\t}\r\n\r\n\tfunction button(text, classValue, result) {\r\n\t\tvar buttonAriaAttrs = scheduler._waiAria.messageButtonAttrString(text);\r\n\t\tvar name = (classValue || \"\").toLowerCase().replace(/ /g, \"_\");\r\n\t\tvar buttonCss = `scheduler_${name}_button dhtmlx_${name}_button`; \r\n\t\treturn `<div ${buttonAriaAttrs} class='scheduler_popup_button dhtmlx_popup_button ${buttonCss}' data-result='${result}' result='${result}' ><div>${text}</div></div>`;\r\n\t}\r\n\r\n\tfunction info(text) {\r\n\t\tif (!messageBox.area) {\r\n\t\t\tmessageBox.area = document.createElement(\"div\");\r\n\t\t\tmessageBox.area.className = \"scheduler_message_area dhtmlx_message_area\";\r\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\r\n\t\t\tdocument.body.appendChild(messageBox.area);\r\n\t\t}\r\n\r\n\t\tmessageBox.hide(text.id);\r\n\t\tvar message = document.createElement(\"div\");\r\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\r\n\t\tmessage.className = \"scheduler-info dhtmlx-info scheduler-\" + text.type + \" dhtmlx-\" + text.type;\r\n\t\tscheduler.event(message, \"click\",function () {\r\n\t\t\tmessageBox.hide(text.id);\r\n\t\t\ttext = null;\r\n\t\t});\r\n\r\n\t\tscheduler._waiAria.messageInfoAttr(message);\r\n\r\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\r\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\r\n\t\telse\r\n\t\t\tmessageBox.area.appendChild(message);\r\n\r\n\t\tif (text.expire > 0)\r\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\r\n\t\t\t\t// GS-1213: We need that when Scheduler is destroyed\r\n\t\t\t\tif (messageBox) messageBox.hide(text.id);\r\n\t\t\t}, text.expire);\r\n\r\n\t\tmessageBox.pull[text.id] = message;\r\n\t\tmessage = null;\r\n\r\n\t\treturn text.id;\r\n\t}\r\n\r\n\tfunction getFirstDefined() {\r\n\t\tvar values = [].slice.apply(arguments, [0]);\r\n\r\n\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\tif (values[i]) {\r\n\t\t\t\treturn values[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction _boxStructure(config, ok, cancel) {\r\n\t\tvar box = document.createElement(\"div\");\r\n\r\n\t\tvar contentId = utils.uid();\r\n\t\tscheduler._waiAria.messageModalAttr(box, contentId);\r\n\r\n\r\n\t\tbox.className = \" scheduler_modal_box dhtmlx_modal_box scheduler-\" + config.type + \" dhtmlx-\" + config.type;\r\n\t\tbox.setAttribute(boxAttribute, 1);\r\n\r\n\t\tvar inner = '';\r\n\r\n\t\tif (config.width)\r\n\t\t\tbox.style.width = config.width;\r\n\t\tif (config.height)\r\n\t\t\tbox.style.height = config.height;\r\n\t\tif (config.title)\r\n\t\t\tinner += '<div class=\"scheduler_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\r\n\t\tinner += '<div class=\"scheduler_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"scheduler_popup_controls dhtmlx_popup_controls\">';\r\n\t\tif (ok)\r\n\t\t\tinner += button(getFirstDefined(config.ok, scheduler.locale.labels.message_ok, \"OK\"), \"ok\", true);\r\n\t\tif (cancel)\r\n\t\t\tinner += button(getFirstDefined(config.cancel, scheduler.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\r\n\r\n\t\tif (config.buttons) {\r\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\r\n\t\t\t\tvar btn = config.buttons[i];\r\n\t\t\t\tif (typeof btn == \"object\") {\r\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\r\n\t\t\t\t\tvar label = btn.label;\r\n\t\t\t\t\tvar css = btn.css || (\"scheduler_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\r\n\t\t\t\t\tvar value = btn.value || i;\r\n\t\t\t\t\tinner += button(label, css, value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinner += button(btn, btn, i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinner += '</div>';\r\n\t\tbox.innerHTML = inner;\r\n\r\n\t\tif (config.content) {\r\n\t\t\tvar node = config.content;\r\n\t\t\tif (typeof node == \"string\")\r\n\t\t\t\tnode = document.getElementById(node);\r\n\t\t\tif (node.style.display == 'none')\r\n\t\t\t\tnode.style.display = \"\";\r\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\r\n\t\t}\r\n\r\n\t\tscheduler.event(box, \"click\", function (event) {\r\n\t\t\tvar source = event.target || event.srcElement;\r\n\t\t\tif (!source.className) source = source.parentNode;\r\n\t\t\tif (domHelpers.closest(source, \".scheduler_popup_button\")) {\r\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\r\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\r\n\t\t\t\tcallback(config, result);\r\n\t\t\t}\r\n\t\t});\r\n\t\tconfig.box = box;\r\n\t\tif (ok || cancel)\r\n\t\t\t_dhx_msg_cfg = config;\r\n\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction _createBox(config, ok, cancel) {\r\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\r\n\r\n\t\tif (!config.hidden)\r\n\t\t\tmodality(true);\r\n\t\tdocument.body.appendChild(box);\r\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\r\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\r\n\t\tif (config.position == \"top\")\r\n\t\t\tbox.style.top = \"-3px\";\r\n\t\telse\r\n\t\t\tbox.style.top = y + 'px';\r\n\t\tbox.style.left = x + 'px';\r\n\t\t//necessary for IE only\r\n\t\tscheduler.event(box, \"keydown\", modal_key);\r\n\r\n\t\tmodalBox.focus(box);\r\n\r\n\t\tif (config.hidden)\r\n\t\t\tmodalBox.hide(box);\r\n\r\n\t\tscheduler.callEvent(\"onMessagePopup\", [box]);\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction alertPopup(config) {\r\n\t\treturn _createBox(config, true, false);\r\n\t}\r\n\r\n\tfunction confirmPopup(config) {\r\n\t\treturn _createBox(config, true, true);\r\n\t}\r\n\r\n\tfunction boxPopup(config) {\r\n\t\treturn _createBox(config);\r\n\t}\r\n\r\n\tfunction box_params(text, type, callback) {\r\n\t\tif (typeof text != \"object\") {\r\n\t\t\tif (typeof type == \"function\") {\r\n\t\t\t\tcallback = type;\r\n\t\t\t\ttype = \"\";\r\n\t\t\t}\r\n\t\t\ttext = {text: text, type: type, callback: callback};\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\tfunction params(text, type, expire, id) {\r\n\t\tif (typeof text != \"object\")\r\n\t\t\ttext = {text: text, type: type, expire: expire, id: id};\r\n\t\ttext.id = text.id || utils.uid();\r\n\t\ttext.expire = text.expire || messageBox.expire;\r\n\t\treturn text;\r\n\t}\r\n\r\n\tvar alertBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"confirm\";\r\n\t\treturn alertPopup(text);\r\n\t};\r\n\tvar confirmBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn confirmPopup(text);\r\n\t};\r\n\tvar modalBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn boxPopup(text);\r\n\t};\r\n\tmodalBox.hide = function (node) {\r\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\r\n\t\t\tnode = node.parentNode;\r\n\t\tif (node) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\tmodality(false);\r\n\r\n\t\t\tscheduler.callEvent(\"onAfterMessagePopup\", [node]);\r\n\t\t}\r\n\t};\r\n\r\n\tmodalBox.focus = function (node) {\r\n\t\tsetTimeout(function () {\r\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\r\n\t\t\tif (focusable.length) {\r\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t};\r\n\r\n\tvar messageBox = function (text, type, expire, id) {\r\n\t\ttext = params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"info\";\r\n\r\n\t\tvar subtype = text.type.split(\"-\")[0];\r\n\t\tswitch (subtype) {\r\n\t\t\tcase \"alert\":\r\n\t\t\t\treturn alertPopup(text);\r\n\t\t\tcase \"confirm\":\r\n\t\t\t\treturn confirmPopup(text);\r\n\t\t\tcase \"modalbox\":\r\n\t\t\t\treturn boxPopup(text);\r\n\t\t\tdefault:\r\n\t\t\t\treturn info(text);\r\n\t\t}\r\n\t};\r\n\r\n\tmessageBox.seed = (new Date()).valueOf();\r\n\tmessageBox.uid = utils.uid;\r\n\tmessageBox.expire = 4000;\r\n\tmessageBox.keyboard = true;\r\n\tmessageBox.position = \"top\";\r\n\tmessageBox.pull = {};\r\n\tmessageBox.timers = {};\r\n\r\n\tmessageBox.hideAll = function () {\r\n\t\tfor (var key in messageBox.pull)\r\n\t\t\tmessageBox.hide(key);\r\n\t};\r\n\tmessageBox.hide = function (id) {\r\n\t\tvar obj = messageBox.pull[id];\r\n\t\tif (obj && obj.parentNode) {\r\n\t\t\twindow.setTimeout(function () {\r\n\t\t\t\tobj.parentNode.removeChild(obj);\r\n\t\t\t\tobj = null;\r\n\t\t\t}, 2000);\r\n\t\t\tobj.className += \" hidden\";\r\n\r\n\t\t\tif (messageBox.timers[id])\r\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\r\n\t\t\tdelete messageBox.pull[id];\r\n\t\t}\r\n\t};\r\n\r\n\tvar popups = [];\r\n\tscheduler.attachEvent(\"onMessagePopup\", function(box){\r\n\t\tpopups.push(box);\r\n\t});\r\n\tscheduler.attachEvent(\"onAfterMessagePopup\", function(box){\r\n\t\tfor(var i = 0; i < popups.length; i++){\r\n\t\t\tif(popups[i] === box){\r\n\t\t\t\tpopups.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tif(modality.cover && modality.cover.parentNode){\r\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\r\n\t\t}\r\n\r\n\t\tfor(var i = 0; i < popups.length; i++){\r\n\t\t\tif(popups[i].parentNode){\r\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpopups = null;\r\n\r\n\t\tif(messageBox.area && messageBox.area.parentNode){\r\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\r\n\t\t}\r\n\t\tmessageBox = null;\r\n\t});\r\n\r\n\treturn {\r\n\t\talert: alertBox,\r\n\t\tconfirm: confirmBox,\r\n\t\tmessage: messageBox,\r\n\t\tmodalbox: modalBox\r\n\t};\r\n}","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"كانون الثاني\", \"شباط\", \"آذار\", \"نيسان\", \"أيار\", \"حزيران\", \"تموز\", \"آب\", \"أيلول\", \"تشرين الأول\", \"تشرين الثاني\", \"كانون الأول\"],\r\n\t\tmonth_short: [\"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"],\r\n\t\tday_full: [\"الأحد\", \"الأثنين\", \"ألثلاثاء\", \"الأربعاء\", \"ألحميس\", \"ألجمعة\", \"السبت\"],\r\n\t\tday_short: [\"احد\", \"اثنين\", \"ثلاثاء\", \"اربعاء\", \"خميس\", \"جمعة\", \"سبت\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"اليوم\",\r\n\t\tday_tab: \"يوم\",\r\n\t\tweek_tab: \"أسبوع\",\r\n\t\tmonth_tab: \"شهر\",\r\n\t\tnew_event: \"حدث جديد\",\r\n\t\ticon_save: \"اخزن\",\r\n\t\ticon_cancel: \"الغاء\",\r\n\t\ticon_details: \"تفاصيل\",\r\n\t\ticon_edit: \"تحرير\",\r\n\t\ticon_delete: \"حذف\",\r\n\t\tconfirm_closing: \"التغييرات سوف تضيع, هل انت متأكد؟\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟\",\r\n\t\tsection_description: \"الوصف\",\r\n\t\tsection_time: \"الفترة الزمنية\",\r\n\t\tfull_day: \"طوال اليوم\",\r\n\r\n\t\tconfirm_recurring: \"هل تريد تحرير مجموعة كاملة من الأحداث المتكررة؟\",\r\n\t\tsection_recurring: \"تكرار الحدث\",\r\n\t\tbutton_recurring: \"تعطيل\",\r\n\t\tbutton_recurring_open: \"تمكين\",\r\n\t\tbutton_edit_series: \"تحرير سلسلة\",\r\n\t\tbutton_edit_occurrence: \"تعديل نسخة\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"جدول\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};\r\n\r\n\r\n","/*\r\n Translation by Sofya Morozova\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Студзень\", \"Люты\", \"Сакавік\", \"Красавік\", \"Maй\", \"Чэрвень\", \"Ліпень\", \"Жнівень\", \"Верасень\", \"Кастрычнік\", \"Лістапад\", \"Снежань\"],\r\n\t\tmonth_short: [\"Студз\", \"Лют\", \"Сак\", \"Крас\", \"Maй\", \"Чэр\", \"Ліп\", \"Жнів\", \"Вер\", \"Каст\", \"Ліст\", \"Снеж\"],\r\n\t\tday_full: [ \"Нядзеля\", \"Панядзелак\", \"Аўторак\", \"Серада\", \"Чацвер\", \"Пятніца\", \"Субота\"],\r\n\t\tday_short: [\"Нд\", \"Пн\", \"Аўт\", \"Ср\", \"Чцв\", \"Пт\", \"Сб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сёння\",\r\n\t\tday_tab: \"Дзень\",\r\n\t\tweek_tab: \"Тыдзень\",\r\n\t\tmonth_tab: \"Месяц\",\r\n\t\tnew_event: \"Новая падзея\",\r\n\t\ticon_save: \"Захаваць\",\r\n\t\ticon_cancel: \"Адмяніць\",\r\n\t\ticon_details: \"Дэталі\",\r\n\t\ticon_edit: \"Змяніць\",\r\n\t\ticon_delete: \"Выдаліць\",\r\n\t\tconfirm_closing: \"\", //Унесеныя змены будуць страчаны, працягнуць?\r\n\t\tconfirm_deleting: \"Падзея будзе выдалена незваротна, працягнуць?\",\r\n\t\tsection_description: \"Апісанне\",\r\n\t\tsection_time: \"Перыяд часу\",\r\n\t\tfull_day: \"Увесь дзень\",\r\n\r\n\t\tconfirm_recurring: \"Вы хочаце змяніць усю серыю паўтаральных падзей?\",\r\n\t\tsection_recurring: \"Паўтарэнне\",\r\n\t\tbutton_recurring: \"Адключана\",\r\n\t\tbutton_recurring_open: \"Уключана\",\r\n\t\tbutton_edit_series: \"Рэдагаваць серыю\",\r\n\t\tbutton_edit_occurrence: \"Рэдагаваць асобнік\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Спіс\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Апісанне\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Год\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Спіс\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Спic\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Дзень\",\r\n\t\trepeat_radio_week: \"Тыдзень\",\r\n\t\trepeat_radio_month: \"Месяц\",\r\n\t\trepeat_radio_year: \"Год\",\r\n\t\trepeat_radio_day_type: \"Кожны\",\r\n\t\trepeat_text_day_count: \"дзень\",\r\n\t\trepeat_radio_day_type2: \"Кожны працоўны дзень\",\r\n\t\trepeat_week: \" Паўтараць кожны\",\r\n\t\trepeat_text_week_count: \"тыдзень\",\r\n\t\trepeat_radio_month_type: \"Паўтараць\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" чысла кожнага\",\r\n\t\trepeat_text_month_count: \"месяцу\",\r\n\t\trepeat_text_month_count2_before: \"кожны \",\r\n\t\trepeat_text_month_count2_after: \"месяц\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"дзень\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без даты заканчэння\",\r\n\t\trepeat_text_occurences_count: \"паўтораў\",\r\n\t\trepeat_radio_end2: \"\",\r\n\t\trepeat_radio_end3: \"Да \",\r\n\t\tmonth_for_recurring: [\"Студзеня\", \"Лютага\", \"Сакавіка\", \"Красавіка\", \"Мая\", \"Чэрвеня\", \"Ліпeня\", \"Жніўня\", \"Верасня\", \"Кастрычніка\", \"Лістапада\", \"Снежня\"],\r\n\t\tday_for_recurring: [\"Нядзелю\", \"Панядзелак\", \"Аўторак\", \"Сераду\", \"Чацвер\", \"Пятніцу\", \"Суботу\"]\r\n\t}\r\n};\r\n","/*\r\n @Traducido por Vicente Adria Bohigues - vicenteadria@hotmail.com\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Gener\", \"Febrer\", \"Març\", \"Abril\", \"Maig\", \"Juny\", \"Juliol\", \"Agost\", \"Setembre\", \"Octubre\", \"Novembre\", \"Desembre\"],\r\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Oct\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Diumenge\", \"Dilluns\", \"Dimarts\", \"Dimecres\", \"Dijous\", \"Divendres\", \"Dissabte\"],\r\n\t\tday_short: [\"Dg\", \"Dl\", \"Dm\", \"Dc\", \"Dj\", \"Dv\", \"Ds\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hui\",\r\n\t\tday_tab: \"Dia\",\r\n\t\tweek_tab: \"Setmana\",\r\n\t\tmonth_tab: \"Mes\",\r\n\t\tnew_event: \"Nou esdeveniment\",\r\n\t\ticon_save: \"Guardar\",\r\n\t\ticon_cancel: \"Cancel·lar\",\r\n\t\ticon_details: \"Detalls\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Esborrar\",\r\n\t\tconfirm_closing: \"\", //\"Els seus canvis es perdràn, continuar ?\"\r\n\t\tconfirm_deleting: \"L'esdeveniment s'esborrarà definitivament, continuar ?\",\r\n\t\tsection_description: \"Descripció\",\r\n\t\tsection_time: \"Periode de temps\",\r\n\t\tfull_day: \"Tot el dia\",\r\n\r\n\t\tconfirm_recurring: \"¿Desitja modificar el conjunt d'esdeveniments repetits?\",\r\n\t\tsection_recurring: \"Repeteixca l'esdeveniment\",\r\n\t\tbutton_recurring: \"Impedit\",\r\n\t\tbutton_recurring_open: \"Permés\",\r\n\t\tbutton_edit_series: \"Edit sèrie\",\r\n\t\tbutton_edit_occurrence: \"Edita Instància\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descripció\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Any\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Taula\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};","/*\r\nTranslation by FreezeSoul\r\n*/\r\n//scheduler.config.day_date=\"%M %d日 %D\";\r\n//scheduler.config.default_date=\"%Y年 %M %d日\";\r\n//scheduler.config.month_date=\"%Y年 %M\";\r\n\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n\t\tmonth_short: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tday_full: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\r\n\t\tday_short: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"今天\",\r\n\t\tday_tab: \"日\",\r\n\t\tweek_tab: \"周\",\r\n\t\tmonth_tab: \"月\",\r\n\t\tnew_event: \"新建日程\",\r\n\t\ticon_save: \"保存\",\r\n\t\ticon_cancel: \"关闭\",\r\n\t\ticon_details: \"详细\",\r\n\t\ticon_edit: \"编辑\",\r\n\t\ticon_delete: \"删除\",\r\n\t\tconfirm_closing: \"请确认是否撤销修改!\", //Your changes will be lost, are your sure?\r\n\t\tconfirm_deleting: \"是否删除日程?\",\r\n\t\tsection_description: \"描述\",\r\n\t\tsection_time: \"时间范围\",\r\n\t\tfull_day: \"整天\",\r\n\r\n\t\tconfirm_recurring:\"请确认是否将日程设为重复模式?\",\r\n\t\tsection_recurring:\"重复周期\",\r\n\t\tbutton_recurring:\"禁用\",\r\n\t\tbutton_recurring_open:\"启用\",\r\n\t\tbutton_edit_series: \"编辑系列\",\r\n\t\tbutton_edit_occurrence: \"编辑实例\",\r\n\t\t\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"议程\",\r\n\t\tdate:\"日期\",\r\n\t\tdescription:\"说明\",\r\n\t\t\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"今年\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"议程\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab:\"电网\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"按天\",\r\n\t\trepeat_radio_week: \"按周\",\r\n\t\trepeat_radio_month: \"按月\",\r\n\t\trepeat_radio_year: \"按年\",\r\n\t\trepeat_radio_day_type: \"每\",\r\n\t\trepeat_text_day_count: \"天\",\r\n\t\trepeat_radio_day_type2: \"每个工作日\",\r\n\t\trepeat_week: \" 重复 每\",\r\n\t\trepeat_text_week_count: \"星期的:\",\r\n\t\trepeat_radio_month_type: \"重复\",\r\n\t\trepeat_radio_month_start: \"在\",\r\n\t\trepeat_text_month_day: \"日 每\",\r\n\t\trepeat_text_month_count: \"月\",\r\n\t\trepeat_text_month_count2_before: \"每\",\r\n\t\trepeat_text_month_count2_after: \"月\",\r\n\t\trepeat_year_label: \"在\",\r\n\t\tselect_year_day2: \"的\",\r\n\t\trepeat_text_year_day: \"日\",\r\n\t\tselect_year_month: \"月\",\r\n\t\trepeat_radio_end: \"无结束日期\",\r\n\t\trepeat_text_occurences_count: \"次结束\",\r\n\t\trepeat_radio_end2: \"重复\",\r\n\t\trepeat_radio_end3: \"结束于\",\r\n\t\tmonth_for_recurring: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n\t\tday_for_recurring: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\r\n\t\tmonth_short: [\"Led\", \"Ún\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čec\", \"Srp\", \"Září\", \"Říj\", \"List\", \"Pro\"],\r\n\t\tday_full: [\"Neděle\", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"],\r\n\t\tday_short: [\"Ne\", \"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dnes\",\r\n\t\tday_tab: \"Den\",\r\n\t\tweek_tab: \"Týden\",\r\n\t\tmonth_tab: \"Měsíc\",\r\n\t\tnew_event: \"Nová událost\",\r\n\t\ticon_save: \"Uložit\",\r\n\t\ticon_cancel: \"Zpět\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edituj\",\r\n\t\ticon_delete: \"Smazat\",\r\n\t\tconfirm_closing: \"\", //Vaše změny budou ztraceny, opravdu ?\r\n\t\tconfirm_deleting: \"Událost bude trvale smazána, opravdu?\",\r\n\t\tsection_description: \"Poznámky\",\r\n\t\tsection_time: \"Doba platnosti\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Přejete si upravit celou řadu opakovaných událostí?\",\r\n\t\tsection_recurring: \"Opakování události\",\r\n\t\tbutton_recurring: \"Vypnuto\",\r\n\t\tbutton_recurring_open: \"Zapnuto\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Upravit instance\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Program\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Poznámka\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\t\tfull_day: \"Full day\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Program\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Mřížka\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Denně\",\r\n\t\trepeat_radio_week: \"Týdně\",\r\n\t\trepeat_radio_month: \"Měsíčně\",\r\n\t\trepeat_radio_year: \"Ročně\",\r\n\t\trepeat_radio_day_type: \"každý\",\r\n\t\trepeat_text_day_count: \"Den\",\r\n\t\trepeat_radio_day_type2: \"pracovní dny\",\r\n\t\trepeat_week: \"Opakuje každých\",\r\n\t\trepeat_text_week_count: \"Týdnů na:\",\r\n\t\trepeat_radio_month_type: \"u každého\",\r\n\t\trepeat_radio_month_start: \"na\",\r\n\t\trepeat_text_month_day: \"Den každého\",\r\n\t\trepeat_text_month_count: \"Měsíc\",\r\n\t\trepeat_text_month_count2_before: \"každý\",\r\n\t\trepeat_text_month_count2_after: \"Měsíc\",\r\n\t\trepeat_year_label: \"na\",\r\n\t\tselect_year_day2: \"v\",\r\n\t\trepeat_text_year_day: \"Den v\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"bez data ukončení\",\r\n\t\trepeat_text_occurences_count: \"Události\",\r\n\t\trepeat_radio_end2: \"po\",\r\n\t\trepeat_radio_end3: \"Konec\",\r\n\t\tmonth_for_recurring: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\r\n\t\tday_for_recurring: [\"Neděle \", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marts\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uge\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny begivenhed\",\r\n\t\ticon_save: \"Gem\",\r\n\t\ticon_cancel: \"Fortryd\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Tilret\",\r\n\t\ticon_delete: \"Slet\",\r\n\t\tconfirm_closing: \"Dine rettelser vil gå tabt.. Er dy sikker?\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Bigivenheden vil blive slettet permanent. Er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du tilrette hele serien af gentagne begivenheder?\",\r\n\t\tsection_recurring: \"Gentag begivenhed\",\r\n\t\tbutton_recurring: \"Frakoblet\",\r\n\t\tbutton_recurring_open: \"Tilkoblet\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Rediger en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dagsorden\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dagsorden\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daglig\",\r\n\t\trepeat_radio_week: \"Ugenlig\",\r\n\t\trepeat_radio_month: \"Månedlig\",\r\n\t\trepeat_radio_year: \"Årlig\",\r\n\t\trepeat_radio_day_type: \"Hver\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"På hver arbejdsdag\",\r\n\t\trepeat_week: \" Gentager sig hver\",\r\n\t\trepeat_text_week_count: \"uge på følgende dage:\",\r\n\t\trepeat_radio_month_type: \"Hver den\",\r\n\t\trepeat_radio_month_start: \"Den\",\r\n\t\trepeat_text_month_day: \" i hver\",\r\n\t\trepeat_text_month_count: \"måned\",\r\n\t\trepeat_text_month_count2_before: \"hver\",\r\n\t\trepeat_text_month_count2_after: \"måned\",\r\n\t\trepeat_year_label: \"Den\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Ingen slutdato\",\r\n\t\trepeat_text_occurences_count: \"gentagelse\",\r\n\t\trepeat_radio_end2: \"Efter\",\r\n\t\trepeat_radio_end3: \"Slut\",\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\r\n\t\tday_for_recurring: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\" Januar\", \" Februar\", \" März \", \" April\", \" Mai\", \" Juni\", \" Juli\", \" August\", \" September \", \" Oktober\", \" November \", \" Dezember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\r\n\t\tday_full: [ \"Sonntag\", \"Montag\", \"Dienstag\", \" Mittwoch\", \" Donnerstag\", \"Freitag\", \"Samstag\"],\r\n\t\tday_short: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Heute\",\r\n\t\tday_tab: \"Tag\",\r\n\t\tweek_tab: \"Woche\",\r\n\t\tmonth_tab: \"Monat\",\r\n\t\tnew_event: \"neuer Eintrag\",\r\n\t\ticon_save: \"Speichern\",\r\n\t\ticon_cancel: \"Abbrechen\",\r\n\t\ticon_details: \"Details\",\r\n\t\ticon_edit: \"Ändern\",\r\n\t\ticon_delete: \"Löschen\",\r\n\t\tconfirm_closing: \"\", //\"Ihre Veränderungen werden verloren sein, wollen Sie ergänzen? \"\r\n\t\tconfirm_deleting: \"Der Eintrag wird gelöscht\",\r\n\t\tsection_description: \"Beschreibung\",\r\n\t\tsection_time: \"Zeitspanne\",\r\n\t\tfull_day: \"Ganzer Tag\",\r\n\r\n\t\tconfirm_recurring: \"Wollen Sie alle Einträge bearbeiten oder nur diesen einzelnen Eintrag?\",\r\n\t\tsection_recurring: \"Wiederholung\",\r\n\t\tbutton_recurring: \"Aus\",\r\n\t\tbutton_recurring_open: \"An\",\r\n\t\tbutton_edit_series: \"Bearbeiten Sie die Serie\",\r\n\t\tbutton_edit_occurrence: \"Bearbeiten Sie eine Kopie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Beschreibung\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Jahre\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Täglich\",\r\n\t\trepeat_radio_week: \"Wöchentlich\",\r\n\t\trepeat_radio_month: \"Monatlich\",\r\n\t\trepeat_radio_year: \"Jährlich\",\r\n\t\trepeat_radio_day_type: \"jeden\",\r\n\t\trepeat_text_day_count: \"Tag\",\r\n\t\trepeat_radio_day_type2: \"an jedem Arbeitstag\",\r\n\t\trepeat_week: \" Wiederholt sich jede\",\r\n\t\trepeat_text_week_count: \"Woche am:\",\r\n\t\trepeat_radio_month_type: \"an jedem\",\r\n\t\trepeat_radio_month_start: \"am\",\r\n\t\trepeat_text_month_day: \"Tag eines jeden\",\r\n\t\trepeat_text_month_count: \"Monats\",\r\n\t\trepeat_text_month_count2_before: \"jeden\",\r\n\t\trepeat_text_month_count2_after: \"Monats\",\r\n\t\trepeat_year_label: \"am\",\r\n\t\tselect_year_day2: \"im\",\r\n\t\trepeat_text_year_day: \"Tag im\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"kein Enddatum\",\r\n\t\trepeat_text_occurences_count: \"Ereignissen\",\r\n\t\trepeat_radio_end3: \"Schluß\",\r\n\t\trepeat_radio_end2: \"nach\",\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\r\n\t\tday_for_recurring: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Ιανουάριος\", \"Φεβρουάριος\", \"Μάρτιος\", \"Απρίλιος\", \"Μάϊος\", \"Ιούνιος\", \"Ιούλιος\", \"Αύγουστος\", \"Σεπτέμβριος\", \"Οκτώβριος\", \"Νοέμβριος\", \"Δεκέμβριος\"],\r\n\t\tmonth_short: [\"ΙΑΝ\", \"ΦΕΒ\", \"ΜΑΡ\", \"ΑΠΡ\", \"ΜΑΙ\", \"ΙΟΥΝ\", \"ΙΟΥΛ\", \"ΑΥΓ\", \"ΣΕΠ\", \"ΟΚΤ\", \"ΝΟΕ\", \"ΔΕΚ\"],\r\n\t\tday_full: [\"Κυριακή\", \"Δευτέρα\", \"Τρίτη\", \"Τετάρτη\", \"Πέμπτη\", \"Παρασκευή\", \"Σάββατο\"],\r\n\t\tday_short: [\"ΚΥ\", \"ΔΕ\", \"ΤΡ\", \"ΤΕ\", \"ΠΕ\", \"ΠΑ\", \"ΣΑ\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Σήμερα\",\r\n\t\tday_tab: \"Ημέρα\",\r\n\t\tweek_tab: \"Εβδομάδα\",\r\n\t\tmonth_tab: \"Μήνας\",\r\n\t\tnew_event: \"Νέο έργο\",\r\n\t\ticon_save: \"Αποθήκευση\",\r\n\t\ticon_cancel: \"Άκυρο\",\r\n\t\ticon_details: \"Λεπτομέρειες\",\r\n\t\ticon_edit: \"Επεξεργασία\",\r\n\t\ticon_delete: \"Διαγραφή\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;\",\r\n\t\tsection_description: \"Περιγραφή\",\r\n\t\tsection_time: \"Χρονική περίοδος\",\r\n\t\tfull_day: \"Πλήρης Ημέρα\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Θέλετε να επεξεργασθείτε ολόκληρη την ομάδα των επαναλαμβανόμενων έργων;\",\r\n\t\tsection_recurring: \"Επαναλαμβανόμενο έργο\",\r\n\t\tbutton_recurring: \"Ανενεργό\",\r\n\t\tbutton_recurring_open: \"Ενεργό\",\r\n\t\tbutton_edit_series: \"Επεξεργαστείτε τη σειρά\",\r\n\t\tbutton_edit_occurrence: \"Επεξεργασία ένα αντίγραφο\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Ημερήσια Διάταξη\",\r\n\t\tdate: \"Ημερομηνία\",\r\n\t\tdescription: \"Περιγραφή\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Έτος\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Ημερήσια Διάταξη\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Πλέγμα\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Ημερησίως\",\r\n\t\trepeat_radio_week: \"Εβδομαδιαίως\",\r\n\t\trepeat_radio_month: \"Μηνιαίως\",\r\n\t\trepeat_radio_year: \"Ετησίως\",\r\n\t\trepeat_radio_day_type: \"Κάθε\",\r\n\t\trepeat_text_day_count: \"ημέρα\",\r\n\t\trepeat_radio_day_type2: \"Κάθε εργάσιμη\",\r\n\t\trepeat_week: \" Επανάληψη κάθε\",\r\n\t\trepeat_text_week_count: \"εβδομάδα τις επόμενες ημέρες:\",\r\n\t\trepeat_radio_month_type: \"Επανάληψη\",\r\n\t\trepeat_radio_month_start: \"Την\",\r\n\t\trepeat_text_month_day: \"ημέρα κάθε\",\r\n\t\trepeat_text_month_count: \"μήνα\",\r\n\t\trepeat_text_month_count2_before: \"κάθε\",\r\n\t\trepeat_text_month_count2_after: \"μήνα\",\r\n\t\trepeat_year_label: \"Την\",\r\n\t\tselect_year_day2: \"του\",\r\n\t\trepeat_text_year_day: \"ημέρα\",\r\n\t\tselect_year_month: \"μήνα\",\r\n\t\trepeat_radio_end: \"Χωρίς ημερομηνία λήξεως\",\r\n\t\trepeat_text_occurences_count: \"επαναλήψεις\",\r\n\t\trepeat_radio_end3: \"Λήγει την\",\r\n\t\trepeat_radio_end2: \"Μετά από\",\r\n\t\tmonth_for_recurring: [\"Ιανουάριος\", \"Φεβρουάριος\", \"Μάρτιος\", \"Απρίλιος\", \"Μάϊος\", \"Ιούνιος\", \"Ιούλιος\", \"Αύγουστος\", \"Σεπτέμβριος\", \"Οκτώβριος\", \"Νοέμβριος\", \"Δεκέμβριος\"],\r\n\t\tday_for_recurring: [\"Κυριακή\", \"Δευτέρα\", \"Τρίτη\", \"Τετάρτη\", \"Πέμπτη\", \"Παρασκευή\", \"Σάββατο\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate:{\r\n\t\tmonth_full:[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tmonth_short:[\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tday_full:[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n\t\tday_short:[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\r\n\t},\r\n\tlabels:{\r\n\t\tdhx_cal_today_button:\"Today\",\r\n\t\tday_tab:\"Day\",\r\n\t\tweek_tab:\"Week\",\r\n\t\tmonth_tab:\"Month\",\r\n\t\tnew_event:\"New event\",\r\n\t\ticon_save:\"Save\",\r\n\t\ticon_cancel:\"Cancel\",\r\n\t\ticon_details:\"Details\",\r\n\t\ticon_edit:\"Edit\",\r\n\t\ticon_delete:\"Delete\",\r\n\t\tconfirm_closing:\"\",//Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting:\"Event will be deleted permanently, are you sure?\",\r\n\t\tsection_description:\"Description\",\r\n\t\tsection_time:\"Time period\",\r\n\t\tfull_day:\"Full day\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring:\"Do you want to edit the whole set of repeated events?\",\r\n\t\tsection_recurring:\"Repeat event\",\r\n\t\tbutton_recurring:\"Disabled\",\r\n\t\tbutton_recurring_open:\"Enabled\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Edit occurrence\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"Agenda\",\r\n\t\tdate:\"Date\",\r\n\t\tdescription:\"Description\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"Year\",\r\n\r\n\t\t/* week agenda extension */\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daily\",//name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Weekly\",//name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Monthly\",\r\n\t\trepeat_radio_year: \"Yearly\",\r\n\t\trepeat_radio_day_type: \"Every\",\r\n\t\trepeat_text_day_count: \"day\",\r\n\t\trepeat_radio_day_type2: \"Every workday\",\r\n\t\trepeat_week: \" Repeat every\",\r\n\t\trepeat_text_week_count: \"week next days:\",\r\n\t\trepeat_radio_month_type: \"Repeat\",\r\n\t\trepeat_radio_month_start: \"On\",\r\n\t\trepeat_text_month_day: \"day every\",\r\n\t\trepeat_text_month_count: \"month\",\r\n\t\trepeat_text_month_count2_before: \"every\",\r\n\t\trepeat_text_month_count2_after: \"month\",\r\n\t\trepeat_year_label: \"On\",\r\n\t\tselect_year_day2: \"of\",\r\n\t\trepeat_text_year_day: \"day\",\r\n\t\tselect_year_month: \"month\",\r\n\t\trepeat_radio_end: \"No end date\",\r\n\t\trepeat_text_occurences_count: \"occurrences\",\r\n\t\trepeat_radio_end2: \"After\",\r\n\t\trepeat_radio_end3: \"End by\",\r\n\t\tmonth_for_recurring: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]//\r\n\t}\r\n};\r\n\r\n","/*\r\n @Autor Manuel Fernandez Panzuela - www.mfernandez.es\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\r\n\t\tmonth_short: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\r\n\t\tday_full: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\r\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mié\", \"Jue\", \"Vie\", \"Sáb\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hoy\",\r\n\t\tday_tab: \"Día\",\r\n\t\tweek_tab: \"Semana\",\r\n\t\tmonth_tab: \"Mes\",\r\n\t\tnew_event: \"Nuevo evento\",\r\n\t\ticon_save: \"Guardar\",\r\n\t\ticon_cancel: \"Cancelar\",\r\n\t\ticon_details: \"Detalles\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Eliminar\",\r\n\t\tconfirm_closing: \"\", //\"Sus cambios se perderán, continuar ?\"\r\n\t\tconfirm_deleting: \"El evento se borrará definitivamente, ¿continuar?\",\r\n\t\tsection_description: \"Descripción\",\r\n\t\tsection_time: \"Período\",\r\n\t\tfull_day: \"Todo el día\",\r\n\r\n\t\tconfirm_recurring: \"¿Desea modificar el conjunto de eventos repetidos?\",\r\n\t\tsection_recurring: \"Repita el evento\",\r\n\t\tbutton_recurring: \"Impedido\",\r\n\t\tbutton_recurring_open: \"Permitido\",\r\n\t\tbutton_edit_series: \"Editar la serie\",\r\n\t\tbutton_edit_occurrence: \"Editar este evento\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Día\",\r\n\t\tdate: \"Fecha\",\r\n\t\tdescription: \"Descripción\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Año\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Día\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Reja\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Diariamente\",\r\n\t\trepeat_radio_week: \"Semanalmente\",\r\n\t\trepeat_radio_month: \"Mensualmente\",\r\n\t\trepeat_radio_year: \"Anualmente\",\r\n\t\trepeat_radio_day_type: \"Cada\",\r\n\t\trepeat_text_day_count: \"dia\",\r\n\t\trepeat_radio_day_type2: \"Cada jornada de trabajo\",\r\n\t\trepeat_week: \" Repetir cada\",\r\n\t\trepeat_text_week_count: \"semana:\",\r\n\t\trepeat_radio_month_type: \"Repita\",\r\n\t\trepeat_radio_month_start: \"El\",\r\n\t\trepeat_text_month_day: \"dia cada \",\r\n\t\trepeat_text_month_count: \"mes\",\r\n\t\trepeat_text_month_count2_before: \"cada\",\r\n\t\trepeat_text_month_count2_after: \"mes\",\r\n\t\trepeat_year_label: \"El\",\r\n\t\tselect_year_day2: \"del\",\r\n\t\trepeat_text_year_day: \"dia\",\r\n\t\tselect_year_month: \"mes\",\r\n\t\trepeat_radio_end: \"Sin fecha de finalización\",\r\n\t\trepeat_text_occurences_count: \"ocurrencias\",\r\n\t\trepeat_radio_end3: \"Fin\",\r\n\t\trepeat_radio_end2: \"Después de\",\r\n\t\tmonth_for_recurring: [\"Enero\", \"Febrero\", \"Маrzo\", \"Аbril\", \"Mayo\", \"Junio\", \"Julio\", \"Аgosto\", \"Setiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\r\n\t\tday_for_recurring: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jeuves\", \"Viernes\", \"Sabado\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\", \"Kes&auml;kuu\", \"Hein&auml;kuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\", \"Marraskuu\", \"Joulukuu\"],\r\n\t\tmonth_short: [\"Tam\", \"Hel\", \"Maa\", \"Huh\", \"Tou\", \"Kes\", \"Hei\", \"Elo\", \"Syy\", \"Lok\", \"Mar\", \"Jou\"],\r\n\t\tday_full: [\"Sunnuntai\", \"Maanantai\", \"Tiistai\", \"Keskiviikko\", \"Torstai\", \"Perjantai\", \"Lauantai\"],\r\n\t\tday_short: [\"Su\", \"Ma\", \"Ti\", \"Ke\", \"To\", \"Pe\", \"La\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Tänään\",\r\n\t\tday_tab: \"Päivä\",\r\n\t\tweek_tab: \"Viikko\",\r\n\t\tmonth_tab: \"Kuukausi\",\r\n\t\tnew_event: \"Uusi tapahtuma\",\r\n\t\ticon_save: \"Tallenna\",\r\n\t\ticon_cancel: \"Peru\",\r\n\t\ticon_details: \"Tiedot\",\r\n\t\ticon_edit: \"Muokkaa\",\r\n\t\ticon_delete: \"Poista\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Haluatko varmasti poistaa tapahtuman?\",\r\n\t\tsection_description: \"Kuvaus\",\r\n\t\tsection_time: \"Aikajakso\",\r\n\t\tfull_day: \"Koko päivä\",\r\n\r\n\t\tconfirm_recurring: \"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?\",\r\n\t\tsection_recurring: \"Toista tapahtuma\",\r\n\t\tbutton_recurring: \"Ei k&auml;yt&ouml;ss&auml;\",\r\n\t\tbutton_recurring_open: \"K&auml;yt&ouml;ss&auml;\",\r\n\t\tbutton_edit_series: \"Muokkaa sarja\",\r\n\t\tbutton_edit_occurrence: \"Muokkaa kopio\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Esityslista\",\r\n\t\tdate: \"Päivämäärä\",\r\n\t\tdescription: \"Kuvaus\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Vuoden\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Esityslista\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Ritilä\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Luo uusi vetämällä\",\r\n\t\tdrag_to_move:\"Siirrä vetämällä\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"P&auml;ivitt&auml;in\",\r\n\t\trepeat_radio_week: \"Viikoittain\",\r\n\t\trepeat_radio_month: \"Kuukausittain\",\r\n\t\trepeat_radio_year: \"Vuosittain\",\r\n\t\trepeat_radio_day_type: \"Joka\",\r\n\t\trepeat_text_day_count: \"p&auml;iv&auml;\",\r\n\t\trepeat_radio_day_type2: \"Joka arkip&auml;iv&auml;\",\r\n\t\trepeat_week: \"Toista joka\",\r\n\t\trepeat_text_week_count: \"viikko n&auml;in&auml; p&auml;ivin&auml;:\",\r\n\t\trepeat_radio_month_type: \"Toista\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \"p&auml;iv&auml;n&auml; joka\",\r\n\t\trepeat_text_month_count: \"kuukausi\",\r\n\t\trepeat_text_month_count2_before: \"joka\",\r\n\t\trepeat_text_month_count2_after: \"kuukausi\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"p&auml;iv&auml;\",\r\n\t\tselect_year_month: \"kuukausi\",\r\n\t\trepeat_radio_end: \"Ei loppumisaikaa\",\r\n\t\trepeat_text_occurences_count: \"Toiston j&auml;lkeen\",\r\n\t\trepeat_radio_end3: \"Loppuu\",\r\n\t\trepeat_radio_end2: \"\",\r\n\t\tmonth_for_recurring: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\", \"Kes&auml;kuu\", \"Hein&auml;kuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\", \"Marraskuu\", \"Joulukuu\"],\r\n\t\tday_for_recurring: [\"Sunnuntai\", \"Maanantai\", \"Tiistai\", \"Keskiviikko\", \"Torstai\", \"Perjantai\", \"Lauantai\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\r\n\t\tmonth_short: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Aoû\", \"Sep\", \"Oct\", \"Nov\", \"Déc\"],\r\n\t\tday_full: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\r\n\t\tday_short: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Aujourd'hui\",\r\n\t\tday_tab: \"Jour\",\r\n\t\tweek_tab: \"Semaine\",\r\n\t\tmonth_tab: \"Mois\",\r\n\t\tnew_event: \"Nouvel événement\",\r\n\t\ticon_save: \"Enregistrer\",\r\n\t\ticon_cancel: \"Annuler\",\r\n\t\ticon_details: \"Détails\",\r\n\t\ticon_edit: \"Modifier\",\r\n\t\ticon_delete: \"Effacer\",\r\n\t\tconfirm_closing: \"\", //Vos modifications seront perdus, êtes-vous sûr ?\r\n\t\tconfirm_deleting: \"L'événement sera effacé sans appel, êtes-vous sûr ?\",\r\n\t\tsection_description: \"Description\",\r\n\t\tsection_time: \"Période\",\r\n\t\tfull_day: \"Journée complète\",\r\n\r\n\t\tconfirm_recurring: \"Voulez-vous éditer toute une série d'évènements répétés?\",\r\n\t\tsection_recurring: \"Périodicité\",\r\n\t\tbutton_recurring: \"Désactivé\",\r\n\t\tbutton_recurring_open: \"Activé\",\r\n\t\tbutton_edit_series: \"Modifier la série\",\r\n\t\tbutton_edit_occurrence: \"Modifier une copie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Jour\",\r\n\t\tdate: \"Date\",\r\n\t\tdescription: \"Description\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Année\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Jour\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grille\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Quotidienne\",\r\n\t\trepeat_radio_week: \"Hebdomadaire\",\r\n\t\trepeat_radio_month: \"Mensuelle\",\r\n\t\trepeat_radio_year: \"Annuelle\",\r\n\t\trepeat_radio_day_type: \"Chaque\",\r\n\t\trepeat_text_day_count: \"jour\",\r\n\t\trepeat_radio_day_type2: \"Chaque journée de travail\",\r\n\t\trepeat_week: \" Répéter toutes les\",\r\n\t\trepeat_text_week_count: \"semaine:\",\r\n\t\trepeat_radio_month_type: \"Répéter\",\r\n\t\trepeat_radio_month_start: \"Le\",\r\n\t\trepeat_text_month_day: \"jour chaque\",\r\n\t\trepeat_text_month_count: \"mois\",\r\n\t\trepeat_text_month_count2_before: \"chaque\",\r\n\t\trepeat_text_month_count2_after: \"mois\",\r\n\t\trepeat_year_label: \"Le\",\r\n\t\tselect_year_day2: \"du\",\r\n\t\trepeat_text_year_day: \"jour\",\r\n\t\tselect_year_month: \"mois\",\r\n\t\trepeat_radio_end: \"Pas de date d&quot;achèvement\",\r\n\t\trepeat_text_occurences_count: \"occurrences\",\r\n\t\trepeat_radio_end3: \"Fin\",\r\n\t\trepeat_radio_end2: \"Après\",\r\n\t\tmonth_for_recurring: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\r\n\t\tday_for_recurring: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\r\n\t\tmonth_short: [\"ינו\", \"פבר\", \"מרץ\", \"אפר\", \"מאי\", \"יונ\", \"יול\", \"אוג\", \"ספט\", \"אוק\", \"נוב\", \"דצמ\"],\r\n\t\tday_full: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"],\r\n\t\tday_short: [\"א\", \"ב\", \"ג\", \"ד\", \"ה\", \"ו\", \"ש\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"היום\",\r\n\t\tday_tab: \"יום\",\r\n\t\tweek_tab: \"שבוע\",\r\n\t\tmonth_tab: \"חודש\",\r\n\t\tnew_event: \"ארוע חדש\",\r\n\t\ticon_save: \"שמור\",\r\n\t\ticon_cancel: \"בטל\",\r\n\t\ticon_details: \"פרטים\",\r\n\t\ticon_edit: \"ערוך\",\r\n\t\ticon_delete: \"מחק\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"ארוע ימחק סופית.להמשיך?\",\r\n\t\tsection_description: \"תיאור\",\r\n\t\tsection_time: \"תקופה\",\r\n\r\n\t\tconfirm_recurring: \"האם ברצונך לשנות כל סדרת ארועים מתמשכים?\",\r\n\t\tsection_recurring: \"להעתיק ארוע\",\r\n\t\tbutton_recurring: \"לא פעיל\",\r\n\t\tbutton_recurring_open: \"פעיל\",\r\n\t\tfull_day: \"יום שלם\",\r\n\t\tbutton_edit_series: \"ערוך את הסדרה\",\r\n\t\tbutton_edit_occurrence: \"עריכת עותק\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"סדר יום\",\r\n\t\tdate: \"תאריך\",\r\n\t\tdescription: \"תיאור\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"לשנה\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"סדר יום\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"סורג\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"גרור כדי להזיז\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"בטל\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"הבא\",\r\n\t\tprev: \"הקודם\",\r\n\t\tyear: \"שנה\",\r\n\t\tmonth: \"חודש\",\r\n\t\tday: \"יום\",\r\n\t\thour:\"שעה\",\r\n\t\tminute: \"דקה\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"יומי\",\r\n\t\trepeat_radio_week: \"שבועי\",\r\n\t\trepeat_radio_month: \"חודשי\",\r\n\t\trepeat_radio_year: \"שנתי\",\r\n\t\trepeat_radio_day_type: \"חזור כל\",\r\n\t\trepeat_text_day_count: \"ימים\",\r\n\t\trepeat_radio_day_type2: \"חזור כל יום עבודה\",\r\n\t\trepeat_week: \" חזור כל\",\r\n\t\trepeat_text_week_count: \"שבוע לפי ימים:\",\r\n\t\trepeat_radio_month_type: \"חזור כל\",\r\n\t\trepeat_radio_month_start: \"כל\",\r\n\t\trepeat_text_month_day: \"ימים כל\",\r\n\t\trepeat_text_month_count: \"חודשים\",\r\n\t\trepeat_text_month_count2_before: \"חזור כל\",\r\n\t\trepeat_text_month_count2_after: \"חודש\",\r\n\t\trepeat_year_label: \"כל\",\r\n\t\tselect_year_day2: \"בחודש\",\r\n\t\trepeat_text_year_day: \"ימים\",\r\n\t\tselect_year_month: \"חודש\",\r\n\t\trepeat_radio_end: \"לעולם לא מסתיים\",\r\n\t\trepeat_text_occurences_count: \"אירועים\",\r\n\t\trepeat_radio_end3: \"מסתיים ב\",\r\n\t\trepeat_radio_end2: \"אחרי\",\r\n\t\tmonth_for_recurring: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\r\n\t\tday_for_recurring: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Január\", \"Február\", \"Március\", \"Április\", \"Május\", \"Június\", \"Július\", \"Augusztus\", \"Szeptember\", \"Október\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Vasárnap\", \"Hétfõ\", \"Kedd\", \"Szerda\", \"Csütörtök\", \"Péntek\", \"szombat\"],\r\n\t\tday_short: [\"Va\", \"Hé\", \"Ke\", \"Sze\", \"Csü\", \"Pé\", \"Szo\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Ma\",\r\n\t\tday_tab: \"Nap\",\r\n\t\tweek_tab: \"Hét\",\r\n\t\tmonth_tab: \"Hónap\",\r\n\t\tnew_event: \"Új esemény\",\r\n\t\ticon_save: \"Mentés\",\r\n\t\ticon_cancel: \"Mégse\",\r\n\t\ticon_details: \"Részletek\",\r\n\t\ticon_edit: \"Szerkesztés\",\r\n\t\ticon_delete: \"Törlés\",\r\n\t\tconfirm_closing: \"\", //A változások elvesznek, biztosan folytatja? \"\r\n\t\tconfirm_deleting: \"Az esemény törölve lesz, biztosan folytatja?\",\r\n\t\tsection_description: \"Leírás\",\r\n\t\tsection_time: \"Idõszak\",\r\n\t\tfull_day: \"Egesz napos\",\r\n\r\n\t\t/*ismétlõdõ események*/\r\n\t\tconfirm_recurring: \"Biztosan szerkeszteni akarod az összes ismétlõdõ esemény beállítását?\",\r\n\t\tsection_recurring: \"Esemény ismétlése\",\r\n\t\tbutton_recurring: \"Tiltás\",\r\n\t\tbutton_recurring_open: \"Engedélyezés\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Szerkesztés bíróság\",\r\n\r\n\t\t/*napirendi nézet*/\r\n\t\tagenda_tab: \"Napirend\",\r\n\t\tdate: \"Dátum\",\r\n\t\tdescription: \"Leírás\",\r\n\r\n\t\t/*éves nézet*/\r\n\t\tyear_tab: \"Év\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Ags\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"],\r\n\t\tday_short: [\"Ming\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hari Ini\",\r\n\t\tday_tab: \"Hari\",\r\n\t\tweek_tab: \"Minggu\",\r\n\t\tmonth_tab: \"Bulan\",\r\n\t\tnew_event: \"Acara Baru\",\r\n\t\ticon_save: \"Simpan\",\r\n\t\ticon_cancel: \"Batal\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edit\",\r\n\t\ticon_delete: \"Hapus\",\r\n\t\tconfirm_closing: \"\", /*Perubahan tidak akan disimpan ?*/\r\n\t\tconfirm_deleting: \"Acara akan dihapus\",\r\n\t\tsection_description: \"Keterangan\",\r\n\t\tsection_time: \"Periode\",\r\n\t\tfull_day: \"Hari penuh\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Apakah acara ini akan berulang?\",\r\n\t\tsection_recurring: \"Acara Rutin\",\r\n\t\tbutton_recurring: \"Tidak Difungsikan\",\r\n\t\tbutton_recurring_open: \"Difungsikan\",\r\n\t\tbutton_edit_series: \"Mengedit seri\",\r\n\t\tbutton_edit_occurrence: \"Mengedit salinan\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Tanggal\",\r\n\t\tdescription: \"Keterangan\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Tahun\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabel\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\r\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"],\r\n\t\tday_full: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\r\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Oggi\",\r\n\t\tday_tab: \"Giorno\",\r\n\t\tweek_tab: \"Settimana\",\r\n\t\tmonth_tab: \"Mese\",\r\n\t\tnew_event: \"Nuovo evento\",\r\n\t\ticon_save: \"Salva\",\r\n\t\ticon_cancel: \"Chiudi\",\r\n\t\ticon_details: \"Dettagli\",\r\n\t\ticon_edit: \"Modifica\",\r\n\t\ticon_delete: \"Elimina\",\r\n\t\tconfirm_closing: \"\", //Le modifiche apportate saranno perse, siete sicuri?\r\n\t\tconfirm_deleting: \"L'evento sarà eliminato, siete sicuri?\",\r\n\t\tsection_description: \"Descrizione\",\r\n\t\tsection_time: \"Periodo di tempo\",\r\n\t\tfull_day: \"Intera giornata\",\r\n\r\n\t\tconfirm_recurring: \"Vuoi modificare l'intera serie di eventi?\",\r\n\t\tsection_recurring: \"Ripetere l'evento\",\r\n\t\tbutton_recurring: \"Disattivato\",\r\n\t\tbutton_recurring_open: \"Attivato\",\r\n\t\tbutton_edit_series: \"Modificare la serie\",\r\n\t\tbutton_edit_occurrence: \"Modificare una copia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descrizione\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Anno\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Griglia\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Quotidiano\",\r\n\t\trepeat_radio_week: \"Settimanale\",\r\n\t\trepeat_radio_month: \"Mensile\",\r\n\t\trepeat_radio_year: \"Annuale\",\r\n\t\trepeat_radio_day_type: \"Ogni\",\r\n\t\trepeat_text_day_count: \"giorno\",\r\n\t\trepeat_radio_day_type2: \"Ogni giornata lavorativa\",\r\n\t\trepeat_week: \" Ripetere ogni\",\r\n\t\trepeat_text_week_count: \"settimana:\",\r\n\t\trepeat_radio_month_type: \"Ripetere\",\r\n\t\trepeat_radio_month_start: \"Il\",\r\n\t\trepeat_text_month_day: \"giorno ogni\",\r\n\t\trepeat_text_month_count: \"mese\",\r\n\t\trepeat_text_month_count2_before: \"ogni\",\r\n\t\trepeat_text_month_count2_after: \"mese\",\r\n\t\trepeat_year_label: \"Il\",\r\n\t\tselect_year_day2: \"del\",\r\n\t\trepeat_text_year_day: \"giorno\",\r\n\t\tselect_year_month: \"mese\",\r\n\t\trepeat_radio_end: \"Senza data finale\",\r\n\t\trepeat_text_occurences_count: \"occorenze\",\r\n\t\trepeat_radio_end3: \"Fine\",\r\n\t\trepeat_radio_end2: \"Dopo\",\r\n\t\tmonth_for_recurring: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Jiugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\r\n\t\tday_for_recurring: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Jovedì\", \"Venerdì\", \"Sabato\"]\r\n\t}\r\n};\r\n","/*\r\n Translation by Genexus Japan Inc.\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tmonth_short: [ \"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tday_full: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\r\n\t\tday_short: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"今日\",\r\n\t\tday_tab: \"日\",\r\n\t\tweek_tab: \"週\",\r\n\t\tmonth_tab: \"月\",\r\n\t\tnew_event: \"新イベント\",\r\n\t\ticon_save: \"保存\",\r\n\t\ticon_cancel: \"キャンセル\",\r\n\t\ticon_details: \"詳細\",\r\n\t\ticon_edit: \"編集\",\r\n\t\ticon_delete: \"削除\",\r\n\t\tconfirm_closing: \"\", //変更が取り消されます、宜しいですか？\r\n\t\tconfirm_deleting: \"イベント完全に削除されます、宜しいですか？\",\r\n\t\tsection_description: \"デスクリプション\",\r\n\t\tsection_time: \"期間\",\r\n\t\tconfirm_recurring: \"繰り返されているイベントを全て編集しますか？\",\r\n\t\tsection_recurring: \"イベントを繰り返す\",\r\n\t\tbutton_recurring: \"無効\",\r\n\t\tbutton_recurring_open: \"有効\",\r\n\t\tfull_day: \"終日\",\r\n\t\tbutton_edit_series: \"シリーズを編集します\",\r\n\t\tbutton_edit_occurrence: \"コピーを編集\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"議題は\",\r\n\t\tdate: \"日付\",\r\n\t\tdescription: \"説明\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"今年\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"議題は\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"グリッド\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};\r\n\r\n\r\n","export default class LocaleManager{\r\n\tconstructor(config){\r\n\t\tthis._locales = {};\r\n\t\tfor(const i in config){\r\n\t\t\tthis._locales[i] = config[i];\r\n\t\t}\r\n\t}\r\n\r\n\taddLocale(name, locale) {\r\n\t\tthis._locales[name] = locale;\r\n\t}\r\n\r\n\tgetLocale(name) {\r\n\t\treturn this._locales[name];\r\n\t}\r\n}","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Mon\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"I dag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uke\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny hendelse\",\r\n\t\ticon_save: \"Lagre\",\r\n\t\ticon_cancel: \"Avbryt\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Rediger\",\r\n\t\ticon_delete: \"Slett\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Hendelsen vil bli slettet permanent. Er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du forandre hele dette settet av repeterende hendelser?\",\r\n\t\tsection_recurring: \"Repeter hendelsen\",\r\n\t\tbutton_recurring: \"Av\",\r\n\t\tbutton_recurring_open: \"På\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Redigere en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daglig\",\r\n\t\trepeat_radio_week: \"Ukentlig\",\r\n\t\trepeat_radio_month: \"Månedlig\",\r\n\t\trepeat_radio_year: \"Årlig\",\r\n\t\trepeat_radio_day_type: \"Hver\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"Alle hverdager\",\r\n\t\trepeat_week: \" Gjentas hver\",\r\n\t\trepeat_text_week_count: \"uke på:\",\r\n\t\trepeat_radio_month_type: \"På hver\",\r\n\t\trepeat_radio_month_start: \"På\",\r\n\t\trepeat_text_month_day: \"dag hver\",\r\n\t\trepeat_text_month_count: \"måned\",\r\n\t\trepeat_text_month_count2_before: \"hver\",\r\n\t\trepeat_text_month_count2_after: \"måned\",\r\n\t\trepeat_year_label: \"på\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Ingen sluttdato\",\r\n\t\trepeat_text_occurences_count: \"forekomst\",\r\n\t\trepeat_radio_end3: \"Stop den\",\r\n\t\trepeat_radio_end2: \"Etter\",\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tday_for_recurring: [\"Sondag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"mrt\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\r\n\t\tday_short: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Vandaag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Week\",\r\n\t\tmonth_tab: \"Maand\",\r\n\t\tnew_event: \"Nieuw item\",\r\n\t\ticon_save: \"Opslaan\",\r\n\t\ticon_cancel: \"Annuleren\",\r\n\t\ticon_details: \"Details\",\r\n\t\ticon_edit: \"Bewerken\",\r\n\t\ticon_delete: \"Verwijderen\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Item zal permanent worden verwijderd, doorgaan?\",\r\n\t\tsection_description: \"Beschrijving\",\r\n\t\tsection_time: \"Tijd periode\",\r\n\t\tfull_day: \"Hele dag\",\r\n\r\n\t\tconfirm_recurring: \"Wilt u alle terugkerende items bijwerken?\",\r\n\t\tsection_recurring: \"Item herhalen\",\r\n\t\tbutton_recurring: \"Uit\",\r\n\t\tbutton_recurring_open: \"Aan\",\r\n\t\tbutton_edit_series: \"Bewerk de serie\",\r\n\t\tbutton_edit_occurrence: \"Bewerk een kopie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Omschrijving\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Jaar\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabel\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Dagelijks\",\r\n\t\trepeat_radio_week: \"Wekelijks\",\r\n\t\trepeat_radio_month: \"Maandelijks\",\r\n\t\trepeat_radio_year: \"Jaarlijks\",\r\n\t\trepeat_radio_day_type: \"Elke\",\r\n\t\trepeat_text_day_count: \"dag(en)\",\r\n\t\trepeat_radio_day_type2: \"Elke werkdag\",\r\n\t\trepeat_week: \" Herhaal elke\",\r\n\t\trepeat_text_week_count: \"week op de volgende dagen:\",\r\n\t\trepeat_radio_month_type: \"Herhaal\",\r\n\t\trepeat_radio_month_start: \"Op\",\r\n\t\trepeat_text_month_day: \"dag iedere\",\r\n\t\trepeat_text_month_count: \"maanden\",\r\n\t\trepeat_text_month_count2_before: \"iedere\",\r\n\t\trepeat_text_month_count2_after: \"maanden\",\r\n\t\trepeat_year_label: \"Op\",\r\n\t\tselect_year_day2: \"van\",\r\n\t\trepeat_text_year_day: \"dag\",\r\n\t\tselect_year_month: \"maand\",\r\n\t\trepeat_radio_end: \"Geen eind datum\",\r\n\t\trepeat_text_occurences_count: \"keren\",\r\n\t\trepeat_radio_end3: \"Eindigd per\",\r\n\t\trepeat_radio_end2: \"Na\",\r\n\t\tmonth_for_recurring: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uke\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny\",\r\n\t\ticon_save: \"Lagre\",\r\n\t\ticon_cancel: \"Avbryt\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Endre\",\r\n\t\ticon_delete: \"Slett\",\r\n\t\tconfirm_closing: \"Endringer blir ikke lagret, er du sikker?\", //Endringer blir ikke lagret, er du sikker?\r\n\t\tconfirm_deleting: \"Oppføringen vil bli slettet, er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\t\tfull_day: \"Full dag\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du endre hele settet med repeterende oppføringer?\",\r\n\t\tsection_recurring: \"Repeterende oppføring\",\r\n\t\tbutton_recurring: \"Ikke aktiv\",\r\n\t\tbutton_recurring_open: \"Aktiv\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Redigere en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"],\r\n\t\tmonth_short: [\"Sty\", \"Lut\", \"Mar\", \"Kwi\", \"Maj\", \"Cze\", \"Lip\", \"Sie\", \"Wrz\", \"Paź\", \"Lis\", \"Gru\"],\r\n\t\tday_full: [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\r\n\t\tday_short: [\"Nie\", \"Pon\", \"Wto\", \"Śro\", \"Czw\", \"Pią\", \"Sob\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dziś\",\r\n\t\tday_tab: \"Dzień\",\r\n\t\tweek_tab: \"Tydzień\",\r\n\t\tmonth_tab: \"Miesiąc\",\r\n\t\tnew_event: \"Nowe zdarzenie\",\r\n\t\ticon_save: \"Zapisz\",\r\n\t\ticon_cancel: \"Anuluj\",\r\n\t\ticon_details: \"Szczegóły\",\r\n\t\ticon_edit: \"Edytuj\",\r\n\t\ticon_delete: \"Usuń\",\r\n\t\tconfirm_closing: \"\", //Zmiany zostaną usunięte, jesteś pewien?\r\n\t\tconfirm_deleting: \"Zdarzenie zostanie usunięte na zawsze, kontynuować?\",\r\n\t\tsection_description: \"Opis\",\r\n\t\tsection_time: \"Okres czasu\",\r\n\t\tfull_day: \"Cały dzień\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Czy chcesz edytować cały zbiór powtarzających się zdarzeń?\",\r\n\t\tsection_recurring: \"Powtórz zdarzenie\",\r\n\t\tbutton_recurring: \"Nieaktywne\",\r\n\t\tbutton_recurring_open: \"Aktywne\",\r\n\t\tbutton_edit_series: \"Edytuj serię\",\r\n\t\tbutton_edit_occurrence: \"Edytuj kopię\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Opis\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabela\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Codziennie\",\r\n\t\trepeat_radio_week: \"Co tydzie\",\r\n\t\trepeat_radio_month: \"Co miesic\",\r\n\t\trepeat_radio_year: \"Co rok\",\r\n\t\trepeat_radio_day_type: \"Kadego\",\r\n\t\trepeat_text_day_count: \"dnia\",\r\n\t\trepeat_radio_day_type2: \"Kadego dnia roboczego\",\r\n\t\trepeat_week: \" Powtarzaj kadego\",\r\n\t\trepeat_text_week_count: \"tygodnia w dni:\",\r\n\t\trepeat_radio_month_type: \"Powtrz\",\r\n\t\trepeat_radio_month_start: \"W\",\r\n\t\trepeat_text_month_day: \"dnia kadego\",\r\n\t\trepeat_text_month_count: \"miesica\",\r\n\t\trepeat_text_month_count2_before: \"kadego\",\r\n\t\trepeat_text_month_count2_after: \"miesica\",\r\n\t\trepeat_year_label: \"W\",\r\n\t\tselect_year_day2: \"miesica\",\r\n\t\trepeat_text_year_day: \"dnia miesica\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Bez daty kocowej\",\r\n\t\trepeat_text_occurences_count: \"wystpieniu/ach\",\r\n\t\trepeat_radio_end3: \"Zakocz w\",\r\n\t\trepeat_radio_end2: \"Po\",\r\n\t\tmonth_for_recurring: [\"Stycznia\", \"Lutego\", \"Marca\", \"Kwietnia\", \"Maja\", \"Czerwca\", \"Lipca\", \"Sierpnia\", \"Wrzenia\", \"Padziernka\", \"Listopada\", \"Grudnia\"],\r\n\t\tday_for_recurring: [\"Niedziela\", \"Poniedziaek\", \"Wtorek\", \"roda\", \"Czwartek\", \"Pitek\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","/*\r\n\r\n TRANSLATION BY MATTHEUS PIROVANI RORIZ GONЗALVES\r\n\r\n mattheusroriz@hotmail.com / mattheus.pirovani@gmail.com /\r\n\r\n www.atrixian.com.br\r\n\r\n */\r\n\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\r\n\t\tmonth_short: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\r\n\t\tday_full: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"],\r\n\t\tday_short: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hoje\",\r\n\t\tday_tab: \"Dia\",\r\n\t\tweek_tab: \"Semana\",\r\n\t\tmonth_tab: \"Mês\",\r\n\t\tnew_event: \"Novo evento\",\r\n\t\ticon_save: \"Salvar\",\r\n\t\ticon_cancel: \"Cancelar\",\r\n\t\ticon_details: \"Detalhes\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Deletar\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Tem certeza que deseja excluir?\",\r\n\t\tsection_description: \"Descrição\",\r\n\t\tsection_time: \"Período de tempo\",\r\n\t\tfull_day: \"Dia inteiro\",\r\n\r\n\t\tconfirm_recurring: \"Deseja editar todos esses eventos repetidos?\",\r\n\t\tsection_recurring: \"Repetir evento\",\r\n\t\tbutton_recurring: \"Desabilitar\",\r\n\t\tbutton_recurring_open: \"Habilitar\",\r\n\t\tbutton_edit_series: \"Editar a série\",\r\n\t\tbutton_edit_occurrence: \"Editar uma cópia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dia\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descrição\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Ano\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dia\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grade\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Diário\",\r\n\t\trepeat_radio_week: \"Semanal\",\r\n\t\trepeat_radio_month: \"Mensal\",\r\n\t\trepeat_radio_year: \"Anual\",\r\n\t\trepeat_radio_day_type: \"Cada\",\r\n\t\trepeat_text_day_count: \"dia(s)\",\r\n\t\trepeat_radio_day_type2: \"Cada trabalho diário\",\r\n\t\trepeat_week: \" Repita cada\",\r\n\t\trepeat_text_week_count: \"semana:\",\r\n\t\trepeat_radio_month_type: \"Repetir\",\r\n\t\trepeat_radio_month_start: \"Em\",\r\n\t\trepeat_text_month_day: \"todo dia\",\r\n\t\trepeat_text_month_count: \"mês\",\r\n\t\trepeat_text_month_count2_before: \"todo\",\r\n\t\trepeat_text_month_count2_after: \"mês\",\r\n\t\trepeat_year_label: \"Em\",\r\n\t\tselect_year_day2: \"of\",\r\n\t\trepeat_text_year_day: \"dia\",\r\n\t\tselect_year_month: \"mês\",\r\n\t\trepeat_radio_end: \"Sem data final\",\r\n\t\trepeat_text_occurences_count: \"ocorrências\",\r\n\t\trepeat_radio_end3: \"Fim\",\r\n\t\trepeat_radio_end2: \"Depois\",\r\n\t\tmonth_for_recurring: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\r\n\t\tday_for_recurring: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"]\r\n\t}\r\n};\r\n\r\n\r\n","/*\r\n\tTraducere de Ovidiu Lixandru: http://www.madball.ro\r\n */\r\n\r\nexport default {\r\n\tdate:{\r\n\t\tmonth_full:[\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"November\", \"December\"],\r\n\t\tmonth_short:[\"Ian\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Iun\", \"Iul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tday_full:[\"Duminica\", \"Luni\", \"Marti\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sambata\"],\r\n\t\tday_short:[\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sa\"]\r\n\t},\r\n\tlabels:{\r\n\t\tdhx_cal_today_button:\"Astazi\",\r\n\t\tday_tab:\"Zi\",\r\n\t\tweek_tab:\"Saptamana\",\r\n\t\tmonth_tab:\"Luna\",\r\n\t\tnew_event:\"Eveniment nou\",\r\n\t\ticon_save:\"Salveaza\",\r\n\t\ticon_cancel:\"Anuleaza\",\r\n\t\ticon_details:\"Detalii\",\r\n\t\ticon_edit:\"Editeaza\",\r\n\t\ticon_delete:\"Sterge\",\r\n\t\tconfirm_closing:\"Schimbarile nu vor fi salvate, esti sigur?\",//Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting:\"Evenimentul va fi sters permanent, esti sigur?\",\r\n\t\tsection_description:\"Descriere\",\r\n\t\tsection_time:\"Interval\",\r\n\t\tfull_day:\"Toata ziua\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring:\"Vrei sa editezi toata seria de evenimente repetate?\",\r\n\t\tsection_recurring:\"Repetare\",\r\n\t\tbutton_recurring:\"Dezactivata\",\r\n\t\tbutton_recurring_open:\"Activata\",\r\n\t\tbutton_edit_series: \"Editeaza serie\",\r\n\t\tbutton_edit_occurrence: \"Editeaza doar intrare\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"Agenda\",\r\n\t\tdate:\"Data\",\r\n\t\tdescription:\"Descriere\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"An\",\r\n\r\n\t\t/* week agenda extension */\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Lista\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Zilnic\",\r\n\t\trepeat_radio_week: \"Saptamanal\",\r\n\t\trepeat_radio_month: \"Lunar\",\r\n\t\trepeat_radio_year: \"Anual\",\r\n\t\trepeat_radio_day_type: \"La fiecare\",\r\n\t\trepeat_text_day_count: \"zi(le)\",\r\n\t\trepeat_radio_day_type2: \"Fiecare zi lucratoare\",\r\n\t\trepeat_week: \" Repeta la fiecare\",\r\n\t\trepeat_text_week_count: \"saptamana in urmatoarele zile:\",\r\n\t\trepeat_radio_month_type: \"Repeta in\",\r\n\t\trepeat_radio_month_start: \"In a\",\r\n\t\trepeat_text_month_day: \"zi la fiecare\",\r\n\t\trepeat_text_month_count: \"luni\",\r\n\t\trepeat_text_month_count2_before: \"la fiecare\",\r\n\t\trepeat_text_month_count2_after: \"luni\",\r\n\t\trepeat_year_label: \"In\",\r\n\t\tselect_year_day2: \"a lunii\",\r\n\t\trepeat_text_year_day: \"zi a lunii\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Fara data de sfarsit\",\r\n\t\trepeat_text_occurences_count: \"evenimente\",\r\n\t\trepeat_radio_end3: \"La data\",\r\n\t\trepeat_radio_end2: \"Dupa\",\r\n\t\tmonth_for_recurring: [\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"Noiembrie\", \"Decembrie\"],\r\n\t\tday_for_recurring: [\"Duminica\", \"Luni\", \"Marti\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sambata\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\r\n\t\tmonth_short: [\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\tday_full: [ \"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\r\n\t\tday_short: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сегодня\",\r\n\t\tday_tab: \"День\",\r\n\t\tweek_tab: \"Неделя\",\r\n\t\tmonth_tab: \"Месяц\",\r\n\t\tnew_event: \"Новое событие\",\r\n\t\ticon_save: \"Сохранить\",\r\n\t\ticon_cancel: \"Отменить\",\r\n\t\ticon_details: \"Детали\",\r\n\t\ticon_edit: \"Изменить\",\r\n\t\ticon_delete: \"Удалить\",\r\n\t\tconfirm_closing: \"\", //Ваши изменения будут потеряны, продолжить?\r\n\t\tconfirm_deleting: \"Событие будет удалено безвозвратно, продолжить?\",\r\n\t\tsection_description: \"Описание\",\r\n\t\tsection_time: \"Период времени\",\r\n\t\tfull_day: \"Весь день\",\r\n\r\n\t\tconfirm_recurring: \"Вы хотите изменить всю серию повторяющихся событий?\",\r\n\t\tsection_recurring: \"Повторение\",\r\n\t\tbutton_recurring: \"Отключено\",\r\n\t\tbutton_recurring_open: \"Включено\",\r\n\t\tbutton_edit_series: \"Редактировать серию\",\r\n\t\tbutton_edit_occurrence: \"Редактировать экземпляр\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Список\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Описание\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Год\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Список\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Таблица\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"День\",\r\n\t\trepeat_radio_week: \"Неделя\",\r\n\t\trepeat_radio_month: \"Месяц\",\r\n\t\trepeat_radio_year: \"Год\",\r\n\t\trepeat_radio_day_type: \"Каждый\",\r\n\t\trepeat_text_day_count: \"день\",\r\n\t\trepeat_radio_day_type2: \"Каждый рабочий день\",\r\n\t\trepeat_week: \" Повторять каждую\",\r\n\t\trepeat_text_week_count: \"неделю , в:\",\r\n\t\trepeat_radio_month_type: \"Повторять\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" числа каждый \",\r\n\t\trepeat_text_month_count: \"месяц\",\r\n\t\trepeat_text_month_count2_before: \"каждый \",\r\n\t\trepeat_text_month_count2_after: \"месяц\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"день\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без даты окончания\",\r\n\t\trepeat_text_occurences_count: \"повторений\",\r\n\t\trepeat_radio_end3: \"До \",\r\n\t\trepeat_radio_end2: \"\",\r\n\t\tmonth_for_recurring: [\"Января\", \"Февраля\", \"Марта\", \"Апреля\", \"Мая\", \"Июня\", \"Июля\", \"Августа\", \"Сентября\", \"Октября\", \"Ноября\", \"Декабря\"],\r\n\t\tday_for_recurring: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среду\", \"Четверг\", \"Пятницу\", \"Субботу\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marec\", \"April\", \"Maj\", \"Junij\", \"Julij\", \"Avgust\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Nedelja\", \"Ponedeljek\", \"Torek\", \"Sreda\", \"Četrtek\", \"Petek\", \"Sobota\"],\r\n\t\tday_short: [\"Ned\", \"Pon\", \"Tor\", \"Sre\", \"Čet\", \"Pet\", \"Sob\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Danes\",\r\n\t\tday_tab: \"Dan\",\r\n\t\tweek_tab: \"Teden\",\r\n\t\tmonth_tab: \"Mesec\",\r\n\t\tnew_event: \"Nov dogodek\",\r\n\t\ticon_save: \"Shrani\",\r\n\t\ticon_cancel: \"Prekliči\",\r\n\t\ticon_details: \"Podrobnosti\",\r\n\t\ticon_edit: \"Uredi\",\r\n\t\ticon_delete: \"Izbriši\",\r\n\t\tconfirm_closing: \"\", //Spremembe ne bodo shranjene. Želite nadaljevati ?\r\n\t\tconfirm_deleting: \"Dogodek bo izbrisan. Želite nadaljevati?\",\r\n\t\tsection_description: \"Opis\",\r\n\t\tsection_time: \"Časovni okvir\",\r\n\t\tfull_day: \"Ves dan\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Želite urediti celoten set ponavljajočih dogodkov?\",\r\n\t\tsection_recurring: \"Ponovi dogodek\",\r\n\t\tbutton_recurring: \"Onemogočeno\",\r\n\t\tbutton_recurring_open: \"Omogočeno\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Edit occurrence\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Zadeva\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Opis\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Leto\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Zadeva\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Miza\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Január\", \"Február\", \"Marec\", \"Apríl\", \"Máj\", \"Jún\", \"Júl\", \"August\", \"September\", \"Október\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Nedeľa\", \"Pondelok\", \"Utorok\", \"Streda\", \"Štvrtok\", \"Piatok\", \"Sobota\"],\r\n\t\tday_short: [\"Ne\", \"Po\", \"Ut\", \"St\", \"Št\", \"Pi\", \"So\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dnes\",\r\n\t\tday_tab: \"Deň\",\r\n\t\tweek_tab: \"Týždeň\",\r\n\t\tmonth_tab: \"Mesiac\",\r\n\t\tnew_event: \"Nová udalosť\",\r\n\t\ticon_save: \"Uložiť\",\r\n\t\ticon_cancel: \"Späť\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edituj\",\r\n\t\ticon_delete: \"Zmazať\",\r\n\t\tconfirm_closing: \"Vaše zmeny nebudú uložené. Skutočne?\", //Vaše změny budou ztraceny, opravdu ?\r\n\t\tconfirm_deleting: \"Udalosť bude natrvalo vymazaná. Skutočne?\",\r\n\t\tsection_description: \"Poznámky\",\r\n\t\tsection_time: \"Doba platnosti\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Prajete si upraviť celú radu opakovaných udalostí?\",\r\n\t\tsection_recurring: \"Opakovanie udalosti\",\r\n\t\tbutton_recurring: \"Vypnuté\",\r\n\t\tbutton_recurring_open: \"Zapnuté\",\r\n\t\tbutton_edit_series: \"Upraviť opakovania\",\r\n\t\tbutton_edit_occurrence: \"Upraviť inštancie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Program\",\r\n\t\tdate: \"Dátum\",\r\n\t\tdescription: \"Poznámka\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\t\tfull_day: \"Celý deň\", // Full day\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Program\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Mriežka\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Denne\",\r\n\t\trepeat_radio_week: \"Týždenne\",\r\n\t\trepeat_radio_month: \"Mesaène\",\r\n\t\trepeat_radio_year: \"Roène\",\r\n\t\trepeat_radio_day_type: \"Každý\",\r\n\t\trepeat_text_day_count: \"deò\",\r\n\t\trepeat_radio_day_type2: \"Každý prac. deò\",\r\n\t\trepeat_week: \"Opakova každý\",\r\n\t\trepeat_text_week_count: \"týždeò v dòoch:\",\r\n\t\trepeat_radio_month_type: \"Opakova\",\r\n\t\trepeat_radio_month_start: \"On\",\r\n\t\trepeat_text_month_day: \"deò každý\",\r\n\t\trepeat_text_month_count: \"mesiac\",\r\n\t\trepeat_text_month_count2_before: \"každý\",\r\n\t\trepeat_text_month_count2_after: \"mesiac\",\r\n\t\trepeat_year_label: \"On\",\r\n\t\tselect_year_day2: \"poèas\",\r\n\t\trepeat_text_year_day: \"deò\",\r\n\t\tselect_year_month: \"mesiac\",\r\n\t\trepeat_radio_end: \"Bez dátumu ukonèenia\",\r\n\t\trepeat_text_occurences_count: \"udalostiach\",\r\n\t\trepeat_radio_end3: \"Ukonèi\",\r\n\t\trepeat_radio_end2: \"Po\",\r\n\t\tmonth_for_recurring: [\"Január\", \"Február\", \"Marec\", \"Apríl\", \"Máj\", \"Jún\", \"Júl\", \"August\", \"September\", \"Október\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Nede¾a\", \"Pondelok\", \"Utorok\", \"Streda\", \"Štvrtok\", \"Piatok\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\r\n\t\tday_short: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Vecka\",\r\n\t\tmonth_tab: \"Månad\",\r\n\t\tnew_event: \"Ny händelse\",\r\n\t\ticon_save: \"Spara\",\r\n\t\ticon_cancel: \"Ångra\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Ändra\",\r\n\t\ticon_delete: \"Ta bort\",\r\n\t\tconfirm_closing: \"\", //Dina förändingar kommer gå förlorade, är du säker?\r\n\t\tconfirm_deleting: \"Är du säker på att du vill ta bort händelsen permanent?\",\r\n\t\tsection_description: \"Beskrivning\",\r\n\t\tsection_time: \"Tid\",\r\n\t\tfull_day: \"Hela dagen\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vill du redigera hela serien med repeterande händelser?\",\r\n\t\tsection_recurring: \"Upprepa händelse\",\r\n\t\tbutton_recurring: \"Inaktiverat\",\r\n\t\tbutton_recurring_open: \"Aktiverat\",\r\n\t\tbutton_edit_series: \"Redigera serien\",\r\n\t\tbutton_edit_occurrence: \"Redigera en kopia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dagordning\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Beskrivning\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dagordning\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Galler\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Dra för att skapa ny\",\r\n\t\tdrag_to_move:\"Dra för att flytta\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Dagligen\",\r\n\t\trepeat_radio_week: \"Veckovis\",\r\n\t\trepeat_radio_month: \"Månadsvis\",\r\n\t\trepeat_radio_year: \"Årligen\",\r\n\t\trepeat_radio_day_type: \"Var\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"Varje arbetsdag\",\r\n\t\trepeat_week: \" Upprepa var\",\r\n\t\trepeat_text_week_count: \"vecka dessa dagar:\",\r\n\t\trepeat_radio_month_type: \"Upprepa\",\r\n\t\trepeat_radio_month_start: \"Den\",\r\n\t\trepeat_text_month_day: \"dagen var\",\r\n\t\trepeat_text_month_count: \"månad\",\r\n\t\trepeat_text_month_count2_before: \"var\",\r\n\t\trepeat_text_month_count2_after: \"månad\",\r\n\t\trepeat_year_label: \"Den\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"månad\",\r\n\t\trepeat_radio_end: \"Inget slutdatum\",\r\n\t\trepeat_text_occurences_count: \"upprepningar\",\r\n\t\trepeat_radio_end3: \"Sluta efter\",\r\n\t\trepeat_radio_end2: \"Efter\",\r\n\t\tmonth_for_recurring: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Ocak\", \"Þubat\", \"Mart\", \"Nisan\", \"Mayýs\", \"Haziran\", \"Temmuz\", \"Aðustos\", \"Eylül\", \"Ekim\", \"Kasým\", \"Aralýk\"],\r\n\t\tmonth_short: [\"Oca\", \"Þub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Aðu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\r\n\t\tday_full: [\"Pazar\", \"Pazartes,\", \"Salý\", \"Çarþamba\", \"Perþembe\", \"Cuma\", \"Cumartesi\"],\r\n\t\tday_short: [\"Paz\", \"Pts\", \"Sal\", \"Çar\", \"Per\", \"Cum\", \"Cts\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Bugün\",\r\n\t\tday_tab: \"Gün\",\r\n\t\tweek_tab: \"Hafta\",\r\n\t\tmonth_tab: \"Ay\",\r\n\t\tnew_event: \"Uygun\",\r\n\t\ticon_save: \"Kaydet\",\r\n\t\ticon_cancel: \"Ýptal\",\r\n\t\ticon_details: \"Detaylar\",\r\n\t\ticon_edit: \"Düzenle\",\r\n\t\ticon_delete: \"Sil\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Etkinlik silinecek, devam?\",\r\n\t\tsection_description: \"Açýklama\",\r\n\t\tsection_time: \"Zaman aralýðý\",\r\n\t\tfull_day: \"Tam gün\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Tüm tekrar eden etkinlikler silinecek, devam?\",\r\n\t\tsection_recurring: \"Etkinliði tekrarla\",\r\n\t\tbutton_recurring: \"Pasif\",\r\n\t\tbutton_recurring_open: \"Aktif\",\r\n\t\tbutton_edit_series: \"Dizi düzenleme\",\r\n\t\tbutton_edit_occurrence: \"Bir kopyasını düzenleyin\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Ajanda\",\r\n\t\tdate: \"Tarih\",\r\n\t\tdescription: \"Açýklama\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Yýl\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Ajanda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Izgara\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\"\r\n\t}\r\n};","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Січень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"],\r\n\t\tmonth_short: [\"Січ\", \"Лют\", \"Бер\", \"Кві\", \"Тра\", \"Чер\", \"Лип\", \"Сер\", \"Вер\", \"Жов\", \"Лис\", \"Гру\"],\r\n\t\tday_full: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Середа\", \"Четвер\", \"П'ятниця\", \"Субота\"],\r\n\t\tday_short: [\"Нед\", \"Пон\", \"Вів\", \"Сер\", \"Чет\", \"Птн\", \"Суб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сьогодні\",\r\n\t\tday_tab: \"День\",\r\n\t\tweek_tab: \"Тиждень\",\r\n\t\tmonth_tab: \"Місяць\",\r\n\t\tnew_event: \"Нова подія\",\r\n\t\ticon_save: \"Зберегти\",\r\n\t\ticon_cancel: \"Відміна\",\r\n\t\ticon_details: \"Деталі\",\r\n\t\ticon_edit: \"Редагувати\",\r\n\t\ticon_delete: \"Вилучити\",\r\n\t\tconfirm_closing: \"\", //Ваші зміни втратяться. Ви впевнені ?\r\n\t\tconfirm_deleting: \"Подія вилучиться назавжди. Ви впевнені?\",\r\n\t\tsection_description: \"Опис\",\r\n\t\tsection_time: \"Часовий проміжок\",\r\n\t\tfull_day: \"Весь день\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Хочете редагувати весь перелік повторюваних подій?\",\r\n\t\tsection_recurring: \"Повторювана подія\",\r\n\t\tbutton_recurring: \"Відключено\",\r\n\t\tbutton_recurring_open: \"Включено\",\r\n\t\tbutton_edit_series: \"Редагувати серію\",\r\n\t\tbutton_edit_occurrence: \"Редагувати примірник\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Перелік\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Опис\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Рік\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Перелік\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Таблиця\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"День\",\r\n\t\trepeat_radio_week: \"Тиждень\",\r\n\t\trepeat_radio_month: \"Місяць\",\r\n\t\trepeat_radio_year: \"Рік\",\r\n\t\trepeat_radio_day_type: \"Кожний\",\r\n\t\trepeat_text_day_count: \"день\",\r\n\t\trepeat_radio_day_type2: \"Кожний робочий день\",\r\n\t\trepeat_week: \" Повторювати кожен\",\r\n\t\trepeat_text_week_count: \"тиждень , по:\",\r\n\t\trepeat_radio_month_type: \"Повторювати\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" числа кожний \",\r\n\t\trepeat_text_month_count: \"місяць\",\r\n\t\trepeat_text_month_count2_before: \"кожен \",\r\n\t\trepeat_text_month_count2_after: \"місяць\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"день\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без дати закінчення\",\r\n\t\trepeat_text_occurences_count: \"повторень\",\r\n\t\trepeat_radio_end3: \"До \",\r\n\t\trepeat_radio_end2: \"\",\r\n\t\tmonth_for_recurring: [\"січня\", \"лютого\", \"березня\", \"квітня\", \"травня\", \"червня\", \"липня\", \"серпня\", \"вересня\", \"жовтня\", \"листопада\", \"грудня\"],\r\n\t\tday_for_recurring: [\"Неділям\", \"Понеділкам\", \"Вівторкам\", \"Середам\", \"Четвергам\", \"П'ятницям\", \"Суботам\"]\r\n\t}\r\n};\r\n","import eventable from \"../utils/eventable\";\r\n\r\nexport class DatePicker {\r\n\tconstructor(scheduler, container, state = {}) {\r\n\t\tthis.state = {\r\n\t\t\tdate: new Date(),\r\n\t\t\tmodes: ['days', 'months', 'years'],\r\n\t\t\tcurrentRange: [],\r\n\t\t\teventDates: [],\r\n\t\t\tcurrentModeIndex: 0,\r\n\t\t\t...state\r\n\t\t};\r\n\t\tthis.container = null;\r\n\t\tthis.element = null;\r\n\t\tthis.onStateChangeHandlers = [];\r\n\t\tthis.scheduler = scheduler;\r\n\t\tthis._domEvents = scheduler._createDomEventScope();\r\n\t\tthis.state = this.getState();\r\n\t\teventable(this);\r\n\t\tif(container){\r\n\r\n\t\t\tthis.container = container;\r\n\t\t\tthis.render(this.container);\r\n\t\t}\r\n\r\n\t\tthis.onStateChange((oldState, newState) => {\r\n\t\t\tthis.callEvent(\"onStateChange\", [newState, oldState]);\r\n\t\t});\r\n\t}\r\n\r\n\tgetState() {\r\n\t\treturn { \r\n\t\t\t...this.state,\r\n\t\t\tmode: this.state.modes[this.state.currentModeIndex]\r\n\t\t};\r\n\t}\r\n\r\n\tsetState(newState) {\r\n\t\tconst oldState = { ...this.state };\r\n\t\tif(newState.mode){\r\n\t\t\tnewState.currentModeIndex = this.state.modes.indexOf(newState.mode);\r\n\t\t}\r\n\t\tthis.state = { ...this.state, ...newState };\r\n\r\n\t\tthis._notifyStateChange(oldState, this.state);\r\n\r\n\t\tif (this.container) {\r\n\t\t\tthis.render(this.container);\r\n\t\t}\r\n\t}\r\n\r\n\tonStateChange(handler) {\r\n\t\tthis.onStateChangeHandlers.push(handler);\r\n\r\n\t\t// function to remove the handler\r\n\t\treturn () => {\r\n\t\t\tconst index = this.onStateChangeHandlers.indexOf(handler);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.onStateChangeHandlers.splice(index, 1);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t_notifyStateChange(oldState, newState) {\r\n\t\tthis.onStateChangeHandlers.forEach(handler => handler(oldState, newState));\r\n\t}\r\n\r\n\t_adjustDate(direction) {\r\n\r\n\t\tconst {mode, date} = this.getState();\r\n\t\tconst newDate = new Date(date);\r\n\t\tif (mode === 'days') {\r\n\t\t\tnewDate.setMonth(date.getMonth() + direction);\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tnewDate.setFullYear(date.getFullYear() + direction);\r\n\t\t} else {\r\n\t\t\tnewDate.setFullYear(date.getFullYear() + direction * 10);\r\n\t\t}\r\n\t\tthis.setState({ date: newDate });\r\n\t}\r\n\r\n\t_toggleMode() {\r\n\t\tconst newIndex = (this.state.currentModeIndex + 1) % this.state.modes.length;\r\n\t\tthis.setState({ currentModeIndex: newIndex });\r\n\t}\r\n\r\n\t_renderCalendarHeader(container) {\r\n\t\tconst {mode, date} = this.getState();\r\n\r\n\t\tconst header = document.createElement('div');\r\n\t\theader.classList.add('dhx_cal_datepicker_header');\r\n\r\n\t\tconst backwardArrow = document.createElement('button');\r\n\r\n\t\tbackwardArrow.classList.add(\"dhx_cal_datepicker_arrow\", \"scheduler_icon\", \"arrow_left\");\r\n\t\theader.appendChild(backwardArrow);\r\n\r\n\t\tconst monthLabel = document.createElement('div');\r\n\t\tmonthLabel.classList.add('dhx_cal_datepicker_title');\r\n\r\n\t\tif (mode === 'days') {\r\n\t\t\tmonthLabel.innerText = date.toLocaleString('default', { month: 'long' }) + ' ' + date.getFullYear();\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tmonthLabel.innerText = date.getFullYear();\r\n\t\t} else {\r\n\t\t\tconst startYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\t\t\tmonthLabel.innerText = `${startYear} - ${startYear + 9}`;\r\n\t\t}\r\n\r\n\t\tthis._domEvents.attach(monthLabel, \"click\", this._toggleMode.bind(this));\r\n\t\theader.appendChild(monthLabel);\r\n\r\n\t\tconst forwardArrow = document.createElement('button');\r\n\r\n\t\tforwardArrow.classList.add(\"dhx_cal_datepicker_arrow\", \"scheduler_icon\", \"arrow_right\");\r\n\t\theader.appendChild(forwardArrow);\r\n\r\n\t\tcontainer.appendChild(header);\r\n\r\n\t\tthis._domEvents.attach(backwardArrow, \"click\", this._adjustDate.bind(this, -1));\r\n\t\tthis._domEvents.attach(forwardArrow, \"click\", this._adjustDate.bind(this, 1));\r\n\t}\r\n\r\n\trender(container) {\r\n\t\tthis._domEvents.detachAll();\r\n\t\tthis.container = container || this.container; \r\n\t\tthis.container.innerHTML = '';\r\n\r\n\t\tif(!this.element){\r\n\t\t\tthis.element = document.createElement(\"div\");\r\n\t\t\tthis.element.classList.add(\"dhx_cal_datepicker\");\r\n\t\t}\r\n\t\tthis.element.innerHTML = '';\r\n\t\tthis.container.appendChild(this.element);\r\n\r\n\t\tthis._renderCalendarHeader(this.element);\r\n\t\tconst dataContainer = document.createElement(\"div\");\r\n\t\tdataContainer.classList.add(\"dhx_cal_datepicker_data\");\r\n\t\tthis.element.appendChild(dataContainer);\r\n\r\n\t\tconst {mode} = this.getState();\r\n\t\tif (mode === 'days') {\r\n\t\t\tthis._renderDayGrid(dataContainer);\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tthis._renderMonthGrid(dataContainer);\r\n\t\t} else {\r\n\t\t\tthis._renderYearGrid(dataContainer);\r\n\t\t}\r\n\t}\r\n\r\n\t_renderDayGridHeader(daysOfWeekContainer) {\r\n\t\tconst {date} = this.getState();\r\n\t\tconst scheduler = this.scheduler;\r\n\r\n\t\tlet currentDate = scheduler.date.week_start(new Date(date));\r\n\t\tconst maxDate = scheduler.date.add(scheduler.date.week_start(new Date(date)), 1, 'week');\r\n\r\n\t\tdaysOfWeekContainer.classList.add('dhx_cal_datepicker_days');\r\n\r\n\t\tconst labelFormat = scheduler.date.date_to_str(\"%D\");\r\n\r\n\t\twhile (currentDate.valueOf() < maxDate.valueOf()) {\r\n\t\t\tconst label = labelFormat(currentDate);\r\n\r\n\t\t\tconst dayElement = document.createElement('div');\r\n\t\t\tdayElement.setAttribute(\"data-day\", currentDate.getDay());\r\n\t\t\tdayElement.classList.add('dhx_cal_datepicker_dayname');\r\n\t\t\tdayElement.innerText = label;\r\n\t\t\tdaysOfWeekContainer.appendChild(dayElement);\r\n\r\n\t\t\tcurrentDate = scheduler.date.add(currentDate, 1, 'day');\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_weeksBetween(min, max) {\r\n\t\tconst scheduler = this.scheduler;\r\n\t\tlet weeks = 0;\r\n\t\tlet currWeek = new Date(min);\r\n\t\twhile(currWeek.valueOf() < max.valueOf()){\r\n\t\t\tweeks += 1;\r\n\t\t\tcurrWeek = scheduler.date.week_start(scheduler.date.add(currWeek, 1, \"week\"));\r\n\t\t}\r\n\t\treturn weeks;\r\n\t}\r\n\r\n\t_renderDayGrid(container) {\r\n\t\tconst {date, currentRange, eventDates, minWeeks} = this.getState();\r\n\r\n\t\tlet minSchedulerDate = currentRange[0];\r\n\t\tlet maxSchedulerDate = currentRange[1];\r\n\r\n\t\tconst eventDaysTable = eventDates.reduce((acc, date) => {\r\n\t\t\tconst dayStart = this.scheduler.date.day_start(new Date(date));\r\n\t\t\tacc[dayStart.valueOf()] = true;\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\r\n\r\n\t\t// Render Days of the Week\r\n\t\tconst daysOfWeekContainer = document.createElement('div');\r\n\t\tthis._renderDayGridHeader(daysOfWeekContainer);\r\n\t\tcontainer.appendChild(daysOfWeekContainer);\r\n\r\n\t\tconst scheduler = this.scheduler;\r\n\t\tconst firstDate = scheduler.date.week_start(scheduler.date.month_start(new Date(date)));\r\n\t\tconst monthStart = scheduler.date.month_start(new Date(date));\r\n\t\tconst monthEnd = scheduler.date.add(scheduler.date.month_start(new Date(date)), 1, 'month');\r\n\t\tlet lastDate = scheduler.date.add(scheduler.date.month_start(new Date(date)), 1, 'month');\r\n\t\tconst currentCalDate = scheduler.date.date_part(scheduler._currentDate());\r\n\t\tif(lastDate.getDay() !== 0){\r\n\t\t\tlastDate = scheduler.date.add(scheduler.date.week_start(lastDate), 1, \"week\");\r\n\t\t}\r\n\r\n\t\tlet weeks = this._weeksBetween(firstDate, lastDate);\r\n\t\tif(minWeeks && weeks < minWeeks){\r\n\t\t\tlastDate = scheduler.date.add(lastDate, (minWeeks - weeks), \"week\");\r\n\t\t}\r\n\r\n\t\tlet currDate = firstDate;\r\n\r\n\t\tconst dayGridContainer = document.createElement('div');\r\n\t\tdayGridContainer.classList.add('dhx_cal_datepicker_days');\r\n\r\n\t\tthis._domEvents.attach(dayGridContainer, \"click\", (event) => {\r\n\t\t\tconst dateCell = event.target.closest(\"[data-cell-date]\");\r\n\t\t\tconst date = new Date(dateCell.getAttribute(\"data-cell-date\"));\r\n\t\t\tthis.callEvent(\"onDateClick\", [date, event]);\r\n\t\t});\r\n\r\n\t\twhile(currDate.valueOf() < lastDate.valueOf()){\r\n\t\t\tconst dayElement = document.createElement('div');\r\n\t\t\tdayElement.setAttribute(\"data-cell-date\", scheduler.templates.format_date(currDate));\r\n\t\t\tdayElement.setAttribute(\"data-day\", currDate.getDay());\r\n\t\t\tdayElement.innerHTML = currDate.getDate();\r\n\r\n\t\t\tif(currDate.valueOf() < monthStart.valueOf()){\r\n\t\t\t\tdayElement.classList.add('dhx_before');\r\n\t\t\t}else if(currDate.valueOf() >= monthEnd.valueOf()){\t\r\n\t\t\t\tdayElement.classList.add('dhx_after');\r\n\t\t\t}\r\n\r\n\t\t\tif(currDate.getDay() === 0 || currDate.getDay() === 6){\r\n\t\t\t\tdayElement.classList.add(\"dhx_cal_datepicker_weekend\");\r\n\t\t\t}\r\n\r\n\t\t\tif(currDate.valueOf() == currentCalDate.valueOf()){\r\n\t\t\t\tdayElement.classList.add(\"dhx_now\");\r\n\t\t\t}\r\n\r\n\t\t\tif(minSchedulerDate && maxSchedulerDate){\r\n\t\t\t\tif(currDate.valueOf() >= minSchedulerDate.valueOf() && currDate.valueOf() < maxSchedulerDate.valueOf()){\r\n\t\t\t\t\tdayElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(eventDaysTable[currDate.valueOf()]){\r\n\t\t\t\tdayElement.classList.add('dhx_cal_datepicker_event');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdayElement.classList.add('dhx_cal_datepicker_date');\r\n\r\n\t\t\tdayGridContainer.appendChild(dayElement);\r\n\t\t\tcurrDate = scheduler.date.add(currDate, 1, 'day');\r\n\t\t}\r\n\r\n\t\tcontainer.appendChild(dayGridContainer);\r\n\r\n\t}\r\n\r\n\t_renderMonthGrid(container) {\r\n\t\tconst {date} = this.getState();\r\n\r\n\t\tconst wrapper = document.createElement('div');\r\n\t\twrapper.classList.add(\"dhx_cal_datepicker_months\");\r\n\r\n\t\tconst months = [];\r\n\t\tfor(let i = 0; i < 12; i++){\r\n\t\t\tmonths.push(new Date(date.getFullYear(), i, 1));\r\n\t\t}\r\n\r\n\t\tconst formatLabel = this.scheduler.date.date_to_str(\"%M\");\r\n\t\tmonths.forEach(month => {\r\n\t\t\tconst monthElement = document.createElement('div');\r\n\t\t\tmonthElement.classList.add('dhx_cal_datepicker_month');\r\n\t\t\tif(date.getMonth() === month.getMonth()){\r\n\t\t\t\tmonthElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t}\r\n\t\t\tmonthElement.setAttribute(\"data-month\", month.getMonth());\r\n\t\t\tmonthElement.innerHTML = formatLabel(month);\r\n\t\t\tthis._domEvents.attach(monthElement, \"click\", () => {\r\n\t\t\t\tconst newDate = new Date(month);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdate: newDate,\r\n\t\t\t\t\tmode: 'days'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\twrapper.appendChild(monthElement);\r\n\t\t});\r\n\t\tcontainer.appendChild(wrapper);\r\n\r\n\t\tconst doneArea = document.createElement(\"div\");\r\n\t\tdoneArea.classList.add(\"dhx_cal_datepicker_done\");\r\n\t\tconst doneBtn = document.createElement(\"button\");\r\n\t\tdoneBtn.innerText = \"Done\";\r\n\t\tdoneBtn.classList.add(\"dhx_cal_datepicker_done_btn\");\r\n\t\tthis._domEvents.attach(doneBtn, \"click\", () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmode: 'days'\r\n\t\t\t});\r\n\t\t});\r\n\t\tdoneArea.appendChild(doneBtn);\r\n\t\tcontainer.appendChild(doneArea);\r\n\t}\r\n\r\n\t_renderYearGrid(container) {\r\n\t\tconst {date} = this.getState();\r\n\t\tconst startYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\t\t\r\n\t\tconst wrapper = document.createElement('div');\r\n\t\twrapper.classList.add(\"dhx_cal_datepicker_years\");\r\n\t\tfor (let i = startYear - 1; i <= startYear + 10; i++) {\r\n\t\t\tconst yearElement = document.createElement('div');\r\n\t\t\tyearElement.innerText = i;\r\n\t\t\tyearElement.classList.add('dhx_cal_datepicker_year');\r\n\t\t\tyearElement.setAttribute(\"data-year\", i);\r\n\t\t\tif(date.getFullYear() === i){\r\n\t\t\t\tyearElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t}\r\n\t\t\tthis._domEvents.attach(yearElement, \"click\", () => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdate: new Date(i, date.getMonth(), 1),\r\n\t\t\t\t\tmode: 'months'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\twrapper.appendChild(yearElement);\r\n\t\t\t\r\n\t\t}\r\n\t\tcontainer.appendChild(wrapper);\r\n\r\n\t\tconst doneArea = document.createElement(\"div\");\r\n\t\tdoneArea.classList.add(\"dhx_cal_datepicker_done\");\r\n\t\tconst doneBtn = document.createElement(\"button\");\r\n\t\tdoneBtn.innerText = \"Done\";\r\n\t\tdoneBtn.classList.add(\"dhx_cal_datepicker_done_btn\");\r\n\t\tthis._domEvents.attach(doneBtn, \"click\", () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmode: 'months'\r\n\t\t\t});\r\n\t\t});\r\n\t\tdoneArea.appendChild(doneBtn);\r\n\t\tcontainer.appendChild(doneArea);\r\n\t}\r\n\r\n\tdestructor(){\r\n\t\tthis.onStateChangeHandlers = [];\r\n\t\tif(this.element){\r\n\t\t\tthis.element.innerHTML = '';\r\n\t\t\tthis.element.remove();\r\n\t\t}\r\n\r\n\t\tthis._domEvents.detachAll();\r\n\t\tthis.callEvent(\"onDestroy\", []);\r\n\t\tthis.detachAllEvents();\r\n\r\n\t\tthis.scheduler = null;\r\n\t}\r\n}","// import \"./css/dhtmlxscheduler_terrace\";\r\n// import \"./css/dhtmlxscheduler_material\";\r\n// import \"./css/dhtmlxscheduler_material_nofont\";\r\n// import \"./css/dhtmlxscheduler_flat\";\r\n// import \"./css/dhtmlxscheduler_contrast_black\";\r\n// import \"./css/dhtmlxscheduler_contrast_white\";\r\n\r\n\r\nimport assert from \"./core/common/assert\";\r\nimport common_errors from \"./core/common_errors\";\r\nimport connector from \"./core/connector\";\r\nimport schedulerCore from \"./core/scheduler\";\r\nimport common from \"./core/common\";\r\nimport wai_aria from \"./core/wai_aria\";\r\nimport utils from \"./core/utils/utils\";\r\nimport dom_helpers from \"./core/utils/dom_helpers\";\r\nimport env from \"./utils/env\";\r\nimport destructor from \"./core/destructor\";\r\nimport ajax from \"./core/utils/ajax\";\r\nimport base from \"./core/base\";\r\nimport config from \"./core/config\";\r\nimport event from \"./core/event\";\r\nimport event_highlight from \"./core/event_highlight\";\r\nimport load from \"./core/load\";\r\nimport lightbox from \"./core/lightbox\";\r\nimport touch from \"./core/touch\";\r\nimport dhtmlx_suite_hooks from \"./core/dhtmlx/dhtmlx_suite_hooks\";\r\nimport skins from \"./core/skins\";\r\nimport jquery from \"./core/jquery\";\r\nimport delay_render from \"./core/delay_render\";\r\nimport dataProcessorExtend from \"./core/dataprocessor/dataprocessor\";\r\nimport message from \"./core/message\";\r\nimport i18nFactory from \"./locale\";\r\n\r\nimport voidFirst from \"./publish_helpers/void_script_first\";\r\nimport voidSecond from \"./publish_helpers/void_script_second\";\r\nimport voidThird from \"./publish_helpers/void_script_third\";\r\n\r\n//import datepickerHeader from \"./core/clickable_header\";\r\n\r\nimport { DatePicker } from \"./core/datepicker\";\r\n\r\nexport default function(extensionManager) {\r\n\r\n\tconst scheduler = { version: VERSION };\r\n\t\r\n\tcommon_errors(scheduler);\r\n\tcommon(scheduler);\r\n\tschedulerCore(scheduler);\r\n\twai_aria(scheduler);\r\n\t//utils(scheduler);\r\n\r\n\tscheduler.utils = utils;\r\n\tscheduler.$domHelpers = dom_helpers;\r\n\tscheduler.utils.dom = dom_helpers;\r\n\tscheduler.uid = utils.uid;\r\n\tscheduler.mixin = utils.mixin;\r\n\tscheduler.defined = utils.defined;\r\n\tscheduler.assert = assert(scheduler);\r\n\tscheduler.copy = utils.copy;\r\n\r\n\tscheduler._createDatePicker = function(container, config){\r\n\t\treturn new DatePicker(scheduler, container, config);\r\n\t};\r\n\r\n\t//datepickerHeader(scheduler);\r\n\r\n\r\n\t//old api compatibility\r\n\tscheduler._getFocusableNodes = dom_helpers.getFocusableNodes;\r\n\tscheduler._getClassName = dom_helpers.getClassName;\r\n\tscheduler._locate_css = dom_helpers.locateCss;\r\n\r\n\tconst messageApi = message(scheduler);\r\n\tscheduler.utils.mixin(scheduler, messageApi);\r\n\r\n\tscheduler.env = scheduler.$env = env;\r\n\tscheduler.Promise = window.Promise;\r\n\tdestructor(scheduler);\r\n\tajax(scheduler);\r\n\tvoidFirst(scheduler);\r\n\tbase(scheduler);\r\n\tconfig(scheduler);\r\n\tevent(scheduler);\r\n\tevent_highlight(scheduler);\r\n\tload(scheduler);\r\n\tlightbox(scheduler);\r\n\ttouch(scheduler);\r\n\tdhtmlx_suite_hooks(scheduler);\r\n\tvoidSecond(scheduler);\r\n\tskins(scheduler);\r\n\tjquery(scheduler);\r\n\tdelay_render(scheduler);\r\n\tdataProcessorExtend(scheduler);\r\n\tvoidThird(scheduler);\r\n\tconnector(scheduler);\r\n\tconst i18n = i18nFactory();\r\n\tscheduler.i18n = {\r\n\t\taddLocale: i18n.addLocale,\r\n\t\tsetLocale: function(locale){\r\n\t\t\tif(typeof locale === \"string\"){\r\n\t\t\t\tvar localeObject = i18n.getLocale(locale);\r\n\t\t\t\tif(!localeObject){\r\n\t\t\t\t\tlocaleObject = i18n.getLocale(\"en\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler.locale = localeObject;\r\n\t\t\t}else if(locale){\r\n\t\t\t\tif(!scheduler.locale){\r\n\t\t\t\t\tscheduler.locale = locale;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(var i in locale){\r\n\t\t\t\t\t\tif(locale[i] && typeof locale[i] === \"object\"){\r\n\t\t\t\t\t\t\tif(!scheduler.locale[i]){\r\n\t\t\t\t\t\t\t\tscheduler.locale[i] = {};\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tscheduler.mixin(scheduler.locale[i], locale[i], true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tscheduler.locale[i] = locale[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar labels = scheduler.locale.labels;\r\n\t\t\tlabels.dhx_save_btn \t= labels.icon_save;\r\n\t\t\tlabels.dhx_cancel_btn \t= labels.icon_cancel;\r\n\t\t\tlabels.dhx_delete_btn \t= labels.icon_delete;\r\n\r\n\t\t\tif(scheduler.$container){\r\n\t\t\t\tscheduler.get_elements();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgetLocale: i18n.getLocale\r\n\t};\r\n\tscheduler.i18n.setLocale(\"en\");\r\n\r\n\tscheduler.ext = {};\r\n\r\n\tconst activePlugins = {};\r\n\tscheduler.plugins = function(config){\r\n\t\tconst extensionList = getExtensionList(config, {\r\n\t\t\t\ttreetimeline: [\"timeline\"],\r\n\t\t\t\tdaytimeline: [\"timeline\"],\r\n\t\t\t\touterdrag: [\"legacy\"]\r\n\t\t\t}, {\r\n\t\t\t\tlegacy: 1,\r\n\t\t\t\tlimit: 1,\r\n\t\t\t\ttimeline: 2,\r\n\t\t\t\tdaytimeline: 3,\r\n\t\t\t\ttreetimeline: 3,\r\n\t\t\t\touterdrag:6\r\n\t\t\t});\r\n\r\n\t\textensionList.forEach(function(name){\r\n\t\t\tif(!activePlugins[name]){\r\n\t\t\t\tconst plugin = extensionManager.getExtension(name);\r\n\t\t\t\tif(plugin){\r\n\t\t\t\t\tplugin(scheduler);\r\n\t\t\t\t\tactivePlugins[name] = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthrow new Error(\"unknown plugin \" + name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tfunction getExtensionList(config, dependencies, priorities){\r\n\t\tconst result = [];\r\n\r\n\t\tfor(const i in config){\r\n\t\t\tif(config[i]){\r\n\t\t\t\tconst extension = i.toLowerCase();\r\n\t\t\t\tif(dependencies[extension]){\r\n\t\t\t\t\tdependencies[extension].forEach(function(dep){\r\n\t\t\t\t\t\tconst dependencyName = dep.toLowerCase();\r\n\t\t\t\t\t\tif(!config[dependencyName]){\r\n\t\t\t\t\t\t\tresult.push(dependencyName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(extension);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tresult.sort(function(a, b){\r\n\t\t\tconst orderA = priorities[a] || 0;\r\n\t\t\tconst orderB = priorities[b] || 0;\r\n\t\t\tif(orderA > orderB){\r\n\t\t\t\treturn 1;\r\n\t\t\t}else if(orderA < orderB){\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn scheduler;\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n(function(){\r\n\r\n\t// eslint-disable-next-line no-control-regex\r\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\r\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\r\n\r\n\tfunction stripHTMLLite(htmlText){\r\n\t\treturn (htmlText + \"\")\r\n\t\t\t.replace(htmlTags, \" \").\r\n\t\t\treplace(extraSpaces, \" \");\r\n\t}\r\n\r\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\r\n\tfunction escapeQuotes(text){\r\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\r\n\t}\r\n\r\n\tscheduler._waiAria = {\r\n\t\tgetAttributeString: function(attr){\r\n\t\t\tvar attributes = [\" \"];\r\n\t\t\tfor(var i in attr){\r\n\t\t\t\tif(typeof attr[i] != \"function\" && typeof attr[i] != \"object\") {\r\n\t\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\r\n\t\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tattributes.push(\" \");\r\n\t\t\treturn attributes.join(\" \");\r\n\t\t},\r\n\t\tsetAttributes: function(div, values){\r\n\t\t\tfor(var i in values){\r\n\t\t\t\tdiv.setAttribute(i, stripHTMLLite(values[i]));\r\n\t\t\t}\r\n\t\t\treturn div;\r\n\t\t},\r\n\r\n\t\tlabelAttr: function(div, content){\r\n\t\t\treturn this.setAttributes(div, {\"aria-label\": content});\r\n\t\t},\r\n\t\tlabel: function(label){\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": label});\r\n\t\t},\r\n\r\n\t\t// day/week/units\r\n\r\n\t\thourScaleAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\r\n\t\t},\r\n\t\tmonthCellAttr: function(div, date){\r\n\t\t\tthis.labelAttr(div, scheduler.templates.day_date(date));\r\n\t\t},\r\n\r\n\t\tnavBarDateAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\t\t},\r\n\t\tdayHeaderAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\t\t},\r\n\r\n\t\tdayColumnAttr: function(div, date){\r\n\t\t\tthis.dayHeaderAttr(div, scheduler.templates.day_date(date));\r\n\t\t},\r\n\r\n\t\theaderButtonsAttributes: function(div, label){\r\n\t\t\treturn this.setAttributes(div, {\"role\":\"button\", \"aria-label\":label});\r\n\t\t},\r\n\r\n\t\theaderToggleState: function(div, isActive){\r\n\t\t\treturn this.setAttributes(div, {\"aria-pressed\": isActive ? \"true\" : \"false\"});\r\n\t\t},\r\n\r\n\r\n\t\tgetHeaderCellAttr:function(dateString){\r\n\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": dateString});\r\n\t\t},\r\n\r\n\r\n\t\teventAttr: function(event, div){\r\n\t\t\tthis._eventCommonAttr(event, div);\r\n\t\t},\r\n\r\n\r\n\t\t_eventCommonAttr: function(event, div){\r\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(scheduler.templates.event_text(event.start_date, event.end_date, event)));\r\n\r\n\t\t\tif(scheduler.config.readonly){\r\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(event.$dataprocessor_class){\r\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tdiv.setAttribute(\"aria-selected\",\r\n\t\t\t\t(scheduler.getState().select_id == event.id) ? \"true\" : \"false\");\r\n\t\t},\r\n\r\n\t\tsetEventBarAttr: function(event, div){\r\n\t\t\tthis._eventCommonAttr(event, div);\r\n\t\t},\r\n\r\n\t\t_getAttributes: function(attributeSetter, arg){\r\n\t\t\tvar result = {\r\n\t\t\t\tsetAttribute:function(name, value){\r\n\t\t\t\t\tthis[name] = value;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tattributeSetter.apply(this, [arg, result]);\r\n\t\t\treturn result;\r\n\r\n\t\t},\r\n\r\n\t\teventBarAttrString: function(event){\r\n\t\t\treturn this.getAttributeString(this._getAttributes(this.setEventBarAttr, event));\r\n\t\t},\r\n\r\n\r\n\r\n\t\tagendaHeadAttrString :function(){\r\n\t\t\treturn this.getAttributeString({role: \"row\"});\r\n\t\t},\r\n\t\tagendaHeadDateString :function(label){\r\n\t\t\treturn this.getAttributeString({role: \"columnheader\", \"aria-label\": label});\r\n\t\t},\r\n\t\tagendaHeadDescriptionString :function(label){\r\n\t\t\treturn this.agendaHeadDateString(label);\r\n\t\t},\r\n\t\tagendaDataAttrString: function(){\r\n\t\t\treturn this.getAttributeString({role: \"grid\"});\r\n\t\t},\r\n\t\tagendaEventAttrString: function(event){\r\n\t\t\tvar attrs = this._getAttributes(this._eventCommonAttr, event);\r\n\r\n\t\t\tattrs[\"role\"] = \"row\";\r\n\r\n\t\t\treturn this.getAttributeString(attrs);\r\n\r\n\t\t},\r\n\t\tagendaDetailsBtnString: function(){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels.icon_details});\r\n\t\t},\r\n\r\n\r\n\t\tgridAttrString: function(){\r\n\t\t\treturn this.getAttributeString({role: \"grid\"});\r\n\t\t},\r\n\r\n\t\tgridRowAttrString: function(event){\r\n\t\t\treturn this.agendaEventAttrString(event);\r\n\t\t},\r\n\r\n\t\tgridCellAttrString: function(event, column, value){\r\n\t\t\treturn this.getAttributeString({\"role\":\"gridcell\", \"aria-label\": [\r\n\t\t\t\t(column.label === undefined ? column.id : column.label),\r\n\t\t\t\t\": \",\r\n\t\t\t\tvalue\r\n\t\t\t]});\r\n\t\t},\r\n\r\n\t\tmapAttrString: function(){\r\n\t\t\treturn this.gridAttrString();\r\n\t\t},\r\n\t\tmapRowAttrString: function(event){\r\n\t\t\treturn this.gridRowAttrString(event);\r\n\t\t},\r\n\t\tmapDetailsBtnString: function(){\r\n\t\t\treturn this.agendaDetailsBtnString();\r\n\t\t},\r\n\r\n\t\tminicalHeader: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"id\":headerId+\"\",\r\n\t\t\t\t\"aria-live\":\"assertice\",\r\n\t\t\t\t\"aria-atomic\":\"true\"\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalGrid: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"aria-labelledby\":headerId+\"\",\r\n\t\t\t\t\"role\":\"grid\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalRow: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"row\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalDayCell: function(div, date){\r\n\t\t\tvar selected = (date.valueOf() < scheduler._max_date.valueOf() && date.valueOf() >= scheduler._min_date.valueOf());\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"gridcell\",\r\n\t\t\t\t\"aria-label\": scheduler.templates.day_date(date),\r\n\t\t\t\t\"aria-selected\": selected ? \"true\" : \"false\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalHeadCell: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"columnheader\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\tweekAgendaDayCell: function(div, date){\r\n\t\t\tvar header = div.querySelector(\".dhx_wa_scale_bar\");\r\n\t\t\tvar content = div.querySelector(\".dhx_wa_day_data\");\r\n\t\t\tvar headerId = scheduler.uid() + \"\";\r\n\t\t\tthis.setAttributes(header, { \"id\": headerId});\r\n\t\t\tthis.setAttributes(content, { \"aria-labelledby\": headerId});\r\n\r\n\t\t},\r\n\t\tweekAgendaEvent: function(div, event){\r\n\t\t\tthis.eventAttr(event, div);\r\n\t\t},\r\n\r\n\t\tlightboxHiddenAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t},\r\n\r\n\t\tlightboxVisibleAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t},\r\n\r\n\t\tlightboxSectionButtonAttrString: function(label){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\r\n\t\t},\r\n\r\n\t\tyearHeader: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"id\":headerId+\"\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tyearGrid: function(div, headerId){\r\n\t\t\tthis.minicalGrid(div, headerId);\r\n\t\t},\r\n\t\tyearHeadCell: function(div){\r\n\t\t\treturn this.minicalHeadCell(div);\r\n\t\t},\r\n\t\tyearRow: function(div){\r\n\t\t\treturn this.minicalRow(div);\r\n\t\t},\r\n\t\tyearDayCell: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"gridcell\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tlightboxAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\r\n\t\t},\r\n\r\n\t\tlightboxButtonAttrString:function(buttonName){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels[buttonName], \"tabindex\":\"0\"});\r\n\t\t},\r\n\t\teventMenuAttrString: function(iconName){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels[iconName]});\r\n\t\t},\r\n\t\tlightboxHeader: function(div, headerText){\r\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\r\n\t\t},\r\n\r\n\t\tlightboxSelectAttrString: function(time_option){\r\n\t\t\tvar label = \"\";\r\n\r\n\t\t\tswitch (time_option) {\r\n\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.year;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%m\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.month;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%d\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.day;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%H:%i\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.hour + \" \" + scheduler.locale.labels.minute;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": label});\r\n\t\t},\r\n\r\n\r\n\t\tmessageButtonAttrString: function(buttonLabel){\r\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\r\n\t\t},\r\n\r\n\t\tmessageInfoAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\r\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\r\n\t\t},\r\n\r\n\t\tmessageModalAttr: function(div, uid){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t\tif(uid){\r\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\r\n\t\t\t}\r\n\r\n\t\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\r\n\t\t},\r\n\r\n\t\tquickInfoAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t},\r\n\r\n\t\tquickInfoHeaderAttrString: function(){\r\n\t\t\treturn \" role='heading' \";\r\n\t\t},\r\n\r\n\t\tquickInfoHeader: function(div, header){\r\n\t\t\tdiv.setAttribute(\"aria-label\", header);\r\n\t\t},\r\n\r\n\t\tquickInfoButtonAttrString: function(label){\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\r\n\t\t},\r\n\r\n\t\ttooltipAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\r\n\t\t},\r\n\r\n\t\ttooltipVisibleAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t},\r\n\r\n\t\ttooltipHiddenAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t}\r\n\t};\r\n\r\n\tfunction isDisabled(){\r\n\t\treturn !scheduler.config.wai_aria_attributes;\r\n\t}\r\n\r\n\tfor(var i in scheduler._waiAria){\r\n\t\tscheduler._waiAria[i] = (function(payload){\r\n\t\t\treturn function(){\r\n\t\t\t\tif(isDisabled()){\r\n\t\t\t\t\treturn \" \";\r\n\t\t\t\t}\r\n\t\t\t\treturn payload.apply(this, arguments);\r\n\t\t\t};\r\n\t\t})(scheduler._waiAria[i]);\r\n\t}\r\n\r\n\r\n})();\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nvar commonViews = {\r\n\tagenda: \"https://docs.dhtmlx.com/scheduler/agenda_view.html\",\r\n\tgrid: \"https://docs.dhtmlx.com/scheduler/grid_view.html\",\r\n\tmap: \"https://docs.dhtmlx.com/scheduler/map_view.html\",\r\n\tunit: \"https://docs.dhtmlx.com/scheduler/units_view.html\",\r\n\ttimeline: \"https://docs.dhtmlx.com/scheduler/timeline_view.html\",\r\n\tweek_agenda: \"https://docs.dhtmlx.com/scheduler/weekagenda_view.html\",\r\n\tyear: \"https://docs.dhtmlx.com/scheduler/year_view.html\",\r\n\tanythingElse: \"https://docs.dhtmlx.com/scheduler/views.html\"\r\n};\r\n\r\nvar requiredExtensions = {\r\n\tagenda: \"ext/dhtmlxscheduler_agenda_view.js\",\r\n\tgrid: \"ext/dhtmlxscheduler_grid_view.js\",\r\n\tmap: \"ext/dhtmlxscheduler_map_view.js\",\r\n\tunit: \"ext/dhtmlxscheduler_units.js\",\r\n\ttimeline: \"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js\",\r\n\tweek_agenda: \"ext/dhtmlxscheduler_week_agenda.js\",\r\n\tyear: \"ext/dhtmlxscheduler_year_view.js\",\r\n\tlimit: \"ext/dhtmlxscheduler_limit.js\"\r\n};\r\n\r\nscheduler._commonErrorMessages = {\r\n\tunknownView: function(view){\r\n\t\tvar relatedDoc = \"Related docs: \" + (commonViews[view] || commonViews.anythingElse); \r\n\t\tvar relatedExtension = requiredExtensions[view] ? (\"You're probably missing \" + requiredExtensions[view] + \".\") : \"\";\r\n\t\treturn (\r\n\t\t\t\"`\"+view+\"` view is not defined. \\n\" +\r\n\t\t\t\"Please check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \\n\" + \r\n\t\t\trelatedDoc + \"\\n\" + (relatedExtension ? (relatedExtension + \"\\n\") : \"\"));\r\n\t},\r\n\tcollapsedContainer: function(div){\r\n\t\treturn \"Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. \\n\"+\r\n\t\t\"Make sure that the container has some initial height or use different units. For example:\\n\" +\r\n\t\t\"<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> \\n\";\r\n\t}\r\n};\r\n\r\nscheduler.createTimelineView = function() {\r\n\tthrow new Error(\"scheduler.createTimelineView is not implemented. Be sure to add the required extension: \" + requiredExtensions.timeline + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.timeline);\r\n};\r\n\r\nscheduler.createUnitsView = function() {\r\n\tthrow new Error(\"scheduler.createUnitsView is not implemented. Be sure to add the required extension: \" + requiredExtensions.unit + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.unit);\r\n};\r\n\r\nscheduler.createGridView = function() {\r\n\tthrow new Error(\"scheduler.createGridView is not implemented. Be sure to add the required extension: \" + requiredExtensions.grid + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.grid);\r\n};\r\n\r\nscheduler.addMarkedTimespan = function() {\r\n\tthrow new Error(\"scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js\" + \r\n\t\"\\n\" +\r\n\t\"Related docs: https://docs.dhtmlx.com/scheduler/limits.html\");\r\n};\r\n\r\nscheduler.renderCalendar = function() {\r\n\tthrow new Error(\"scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js\" + \r\n\t\"\\n\" +\r\n\t\"https://docs.dhtmlx.com/scheduler/minicalendar.html\");\r\n};\r\n\r\nscheduler.exportToPNG = function() {\r\n\tthrow new Error([\r\n\t\t\"scheduler.exportToPNG is not implemented.\",\r\n\t\t\"This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html\",\r\n\t\t\"Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml\"\r\n\t].join(\"\\n\"));\r\n};\r\n\r\nscheduler.exportToPDF = function() {\r\n\tthrow new Error([\r\n\t\t\"scheduler.exportToPDF is not implemented.\",\r\n\t\t\"This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html\",\r\n\t\t\"Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml\"\r\n\t].join(\"\\n\"));\r\n};\r\n\r\n\r\n}","import createEventScope from './utils/scoped_event';\r\n\r\nexport default function extend(scheduler) {\r\n\r\n\r\nvar domEvents = createEventScope();\r\n\r\nscheduler.event = domEvents.attach;\r\nscheduler.eventRemove = domEvents.detach;\r\nscheduler._eventRemoveAll = domEvents.detachAll;\r\nscheduler._createDomEventScope = domEvents.extend;\r\n\r\n\r\nscheduler._trim = function(str){\r\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\r\n\treturn func.apply(str);\r\n};\r\n\r\nscheduler._isDate = function(obj){\r\n\tif (obj && typeof obj == \"object\") {\r\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nscheduler._isObject = function(obj){\r\n\treturn (obj && typeof obj == \"object\");\r\n};\r\n\r\n}","import defaultDomEvents from './event';\r\n\r\nexport default function(){\r\n\r\n\tvar domEvents = function (addEvent, removeEvent) {\r\n\t\taddEvent = addEvent || defaultDomEvents.event;\r\n\t\tremoveEvent = removeEvent || defaultDomEvents.eventRemove;\r\n\t\tvar handlers = [];\r\n\t\tvar eventScope = {\r\n\t\t\tattach: function(el, event, callback, capture){\r\n\t\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\r\n\t\t\t\taddEvent(el, event, callback, capture);\r\n\t\t\t},\r\n\t\t\tdetach: function(el, event, callback, capture){\r\n\t\t\t\tremoveEvent(el, event, callback, capture);\r\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\r\n\t\t\t\t\tvar handler = handlers[i];\r\n\t\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\r\n\t\t\t\t\t\thandlers.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdetachAll: function () {\r\n\t\t\t\tvar staticArray = handlers.slice();\r\n\t\t\t\t// original handlers array can be spliced on every iteration\r\n\t\t\t\tfor (var i = 0; i < staticArray.length; i++){\r\n\t\t\t\t\tvar handler = staticArray[i];\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\r\n\t\t\t\t}\r\n\t\t\t\thandlers.splice(0, handlers.length);\r\n\t\t\t},\r\n\t\t\textend: function(){\r\n\t\t\t\treturn domEvents(this.event, this.eventRemove);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn eventScope;\r\n\t};\r\n\t\r\n\treturn domEvents();\r\n}","\r\nimport nav_bar from \"./nav_bar\";\r\nimport scheduler_resize_listener from \"./scheduler_resize_listener\";\r\nimport eventable from \"../utils/eventable\";\r\n\r\n\r\nexport default function extend(scheduler) {\r\n\r\neventable(scheduler);\r\n\r\nnav_bar(scheduler);\r\n\r\nscheduler._detachDomEvent = function(el, event, handler){\r\n\tif (el.removeEventListener){\r\n\t\tel.removeEventListener(event, handler, false);\r\n\r\n\t}else if (el.detachEvent){\r\n\t\tel.detachEvent(\"on\"+event, handler);\r\n\t}\r\n};\r\n\r\n\r\nscheduler._init_once = function(){\r\n\tscheduler_resize_listener(scheduler);\r\n\r\n\tscheduler._init_once = function(){};\r\n};\r\n\r\nconst layout = {\r\n\t\"navbar\": {\r\n\t\trender: function (config) {\r\n\t\t\treturn scheduler._init_nav_bar(config);\r\n\t\t}\r\n\t},\r\n\t\"header\": {\r\n\t\trender: function (config) {\r\n\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\telement.className = \"dhx_cal_header\";\r\n\t\t\treturn element;\r\n\t\t}\r\n\t},\r\n\t\"dataArea\": {\r\n\t\trender: function (config) {\r\n\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\telement.className = \"dhx_cal_data\";\r\n\t\t\treturn element;\r\n\t\t}\r\n\t},\r\n\t\"html_element\": {\r\n\t\trender: function (config) {\r\n\t\t\treturn config.html;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction hasSchedulerMarkup(element){\r\n\treturn !!(\r\n\t\telement.querySelector(\".dhx_cal_header\") &&\r\n\t\telement.querySelector(\".dhx_cal_data\") &&\r\n\t\telement.querySelector(\".dhx_cal_navline\")\r\n\t\t);\r\n}\r\n\r\nfunction createDefaultHeader(scheduler){\r\n\tconst views = [\r\n\t\t\"day\",\r\n\t\t\"week\",\r\n\t\t\"month\"\r\n\t];\r\n\tconst date = [\r\n\t\t\"date\"\r\n\t];\r\n\tconst nav = [\r\n\t\t\"prev\",\r\n\t\t\"today\",\r\n\t\t\"next\"\r\n\t];\r\n\r\n\tif(scheduler.matrix){\r\n\t\tfor(const i in scheduler.matrix){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\tif(scheduler._props){\r\n\t\tfor(const i in scheduler._props){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\r\n\tif(scheduler._grid && scheduler._grid.names){\r\n\t\tfor(const i in scheduler._grid.names){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\r\n\tconst optionalViews = [\r\n\t\t\"map\",\r\n\t\t\"agenda\",\r\n\t\t\"week_agenda\",\r\n\t\t\"year\"\r\n\t];\r\n\r\n\toptionalViews.forEach(function(viewName){\r\n\t\tif(scheduler[viewName + \"_view\"]){\r\n\t\t\tviews.push(viewName);\r\n\t\t}\r\n\t});\r\n\r\n\treturn views.concat(date).concat(nav);\r\n}\r\n\r\nscheduler.init=function(id,date,mode){\r\n\tif(this.$destroyed){\r\n\t\treturn; // not have errors when try to reinit destroyed scheduler\r\n\t}\r\n\tdate=date||(scheduler._currentDate());\r\n\tmode=mode||\"week\";\r\n\r\n\tif(this._obj){\r\n\t\tthis.unset_actions();\r\n\t}\r\n\r\n\tthis._obj=(typeof id == \"string\")?document.getElementById(id):id;\r\n\tthis.$container = this._obj;\r\n\tthis.$root = this._obj;\r\n\r\n\tif(!this.$container.offsetHeight && this.$container.offsetWidth && this.$container.style.height === \"100%\"){\r\n\t\t// scheduler container has zero height and non-zero width\r\n\t\twindow.console.error(scheduler._commonErrorMessages.collapsedContainer(), this.$container);\r\n\t}\r\n\r\n\tif(this.config.wai_aria_attributes && this.config.wai_aria_application_role){\r\n\t\tthis.$container.setAttribute(\"role\", \"application\");\r\n\t}\r\n\r\n\tif(!this.config.header && !hasSchedulerMarkup(this.$container)){\r\n\t\t// if no header config and no required markup - use the default header\r\n\t\t// so the scheduler could be initialized in an empty div\r\n\t\tthis.config.header = createDefaultHeader(this);\r\n\t\twindow.console.log([// jshint ignore:line\r\n\t\t\t\"Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.\",\r\n\t\t\t\"Using a default header configuration: \",\r\n\t\t\t\"scheduler.config.header = \" + JSON.stringify(this.config.header, null, 2),\r\n\t\t\t\"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html\"\r\n\t\t].join(\"\\n\"));// jshint ignore:line\r\n\t}\r\n\r\n\tif (this.config.header) {\r\n\t\tthis.$container.innerHTML = \"\";\r\n\t\tthis.$container.classList.add(\"dhx_cal_container\");\r\n\t\tif(this.config.header.height){\r\n\t\t\tthis.xy.nav_height = this.config.header.height;\r\n\t\t}\r\n\t\tthis.$container.appendChild(layout.navbar.render(this.config.header));\r\n\t\tthis.$container.appendChild(layout.header.render());\r\n\t\tthis.$container.appendChild(layout.dataArea.render());\r\n\t} else {\r\n\t\t// if no header config provided - make sure scheduler container has all necessary elements\r\n\t\tif(!hasSchedulerMarkup(this.$container)){\r\n\t\t\tthrow new Error([\r\n\t\t\t\t\"Required DOM elements are missing from the scheduler container.\",\r\n\t\t\t\t\"Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup\",\r\n\t\t\t\t\"Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig\"\r\n\t\t\t].join(\"\\n\"));\r\n\t\t}\r\n\t}\r\n\r\n\tif (this.config.rtl) this.$container.className += \" dhx_cal_container_rtl\";\r\n\r\n\t//hook for terrace skin\r\n\tif (this._skin_init)\r\n\t\tscheduler._skin_init();\r\n\r\n\tscheduler.date.init();\r\n\r\n\tthis._scroll=true;\r\n\r\n\tthis._els=[];\r\n\tthis.get_elements();\r\n\tthis.init_templates();\r\n\tthis.set_actions();\r\n\r\n\tthis._init_once();\r\n\tthis._init_touch_events();\r\n\r\n\tthis.set_sizes();\r\n\tscheduler.callEvent('onSchedulerReady', []);\r\n\tscheduler.$initialized = true;\r\n\tthis.setCurrentView(date,mode);\r\n\r\n};\r\n\r\nscheduler.xy={\r\n\tmin_event_height:20,\r\n\tbar_height: 24,\r\n\tscale_width:50,\r\n\tscroll_width:18,\r\n\tscale_height:20,\r\n\tmonth_scale_height:20,\r\n\tmenu_width:25,\r\n\tmargin_top:0,\r\n\tmargin_left:0,\r\n\teditor_width:140,\r\n\tmonth_head_height:22,\r\n\tevent_header_height: 14\r\n};\r\nscheduler.keys={\r\n\tedit_save:13,\r\n\tedit_cancel:27\r\n};\r\n\r\nscheduler.bind = function bind(functor, object){\r\n\tif(functor.bind)\r\n\t\treturn functor.bind(object);\r\n\telse\r\n\t\treturn function(){ return functor.apply(object,arguments); };\r\n};\r\n\r\nscheduler.set_sizes=function(){\r\n\r\n\tvar w = this._x = this._obj.clientWidth-this.xy.margin_left;\r\n\r\n\t//not-table mode always has scroll - need to be fixed in future\r\n\tvar scale_x=this._table_view?0:(this.xy.scale_width+this.xy.scroll_width);\r\n\r\n\tvar materialScalePlaceholder = this.$container.querySelector(\".dhx_cal_scale_placeholder\");\r\n\tif(scheduler._is_material_skin()){\r\n\t\tif(!materialScalePlaceholder) {\r\n\t\t\tmaterialScalePlaceholder = document.createElement(\"div\");\r\n\t\t\tmaterialScalePlaceholder.className = \"dhx_cal_scale_placeholder\";\r\n\t\t\tthis.$container.insertBefore(materialScalePlaceholder, this._els[\"dhx_cal_header\"][0]);\r\n\t\t}\r\n\t\tmaterialScalePlaceholder.style.display = \"block\";\r\n\r\n\t\tthis.set_xy(materialScalePlaceholder,w,this.xy.scale_height + 1,0, this._els[\"dhx_cal_header\"][0].offsetTop);\r\n\r\n\t}else{\r\n\t\tif(materialScalePlaceholder){\r\n\t\t\tmaterialScalePlaceholder.parentNode.removeChild(materialScalePlaceholder);\r\n\t\t}\r\n\t}\r\n\r\n\tif (this._lightbox) {\r\n\t\tif (scheduler.$container.offsetWidth  < 1200) {\r\n\t\t} else {\r\n\t\t\tthis._setLbPosition(document.querySelector(\".dhx_cal_light\"));\r\n\t\t}\r\n\t}\r\n\r\n\tthis._data_width = w-scale_x;\r\n\r\n\tthis._els[\"dhx_cal_navline\"][0].style.width = w + \"px\";\r\n\tconst header = this._els[\"dhx_cal_header\"][0];\r\n\tthis.set_xy(header, this._data_width, this.xy.scale_height);\r\n\t// this._els[\"dhx_cal_header\"][0].style.marginLeft = `${scheduler.xy.scale_width}px`;\r\n\theader.style.left = ``;\r\n\theader.style.right = ``;\r\n\tif(!this._table_view){\r\n\t\tif(this.config.rtl){\r\n\t\t\theader.style.right = `${this.xy.scale_width}px`;\r\n\t\t}else{\r\n\t\t\theader.style.left = `${this.xy.scale_width}px`;\r\n\t\t}\r\n\t} else {\r\n\t\tif(!this.config.rtl){\r\n\t\t\theader.style.left = `-1px`;\r\n\t\t} else {\r\n\t\t\theader.style.right = `-1px`;\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.set_xy=function(node,w,h,x,y){\r\n\tfunction prepareValue(val){\r\n\t\tlet prepared = val;\r\n\t\tif(!isNaN(Number(prepared))){\r\n\t\t\tprepared = Math.max(0,prepared) + \"px\";\r\n\t\t}\r\n\t\treturn prepared;\r\n\t}\r\n\r\n\tvar direction = 'left';\r\n\r\n\tif(w !== undefined) {\r\n\t\tnode.style.width = prepareValue(w);\r\n\t}\r\n\r\n\tif(h !== undefined){\r\n\t\tnode.style.height = prepareValue(h);\r\n\t}\r\n\r\n\tif (arguments.length>3){\r\n\r\n\t\tif(x !== undefined){\r\n\t\t\tif (this.config.rtl) direction = 'right';\r\n\t\t\tnode.style[direction]=x+\"px\";\r\n\t\t}\r\n\t\tif(y !== undefined){\r\n\t\t\tnode.style.top=y+\"px\";\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.get_elements=function(){\r\n\t//get all child elements as named hash\r\n\tconst els=this._obj.getElementsByTagName(\"DIV\");\r\n\tfor (let i=0; i < els.length; i++){\r\n\t\tlet class_name= scheduler._getClassName(els[i]);\r\n\t\tconst attr_value = els[i].getAttribute(\"data-tab\") || els[i].getAttribute(\"name\") || \"\";\r\n\t\tif (class_name) class_name = class_name.split(\" \")[0];\r\n\t\tif (!this._els[class_name]) this._els[class_name]=[];\r\n\t\tthis._els[class_name].push(els[i]);\r\n\r\n\t\t//check if name need to be changed\r\n\t\t// scheduler.locale.labels[attr_value+\"_tab\"] - to fix getting labels for data-tab\r\n\t\tlet label = scheduler.locale.labels[attr_value+\"_tab\"] || scheduler.locale.labels[attr_value||class_name];\r\n\t\tif (typeof label !== \"string\" && attr_value && !els[i].innerHTML)\r\n\t\t\tlabel = attr_value.split(\"_\")[0];\r\n\t\tif (label) {\r\n\t\t\tthis._waiAria.labelAttr(els[i], label);\r\n\t\t\tels[i].innerHTML = label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nconst domEventsScope = scheduler._createDomEventScope();\r\n\r\nscheduler.unset_actions = function(){\r\n\tdomEventsScope.detachAll();\r\n};\r\n\r\nscheduler.set_actions=function(){\r\n\tfor (const a in this._els){\r\n\t\tif (this._click[a]){\r\n\t\t\tfor (let i=0; i < this._els[a].length; i++){\r\n\t\t\t\tconst element = this._els[a][i];\r\n\t\t\t\tconst handler = this._click[a].bind(element);\r\n\t\t\t\tdomEventsScope.attach(element, \"click\", handler);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdomEventsScope.attach(this._obj, \"selectstart\", function(e){\r\n\t\te.preventDefault();\r\n\t\treturn false;\r\n\t});\r\n\t//this._obj.onselectstart=function(e){ return false; };\r\n\tdomEventsScope.attach(this._obj, \"mousemove\", function(e){\r\n\t\tif (!scheduler._temp_touch_block)\r\n\t\t\tscheduler._on_mouse_move(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"mousedown\", function(e){\r\n\t\tif (!scheduler._ignore_next_click)\r\n\t\t\tscheduler._on_mouse_down(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"mouseup\", function(e){\r\n\t\tif (!scheduler._ignore_next_click)\r\n\t\t\tscheduler._on_mouse_up(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"dblclick\", function(e){\r\n\t\tscheduler._on_dbl_click(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"contextmenu\", function(event) {\r\n\t\tif(scheduler.checkEvent(\"onContextMenu\")){\r\n\t\t\t// block the default browser context menu \r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\r\n\t\tconst returnValue = scheduler.callEvent(\"onContextMenu\", [scheduler._locate_event(event.target), event]);\r\n\t\treturn returnValue;\r\n\t});\r\n};\r\nscheduler.select=function(id){\r\n\tif (this._select_id==id) return;\r\n\tscheduler._close_not_saved();\r\n\tthis.editStop(false);\r\n\tif(this._select_id){\r\n\t\tthis.unselect();\r\n\t}\r\n\tthis._select_id = id;\r\n\tthis.updateEvent(id);\r\n\tthis.callEvent(\"onEventSelected\", [id]);\r\n};\r\nscheduler.unselect=function(id){\r\n\tif (id && id!=this._select_id) {\r\n\t\treturn;\r\n\t}\r\n\tconst previousSelection = this._select_id;\r\n\tthis._select_id = null;\r\n\tif (previousSelection && this.getEvent(previousSelection)) {\r\n\t\tthis.updateEvent(previousSelection);\r\n\t}\r\n\tthis.callEvent(\"onEventUnselected\", [previousSelection]);\r\n};\r\nscheduler.getState=function(){\r\n\treturn {\r\n\t\tmode: this._mode,\r\n\t\tdate: new Date(this._date),\r\n\t\tmin_date: new Date(this._min_date),\r\n\t\tmax_date: new Date(this._max_date),\r\n\t\teditor_id: this._edit_id,\r\n\t\tlightbox_id: this._lightbox_id,\r\n\t\tnew_event: this._new_event,\r\n\t\tselect_id: this._select_id,\r\n\t\texpanded: this.expanded,\r\n\t\tdrag_id: this._drag_id,\r\n\t\tdrag_mode: this._drag_mode\r\n\t};\r\n};\r\nscheduler._click={\r\n\tdhx_cal_data:function(e){\r\n\t\t//in case of touch disable click processing\r\n\t\tif (scheduler._ignore_next_click){\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\tconst id = scheduler._locate_event(e.target);\r\n\r\n\t\tif (!id) {\r\n\t\t\tscheduler.callEvent(\"onEmptyClick\",[scheduler.getActionData(e).date, e]);\r\n\t\t} else {\r\n\t\t\tif ( !scheduler.callEvent(\"onClick\",[id,e]) || scheduler.config.readonly ) return;\r\n\t\t}\r\n\r\n\t\tif (id && scheduler.config.select) {\r\n\r\n\t\t\tscheduler.select(id);\r\n\t\t\tconst icon = e.target.closest(\".dhx_menu_icon\");\r\n\r\n\t\t\tconst mask = scheduler._getClassName(icon);\r\n\t\t\tif (mask.indexOf(\"_icon\")!=-1)\r\n\t\t\t\tscheduler._click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\r\n\t\t} else{\r\n\t\t\tscheduler._close_not_saved();\r\n\t\t\tif (scheduler.getState().select_id && new Date().valueOf()-(scheduler._new_event||0) > 500){\r\n\t\t\t\tscheduler.unselect();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdhx_cal_prev_button:function(){\r\n\t\tscheduler._click.dhx_cal_next_button(0,-1);\r\n\t},\r\n\tdhx_cal_next_button:function(dummy,step){\r\n\t\tlet def_step = 1;\r\n\t\tif (scheduler.config.rtl){\r\n\t\t\tstep = -step;\r\n\t\t\tdef_step = -def_step;\r\n\t\t}\r\n\t\tscheduler.setCurrentView(scheduler.date.add( //next line changes scheduler._date , but seems it has not side-effects\r\n\t\t\tscheduler.date[scheduler._mode+\"_start\"](new Date(scheduler._date)),(step||def_step),scheduler._mode));\r\n\t},\r\n\tdhx_cal_today_button:function(){\r\n\t\tif (scheduler.callEvent(\"onBeforeTodayDisplayed\", [])) {\r\n\t\t\tscheduler.setCurrentView(scheduler._currentDate());\r\n\t\t}\r\n\t},\r\n\tdhx_cal_tab:function(){\r\n\t\tconst name = this.getAttribute(\"data-tab\");\r\n\t\tconst deprecated_name = this.getAttribute(\"name\");\r\n\t\tconst mode = name || deprecated_name.substring(0, deprecated_name.search(\"_tab\"));\r\n\t\tscheduler.setCurrentView(scheduler._date,mode);\r\n\t},\r\n\tbuttons:{\r\n\t\t\"delete\":function(id){\r\n\t\t\tconst c = scheduler.locale.labels.confirm_deleting;\r\n\t\t\tscheduler._dhtmlx_confirm({message: c, title: scheduler.locale.labels.title_confirm_deleting, callback:function(){ scheduler.deleteEvent(id); },\r\n\t\t\tconfig: {ok: scheduler.locale.labels.icon_delete}\r\n\t\t});\r\n\t\t},\r\n\t\tedit:function(id){ scheduler.edit(id); },\r\n\t\tsave:function(id){ scheduler.editStop(true); },\r\n\t\tdetails:function(id){ scheduler.showLightbox(id); },\r\n\t\tform:function(id){ scheduler.showLightbox(id); },\r\n\t\tcancel:function(id){ scheduler.editStop(false); }\r\n\t}\r\n};\r\nscheduler._dhtmlx_confirm = function({message, title, callback, config}) {\r\n\tif (!message)\r\n\t\treturn callback();\r\n\r\n\tconfig = config || {};\r\n\tconst opts = { ...config, text: message };\r\n\tif (title) {\r\n\t\topts.title = title;\r\n\t}\r\n\tif (callback) {\r\n\t\topts.callback = function(result) {\r\n\t\t\tif (result) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tscheduler.confirm(opts);\r\n};\r\nscheduler.addEventNow=function(start,end,e){\r\n\tlet base = {};\r\n\tif (scheduler._isObject(start) && !scheduler._isDate(start)){\r\n\t\tbase = start;\r\n\t\tstart = null;\r\n\t}\r\n\r\n\tconst duration = (this.config.event_duration||this.config.time_step)*60000;\r\n\tif (!start) start = base.start_date||Math.round((scheduler._currentDate()).valueOf()/duration)*duration;\r\n\tlet start_date = new Date(start);\r\n\tif (!end){\r\n\t\tlet start_hour = this.config.first_hour;\r\n\t\tif (start_hour > start_date.getHours()){\r\n\t\t\tstart_date.setHours(start_hour);\r\n\t\t\tstart = start_date.valueOf();\r\n\t\t}\r\n\t\tend = start.valueOf()+duration;\r\n\t}\r\n\tlet end_date = new Date(end);\r\n\r\n\t// scheduler.addEventNow(new Date(), new Date()) + collision though get_visible events defect (such event was not retrieved)\r\n\tif(start_date.valueOf() == end_date.valueOf())\r\n\t\tend_date.setTime(end_date.valueOf()+duration);\r\n\tbase.start_date = base.start_date||start_date;\r\n\tbase.end_date =  base.end_date||end_date;\r\n\tbase.text = base.text||this.locale.labels.new_event;\r\n\tbase.id = this._drag_id = base.id || this.uid();\r\n\tthis._drag_mode=\"new-size\";\r\n\tthis._loading=true;\r\n\tconst eventId = this.addEvent(base);\r\n\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\tthis._loading=false;\r\n\r\n\tthis._drag_event={}; //dummy , to trigger correct event updating logic\r\n\tthis._on_mouse_up(e);\r\n\treturn eventId;\r\n};\r\nscheduler._on_dbl_click=function(e,src){\r\n\tsrc = src || e.target;\r\n\tif (this.config.readonly) return;\r\n\tconst name = scheduler._getClassName(src).split(\" \")[0];\r\n\tswitch(name){\r\n\t\tcase \"dhx_scale_holder\":\r\n\t\tcase \"dhx_scale_holder_now\":\r\n\t\tcase \"dhx_month_body\":\r\n\t\tcase \"dhx_wa_day_data\":\r\n\t\t\tif (!scheduler.config.dblclick_create) break;\r\n\t\t\tthis.addEventNow(this.getActionData(e).date,null,e);\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_cal_event\":\r\n\t\tcase \"dhx_wa_ev_body\":\r\n\t\tcase \"dhx_agenda_line\":\r\n\t\tcase \"dhx_cal_agenda_event_line\":\r\n\t\tcase \"dhx_grid_event\":\r\n\t\tcase \"dhx_cal_event_line\":\r\n\t\tcase \"dhx_cal_event_clear\": {\r\n\t\t\tconst id = this._locate_event(src);\r\n\t\t\tif (!this.callEvent(\"onDblClick\",[id,e])) return;\r\n\t\t\tif (this.config.details_on_dblclick || this._table_view || !this.getEvent(id)._timed || !this.config.select)\r\n\t\t\t\tthis.showLightbox(id);\r\n\t\t\telse\r\n\t\t\t\tthis.edit(id);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase \"dhx_time_block\":\r\n\t\tcase \"dhx_cal_container\":\r\n\t\t\treturn;\r\n\t\tdefault: {\r\n\t\t\tconst viewHandler = this[\"dblclick_\"+name];\r\n\t\t\tif (viewHandler) {\r\n\t\t\t\tviewHandler.call(this,e);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (src.parentNode && src != this)\r\n\t\t\t\t\treturn scheduler._on_dbl_click(e,src.parentNode);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n//column index by mouse x-coordinate\r\nscheduler._get_column_index = function(x_pos){\r\n\tlet column = 0;\r\n\tif (this._cols){\r\n\t\tlet width = 0;\r\n\t\tlet i = 0;\r\n\t\twhile (width + this._cols[i] < x_pos && i < this._cols.length){\r\n\t\t\twidth += this._cols[i];\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tcolumn = i + (this._cols[i] ? ((x_pos - width)/ this._cols[i]) : 0);\r\n\r\n\t\tif (this._ignores){\r\n\t\t\tif(column >= this._cols.length){\r\n\t\t\t\twhile(column >= 1 && this._ignores[Math.floor(column)]){\r\n\t\t\t\t\tcolumn--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\treturn column;\r\n};\r\n\r\n//transform mouse coordinates to day-time indexes of week based view\r\nscheduler._week_indexes_from_pos = function(pos){\r\n\t//\"get position\" can be invoked before columns are loaded into the units view(e.g. by onMouseMove handler in key_nav.js)\r\n\tif(!this._cols){\r\n\t\treturn pos;\r\n\t}else{\r\n\t\tconst column = this._get_column_index(pos.x);\r\n\r\n\t\tpos.x=Math.min(this._cols.length-1, Math.max(0,Math.ceil(column)-1));\r\n\t\tpos.y=Math.max(0,Math.ceil(pos.y*60/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step);\r\n\t\treturn pos;\r\n\t}\r\n};\r\n\r\nscheduler._mouse_coords=function(ev){\r\n\tlet pos;\r\n\tconst body = document.body;\r\n\tconst documentElement = document.documentElement;\r\n\tif (!this.$env.isIE && (ev.pageX || ev.pageY))\r\n\t\tpos={x:ev.pageX, y:ev.pageY};\r\n\telse pos={\r\n\t\tx:ev.clientX + (body.scrollLeft||documentElement.scrollLeft||0) - body.clientLeft,\r\n\t\ty:ev.clientY + (body.scrollTop||documentElement.scrollTop||0) - body.clientTop\r\n\t};\r\n\t//apply layout\r\n\tif (this.config.rtl && this._colsS) {\r\n\t\tpos.x = this.$container.querySelector(\".dhx_cal_data\").offsetWidth - pos.x;\r\n\t\tpos.x += this.$domHelpers.getAbsoluteLeft(this._obj);\r\n\t\tif (this._mode !== \"month\") {\r\n\t\t\tpos.x -= this.xy.scale_width;\r\n\t\t}\r\n\t} else {\r\n\t\tpos.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);\r\n\t}\r\n\r\n\tconst dataArea = this.$container.querySelector(\".dhx_cal_data\");\r\n\t//pos.y-=this.$domHelpers.getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els[\"dhx_cal_data\"][0].scrollTop;\r\n\tpos.y-=this.$domHelpers.getAbsoluteTop(dataArea)-this._els[\"dhx_cal_data\"][0].scrollTop;\r\n\tpos.ev = ev;\r\n\tconst handler = this[\"mouse_\"+this._mode];\r\n\tif (handler){\r\n\t\tpos = handler.call(this,pos);\r\n\t}else{\r\n\t\t//transform to date\r\n\t\tif (!this._table_view) {\r\n\t\t\tpos = this._week_indexes_from_pos(pos);\r\n\t\t} else {\r\n\t\t\tconst column = this._get_column_index(pos.x);\r\n\t\t\tif (!this._cols || !this._colsS) // agenda/map views\r\n\t\t\t\treturn pos;\r\n\t\t\tlet dy=0;\r\n\t\t\tfor (dy=1; dy < this._colsS.heights.length; dy++)\r\n\t\t\t\tif (this._colsS.heights[dy]>pos.y) break;\r\n\r\n\t\t\tpos.y=Math.ceil( (Math.max(0, column)+Math.max(0,dy-1)*7)*24*60/this.config.time_step );\r\n\r\n\t\t\tif (scheduler._drag_mode || this._mode == \"month\")\r\n\t\t\t\tpos.y=(Math.max(0,Math.ceil(column)-1)+Math.max(0,dy-1)*7)*24*60/this.config.time_step;\r\n\r\n\t\t\t//we care about ignored days only during event moving in month view\r\n\t\t\tif (this._drag_mode == \"move\"){\r\n\t\t\t\tif (scheduler._ignores_detected && scheduler.config.preserve_length){\r\n\t\t\t\t\tpos._ignores = true;\r\n\t\t\t\t\t//get real lengtn of event\r\n\t\t\t\t\tif (!this._drag_event._event_length)\r\n\t\t\t\t\t\tthis._drag_event._event_length = this._get_real_event_length(this._drag_event.start_date, this._drag_event.end_date, { x_step:1, x_unit:\"day\"});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpos.x=0;\r\n\t\t}\r\n\t}\r\n\tpos.timestamp = +new Date();\r\n\treturn pos;\r\n};\r\nscheduler._close_not_saved=function(){\r\n\tif (new Date().valueOf()-(scheduler._new_event||0) > 500 && scheduler._edit_id){\r\n\t\tconst confirmationText=scheduler.locale.labels.confirm_closing;\r\n\r\n\t\tscheduler._dhtmlx_confirm({\r\n\t\t\tmessage: confirmationText, \r\n\t\t\ttitle: scheduler.locale.labels.title_confirm_closing, \r\n\t\t\tcallback: function() { \r\n\t\t\t\tscheduler.editStop(scheduler.config.positive_closing);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(confirmationText){\r\n\t\t\tthis._drag_id = this._drag_pos = this._drag_mode = null;\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._correct_shift=function(start, back){\r\n\treturn start-=((new Date(scheduler._min_date)).getTimezoneOffset()-(new Date(start)).getTimezoneOffset())*60000*(back?-1:1);\r\n};\r\n\r\nscheduler._is_pos_changed = function(old_pos, new_pos){\r\n\tfunction diff(old_val, new_val, acc){\r\n\t\treturn !!(Math.abs(old_val - new_val) > acc);\r\n\t}\r\n\r\n\tif(!(old_pos && this._drag_pos)){\r\n\t\treturn true;\r\n\t}\r\n\tconst delay = 100;\r\n\tconst d_pos = 5;\r\n\r\n\t// start drag only if passed some time since mouse down, or if mouse position changed sufficiently\r\n\treturn !!(this._drag_pos.has_moved || !this._drag_pos.timestamp || (new_pos.timestamp - this._drag_pos.timestamp > delay) || diff(old_pos.ev.clientX, new_pos.ev.clientX, d_pos) || diff(old_pos.ev.clientY, new_pos.ev.clientY, d_pos));\r\n};\r\n\r\nscheduler._correct_drag_start_date = function(start){\r\n\tlet obj;\r\n\tif (scheduler.matrix)\r\n\t\tobj = scheduler.matrix[scheduler._mode];\r\n\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\tstart = new Date(start);\r\n\tlet len = 1;\r\n\tif(obj._start_correction || obj._end_correction)\r\n\t\tlen = (obj.last_hour||0)*60 - (start.getHours()*60+start.getMinutes()) || 1;\r\n\r\n\treturn start*1 + (scheduler._get_fictional_event_length(start, len, obj)  - len);\r\n};\r\nscheduler._correct_drag_end_date = function(start, duration){\r\n\tlet obj;\r\n\tif (scheduler.matrix) {\r\n\t\tobj = scheduler.matrix[scheduler._mode];\r\n\t}\r\n\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\tconst end = start*1 + scheduler._get_fictional_event_length(start, duration, obj);\r\n\treturn new Date(end*1 - (scheduler._get_fictional_event_length(end, -1, obj, -1) + 1));\r\n};\r\n\r\nscheduler._on_mouse_move=function(e){\r\n\tif (this._drag_mode){\r\n\t\tvar pos=this._mouse_coords(e);\r\n\t\tif (this._is_pos_changed(this._drag_pos, pos)){\r\n\t\t\tvar start, end;\r\n\t\t\tif (this._edit_id!=this._drag_id)\r\n\t\t\t\tthis._close_not_saved();\r\n\r\n\t\t\tif(!this._drag_mode)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar mousedownPos = null;\r\n\t\t\tif(this._drag_pos && !this._drag_pos.has_moved){\r\n\t\t\t\tmousedownPos = this._drag_pos;\r\n\t\t\t\tmousedownPos.has_moved = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis._drag_pos = pos;\r\n\r\n\t\t\tthis._drag_pos.has_moved = true;\r\n\r\n\t\t\tif (this._drag_mode==\"create\"){\r\n\r\n\t\t\t\t// use mouse down position as a starting point for drag-create\r\n\t\t\t\tif(mousedownPos){\r\n\t\t\t\t\tpos = mousedownPos;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._close_not_saved();\r\n\t\t\t\tthis.unselect(this._select_id);\r\n\t\t\t\tthis._loading=true; //will be ignored by dataprocessor\r\n\r\n\t\t\t\tstart = this._get_date_from_pos(pos).valueOf();\r\n\r\n\t\t\t\tif (!this._drag_start) {\r\n\t\t\t\t\tvar res = this.callEvent(\"onBeforeEventCreated\", [e, this._drag_id]);\r\n\t\t\t\t\tif (!res){\r\n\t\t\t\t\t\tthis._loading=false;\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._loading=false;\r\n\t\t\t\t\tthis._drag_start=start;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tend = start;\r\n\t\t\t\tif (end == this._drag_start) {\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar start_date = new Date(this._drag_start);\r\n\t\t\t\tvar end_date = new Date(end);\r\n\t\t\t\tif ( (this._mode == \"day\" || this._mode == \"week\") &&\r\n\t\t\t\t\t(start_date.getHours() == end_date.getHours() &&\r\n\t\t\t\t\tstart_date.getMinutes() == end_date.getMinutes()) ) {\r\n\t\t\t\t\t\tend_date = new Date(this._drag_start+1000);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis._drag_id=this.uid();\r\n\t\t\t\tthis.addEvent(start_date, end_date, this.locale.labels.new_event, this._drag_id, pos.fields);\r\n\r\n\t\t\t\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\t\t\t\tthis._loading=false;\r\n\t\t\t\tthis._drag_mode=\"new-size\";\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar timeStep = this.config.time_step;\r\n\t\t\tvar ev=this.getEvent(this._drag_id);\r\n\t\t\tvar obj;\r\n\t\t\tif (scheduler.matrix)\r\n\t\t\t\tobj = scheduler.matrix[scheduler._mode];\r\n\t\t\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\t\t\tif (this._drag_mode==\"move\"){\r\n\t\t\t\tstart = this._min_date.valueOf()+(pos.y*this.config.time_step+pos.x*24*60)*60000;\r\n\t\t\t\tif (!pos.custom && this._table_view) {\r\n\t\t\t\t\tstart += this.date.time_part(ev.start_date) * 1000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this._table_view && this._dragEventBody && this._drag_event._move_event_shift === undefined) {\r\n\t\t\t\t\tthis._drag_event._move_event_shift = start - ev.start_date;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this._drag_event._move_event_shift) {\r\n\t\t\t\t\tstart -= this._drag_event._move_event_shift;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstart = this._correct_shift(start);\r\n\r\n\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view && obj){\r\n\r\n\t\t\t\t\tstart = scheduler._correct_drag_start_date(start);\r\n\t\t\t\t\tend = scheduler._correct_drag_end_date(start,this._drag_event._event_length);\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t\tend = ev.end_date.valueOf()-(ev.start_date.valueOf()-start);\r\n\t\t\t} else { // resize\r\n\t\t\t\tstart = ev.start_date.valueOf();\r\n\t\t\t\tend = ev.end_date.valueOf();\r\n\t\t\t\tif (this._table_view) {\r\n\t\t\t\t\tvar resize_date = this._min_date.valueOf()+pos.y*this.config.time_step*60000 + (pos.custom?0:24*60*60000);\r\n\t\t\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\t\t\tresize_date = this._correct_shift(resize_date, false);\r\n\t\t\t\t\t\tif( this._drag_from_start ) {\r\n\t\t\t\t\t\t\tvar day = 24*60*60000;\r\n\t\t\t\t\t\t\tif( resize_date <= scheduler.date.date_part(new Date(end+day-1)).valueOf() ) // to get end time as 23:59:59 and then the day start\r\n\t\t\t\t\t\t\t\tstart = resize_date - day;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = resize_date;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(this.config.preserve_length) {\r\n\t\t\t\t\t\t\tif (pos.resize_from_start) {\r\n\t\t\t\t\t\t\t\tstart = scheduler._correct_drag_start_date(resize_date);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = scheduler._correct_drag_end_date(resize_date, 0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif (pos.resize_from_start) {\r\n\t\t\t\t\t\t\t\tstart = resize_date;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = resize_date;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar end_day_start = this.date.date_part(new Date(ev.end_date.valueOf() - 1)).valueOf();\r\n\t\t\t\t\tvar end_day_date = new Date(end_day_start);\r\n\t\t\t\t\tvar firstHour = this.config.first_hour;\r\n\t\t\t\t\tvar lastHour = this.config.last_hour;\r\n\t\t\t\t\tvar maxY = (lastHour - firstHour) * (60/timeStep);\r\n\r\n\t\t\t\t\tthis.config.time_step = 1;\r\n\t\t\t\t\tvar precisePos = this._mouse_coords(e);\r\n\t\t\t\t\tthis.config.time_step = timeStep;\r\n\r\n\t\t\t\t\tvar minDate = pos.y*timeStep*60000;\r\n\t\t\t\t\tvar maxDate = Math.min(pos.y + 1, maxY)*timeStep*60000;\r\n\t\t\t\t\tvar preciseDate = precisePos.y*60000;\r\n\r\n\t\t\t\t\t// rounding end date to the closest time step\r\n\t\t\t\t\tif(Math.abs(minDate - preciseDate) > Math.abs(maxDate - preciseDate)){\r\n\t\t\t\t\t\tend = end_day_start + maxDate;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tend = end_day_start + minDate;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = end + ((new Date(end)).getTimezoneOffset() - end_day_date.getTimezoneOffset()) * 60000;\r\n\t\t\t\t\tthis._els[\"dhx_cal_data\"][0].style.cursor=\"s-resize\";\r\n\t\t\t\t\tif (this._mode == \"week\" || this._mode == \"day\")\r\n\t\t\t\t\t\tend = this._correct_shift(end);\r\n\t\t\t\t}\r\n\t\t\t\tif (this._drag_mode == \"new-size\") {\r\n\t\t\t\t\tif (end <= this._drag_start){\r\n\t\t\t\t\t\tvar shift = pos.shift||((this._table_view && !pos.custom)?24*60*60000:0);\r\n\t\t\t\t\t\tstart = end-(pos.shift?0:shift);\r\n\t\t\t\t\t\tend = this._drag_start+(shift||(timeStep*60000));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstart = this._drag_start;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (end<=start)\r\n\t\t\t\t\t\tend=start+timeStep*60000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar new_end = new Date(end-1);\r\n\t\t\tvar new_start = new Date(start);\r\n\t\t\t//deny drag out of visible scheduler scale in timeline view\r\n\t\t\tif(this._drag_mode==\"move\" && scheduler.config.limit_drag_out &&\r\n\t\t\t\t(+new_start < +scheduler._min_date || +end > +scheduler._max_date)){\r\n\r\n\t\t\t\tif(+ev.start_date < +scheduler._min_date || +ev.end_date > +scheduler._max_date){\r\n\t\t\t\t\t// not move event if it's already outside time scale\r\n\t\t\t\t\tnew_start = new Date(ev.start_date);\r\n\t\t\t\t\tend = new Date(ev.end_date);\r\n\t\t\t\t}else{\r\n\r\n\t\t\t\t\tvar duration = end - new_start;\r\n\r\n\t\t\t\t\tif(+new_start < +scheduler._min_date){\r\n\t\t\t\t\t\tnew_start = new Date(scheduler._min_date);\r\n\t\t\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view){\r\n\t\t\t\t\t\t\tnew_start = new Date(scheduler._correct_drag_start_date(new_start));\r\n\t\t\t\t\t\t\tif(obj._start_correction)\r\n\t\t\t\t\t\t\t\tnew_start = new Date(new_start.valueOf() + obj._start_correction);\r\n\t\t\t\t\t\t\tend = new Date(new_start*1 + this._get_fictional_event_length(new_start, this._drag_event._event_length, obj));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tend = new Date(+new_start + duration);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tend = new Date(scheduler._max_date);\r\n\r\n\t\t\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view){\r\n\t\t\t\t\t\t\tif(obj._end_correction)\r\n\t\t\t\t\t\t\t\tend = new Date(end.valueOf() - obj._end_correction);\r\n\t\t\t\t\t\t\tend = new Date(end*1 - this._get_fictional_event_length(end, 0, obj, true));\r\n\t\t\t\t\t\t\tnew_start = new Date(end*1 - this._get_fictional_event_length(end, this._drag_event._event_length, obj, true));\r\n\t\t\t\t\t\t\tif(this._ignores_detected){\r\n\t\t\t\t\t\t\t\tnew_start = scheduler.date.add(new_start, obj.x_step, obj.x_unit);\r\n\t\t\t\t\t\t\t\tend = new Date(end*1 - this._get_fictional_event_length(end, 0, obj, true));\r\n\t\t\t\t\t\t\t\tend = scheduler.date.add(end, obj.x_step, obj.x_unit);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnew_start = new Date(+end - duration);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tvar new_end = new Date(end-1);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// fix event dates when resized to bottom of the column (day/week views)\r\n\t\t\tif(!this._table_view && this._dragEventBody &&\r\n\t\t\t\t!scheduler.config.all_timed &&\r\n\t\t\t\t((!scheduler._get_section_view() && pos.x != this._get_event_sday({start_date: new Date(start), end_date:new Date(start)})) || new Date(start).getHours() < this.config.first_hour)){\r\n\t\t\t\tvar duration = end - new_start;\r\n\t\t\t\tif (this._drag_mode == \"move\") {\r\n\t\t\t\t\tvar day = this._min_date.valueOf() + (pos.x * 24 * 60) * 60000;\r\n\t\t\t\t\tnew_start = new Date(day);\r\n\t\t\t\t\tnew_start.setHours(this.config.first_hour);\r\n\t\t\t\t\tend = new Date(new_start.valueOf() + duration);\r\n\t\t\t\t\tnew_end = new Date(end-1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// fix event dates when resized to bottom of the column (day/week views)\r\n\t\t\tif(!this._table_view &&\r\n\t\t\t\t!scheduler.config.all_timed &&\r\n\t\t\t\t((!scheduler.getView() && pos.x != this._get_event_sday({start_date: new Date(end), end_date:new Date(end)})) || new Date(end).getHours() >= this.config.last_hour)){\r\n\t\t\t\tvar duration = end - new_start;\r\n\t\t\t\tvar day = this._min_date.valueOf()+(pos.x*24*60)*60000;\r\n\t\t\t\tend = scheduler.date.date_part(new Date(day));\r\n\t\t\t\tend.setHours(this.config.last_hour);\r\n\t\t\t\tnew_end = new Date(end-1);\r\n\t\t\t\tif(this._drag_mode == \"move\"){\r\n\t\t\t\t\tnew_start = new Date(+end - duration);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//prevent out-of-borders situation for day|week view\r\n\t\t\tif ( this._table_view || (new_end.getDate()==new_start.getDate() && new_end.getHours()<this.config.last_hour) || scheduler._allow_dnd ){\r\n\t\t\t\tev.start_date=new_start;\r\n\t\t\t\tev.end_date=new Date(end);\r\n\t\t\t\tif (this.config.update_render){\r\n\t\t\t\t\t//fix for repaint after dnd and scroll issue, #231\r\n\t\t\t\t\tvar sx = scheduler._els[\"dhx_cal_data\"][0].scrollTop;\r\n\t\t\t\t\tthis.update_view();\r\n\t\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = sx;\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.updateEvent(this._drag_id);\r\n\t\t\t}\r\n\t\t\tif (this._table_view) {\r\n\t\t\t\tthis.for_rendered(this._drag_id,function(r){\r\n\t\t\t\t\tr.className+=\" dhx_in_move dhx_cal_event_drag\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.callEvent(\"onEventDrag\", [this._drag_id, this._drag_mode, e]);\r\n\t\t}\r\n\t}  else {\r\n\t\tif (scheduler.checkEvent(\"onMouseMove\")){\r\n\t\t\tvar id = this._locate_event(e.target||e.srcElement);\r\n\t\t\tthis.callEvent(\"onMouseMove\",[id,e]);\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._on_mouse_down=function(e,src) {\r\n\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\r\n\t// let's ignore right mouse button then\r\n\tif (e.button == 2)\r\n\t\treturn;\r\n\r\n\tif (this.config.readonly || this._drag_mode) return;\r\n\tsrc = src||(e.target||e.srcElement);\r\n\tvar classname = scheduler._getClassName(src).split(\" \")[0];\r\n\r\n\tif (this.config.drag_event_body && classname == \"dhx_body\") {\r\n\t\tif(src.parentNode && src.parentNode.className.indexOf(\"dhx_cal_select_menu\") === -1){\r\n\t\t\tclassname = \"dhx_event_move\";\r\n\t\t\tthis._dragEventBody = true;\r\n\t\t}\r\n\t}\r\n\r\n\tswitch (classname) {\r\n\t\tcase \"dhx_cal_event_line\":\r\n\t\tcase \"dhx_cal_event_clear\":\r\n\t\t\tif (this._table_view)\r\n\t\t\t\tthis._drag_mode=\"move\"; //item in table mode\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_event_move\":\r\n\t\tcase \"dhx_wa_ev_body\":\r\n\t\t\tthis._drag_mode=\"move\";\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_event_resize\":\r\n\t\t\tthis._drag_mode=\"resize\";\r\n\t\t\tvar fullClass = scheduler._getClassName(src);\r\n\t\t\tif((fullClass).indexOf(\"dhx_event_resize_end\") < 0){\r\n\t\t\t\tscheduler._drag_from_start = true;\r\n\t\t\t}else{\r\n\t\t\t\tscheduler._drag_from_start = false;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_scale_holder\":\r\n\t\tcase \"dhx_scale_holder_now\":\r\n\t\tcase \"dhx_month_body\":\r\n\t\tcase \"dhx_matrix_cell\":\r\n\t\tcase \"dhx_marked_timespan\":\r\n\t\t\tthis._drag_mode=\"create\";\r\n\t\t\tbreak;\r\n\t\tcase \"\":\r\n\t\t\tif (src.parentNode)\r\n\t\t\t\treturn scheduler._on_mouse_down(e,src.parentNode);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (!scheduler.checkEvent(\"onMouseDown\") || scheduler.callEvent(\"onMouseDown\", [classname, e])) {\r\n\t\t\t\tif (src.parentNode && src != this && classname != \"dhx_body\") {\r\n\t\t\t\t\treturn scheduler._on_mouse_down(e,src.parentNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._drag_mode=null;\r\n\t\t\tthis._drag_id=null;\r\n\t\t\tbreak;\r\n\t}\r\n\tif (this._drag_mode){\r\n\t\tvar id = this._locate_event(src);\r\n\t\tif (!this.config[\"drag_\"+this._drag_mode] || !this.callEvent(\"onBeforeDrag\",[id, this._drag_mode, e]))\r\n\t\t\tthis._drag_mode=this._drag_id=0;\r\n\t\telse {\r\n\t\t\tthis._drag_id= id;\r\n\r\n\t\t\tif (this._edit_id!=this._drag_id || (this._edit_id && this._drag_mode == \"create\"))\r\n\t\t\t\tthis._close_not_saved();\r\n\t\t\tif(!this._drag_mode)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis._drag_event = scheduler._lame_clone(this.getEvent(this._drag_id) || {});\r\n\t\t\tthis._drag_pos = this._mouse_coords(e);\r\n\t\t}\r\n\t}\r\n\tthis._drag_start=null;\r\n};\r\n\r\n\r\nscheduler._get_private_properties = function(event){\r\n\tvar fields = {};\r\n\tfor(var i in event){\r\n\t\tif(i.indexOf(\"_\") === 0){\r\n\t\t\tfields[i] = true;\r\n\t\t}\r\n\t}\r\n\treturn fields;\r\n};\r\nscheduler._clear_temporary_properties = function(clean, flagged_event){\r\n\tvar initial = this._get_private_properties(clean);\r\n\tvar current_state = this._get_private_properties(flagged_event);\r\n\tfor(var i in current_state){\r\n\t\tif(!initial[i]){\r\n\t\t\tdelete flagged_event[i];\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nscheduler._on_mouse_up=function(e){\r\n\tif (e && e.button == 2 && this._mobile) return;\r\n\tif (this._drag_mode && this._drag_id){\r\n\t\tthis._els[\"dhx_cal_data\"][0].style.cursor=\"default\";\r\n\t\t//drop\r\n\r\n\t\tvar drag_id = this._drag_id;\r\n\t\tvar mode = this._drag_mode;\r\n\r\n\t\tvar moved = !this._drag_pos || this._drag_pos.has_moved;\r\n\t\tdelete this._drag_event._move_event_shift;\r\n\r\n\t\tvar ev=this.getEvent(this._drag_id);\r\n\t\tif (moved && (this._drag_event._dhx_changed || !this._drag_event.start_date || ev.start_date.valueOf()!=this._drag_event.start_date.valueOf() || ev.end_date.valueOf()!=this._drag_event.end_date.valueOf())){\r\n\t\t\tvar is_new=(this._drag_mode==\"new-size\");\r\n\t\t\tif (!this.callEvent(\"onBeforeEventChanged\",[ev, e, is_new, this._drag_event])){\r\n\t\t\t\tif (is_new)\r\n\t\t\t\t\tthis.deleteEvent(ev.id, true);\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._drag_event._dhx_changed = false;\r\n\t\t\t\t\tthis._clear_temporary_properties(ev, this._drag_event);\r\n\t\t\t\t\tscheduler._lame_copy(ev, this._drag_event);\r\n\t\t\t\t\tthis.updateEvent(ev.id);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._drag_id = this._drag_mode = null;\r\n\t\t\t\tif (is_new && this.config.edit_on_create){\r\n\t\t\t\t\tthis.unselect();\r\n\t\t\t\t\tthis._new_event=new Date();//timestamp of creation\r\n\t\t\t\t\t//if selection disabled - force lightbox usage\r\n\t\t\t\t\tif (this._table_view || this.config.details_on_create || !this.config.select || !this.isOneDayEvent(this.getEvent(drag_id))) {\r\n\t\t\t\t\t\tscheduler.callEvent(\"onDragEnd\", [drag_id, mode, e]);\r\n\t\t\t\t\t\treturn this.showLightbox(drag_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._drag_pos = true; //set flag to trigger full redraw\r\n\t\t\t\t\tthis._select_id = this._edit_id = drag_id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this._new_event)\r\n\t\t\t\t\t\tthis.callEvent(is_new?\"onEventAdded\":\"onEventChanged\",[drag_id,this.getEvent(drag_id)]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._drag_pos && (this._drag_pos.has_moved || this._drag_pos === true)) {\r\n\t\t\tthis._drag_id = this._drag_mode = null; // set null to prevent _sorder recalculation for drag event\r\n\t\t\tthis.render_view_data(); //redraw even if there is no real changes - necessary for correct positioning item after drag\r\n\t\t}\r\n\t\tscheduler.callEvent(\"onDragEnd\", [drag_id, mode, e]);\r\n\t}\r\n\tthis._drag_id = null;\r\n\tthis._drag_mode=null;\r\n\tthis._drag_pos=null;\r\n\tthis._drag_event = null;\r\n\tthis._drag_from_start = null;\r\n};\r\n\r\nscheduler._trigger_dyn_loading = function(){\r\n\tif (this._load_mode && this._load()){\r\n\t\tthis._render_wait = true;\r\n\t\treturn true;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.update_view=function(){\r\n\tthis._reset_ignores();\r\n\tthis._update_nav_bar(\r\n\t\tthis.config.header,\r\n\t\tthis.$container.querySelector(\".dhx_cal_navline\"));\r\n\r\n\tvar view = this[this._mode + \"_view\"];\r\n\tif(view){\r\n\t\tview.call(this, true);\r\n\t}else{\r\n\t\tthis._reset_scale();\r\n\t}\r\n\r\n\tif (this._trigger_dyn_loading()){\r\n\t\treturn true;\r\n\t}\r\n\tthis.render_view_data();\r\n};\r\n\r\nscheduler.isViewExists = function(mode){\r\n\treturn !!(scheduler[mode+ \"_view\"] ||\r\n\t\t(scheduler.date[mode+ \"_start\"] && scheduler.templates[mode+ \"_date\"] && scheduler.templates[mode+ \"_scale_date\"]));\r\n};\r\n\r\nscheduler._set_aria_buttons_attrs = function(){\r\n\tvar buttonGroups = [\"dhx_cal_next_button\", \"dhx_cal_prev_button\", \"dhx_cal_tab\", \"dhx_cal_today_button\"];\r\n\tfor(var i = 0; i < buttonGroups.length; i++){\r\n\t\tvar group = this._els[buttonGroups[i]];\r\n\t\tfor(var j = 0; group && j < group.length; j++ ){\r\n\t\t\tvar name = group[j].getAttribute(\"data-tab\") || group[j].getAttribute(\"name\");\r\n\t\t\tvar label = this.locale.labels[buttonGroups[i]];\r\n\t\t\tif(name){\r\n\t\t\t\tlabel = this.locale.labels[name + \"_tab\"] || this.locale.labels[name] || label;\r\n\t\t\t}\r\n\t\t\tif(buttonGroups[i] == \"dhx_cal_next_button\"){\r\n\t\t\t\tlabel = this.locale.labels.next;\r\n\t\t\t}else if(buttonGroups[i] == \"dhx_cal_prev_button\"){\r\n\t\t\t\tlabel = this.locale.labels.prev;\r\n\t\t\t}\r\n\t\t\tthis._waiAria.headerButtonsAttributes(group[j], label || \"\");\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.updateView = function(date, mode) {\r\n\r\n\tif (!this.$container) {\r\n\t\tthrow new Error(\"The scheduler is not initialized. \\n **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**\");\r\n\t}\r\n\r\n\tdate = date || this._date;\r\n\tmode = mode || this._mode;\r\n\tvar dhx_cal_data = 'dhx_cal_data';\r\n\r\n\tif(!this.locale.labels.icon_form){\r\n\t\tthis.locale.labels.icon_form = this.locale.labels.icon_edit;\r\n\t}\r\n\r\n\tvar container = this._obj;\r\n\tvar oldClass = \"dhx_scheduler_\" + this._mode;\r\n\tvar newClass = \"dhx_scheduler_\" + mode;\r\n\r\n\tif (!this._mode || (container.className.indexOf(oldClass) == -1)){\r\n\t\tcontainer.className += \" \" + newClass;\r\n\t} else {\r\n\t\tcontainer.className = container.className.replace(oldClass, newClass);\r\n\t}\r\n\r\n\tvar dhx_multi_day = 'dhx_multi_day';\r\n\r\n\tvar prev_scroll = (this._mode == mode && this.config.preserve_scroll) ? this._els[dhx_cal_data][0].scrollTop : false; // saving current scroll\r\n\r\n\tvar multidayScroll;\r\n\tif(this._els[dhx_multi_day] && this._els[dhx_multi_day][0]){\r\n\t\tmultidayScroll = this._els[dhx_multi_day][0].scrollTop;\r\n\t}\r\n\r\n\t//hide old custom view\r\n\tif (this[this._mode + \"_view\"] && mode && this._mode != mode)\r\n\t\tthis[this._mode + \"_view\"](false);\r\n\r\n\tthis._close_not_saved();\r\n\r\n\tif (this._els[dhx_multi_day]) {\r\n\t\tthis._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);\r\n\t\tthis._els[dhx_multi_day] = null;\r\n\t}\r\n\r\n\tthis._mode = mode;\r\n\tthis._date = date;\r\n\tthis._table_view = (this._mode == \"month\");\r\n\r\n\tthis._dy_shift = 0;//correction for multiday section in week/day views\r\n\r\n\t//show new view\r\n\tthis.update_view();\r\n\r\n\tthis._set_aria_buttons_attrs();\r\n\r\n\tvar tabs = this._els[\"dhx_cal_tab\"];\r\n\tif(tabs){//calendar can work without view tabs\r\n\t\tfor (var i = 0; i < tabs.length; i++) {\r\n\t\t\tvar tab = tabs[i];\r\n\r\n\t\t\tif (tab.getAttribute(\"data-tab\") == this._mode || tab.getAttribute(\"name\") == this._mode + \"_tab\"){\r\n\t\t\t\ttab.classList.add(\"active\");\r\n\t\t\t\tthis._waiAria.headerToggleState(tab, true);\r\n\t\t\t}else{\r\n\t\t\t\ttab.classList.remove(\"active\");\r\n\t\t\t\tthis._waiAria.headerToggleState(tab, false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (typeof prev_scroll == \"number\") // if we are updating or working with the same view scrollTop should be saved\r\n\t\tthis._els[dhx_cal_data][0].scrollTop = prev_scroll; // restoring original scroll\r\n\r\n\tif(typeof multidayScroll == \"number\" && this._els[dhx_multi_day] && this._els[dhx_multi_day][0]){\r\n\t\tthis._els[dhx_multi_day][0].scrollTop = multidayScroll;\r\n\t}\r\n\r\n};\r\nscheduler.setCurrentView = function(date, mode) {\r\n\tif (!this.callEvent(\"onBeforeViewChange\", [this._mode, this._date, mode || this._mode, date || this._date])) return;\r\n\tthis.updateView(date, mode);\r\n\tthis.callEvent(\"onViewChange\", [this._mode, this._date]);\r\n};\r\n\r\nscheduler.render = function(date, mode){\r\n\tscheduler.setCurrentView(date, mode);\r\n};\r\n\r\nscheduler._render_x_header = function(i,left,date,container, offset_top){\r\n\toffset_top = offset_top || 0;\r\n\t//header scale\r\n\tvar head=document.createElement(\"div\");\r\n\thead.className = \"dhx_scale_bar\";\r\n\r\n\tif(this.templates[this._mode+\"_scalex_class\"]){\r\n\t\t//'_scalex_class' - timeline already have similar template, use the same name\r\n\t\thead.className += ' ' + this.templates[this._mode+\"_scalex_class\"](date);\r\n\t}\r\n\r\n\tvar width = this._cols[i];\r\n\r\n\tif (this._mode == \"month\" && i === 0 && this.config.left_border) {\r\n\t\thead.className += \" dhx_scale_bar_border\";\r\n\t\tleft = left+1;\r\n\t}\r\n\r\n\tthis.set_xy(head, width, this.xy.scale_height-1, left, offset_top);\r\n\r\n\tvar columnHeaderText = this.templates[this._mode+\"_scale_date\"](date,this._mode); //TODO - move in separate method\r\n\thead.innerHTML = columnHeaderText;\r\n\r\n\tthis._waiAria.dayHeaderAttr(head, columnHeaderText);\r\n\r\n\tcontainer.appendChild(head);\r\n};\r\n\r\nscheduler._get_columns_num = function(from, to){\r\n\tvar count = 7;\r\n\tif (!scheduler._table_view){\r\n\t\tvar count_n = scheduler.date[\"get_\"+scheduler._mode+\"_end\"];\r\n\t\tif (count_n) to = count_n(from);\r\n\t\tcount = Math.round((to.valueOf()-from.valueOf())/(1000*60*60*24));\r\n\t}\r\n\treturn count;\r\n};\r\nscheduler._get_timeunit_start = function(){\r\n\t//start date of currently displayed time unit(day, week,...)\r\n\treturn this.date[this._mode+\"_start\"](new Date(this._date.valueOf()));\r\n};\r\n\r\nscheduler._get_view_end = function(){\r\n\tvar dd = this._get_timeunit_start();\r\n\tvar ed = scheduler.date.add(dd, 1, this._mode);\r\n\tif (!scheduler._table_view){\r\n\t\tvar count_n = scheduler.date[\"get_\"+scheduler._mode+\"_end\"];\r\n\t\tif (count_n) ed = count_n(dd);\r\n\t}\r\n\treturn ed;\r\n};\r\nscheduler._calc_scale_sizes = function(width, from, to){//\r\n\t//calculates number of displayed columns(days/units/month view cols) and their widths\r\n\tvar rtl = this.config.rtl;\r\n\tvar summ = width; //border delta\r\n\tvar count = this._get_columns_num(from, to);\r\n\t//if (this.config.rtl) this._process_ignores(scheduler.date.add(to, -1, \"day\"), count, \"day\", -1);\r\n\t//else\r\n\tthis._process_ignores(from, count, \"day\", 1);\r\n\tvar realcount = count - this._ignores_detected;\r\n\tfor (var i=0; i<count; i++){\r\n\t\tif (this._ignores[i]){\r\n\t\t\tthis._cols[i] = 0;\r\n\t\t\trealcount++;\r\n\t\t} else {\r\n\t\t\tthis._cols[i]=Math.floor(summ/(realcount-i));\r\n\t\t}\r\n\t\tsumm-=this._cols[i];\r\n\t\tthis._colsS[i]=(this._cols[i-1]||0)+(this._colsS[i-1]||(this._table_view?0:(rtl ? this.xy.scroll_width : this.xy.scale_width)));\r\n\t\t//this._colsS[j]=(this._cols[rtl ? j+1 : (i-1)]||0)+(this._colsS[rtl ? j+1 : (i-1)]||(this._table_view?0:(rtl?this.xy.scroll_width:this.xy.scale_width)+2));\r\n\t}\r\n\tthis._colsS['col_length'] = count;\r\n\tthis._colsS[count] = (this._cols[count-1]+this._colsS[count-1]) || 0;\r\n\t//this._colsS[count] = (this._cols[rtl ? 0 : count-1]+this._colsS[rtl ? 0 : count-1]) || 0;\r\n};\r\n\r\nscheduler._set_scale_col_size = function(div, width, left){\r\n\tvar c = this.config;\r\n\tthis.set_xy(div, width, c.hour_size_px*(c.last_hour-c.first_hour), left+this.xy.scale_width + 1, 0);//-1 for border\r\n};\r\n\r\nscheduler._render_scales = function(header, data_area){\r\n\t//render columns in week/units view, or header in month view\r\n\tvar sd = new Date(scheduler._min_date),\r\n\t\ted = new Date(scheduler._max_date),\r\n\t\ttoday = this.date.date_part( scheduler._currentDate());\r\n\r\n\tvar summ = parseInt(header.style.width,10) - 1;\r\n\tvar d = new Date(this._min_date);\r\n\t// if (this.config.rtl) {\r\n\t// \td = new Date(scheduler.date.add(this._max_date, -1, \"day\"));\r\n\t// }\r\n\tvar count = this._get_columns_num(sd, ed);\r\n\tthis._calc_scale_sizes(summ, sd, ed);\r\n\tvar left=0;\r\n\r\n\theader.innerHTML = \"\";\r\n\tfor (var i=0; i<count; i++){\r\n\t\tif (!this._ignores[i]){\r\n\t\t\tthis._render_x_header(i,left,d,header);\r\n\t\t}\r\n\t\tif (!this._table_view){\r\n\t\t\tvar scales=document.createElement(\"div\");\r\n\t\t\tvar cls = \"dhx_scale_holder\";\r\n\t\t\tif (d.valueOf() == today.valueOf()) cls += \" dhx_scale_holder_now\";\r\n\r\n\t\t\tscales.setAttribute(\"data-column-index\", i);\r\n\t\t\tif (this._ignores_detected && this._ignores[i]){\r\n\t\t\t\tcls += \" dhx_scale_ignore\";\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i=this.config.first_hour*1; i < this.config.last_hour; i++) {\r\n\t\t\t\tconst firstHalf = document.createElement(\"div\");\r\n\t\t\t\tfirstHalf.className=\"dhx_scale_time_slot dhx_scale_time_slot_hour_start\";\r\n\t\t\t\tfirstHalf.style.height=this.config.hour_size_px/2+\"px\";\r\n\t\t\t\t\r\n\t\t\t\tlet slotDate = new Date(d.getFullYear(), d.getMonth(), d.getDate(), i, 0);\r\n\t\t\t\tfirstHalf.setAttribute('data-slot-date', this.templates.format_date(slotDate));\r\n\r\n\t\t\t\tlet htmlContent = this.templates.time_slot_text(slotDate);\r\n\t\t\t\tif(htmlContent){\r\n\t\t\t\t\tfirstHalf.innerHTML = htmlContent;\r\n\t\t\t\t}\r\n\t\t\t\tlet cssClass = this.templates.time_slot_class(slotDate);\r\n\t\t\t\tif(cssClass){\r\n\t\t\t\t\tfirstHalf.classList.add(cssClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscales.appendChild(firstHalf);\r\n\r\n\t\t\t\tconst secondHalf = document.createElement(\"div\");\r\n\t\t\t\tsecondHalf.className=\"dhx_scale_time_slot\";\r\n\t\t\t\tslotDate = new Date(d.getFullYear(), d.getMonth(), d.getDate(), i, 30);\r\n\t\t\t\tsecondHalf.setAttribute('data-slot-date', this.templates.format_date(slotDate));\r\n\t\t\t\tsecondHalf.style.height=this.config.hour_size_px/2+\"px\";\r\n\t\t\t\thtmlContent = this.templates.time_slot_text(slotDate);\r\n\t\t\t\tif(htmlContent){\r\n\t\t\t\t\tsecondHalf.innerHTML = htmlContent;\r\n\t\t\t\t}\r\n\t\t\t\tcssClass = this.templates.time_slot_class(slotDate);\r\n\t\t\t\tif(cssClass){\r\n\t\t\t\t\tsecondHalf.classList.add(cssClass);\r\n\t\t\t\t}\r\n\t\t\t\tscales.appendChild(secondHalf);\r\n\t\t\t}\r\n\r\n\t\t\tscales.className = cls+\" \"+this.templates.week_date_class(d,today);\r\n\t\t\tthis._waiAria.dayColumnAttr(scales, d);\r\n\t\t\tthis._set_scale_col_size(scales, this._cols[i], left);\r\n\r\n\t\t\tdata_area.appendChild(scales);\r\n\t\t\tthis.callEvent(\"onScaleAdd\",[scales, d]);\r\n\t\t}\r\n\t\tleft+=this._cols[i];\r\n\t\t//if (this.config.rtl) d=this.date.add(d,-1,\"day\");\r\n\t\t//else\r\n\t\td=this.date.add(d,1,\"day\");\r\n\t\td = this.date.day_start(d);\r\n\t}\r\n};\r\n\r\nscheduler._getNavDateElement = function(){\r\n\treturn this.$container.querySelector(\".dhx_cal_date\");\r\n};\r\n\r\nscheduler._reset_scale=function(){\r\n\t//current mode doesn't support scales\r\n\t//we mustn't call reset_scale for such modes, so it just to be sure\r\n\tif (!this.templates[this._mode + \"_date\"]) return;\r\n\r\n\tvar header = this._els[\"dhx_cal_header\"][0];\r\n\tvar data_area = this._els[\"dhx_cal_data\"][0];\r\n\tvar c = this.config;\r\n\r\n\theader.innerHTML = \"\";\r\n\t//data_area.scrollTop = 0; //fix flickering in FF; makes IE8 flicker instead\r\n\tdata_area.innerHTML = \"\";\r\n\r\n\tvar str = ((c.readonly || (!c.drag_resize)) ? \" dhx_resize_denied\" : \"\") + ((c.readonly || (!c.drag_move)) ? \" dhx_move_denied\" : \"\");\r\n\tdata_area.className = \"dhx_cal_data\" + str;\r\n\r\n\tthis._scales = {};\r\n\tthis._cols = [];\t//store for data section\r\n\tthis._colsS = {height: 0};\r\n\tthis._dy_shift = 0;\r\n\r\n\tthis.set_sizes();\r\n\r\n\tvar d,sd;\r\n\tvar dd = this._get_timeunit_start(),\r\n\t\ted = scheduler._get_view_end();\r\n\r\n\td = sd = this._table_view ? scheduler.date.week_start(dd) : dd;\r\n\r\n\r\n\tthis._min_date=d;\r\n\r\n\tvar navBarDateStr = this.templates[this._mode+\"_date\"](dd,ed,this._mode);\r\n\r\n\tvar scaleElement = this._getNavDateElement();\r\n\tif(scaleElement){\r\n\t\tscaleElement.innerHTML = navBarDateStr;\r\n\t\tthis._waiAria.navBarDateAttr(scaleElement, navBarDateStr);\r\n\t}\r\n\r\n\tthis._max_date = ed;\r\n\tscheduler._render_scales(header, data_area);\r\n\r\n\tif (this._table_view) // month view\r\n\t\tthis._reset_month_scale(data_area,dd,sd);\r\n\telse{\r\n\t\tthis._reset_hours_scale(data_area,dd,sd);\r\n\t\tif (c.multi_day) {\r\n\t\t\tvar dhx_multi_day = 'dhx_multi_day';\r\n\r\n\t\t\tif(this._els[dhx_multi_day]) {\r\n\t\t\t\tthis._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);\r\n\t\t\t\tthis._els[dhx_multi_day] = null;\r\n\t\t\t}\r\n\r\n\t\t\tvar c1 = document.createElement(\"div\");\r\n\t\t\tc1.className = dhx_multi_day;\r\n\t\t\tc1.style.visibility=\"hidden\";\r\n\t\t\tc1.style.display=\"none\";\r\n\t\t\tvar totalWidth = this._colsS[this._colsS.col_length];\r\n\t\t\tvar offset = c.rtl ? this.xy.scale_width : this.xy.scroll_width;\r\n\t\t\tvar hiddenWidth = Math.max(totalWidth + offset, 0);\r\n\t\t\tthis.set_xy(c1, hiddenWidth, 0, 0); // 2 extra borders, dhx_header has -1 bottom margin\r\n\t\t\tdata_area.parentNode.insertBefore(c1,data_area);\r\n\r\n\t\t\tvar c2 = c1.cloneNode(true);\r\n\t\t\tc2.className = dhx_multi_day+\"_icon\";\r\n\t\t\tc2.style.visibility=\"hidden\";\r\n\t\t\tc2.style.display=\"none\";\r\n\t\t\tthis.set_xy(c2, this.xy.scale_width + 1, 0, 0); // dhx_header has -1 bottom margin\r\n\r\n\t\t\tc1.appendChild(c2);\r\n\t\t\tthis._els[dhx_multi_day]=[c1,c2];\r\n\t\t\tscheduler.event(this._els[dhx_multi_day][0], \"click\", this._click.dhx_cal_data);\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._reset_hours_scale=function(b,dd,sd){\r\n\tvar c=document.createElement(\"div\");\r\n\tc.className=\"dhx_scale_holder\";\r\n\r\n\tvar date = new Date(1980,1,1,this.config.first_hour,0,0);\r\n\tfor (var i=this.config.first_hour*1; i < this.config.last_hour; i++) {\r\n\t\tvar cc=document.createElement(\"div\");\r\n\t\tcc.className=\"dhx_scale_hour\";\r\n\t\tcc.style.height=this.config.hour_size_px+\"px\";\r\n\t\tvar width = this.xy.scale_width;\r\n\t\tif (this.config.left_border) {\r\n\t\t\tcc.className += \" dhx_scale_hour_border\";\r\n\t\t}\r\n\t\tcc.style.width = width + \"px\";\r\n\r\n\t\tvar content = scheduler.templates.hour_scale(date);\r\n\t\tcc.innerHTML = content;\r\n\t\tthis._waiAria.hourScaleAttr(cc, content);\r\n\r\n\t\tc.appendChild(cc);\r\n\t\tdate=this.date.add(date,1,\"hour\");\r\n\t}\r\n\tb.appendChild(c);\r\n\tif (this.config.scroll_hour)\r\n\t\tb.scrollTop = this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour);\r\n};\r\n\r\nscheduler._currentDate = function(){\r\n\tif(scheduler.config.now_date){\r\n\t\treturn new Date(scheduler.config.now_date);\r\n\t}\r\n\treturn new Date();\r\n};\r\n\r\nscheduler._reset_ignores = function(){\r\n\tthis._ignores={};\r\n\tthis._ignores_detected = 0;\r\n};\r\n\r\nscheduler._process_ignores = function(sd, n, mode, step, preserve){\r\n\tthis._reset_ignores();\r\n\tvar ignore = scheduler[\"ignore_\"+this._mode];\r\n\tif (ignore){\r\n\t\tvar ign_date = new Date(sd);\r\n\t\tfor (var i=0; i<n; i++){\r\n\t\t\tif (ignore(ign_date)){\r\n\t\t\t\tthis._ignores_detected += 1;\r\n\t\t\t\tthis._ignores[i] = true;\r\n\t\t\t\tif (preserve)\r\n\t\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t\tign_date = scheduler.date.add(ign_date, step, mode);\r\n\t\t\tif(scheduler.date[mode + '_start'])\r\n\t\t\t\tign_date = scheduler.date[mode + '_start'](ign_date);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler._render_month_scale = function(div, dd/*month start*/, sd/*view start*/, rows ){\r\n\t//renders month view layout\r\n\r\n\tvar ed=scheduler.date.add(dd,1,\"month\"),\r\n\t\tview_start = new Date(sd);\r\n\tvar cd = scheduler._currentDate();\r\n\tthis.date.date_part(cd);\r\n\tthis.date.date_part(sd);\r\n\r\n\trows = rows || Math.ceil(Math.round((ed.valueOf()-sd.valueOf()) / (60*60*24*1000) ) / 7);\r\n\tvar tdwidths=[];\r\n\r\n\tfor (var i=0; i<=7; i++) {\r\n\t\tvar cell_width = this._cols[i] || 0;\r\n\t\tif(!isNaN(Number(cell_width))){\r\n\t\t\tcell_width = cell_width + \"px\";\r\n\t\t}\r\n\t\ttdwidths[i] = cell_width;\r\n\t}\r\n\r\n\tfunction getCellHeight(row){\r\n\t\tvar h = scheduler._colsS.height;\r\n\t\tif(scheduler._colsS.heights[row + 1] !== undefined ){\r\n\t\t\th = scheduler._colsS.heights[row + 1] - (scheduler._colsS.heights[row]||0);\r\n\t\t}\r\n\t\treturn h;\r\n\t}\r\n\r\n\r\n\tvar cellheight = 0;\r\n\r\n\tconst table = document.createElement(\"div\");\r\n\ttable.classList.add(\"dhx_cal_month_table\");\r\n\r\n\tvar rendered_dates = [];\r\n\tfor (var i=0; i<rows; i++){\r\n\t\tvar row = document.createElement(\"div\");\r\n\t\trow.classList.add(\"dhx_cal_month_row\");\r\n\t\trow.style.height = getCellHeight(i) + \"px\";\r\n\t\ttable.appendChild(row);\r\n\t\t// var row_height = Math.max(getCellHeight(i) - scheduler.xy.month_head_height, 0);\r\n\t\tfor (var j=0; j<7; j++) {\r\n\t\t\tvar cell = document.createElement(\"div\");\r\n\t\t\trow.appendChild(cell);\r\n\r\n\t\t\tvar cls = \"dhx_cal_month_cell\";\r\n\t\t\tif (sd<dd)\r\n\t\t\t\tcls += ' dhx_before';\r\n\t\t\telse if (sd>=ed)\r\n\t\t\t\tcls += ' dhx_after';\r\n\t\t\telse if (sd.valueOf()==cd.valueOf())\r\n\t\t\t\tcls += ' dhx_now';\r\n\r\n\t\t\tif (this._ignores_detected && this._ignores[j]){\r\n\t\t\t\tcls += \" dhx_scale_ignore\";\r\n\t\t\t}\r\n\r\n\t\t\tcell.className = cls + \" \" + this.templates.month_date_class(sd, cd);\r\n\r\n\t\t\tcell.setAttribute(\"data-cell-date\", scheduler.templates.format_date(sd));\r\n\t\t\tvar body_class = \"dhx_month_body\";\r\n\t\t\tvar head_class = \"dhx_month_head\";\r\n\t\t\tif (j === 0 && this.config.left_border) {\r\n\t\t\t\tbody_class += \" dhx_month_body_border\";\r\n\t\t\t\thead_class += \" dhx_month_head_border\";\r\n\t\t\t}\r\n\t\t\tif (!this._ignores_detected || !this._ignores[j]){\r\n\t\t\t\tcell.style.width = tdwidths[j];\r\n\t\t\t\tthis._waiAria.monthCellAttr(cell, sd);\r\n\r\n\t\t\t\tvar cellHead = document.createElement(\"div\");\r\n\t\t\t\tcellHead.style.height = scheduler.xy.month_head_height + \"px\";\r\n\t\t\t\tcellHead.className = head_class;\r\n\t\t\t\tcellHead.innerHTML = this.templates.month_day(sd);\r\n\t\t\t\tcell.appendChild(cellHead);\r\n\r\n\t\t\t\tvar cellBody = document.createElement(\"div\");\r\n\t\t\t\tcellBody.className = body_class;\r\n\t\t\t\t// cellBody.style.height = row_height + \"px\";\r\n\t\t\t\t// cellBody.style.width = tdwidths[j];\r\n\t\t\t\tcell.appendChild(cellBody);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tcell.appendChild(document.createElement(\"div\"));\r\n\t\t\t\tcell.appendChild(document.createElement(\"div\"));\r\n\t\t\t}\r\n\t\t\trendered_dates.push(sd);\r\n\t\t\tvar bf1 = sd.getDate();\r\n\t\t\tsd=this.date.add(sd,1,\"day\");\r\n\t\t\tif (sd.getDate() - bf1 > 1)\r\n\t\t\t\tsd = new Date(sd.getFullYear(), sd.getMonth(), bf1 + 1, 12, 0);\r\n\t\t}\r\n\r\n\t\tscheduler._colsS.heights[i] = cellheight;\r\n\t\tcellheight += getCellHeight(i);\r\n\t}\r\n\r\n\tthis._min_date = view_start;\r\n\tthis._max_date = sd;\r\n\r\n\tdiv.innerHTML = \"\";\r\n\tdiv.appendChild(table);\r\n\r\n\tthis._scales = {};\r\n\tvar cells = div.querySelectorAll('[data-cell-date]');\r\n\tcells.forEach((cell) => {\r\n\t\tconst date = scheduler.templates.parse_date(cell.getAttribute(\"data-cell-date\"));\r\n\t\tconst body = cell.querySelector(\".dhx_month_body\");\r\n\t\tthis._scales[+date] = body;\r\n\t\tthis.callEvent(\"onScaleAdd\", [this._scales[+date], date]);\r\n\t});\r\n\r\n\treturn this._max_date;\r\n};\r\n\r\nscheduler._reset_month_scale=function(b,dd,sd,rows){\r\n\t//recalculates rows height and redraws month layout\r\n\tvar ed=scheduler.date.add(dd,1,\"month\");\r\n\r\n\t//trim time part for comparison reasons\r\n\tvar cd = scheduler._currentDate();\r\n\tthis.date.date_part(cd);\r\n\tthis.date.date_part(sd);\r\n\r\n\trows = rows || Math.ceil(Math.round((ed.valueOf()-sd.valueOf()) / (60*60*24*1000) ) / 7);\r\n\r\n\tvar height = (Math.floor(b.clientHeight/rows) - this.xy.month_head_height);\r\n\r\n\tthis._colsS.height = height + this.xy.month_head_height;\r\n\tthis._colsS.heights = [];\r\n\r\n\treturn scheduler._render_month_scale(b, dd, sd, rows);\r\n\r\n};\r\n\r\nscheduler.getView = function (viewName) {\r\n\tif (!viewName) {\r\n\t\tviewName = scheduler.getState().mode;\r\n\t}\r\n\tif (scheduler.matrix && scheduler.matrix[viewName]) {\r\n\t\treturn scheduler.matrix[viewName];\r\n\t}\r\n\r\n\tif (scheduler._props && scheduler._props[viewName]) {\r\n\t\treturn scheduler._props[viewName];\r\n\t}\r\n\r\n\treturn null;\r\n};\r\n\r\nscheduler.getLabel = function(property, key) {\r\n\tvar sections = this.config.lightbox.sections;\r\n\tfor (var i=0; i<sections.length; i++) {\r\n\t\tif(sections[i].map_to == property) {\r\n\t\t\tvar options = sections[i].options;\r\n\t\t\tfor (var j=0; j<options.length; j++) {\r\n\t\t\t\tif(options[j].key == key) {\r\n\t\t\t\t\treturn options[j].label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n};\r\nscheduler.updateCollection = function(list_name, collection) {\r\n\tvar list = scheduler.serverList(list_name);\r\n\tif (!list) return false;\r\n\tlist.splice(0, list.length);\r\n\tlist.push.apply(list, collection || []);\r\n\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\tscheduler.resetLightbox();\r\n\tscheduler.hideCover();\r\n\treturn true;\r\n};\r\nscheduler._lame_clone = function(object, cache) {\r\n\tvar i, t, result; // iterator, types array, result\r\n\r\n\tcache = cache || [];\r\n\r\n\tfor (i=0; i<cache.length; i+=2)\r\n\t\tif(object === cache[i])\r\n\t\t\treturn cache[i+1];\r\n\r\n\tif (object && typeof object == \"object\") {\r\n\t\tresult = Object.create(object); // preserve prototype methods\r\n\t\tt = [Array,Date,Number,String,Boolean];\r\n\t\tfor (i=0; i<t.length; i++) {\r\n\t\t\tif (object instanceof t[i])\r\n\t\t\t\tresult = i ? new t[i](object) : new t[i](); // first one is array\r\n\t\t}\r\n\t\tcache.push(object, result);\r\n\t\tfor (i in object) {\r\n\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\r\n\t\t\t\tresult[i] = scheduler._lame_clone(object[i], cache);\r\n\t\t}\r\n\t}\r\n\treturn result || object;\r\n};\r\nscheduler._lame_copy = function(target, source) {\r\n\tfor (var key in source) {\r\n\t\tif (source.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = source[key];\r\n\t\t}\r\n\t}\r\n\treturn target;\r\n};\r\nscheduler._get_date_from_pos = function(pos) {\r\n\tvar start=this._min_date.valueOf()+(pos.y*this.config.time_step+(this._table_view?0:pos.x)*24*60)*60000;\r\n\t//if (this.config.rtl) start=scheduler.date.add(this._max_date, -1, \"day\").valueOf()+(pos.y*this.config.time_step-(this._table_view?0:pos.x)*24*60)*60000;\r\n\treturn new Date(this._correct_shift(start));\r\n};\r\n// n_ev - native event\r\nscheduler.getActionData = function(n_ev) {\r\n\tvar pos = this._mouse_coords(n_ev);\r\n\treturn {\r\n\t\tdate:this._get_date_from_pos(pos),\r\n\t\tsection:pos.section\r\n\t};\r\n};\r\nscheduler._focus = function(node, select){\r\n\tif (node && node.focus){\r\n\t\tif (this._mobile){\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tnode.focus();\r\n\t\t\t},10);\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tif (select && node.select && node.offsetWidth) {\r\n\t\t\t\t\tnode.select();\r\n\t\t\t\t}\r\n\t\t\t\tnode.focus();\r\n\t\t\t} catch (e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getDaysDifference(startDate, endDate) {\r\n\tconst start = new Date(startDate);\r\n\tconst end = new Date(endDate);\r\n\tconst differenceInTime = end.getTime() - start.getTime();\r\n\tconst differenceInDays = differenceInTime / (1000 * 3600 * 24);\r\n\treturn Math.abs(differenceInDays);\r\n}\r\n\r\n//non-linear scales\r\nscheduler._get_real_event_length=function(startDate, endDate, config){ // config may be a timeline view or a configuration object\r\n\tvar eventLength = endDate - startDate;\r\n\r\n\t// excludedDuration - duration between [00:00, first_hour] and [last_hour, 23:59]\r\n\t// var excludedDuration = (config._start_correction + config._end_correction)||0;\r\n\tvar ignore = this[\"ignore_\"+this._mode];\r\n\r\n\tvar startColumnIndex = 0,\r\n\t\tendColumnIndex;\r\n\tif (config.render){\r\n\t\tstartColumnIndex = this._get_date_index(config, startDate);\r\n\t\tendColumnIndex = this._get_date_index(config, endDate);\r\n\r\n\t\tif(startDate.valueOf() < scheduler.getState().min_date.valueOf()){\r\n\t\t\tstartColumnIndex = -getDaysDifference(startDate, scheduler.getState().min_date);\r\n\t\t}\r\n\t\tif(endDate.valueOf() > scheduler.getState().max_date.valueOf()){\r\n\t\t\tendColumnIndex += getDaysDifference(endDate, scheduler.getState().max_date);\r\n\t\t}\r\n\t} else{\r\n\t\tendColumnIndex = Math.round(eventLength/60/60/1000/24);\r\n\t}\r\n\r\n\tvar last_column = true;\r\n\twhile (startColumnIndex < endColumnIndex){\r\n\t\tvar check = scheduler.date.add(endDate, -config.x_step, config.x_unit);\r\n\t\tif (ignore && ignore(endDate) && (!last_column || (last_column && ignore(check) ))){\r\n\t\t\teventLength -= (endDate-check);\r\n\r\n\t\t}else{\r\n\t\t\tlet excludedDuration = 0;\r\n\t\t\tconst intervalStart = new Date(Math.max(check.valueOf(), startDate.valueOf()));\r\n\t\t\tconst intervalEnd = endDate;\r\n\t\t\tconst leftCellCutOffStart = new Date(intervalStart.getFullYear(), intervalStart.getMonth(), intervalStart.getDate(), config.first_hour);\r\n\t\t\tconst leftCellCutOffEnd = new Date(intervalStart.getFullYear(), intervalStart.getMonth(), intervalStart.getDate(), config.last_hour||24);\r\n\t\t\tconst rightCellCutOffStart = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate(), config.first_hour);\r\n\t\t\tconst rightCellCutOffEnd = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate(), config.last_hour||24);\r\n\r\n\t\t\tif(intervalEnd.valueOf() > rightCellCutOffEnd.valueOf()){\r\n\t\t\t\texcludedDuration += intervalEnd - rightCellCutOffEnd;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalEnd.valueOf() > rightCellCutOffStart.valueOf()){\r\n\t\t\t\texcludedDuration += config._start_correction;\r\n\t\t\t} else {\r\n\t\t\t\texcludedDuration += intervalEnd.getHours()*60*60*1000 + intervalEnd.getMinutes()*60*1000;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalStart.valueOf() < leftCellCutOffEnd.valueOf()){\r\n\t\t\t\texcludedDuration += config._end_correction;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalStart.valueOf() < leftCellCutOffStart.valueOf()){\r\n\t\t\t\texcludedDuration += (leftCellCutOffStart.valueOf() - intervalStart.valueOf());\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\teventLength -= excludedDuration;\r\n\t\t\tlast_column = false;\r\n\t\t}\r\n\t\tendDate = check;\r\n\t\tendColumnIndex--;\r\n\t}\r\n\treturn eventLength;\r\n};\r\nscheduler._get_fictional_event_length=function(end_date, ev_length, obj, back){\r\n\tvar sd = new Date(end_date);\r\n\tvar dir = back ? -1 : 1;\r\n\r\n\t//get difference caused by first|last hour\r\n\tif (obj._start_correction || obj._end_correction){\r\n\t\tvar today;\r\n\t\tif (back)\r\n\t\t\ttoday = (sd.getHours()*60+sd.getMinutes()) - (obj.first_hour||0)*60;\r\n\t\telse\r\n\t\t\ttoday = (obj.last_hour||0)*60 - (sd.getHours()*60+sd.getMinutes());\r\n\t\tvar per_day = (obj.last_hour - obj.first_hour)*60;\r\n\t\tvar days = Math.ceil( (ev_length / (60*1000) - today ) / per_day);\r\n\t\tif(days < 0) days = 0;\r\n\t\tev_length += days * (24*60 - per_day) * 60 * 1000;\r\n\t}\r\n\r\n\tvar fd = new Date(end_date*1+ev_length*dir);\r\n\tvar ignore = this[\"ignore_\"+this._mode];\r\n\r\n\tvar start_slot = 0,\r\n\t\tend_slot;\r\n\tif (obj.render){\r\n\t\tstart_slot = this._get_date_index(obj, sd);\r\n\t\tend_slot = this._get_date_index(obj, fd);\r\n\t} else{\r\n\t\tend_slot = Math.round(ev_length/60/60/1000/24);\r\n\t}\r\n\r\n\twhile (start_slot*dir <= end_slot*dir){\r\n\t\tvar check = scheduler.date.add(sd, obj.x_step*dir, obj.x_unit);\r\n\t\tif (ignore && ignore(sd)){\r\n\t\t\tev_length += (check-sd)*dir;\r\n\t\t\tend_slot += dir;\r\n\t\t}\r\n\r\n\t\tsd = check;\r\n\t\tstart_slot+=dir;\r\n\t}\r\n\r\n\treturn ev_length;\r\n};\r\n\r\nscheduler._get_section_view = function(){\r\n\treturn this.getView();\r\n};\r\n\r\nscheduler._get_section_property = function(){\r\n\tif(this.matrix && this.matrix[this._mode]){\r\n\t\treturn this.matrix[this._mode].y_property;\r\n\t}else if(this._props && this._props[this._mode]){\r\n\t\treturn this._props[this._mode].map_to;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nscheduler._is_initialized = function(){\r\n\tvar state = this.getState();\r\n\treturn (this._obj && state.date && state.mode);\r\n};\r\nscheduler._is_lightbox_open = function(){\r\n\tvar state = this.getState();\r\n\treturn state.lightbox_id !== null && state.lightbox_id !== undefined;\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\tfunction isAttachedNode(container){\r\n\t\tvar root = document.body;\r\n\t\r\n\t\twhile(container && container != root){\r\n\t\t\tcontainer = container.parentNode;\r\n\t\t}\r\n\t\r\n\t\treturn !!(root == container);\r\n\t}\r\n\t\r\n\tfunction getWindowSize(window){\r\n\t\treturn {\r\n\t\t\tw : window.innerWidth || document.documentElement.clientWidth,\r\n\t\t\th : window.innerHeight || document.documentElement.clientHeight\r\n\t\t};\r\n\t}\r\n\tfunction equals(a,b){\r\n\t\treturn a.w == b.w && a.h == b.h;\r\n\t}\r\n\t\r\n\tfunction listenWindowResize(scheduler, window){\r\n\t\tvar oldSize = getWindowSize(window);\r\n\t\tvar resizeDelay;\r\n\t\tscheduler.event(window, \"resize\", function(){\r\n\t\t\tclearTimeout(resizeDelay);\r\n\t\t\tresizeDelay = setTimeout(function(){\r\n\r\n\t\t\t\tif (!isAttachedNode(scheduler.$container) || scheduler.$destroyed){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar newSize = getWindowSize(window);\r\n\t\t\t\t// element may be resized by container-autoresize exteinsion\r\n\t\t\t\t// check if the size is actually changed in order to not to get endless loop\r\n\t\t\t\tif (!equals(oldSize, newSize)) {\r\n\t\t\t\t\toldSize = newSize;\r\n\t\t\t\t\ttriggerSchedulerResize(scheduler);\r\n\t\t\t\t}\r\n\t\t\t}, 150);\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction triggerSchedulerResize(scheduler){\r\n\t\tif(scheduler.$destroyed || !scheduler.$root || !isAttachedNode(scheduler.$root)){\r\n\t\t\treturn;\t\r\n\t\t}\r\n\t\tif (scheduler.callEvent(\"onSchedulerResize\", [])) {\r\n\t\t\tscheduler.updateView();\r\n\t\t\tscheduler.callEvent(\"onAfterSchedulerResize\", []);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction watchNodeResize(scheduler){\r\n\t\tvar previousHeight = scheduler.$root.offsetHeight;\r\n\t\tvar previousWidth = scheduler.$root.offsetWidth;\r\n\t\t\r\n\t\tfunction lowlevelResizeWatcher(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(scheduler.$root){\r\n\t\t\t\tif (scheduler.$root.offsetHeight != previousHeight ||\r\n\t\t\t\t\tscheduler.$root.offsetWidth != previousWidth){\r\n\t\t\t\t\ttriggerSchedulerResize(scheduler);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpreviousHeight = scheduler.$root.offsetHeight;\r\n\t\t\t\tpreviousWidth = scheduler.$root.offsetWidth;\r\n\t\t\t}\r\n\t\r\n\t\t\tsetTimeout(lowlevelResizeWatcher, 200);\r\n\t\t}\r\n\t\t\r\n\t\tlowlevelResizeWatcher();\r\n\t}\r\n\t\r\n\tfunction addResizeListener(scheduler){\r\n\t\tvar root = scheduler.$container;\r\n\t\tvar containerStyles = window.getComputedStyle(root);\r\n\t\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\r\n\t\t\troot.style.position = \"relative\";\r\n\t\t}\r\n\t\r\n\t\tvar resizeWatcher = document.createElement('iframe');\r\n\t\tresizeWatcher.className = \"scheduler_container_resize_watcher\";\r\n\t\tresizeWatcher.tabIndex = -1;\r\n\t\tif(scheduler.config.wai_aria_attributes){\r\n\t\t\tresizeWatcher.setAttribute(\"role\", \"none\");\r\n\t\t\tresizeWatcher.setAttribute(\"aria-hidden\", true);\r\n\t\t}\r\n\t\r\n\t\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\r\n\t\tvar salesforce_environment = !!window[\"Sfdc\"] || !!window[\"$A\"] || window[\"Aura\"];\r\n\t\tif(salesforce_environment){\r\n\t\t\twatchNodeResize(scheduler);\r\n\t\t} else {\r\n\t\t\troot.appendChild(resizeWatcher);\r\n\t\t\tif (resizeWatcher.contentWindow) {\r\n\t\t\t\tlistenWindowResize(scheduler, resizeWatcher.contentWindow);\r\n\t\t\t} else {\r\n\t\t\t\t// if so - ditch the iframe and fallback to listening the main window resize\r\n\t\t\t\troot.removeChild(resizeWatcher);\r\n\t\t\t\tlistenWindowResize(scheduler, window);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\taddResizeListener(scheduler);\r\n\r\n}","export default function(scheduler){\r\n\treturn function assert(check, message){\r\n\t\tif (!check){\r\n\t\t\tif(scheduler.config.show_errors && scheduler.callEvent(\"onError\",[message]) !== false) {\r\n\t\t\t\tif (scheduler.message) {\r\n\t\t\t\t\tscheduler.message({type: \"error\", text: message, expire: -1});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\tconsole.log(message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// eslint-disable-next-line no-debugger\r\n\t\t\t\tdebugger;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}","export default function extend(scheduler) {\r\n\r\nif (window.jQuery){\r\n\r\n(function( $ ){\r\n\tvar counter = 0;\r\n\tvar methods = [];\r\n\t$.fn.dhx_scheduler = function(config){\r\n\t\tif (typeof(config) === 'string') {\r\n\t\t\tif (methods[config] ) {\r\n\t\t\t\treturn methods[config].apply(this, []);\r\n\t\t\t}else {\r\n\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_scheduler');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar views = [];\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tif (this && this.getAttribute){\r\n\t\t\t\t\tif (!this.getAttribute(\"dhxscheduler\")){\r\n\t\t\t\t\t\tvar name = \"scheduler\";\r\n\t\t\t\t\t\tif (counter){\r\n\t\t\t\t\t\t\tname = \"scheduler\" + (counter+1);\r\n\t\t\t\t\t\t\twindow[name] = Scheduler.getSchedulerInstance();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar comp  = window[name];\r\n\r\n\t\t\t\t\t\tthis.setAttribute(\"dhxscheduler\", name);\r\n\t\t\t\t\t\tfor (var key in config)\r\n\t\t\t\t\t\t\tif (key!=\"data\")\r\n\t\t\t\t\t\t\t\tcomp.config[key] = config[key];\r\n\r\n\t\t\t\t\t\tif (!this.getElementsByTagName(\"div\").length){\r\n\t\t\t\t\t\t\tthis.innerHTML = '<div class=\"dhx_cal_navline\"><div class=\"dhx_cal_prev_button\"></div><div class=\"dhx_cal_next_button\"></div><div class=\"dhx_cal_today_button\"></div><div class=\"dhx_cal_date\"></div><div class=\"dhx_cal_tab\" name=\"day_tab\" data-tab=\"day\" style=\"right:204px;\"></div><div class=\"dhx_cal_tab\" name=\"week_tab\" data-tab=\"week\" style=\"right:140px;\"></div><div class=\"dhx_cal_tab\" name=\"month_tab\" data-tab=\"month\" style=\"right:76px;\"></div></div><div class=\"dhx_cal_header\"></div><div class=\"dhx_cal_data\"></div>';\r\n\t\t\t\t\t\t\tthis.className += \" dhx_cal_container\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcomp.init(this, comp.config.date, comp.config.mode);\r\n\t\t\t\t\t\tif (config.data)\r\n\t\t\t\t\t\t\tcomp.parse(config.data);\r\n\r\n\t\t\t\t\t\tviews.push(comp);\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tviews.push(window[this.getAttribute(\"dhxscheduler\")]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (views.length === 1) return views[0];\r\n\t\t\treturn views;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n})(window.jQuery);\r\n\r\n}\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler.destructor = function(){\r\n\tscheduler.callEvent(\"onDestroy\", []);\r\n\tthis.clearAll();\r\n\r\n\tif(this.$container){\r\n\t\t// FIXME: clear container or remove container\r\n\t\tthis.$container.innerHTML = \"\";\r\n\t\t// scheduler.$domHelpers.remove(this.$container);\r\n\t}\r\n\r\n\tif(this._eventRemoveAll){\r\n\t\tthis._eventRemoveAll();\r\n\t}\r\n\r\n\tif(this.resetLightbox){\r\n\t\tthis.resetLightbox();\r\n\t}\r\n\r\n\tif(this._dp && this._dp.destructor){\r\n\t\tthis._dp.destructor();\r\n\t}\r\n\r\n\t// detachAllEvents should be called last, because in components may be attached events\r\n\tthis.detachAllEvents();\r\n\r\n\tfor(var i in this){\r\n\t\tif(i.indexOf(\"$\") === 0){\r\n\t\t\tdelete this[i];\r\n\t\t}\r\n\t}\r\n\tscheduler.$destroyed = true;\r\n};\r\n\r\n}","import serialize from \"../common/url_serialize.js\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler.Promise = window.Promise; \r\n\r\nfunction createConfig(method, args) {\r\n\tvar result = {\r\n\t\tmethod: method\r\n\t};\r\n\r\n\tif (args.length === 0) {\r\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\r\n\t}\r\n\tif (args.length === 1) {\r\n\t\tif (typeof args[0] === \"string\") {\r\n\t\t\tresult.url = args[0];\r\n\t\t\tresult.async = true;\r\n\t\t} else {\r\n\t\t\tresult.url = args[0].url;\r\n\t\t\tresult.async = (args[0].async || true);\r\n\t\t\tresult.callback = args[0].callback;\r\n\t\t\tresult.headers = args[0].headers;\r\n\t\t}\r\n\t\tif (method === \"POST\" || \"PUT\") {\r\n\t\t\tif (args[0].data) {\r\n\t\t\t\tif (typeof args[0].data !== \"string\") {\r\n\t\t\t\t\tresult.data = serialize(args[0].data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.data = args[0].data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult.data = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tresult.url = args[0];\r\n\tswitch(method) {\r\n\t\tcase \"GET\":\r\n\t\tcase \"DELETE\":\r\n\t\t\tresult.callback = args[1];\r\n\t\t\tresult.headers = args[2];\r\n\t\tbreak;\r\n\t\tcase \"POST\":\r\n\t\tcase \"PUT\":\r\n\t\t\tif (args[1]) {\r\n\t\t\t\tif (typeof args[1] !== \"string\") {\r\n\t\t\t\t\tresult.data = serialize(args[1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.data = args[1];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult.data = \"\";\r\n\t\t\t}\r\n\t\t\tresult.callback = args[2];\r\n\t\t\tresult.headers = args[3];\r\n\t\tbreak;\r\n\t}\r\n\treturn result;\r\n}\r\nscheduler.ajax = {\r\n\t// if false - dhxr param will added to prevent caching on client side (default),\r\n\t// if true - do not add extra params\r\n\tcache: true,\r\n\r\n\t// default method for load/loadStruct, post/get allowed\r\n\tmethod: \"get\",\r\n\r\n\tserializeRequestParams: serialize,\r\n\tparse: function(data) {\r\n\t\tif (typeof data !== \"string\") return data;\r\n\r\n\t\tvar obj;\r\n\t\tdata = data.replace(/^[\\s]+/,\"\");\r\n\t\tif (typeof DOMParser !== \"undefined\" && !scheduler.$env.isIE) { // ff,ie9\r\n\t\t\tobj = (new DOMParser()).parseFromString(data, \"text/xml\");\r\n\t\t} else if (typeof window.ActiveXObject !== \"undefined\") {\r\n\t\t\tobj = new window.ActiveXObject(\"Microsoft.XMLDOM\");\r\n\t\t\tobj.async = \"false\";\r\n\t\t\tobj.loadXML(data);\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\txmltop: function(tagname, xhr, obj) {\r\n\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\r\n\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\r\n\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\r\n\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (obj !== -1) scheduler.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\r\n\t\treturn document.createElement(\"DIV\");\r\n\t},\r\n\txpath: function(xpathExp, docObj) {\r\n\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\r\n\t\tif (scheduler.$env.isIE) {\r\n\t\t\treturn docObj.selectNodes(xpathExp)||[];\r\n\t\t} else {\r\n\t\t\tvar rows = [];\r\n\t\t\tvar first;\r\n\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\r\n\r\n\t\t\twhile (true){\r\n\t\t\t\tfirst = col.iterateNext();\r\n\t\t\t\tif(first){\r\n\t\t\t\t\trows.push(first);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn rows;\r\n\t\t}\r\n\t},\r\n\tquery: function(config) {\r\n\t\treturn this._call(\r\n\t\t\t(config.method || \"GET\"),\r\n\t\t\tconfig.url,\r\n\t\t\tconfig.data || \"\",\r\n\t\t\t(config.async || true),\r\n\t\t\tconfig.callback,\r\n\t\t\tconfig.headers\r\n\t\t);\r\n\t},\r\n\tget: function(url, onLoad, headers) {\r\n\t\tvar config = createConfig(\"GET\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tgetSync: function(url, headers) {\r\n\t\tvar config = createConfig(\"GET\", arguments);\r\n\t\tconfig.async = false;\r\n\t\treturn this.query(config);\r\n\t},\r\n\tput: function(url, postData, onLoad, headers) {\r\n\t\tvar config = createConfig(\"PUT\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tdel: function(url, onLoad, headers) {\r\n\t\t/**\r\n\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\r\n\t\t * A payload within a DELETE request message has no defined semantics;\r\n\t\t * sending a payload body on a DELETE request might cause some existing\r\n\t\t * implementations to reject the request.\r\n\t\t */\r\n\t\tvar config = createConfig(\"DELETE\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tpost: function(url, postData, onLoad, headers) {\r\n\t\tif (arguments.length == 1) {\r\n\t\t\tpostData = \"\";\r\n\t\t} else if (arguments.length == 2 && typeof(postData) == \"function\") {\r\n\t\t\tonLoad = postData;\r\n\t\t\tpostData = \"\";\r\n\t\t}\r\n\t\tvar config = createConfig(\"POST\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tpostSync: function(url, postData, headers) {\r\n\t\tpostData = (postData === null ? \"\" : String(postData));\r\n\r\n\t\tvar config = createConfig(\"POST\", arguments);\r\n\t\tconfig.async = false;\r\n\t\treturn this.query(config);\r\n\t},\r\n\t_call: function(method, url, postData, async, onLoad, headers) {\r\n\t\treturn new scheduler.Promise((function(resolve, reject) {\r\n\t\t\tvar t = (typeof XMLHttpRequest !== undefined && !scheduler.$env.isIE ? new XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\"));\r\n\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\r\n\r\n\t\t\tif (!!async) {\r\n\t\t\t\tt.addEventListener(\"readystatechange\", function() {\r\n\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\r\n\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\r\n\t\t\t\t\t\t\tif (!scheduler.callEvent(\"onAjaxError\", [t])) return;\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\r\n\t\t\t\t\t\t\t\tonLoad.apply(window, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(t);\r\n\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\r\n\t\t\t\t\t\t\t\tonLoad = null;\r\n\t\t\t\t\t\t\t\tt = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (method == \"GET\" && !this.cache) {\r\n\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\r\n\t\t\t}\r\n\r\n\t\t\tt.open(method, url, async);\r\n\r\n\t\t\tif (headers){\r\n\t\t\t\tfor (var key in headers)\r\n\t\t\t\t\tt.setRequestHeader(key, headers[key]);\r\n\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\r\n\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\t\t\t} else if (method == \"GET\") {\r\n\t\t\t\tpostData = null;\r\n\t\t\t}\r\n\r\n\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\r\n\t\t\tt.send(postData);\r\n\r\n\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\r\n\t\t}.bind(this)));\r\n\t},\r\n\turlSeparator: function(str){\r\n\t\tif (str.indexOf(\"?\") != -1)\r\n\t\t\treturn \"&\";\r\n\t\telse\r\n\t\t\treturn \"?\";\r\n\t}\r\n};\r\n\r\nscheduler.$ajax = scheduler.ajax; // for old\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nvar generateStringToDate = function (format, utc) {\r\n\tvar splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\r\n\tvar mask = format.match(/%[a-zA-Z]/g);\r\n\tfor (var i = 0; i < mask.length; i++) {\r\n\t\tswitch (mask[i]) {\r\n\t\t\tcase \"%j\":\r\n\t\t\tcase \"%d\": splt += \"set[2]=temp[\" + i + \"]||1;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%n\":\r\n\t\t\tcase \"%m\": splt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%y\": splt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>50?1900:2000);\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%g\":\r\n\t\t\tcase \"%G\":\r\n\t\t\tcase \"%h\":\r\n\t\t\tcase \"%H\":\r\n\t\t\t\tsplt += \"set[3]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%i\":\r\n\t\t\t\tsplt += \"set[4]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%Y\": splt += \"set[0]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%a\":\r\n\t\t\tcase \"%A\": splt += \"set[3]=set[3]%12+((temp[\" + i + \"]||'').toLowerCase()=='am'?0:12);\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%s\": splt += \"set[5]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%M\": splt += \"set[1]=this.locale.date.month_short_hash[temp[\" + i + \"]]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%F\": splt += \"set[1]=this.locale.date.month_full_hash[temp[\" + i + \"]]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tvar code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\r\n\tif (utc) code = \" Date.UTC(\" + code + \")\";\r\n\treturn new Function(\"date\", \"var set=[0,0,1,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\r\n};\r\nvar csp_date_to_str = function (format, utc) {\r\n\treturn function(date) {\r\n\t\treturn format.replace(/%[a-zA-Z]/g, function (a) {\r\n\t\t\tswitch (a) {\r\n\t\t\t\tcase \"%d\": return utc ? scheduler.date.to_fixed(date.getUTCDate()) : scheduler.date.to_fixed(date.getDate());\r\n\t\t\t\tcase \"%m\": return utc ? scheduler.date.to_fixed((date.getUTCMonth() + 1)) : scheduler.date.to_fixed((date.getMonth() + 1));\r\n\t\t\t\tcase \"%j\": return utc ? date.getUTCDate() : date.getDate();\r\n\t\t\t\tcase \"%n\": return utc ? (date.getUTCMonth() + 1) : (date.getMonth() + 1);\r\n\t\t\t\tcase \"%y\": return utc ? scheduler.date.to_fixed(date.getUTCFullYear() % 100) : scheduler.date.to_fixed(date.getFullYear() % 100);\r\n\t\t\t\tcase \"%Y\": return utc ? date.getUTCFullYear() : date.getFullYear();\r\n\t\t\t\tcase \"%D\": return utc ? scheduler.locale.date.day_short[date.getUTCDay()] : scheduler.locale.date.day_short[date.getDay()];\r\n\t\t\t\tcase \"%l\": return utc ? scheduler.locale.date.day_full[date.getUTCDay()] : scheduler.locale.date.day_full[date.getDay()];\r\n\t\t\t\tcase \"%M\": return utc ? scheduler.locale.date.month_short[date.getUTCMonth()] : scheduler.locale.date.month_short[date.getMonth()];\r\n\t\t\t\tcase \"%F\": return utc ? scheduler.locale.date.month_full[date.getUTCMonth()] : scheduler.locale.date.month_full[date.getMonth()];\r\n\t\t\t\tcase \"%h\": return utc ? scheduler.date.to_fixed((date.getUTCHours() + 11) % 12 + 1) : scheduler.date.to_fixed((date.getHours() + 11) % 12 + 1);\r\n\t\t\t\tcase \"%g\": return utc ? ((date.getUTCHours() + 11) % 12 + 1) : ((date.getHours() + 11) % 12 + 1);\r\n\t\t\t\tcase \"%G\": return utc ? date.getUTCHours() : date.getHours();\r\n\t\t\t\tcase \"%H\": return utc ? scheduler.date.to_fixed(date.getUTCHours()) : scheduler.date.to_fixed(date.getHours());\r\n\t\t\t\tcase \"%i\": return utc ? scheduler.date.to_fixed(date.getUTCMinutes()) : scheduler.date.to_fixed(date.getMinutes());\r\n\t\t\t\tcase \"%a\": return utc ? (date.getUTCHours() > 11 ? \"pm\" : \"am\") : (date.getHours() > 11 ? \"pm\" : \"am\");\r\n\t\t\t\tcase \"%A\": return utc ? (date.getUTCHours() > 11 ? \"PM\" : \"AM\") : (date.getHours() > 11 ? \"PM\" : \"AM\");\r\n\t\t\t\tcase \"%s\": return utc ? scheduler.date.to_fixed(date.getUTCSeconds()) : scheduler.date.to_fixed(date.getSeconds());\r\n\t\t\t\tcase \"%W\": return utc ? scheduler.date.to_fixed(scheduler.date.getUTCISOWeek(date)) : scheduler.date.to_fixed(scheduler.date.getISOWeek(date));\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n};\r\nvar csp_str_to_date = function (format, utc) {\r\n\tconst mask = format.match(/%[a-zA-Z]/g);\r\n\treturn function (date){\r\n\t\tvar set = [0, 0, 1, 0, 0, 0];\r\n\t\tvar temp = date.match(/[a-zA-Z]+|[0-9]+/g);\r\n\r\n\t\tfor (var i = 0; i < mask.length; i++) {\r\n\t\t\tswitch (mask[i]) {\r\n\t\t\t\tcase \"%j\":\r\n\t\t\t\tcase \"%d\":\r\n\t\t\t\t\tset[2] = temp[i] || 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%n\":\r\n\t\t\t\tcase \"%m\":\r\n\t\t\t\t\tset[1] = (temp[i] || 1) - 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%y\":\r\n\t\t\t\t\tset[0] = temp[i] * 1 + (temp[i] > 50 ? 1900 : 2000);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%g\":\r\n\t\t\t\tcase \"%G\":\r\n\t\t\t\tcase \"%h\":\r\n\t\t\t\tcase \"%H\":\r\n\t\t\t\t\tset[3] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%i\":\r\n\t\t\t\t\tset[4] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\tset[0] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%a\":\r\n\t\t\t\tcase \"%A\":\r\n\t\t\t\t\tset[3] = set[3] % 12 + ((temp[i] || '').toLowerCase() == 'am' ? 0 : 12);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%s\":\r\n\t\t\t\t\tset[5] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%M\":\r\n\t\t\t\t\tset[1] = scheduler.locale.date.month_short_hash[temp[i]] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%F\":\r\n\t\t\t\t\tset[1] = scheduler.locale.date.month_full_hash[temp[i]] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (utc) {\r\n\t\t\treturn new Date(Date.UTC(set[0], set[1], set[2], set[3], set[4], set[5]));\r\n\t\t}\r\n\r\n\t\treturn new Date(set[0], set[1], set[2], set[3], set[4], set[5]);\r\n\t};\r\n};\r\n\r\nlet cspEnabled = undefined;\r\nfunction checkIfCSPEnabled(){\r\n\ttry {\r\n\t\tnew Function(\"cspEnabled = false;\");\r\n\t\tcspEnabled = false;\r\n\t} catch(e) {\r\n\t\tcspEnabled = true;\r\n\t}\r\n\treturn cspEnabled;\r\n}\r\n\r\nfunction useCsp() {\r\n\tvar result = false;\r\n\tif (scheduler.config.csp === \"auto\") {\r\n\t\tif(cspEnabled === undefined){\r\n\t\t\tcspEnabled = checkIfCSPEnabled();\r\n\t\t}\r\n\t\tresult = cspEnabled;\r\n\t} else {\r\n\t\tresult = scheduler.config.csp;\r\n\t}\r\n\treturn result;\r\n}\r\nscheduler.date = {\r\n\tinit:function(){\r\n\t\tvar s = scheduler.locale.date.month_short;\r\n\t\tvar t = scheduler.locale.date.month_short_hash = {};\r\n\t\tfor (var i = 0; i < s.length; i++)\r\n\t\t\tt[s[i]]=i;\r\n\r\n\t\tvar s = scheduler.locale.date.month_full;\r\n\t\tvar t = scheduler.locale.date.month_full_hash = {};\r\n\t\tfor (var i = 0; i < s.length; i++)\r\n\t\t\tt[s[i]]=i;\r\n\t},\r\n\tdate_part:function(date){\r\n\t\tvar old = new Date(date);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\tif (date.getHours() && //shift to yesterday on dst\r\n\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()) )\r\n\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\r\n\t\treturn date;\r\n\t},\r\n\ttime_part:function(date){\r\n\t\treturn (date.valueOf()/1000 - date.getTimezoneOffset()*60)%86400;\r\n\t},\r\n\tweek_start:function(date){\r\n\t\tvar shift=date.getDay();\r\n\t\tif (scheduler.config.start_on_monday){\r\n\t\t\tif (shift===0) shift=6;\r\n\t\t\telse shift--;\r\n\t\t}\r\n\t\treturn this.date_part(this.add(date,-1*shift,\"day\"));\r\n\t},\r\n\tmonth_start:function(date){\r\n\t\tdate.setDate(1);\r\n\t\treturn this.date_part(date);\r\n\t},\r\n\tyear_start:function(date){\r\n\t\tdate.setMonth(0);\r\n\t\treturn this.month_start(date);\r\n\t},\r\n\tday_start:function(date){\r\n\t\treturn this.date_part(date);\r\n\t},\r\n\t_add_days:function(date, inc){\r\n\t\tvar ndate = new Date(date.valueOf());\r\n\r\n\t\tndate.setDate(ndate.getDate() + inc);\r\n\r\n\t\t// Workaround for Safari/iOS timezone bug, ref:OKZ-149693\r\n\t\tif(inc == Math.round(inc) && inc > 0){\r\n\t\t\tvar datesDiff = +ndate - +date,\r\n\t\t\t\trest = datesDiff % (24*60*60*1000);\r\n\t\t\tif(rest && date.getTimezoneOffset() == ndate.getTimezoneOffset()){\r\n\t\t\t\tvar hours = rest / (60* 60 * 1000);\r\n\t\t\t\tndate.setTime(ndate.getTime() + (24 - hours) * 60 * 60 * 1000);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inc >= 0 && (!date.getHours() && ndate.getHours()) &&//shift to yesterday on dst\r\n\t\t\t(ndate.getDate() < date.getDate() || ndate.getMonth() < date.getMonth() || ndate.getFullYear() < date.getFullYear()) )\r\n\t\t\tndate.setTime(ndate.getTime() + 60 * 60 * 1000 * (24 - ndate.getHours()));\r\n\t\treturn ndate;\r\n\t},\r\n\tadd:function(date,inc,mode){\r\n\t\tvar ndate=new Date(date.valueOf());\r\n\t\tswitch(mode){\r\n\t\t\tcase \"day\":\r\n\t\t\t\tndate = scheduler.date._add_days(ndate, inc);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"week\":\r\n\t\t\t\tndate = scheduler.date._add_days(ndate, inc * 7);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"month\": ndate.setMonth(ndate.getMonth()+inc); break;\r\n\t\t\tcase \"year\": ndate.setYear(ndate.getFullYear()+inc); break;\r\n\t\t\tcase \"hour\":\r\n\t\t\t\t/*\r\n\t\t\t\t setHour(getHour() + inc) and setMinutes gives weird result when is applied on a Daylight Saving time switch\r\n\t\t\t\t setTime seems working as expected\r\n\t\t\t\t*/\r\n\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minute\":\r\n\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn scheduler.date[\"add_\"+mode](date,inc,mode);\r\n\t\t}\r\n\t\treturn ndate;\r\n\t},\r\n\tto_fixed:function(num){\r\n\t\tif (num<10)\treturn \"0\"+num;\r\n\t\treturn num;\r\n\t},\r\n\tcopy:function(date){\r\n\t\treturn new Date(date.valueOf());\r\n\t},\r\n\tdate_to_str:function(format,utc){\r\n\t\tif (useCsp()) {\r\n\t\t\treturn csp_date_to_str(format,utc);\r\n\t\t}\r\n\r\n\t\tformat=format.replace(/%[a-zA-Z]/g,function(a){\r\n\t\t\tswitch(a){\r\n\t\t\t\tcase \"%d\": return \"\\\"+this.date.to_fixed(date.getDate())+\\\"\";\r\n\t\t\t\tcase \"%m\": return \"\\\"+this.date.to_fixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\tcase \"%j\": return \"\\\"+date.getDate()+\\\"\";\r\n\t\t\t\tcase \"%n\": return \"\\\"+(date.getMonth()+1)+\\\"\";\r\n\t\t\t\tcase \"%y\": return \"\\\"+this.date.to_fixed(date.getFullYear()%100)+\\\"\";\r\n\t\t\t\tcase \"%Y\": return \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\tcase \"%D\": return \"\\\"+this.locale.date.day_short[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%l\": return \"\\\"+this.locale.date.day_full[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%M\": return \"\\\"+this.locale.date.month_short[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%F\": return \"\\\"+this.locale.date.month_full[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%h\": return \"\\\"+this.date.to_fixed((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%g\": return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%G\": return \"\\\"+date.getHours()+\\\"\";\r\n\t\t\t\tcase \"%H\": return \"\\\"+this.date.to_fixed(date.getHours())+\\\"\";\r\n\t\t\t\tcase \"%i\": return \"\\\"+this.date.to_fixed(date.getMinutes())+\\\"\";\r\n\t\t\t\tcase \"%a\": return \"\\\"+(date.getHours()>11?\\\"pm\\\":\\\"am\\\")+\\\"\";\r\n\t\t\t\tcase \"%A\": return \"\\\"+(date.getHours()>11?\\\"PM\\\":\\\"AM\\\")+\\\"\";\r\n\t\t\t\tcase \"%s\": return \"\\\"+this.date.to_fixed(date.getSeconds())+\\\"\";\r\n\t\t\t\tcase \"%W\": return \"\\\"+this.date.to_fixed(this.date.getISOWeek(date))+\\\"\";\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (utc) format=format.replace(/date\\.get/g,\"date.getUTC\");\r\n\t\tvar func = new Function(\"date\",\"return \\\"\"+format+\"\\\";\");\r\n\r\n\t\treturn func.bind(scheduler);\r\n\t},\r\n\tstr_to_date:function(format, utc, exactFormat){\r\n\t\tvar stringToDateMethod = useCsp() ? csp_str_to_date : generateStringToDate;\r\n\t\tvar parseExactFormat = stringToDateMethod(format, utc);\r\n\t\t// eslint-disable-next-line\r\n\t\tvar yyyyMMddhhIIss = /^[0-9]{4}(\\-|\\/)[0-9]{2}(\\-|\\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/;\r\n\r\n\t\t// MM/dd/yyyy - default old format for xml-date\r\n\t\t// eslint-disable-next-line\r\n\t\tvar MMddyyyyhhIIss = /^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/;\r\n\t\t// dd-MM-yyyy - default old format for api-date\r\n\t\t// eslint-disable-next-line\r\n\t\tvar ddMMyyyyhhIIss = /^[0-9]{2}\\-[0-9]{2}\\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/;\r\n\t\t// eslint-disable-next-line\r\n\t\tvar ISO8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\r\n\r\n\t\tvar isYMDDate = function (datestr) {\r\n\t\t\treturn yyyyMMddhhIIss.test(String(datestr));\r\n\t\t};\r\n\r\n\t\tvar isMDYDate = function (datestr) {\r\n\t\t\treturn MMddyyyyhhIIss.test(String(datestr));\r\n\t\t};\r\n\t\tvar isDMYDate = function (datestr) {\r\n\t\t\treturn ddMMyyyyhhIIss.test(String(datestr));\r\n\t\t};\r\n\t\tvar isISO8601 = function (datestr) {\r\n\t\t\treturn ISO8601.test(datestr);\r\n\t\t};\r\n\r\n\t\tvar parseYMD = stringToDateMethod(\"%Y-%m-%d %H:%i:%s\", utc);\r\n\t\tvar parseMDY = stringToDateMethod(\"%m/%d/%Y %H:%i:%s\", utc);\r\n\t\tvar parseDMY = stringToDateMethod(\"%d-%m-%Y %H:%i:%s\", utc);\r\n\r\n\t\treturn function (dateString) {\r\n\r\n\t\t\tif (!exactFormat && !scheduler.config.parse_exact_format) {\r\n\t\t\t\tif (dateString && dateString.getISOWeek) {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t} else if (typeof dateString === \"number\") {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t} else if (isYMDDate(dateString)) {\r\n\t\t\t\t\treturn parseYMD(dateString);\r\n\t\t\t\t} else if (isMDYDate(dateString)) {\r\n\t\t\t\t\treturn parseMDY(dateString);\r\n\t\t\t\t} else if (isDMYDate(dateString)) {\r\n\t\t\t\t\treturn parseDMY(dateString);\r\n\t\t\t\t} else if (isISO8601(dateString)) {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn parseExactFormat.call(scheduler, dateString);\r\n\t\t};\r\n\t},\r\n\tgetISOWeek: function(ndate) {\r\n\t\tif(!ndate) return false;\r\n\t\tndate = this.date_part(new Date(ndate));\r\n\t\tvar nday = ndate.getDay();\r\n\t\tif (nday === 0) {\r\n\t\t\tnday = 7;\r\n\t\t}\r\n\t\tvar first_thursday = new Date(ndate.valueOf());\r\n\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\r\n\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\r\n\t\tvar ordinal_date = Math.round( (first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\r\n\t\tvar week_number = 1 + Math.floor( ordinal_date / 7);\r\n\t\treturn week_number;\r\n\t},\r\n\tgetUTCISOWeek: function(ndate){\r\n\t\treturn this.getISOWeek(this.convert_to_utc(ndate));\r\n\t},\r\n\tconvert_to_utc: function(date) {\r\n\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\r\n\t}\r\n};\r\n\r\n}\r\n\r\n","export default function extend(scheduler) {\r\n\r\n/*\r\n%e\tDay of the month without leading zeros (01..31)\r\n%d\tDay of the month, 2 digits with leading zeros (01..31)\r\n%j\tDay of the year, 3 digits with leading zeros (001..366)\r\n%a\tA textual representation of a day, two letters\r\n%W\tA full textual representation of the day of the week\r\n\r\n%c\tNumeric representation of a month, without leading zeros (0..12)\r\n%m\tNumeric representation of a month, with leading zeros (00..12)\r\n%b\tA short textual representation of a month, three letters (Jan..Dec)\r\n%M\tA full textual representation of a month, such as January or March (January..December)\r\n\r\n%y\tA two digit representation of a year (93..03)\r\n%Y\tA full numeric representation of a year, 4 digits (1993..03)\r\n*/\r\n\r\nscheduler.config={\r\n\tdefault_date: \"%j %M %Y\",\r\n\tmonth_date: \"%F %Y\",\r\n\tload_date: \"%Y-%m-%d\",\r\n\tweek_date: \"%l\",\r\n\tday_date: \"%D %j\",\r\n\thour_date: \"%H:%i\",\r\n\tmonth_day: \"%d\",\r\n\t//xml_date: \"%m/%d/%Y %H:%i\",\r\n\tdate_format: \"%Y-%m-%d %H:%i\",\r\n\tapi_date: \"%d-%m-%Y %H:%i\",\r\n\tparse_exact_format: false,\r\n\tpreserve_length:true,\r\n\ttime_step: 5,\r\n\tdisplayed_event_color: \"#ff4a4a\",\r\n\tdisplayed_event_text_color: \"#ffef80\",\r\n\twide_form: 0,\r\n\tday_column_padding: 8,\r\n\tuse_select_menu_space: true,\r\n\tfix_tab_position: true,\r\n\tstart_on_monday: true,\r\n\tfirst_hour: 0,\r\n\tlast_hour: 24,\r\n\treadonly: false,\r\n\tdrag_resize: true,\r\n\tdrag_move: true,\r\n\tdrag_create: true,\r\n\tdrag_event_body: true,\r\n\tdblclick_create: true,\r\n\tdetails_on_dblclick: true,\r\n\tedit_on_create: true,\r\n\tdetails_on_create: true,\r\n\theader: null,\r\n\thour_size_px: 44,\r\n\tresize_month_events:false,\r\n\tresize_month_timed:false,\r\n\t\r\n\tresponsive_lightbox: false,\r\n\tseparate_short_events: true,\r\n\trtl:false,\r\n\r\n\tcascade_event_display: false,\r\n\tcascade_event_count: 4,\r\n\tcascade_event_margin: 30,\r\n\r\n\tmulti_day:true,\r\n\tmulti_day_height_limit: 200,\r\n\r\n\tdrag_lightbox: true,\r\n\tpreserve_scroll: true,\r\n\tselect: true,\r\n\r\n\tserver_utc: false,\r\n\ttouch:true,\r\n\ttouch_tip:true,\r\n\ttouch_drag:500,\r\n\ttouch_swipe_dates: false,\r\n\tquick_info_detached:true,\r\n\r\n\tpositive_closing: false,\r\n\t//header_datepicker: true,\r\n\tdrag_highlight: true,\r\n\tlimit_drag_out: false,\r\n\ticons_edit: [\"icon_save\", \"icon_cancel\"],\r\n\ticons_select: [\"icon_details\", \"icon_edit\", \"icon_delete\"],\r\n\tbuttons_left: [\"dhx_save_btn\", \"dhx_cancel_btn\"],\r\n\tbuttons_right: [\"dhx_delete_btn\"],\r\n\tlightbox: {\r\n\t\tsections: [\r\n\t\t\t{name: \"description\", map_to: \"text\", type: \"textarea\", focus: true},\r\n\t\t\t{name: \"time\", height: 72, type: \"time\", map_to: \"auto\"}\r\n\t\t]\r\n\t},\r\n\thighlight_displayed_event: true,\r\n\tleft_border: false,\r\n\r\n\tajax_error: \"alert\",//\"ignore\"|\"console\"\r\n\tdelay_render: 0,\r\n\ttimeline_swap_resize: true,\r\n\twai_aria_attributes: true,\r\n\twai_aria_application_role: true,\r\n\r\n\tcsp: \"auto\",\r\n\tevent_attribute: \"data-event-id\",\r\n\tshow_errors: true\r\n};\r\n\r\nscheduler.config.buttons_left.$initial = scheduler.config.buttons_left.join();\r\nscheduler.config.buttons_right.$initial = scheduler.config.buttons_right.join();\r\n\r\nscheduler._helpers = {\r\n\tparseDate: function parseDate(date) {\r\n\t\tvar parse = scheduler.templates.xml_date || scheduler.templates.parse_date;\r\n\t\treturn parse(date);\r\n\t},\r\n\tformatDate: function formatDate(date) {\r\n\t\tvar format = scheduler.templates.xml_format || scheduler.templates.format_date;\r\n\t\treturn format(date);\r\n\t}\r\n};\r\n\r\nscheduler.templates={};\r\nscheduler.init_templates=function(){\r\n\r\n\r\n\r\n\tvar d=scheduler.date.date_to_str;\r\n\tvar c=scheduler.config;\r\n\tvar f = function(a,b){\r\n\t\tfor (var c in b)\r\n\t\t\tif (!a[c]) a[c]=b[c];\r\n\t};\r\n\tf(scheduler.templates,{\r\n\t\tday_date:d(c.default_date),\r\n\t\tmonth_date:d(c.month_date),\r\n\t\tweek_date:function(d1,d2){\r\n\t\t\tif(c.rtl) {\r\n\t\t\t\treturn scheduler.templates.day_date(scheduler.date.add(d2,-1,\"day\"))+\" &ndash; \"+scheduler.templates.day_date(d1);\r\n\t\t\t} \r\n\t\t\treturn scheduler.templates.day_date(d1)+\" &ndash; \"+scheduler.templates.day_date(scheduler.date.add(d2,-1,\"day\"));\r\n\t\t},\r\n\t\tday_scale_date:d(c.default_date),\r\n\t\ttime_slot_text: function(date){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\ttime_slot_class: function(date){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\tmonth_scale_date:d(c.week_date),\r\n\t\tweek_scale_date:d(c.day_date),\r\n\t\thour_scale:d(c.hour_date),\r\n\t\ttime_picker:d(c.hour_date),\r\n\t\tevent_date:d(c.hour_date),\r\n\t\tmonth_day:d(c.month_day),\r\n\r\n\t\tload_format: d(c.load_date),\r\n\t//\txml_date:scheduler.date.str_to_date(c.xml_date,c.server_utc),\r\n\t//\txml_format:d(c.date_format,c.server_utc),\r\n\t\tformat_date: d(c.date_format, c.server_utc),\r\n\t\tparse_date:scheduler.date.str_to_date(c.date_format,c.server_utc),\r\n\t\tapi_date:scheduler.date.str_to_date(c.api_date, false, false),\r\n\t\tevent_header:function(start,end,ev){\r\n\r\n\t\t\tif(ev._mode === \"small\" || ev._mode === \"smallest\"){\r\n\t\t\t\treturn scheduler.templates.event_date(start);\r\n\t\t\t}else{\r\n\t\t\t\treturn scheduler.templates.event_date(start)+\" - \"+scheduler.templates.event_date(end);\r\n\t\t\t}\r\n\t\t},\r\n\t\tevent_text:function(start,end,ev){\r\n\t\t\treturn ev.text;\r\n\t\t},\r\n\t\tevent_class:function(start,end,ev){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tmonth_date_class:function(d){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tweek_date_class:function(d){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tevent_bar_date:function(start,end,ev) {\r\n\t\t\treturn scheduler.templates.event_date(start);\r\n\t\t},\r\n\t\tevent_bar_text:function(start,end,ev){\r\n\t\t\treturn ev.text;\r\n\t\t},\r\n\t\tmonth_events_link : function(date, count){\r\n\t\t\treturn \"<a>View more(\"+count+\" events)</a>\";\r\n\t\t},\r\n\t\tdrag_marker_class : function(start, end, event){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tdrag_marker_content : function(start, end, event){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\t/* Could be redifined */\r\n\t\ttooltip_date_format: scheduler.date.date_to_str(\"%Y-%m-%d %H:%i\"),\r\n\t\ttooltip_text: function(start, end, event) {\r\n\t\t\treturn \"<b>Event:</b> \" + event.text + \"<br/><b>Start date:</b> \" + scheduler.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + scheduler.templates.tooltip_date_format(end);\r\n\t\t},\r\n\r\n\t\tcalendar_month: d(\"%F %Y\"),\r\n\t\tcalendar_scale_date: d(\"%D\"),\r\n\t\tcalendar_date: d(\"%d\"),\r\n\t\tcalendar_time: d(\"%d-%m-%Y\")\r\n\r\n\t});\r\n\tthis.callEvent(\"onTemplatesReady\",[]);\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler._events = {};\r\nscheduler.clearAll = function() {\r\n\tthis._events = {};\r\n\tthis._loaded = {};\r\n\r\n\tthis._edit_id = null;\r\n\tthis._select_id = null;\r\n\tthis._drag_id = null;\r\n\tthis._drag_mode = null;\r\n\tthis._drag_pos = null;\r\n\tthis._new_event = null;\r\n\r\n\tthis.clear_view();\r\n\tthis.callEvent(\"onClearAll\", []);\r\n};\r\nscheduler.addEvent = function(start_date, end_date, text, id, extra_data) {\r\n\tif (!arguments.length)\r\n\t\treturn this.addEventNow();\r\n\tvar ev = start_date;\r\n\tif (arguments.length != 1) {\r\n\t\tev = extra_data || {};\r\n\t\tev.start_date = start_date;\r\n\t\tev.end_date = end_date;\r\n\t\tev.text = text;\r\n\t\tev.id = id;\r\n\t}\r\n\tev.id = ev.id || scheduler.uid();\r\n\tev.text = ev.text || \"\";\r\n\r\n\tif (typeof ev.start_date == \"string\")  ev.start_date = this.templates.api_date(ev.start_date);\r\n\tif (typeof ev.end_date == \"string\")  ev.end_date = this.templates.api_date(ev.end_date);\r\n\tvar d = (this.config.event_duration || this.config.time_step) * 60000;\r\n\tif (ev.start_date.valueOf() == ev.end_date.valueOf())\r\n\t\tev.end_date.setTime(ev.end_date.valueOf() + d);\r\n\r\n\tev.start_date.setMilliseconds(0);\r\n\tev.end_date.setMilliseconds(0);\r\n\r\n\tev._timed = this.isOneDayEvent(ev);\r\n\r\n\tvar is_new = !this._events[ev.id];\r\n\tthis._events[ev.id] = ev;\r\n\tthis.event_updated(ev);\r\n\tif (!this._loading)\r\n\t\tthis.callEvent(is_new ? \"onEventAdded\" : \"onEventChanged\", [ev.id, ev]);\r\n\treturn ev.id;\r\n};\r\nscheduler.deleteEvent = function(id, silent) {\r\n\tvar ev = this._events[id];\r\n\tif (!silent && (!this.callEvent(\"onBeforeEventDelete\", [id, ev]) || !this.callEvent(\"onConfirmedBeforeEventDelete\", [id, ev])))\r\n\t\treturn;\r\n\tif (ev) {\r\n\t\tif(scheduler.getState().select_id == id){\r\n\t\t\tscheduler.unselect();\r\n\t\t}\r\n\t\tdelete this._events[id];\r\n\t\tthis.event_updated(ev);\r\n\r\n\t\tif(this._drag_id == ev.id){\r\n\t\t\tthis._drag_id = null;\r\n\t\t\tthis._drag_mode=null;\r\n\t\t\tthis._drag_pos=null;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.callEvent(\"onEventDeleted\", [id, ev]);\r\n};\r\nscheduler.getEvent = function(id) {\r\n\treturn this._events[id];\r\n};\r\nscheduler.setEvent = function(id, hash) {\r\n\tif(!hash.id)\r\n\t\thash.id = id;\r\n\r\n\tthis._events[id] = hash;\r\n};\r\nscheduler.for_rendered = function(id, method) {\r\n\tfor (var i = this._rendered.length - 1; i >= 0; i--)\r\n\t\tif (this._rendered[i].getAttribute(this.config.event_attribute) == id)\r\n\t\t\tmethod(this._rendered[i], i);\r\n};\r\nscheduler.changeEventId = function(id, new_id) {\r\n\tif (id == new_id) return;\r\n\tvar ev = this._events[id];\r\n\tif (ev) {\r\n\t\tev.id = new_id;\r\n\t\tthis._events[new_id] = ev;\r\n\t\tdelete this._events[id];\r\n\t}\r\n\tthis.for_rendered(id, function(r) {\r\n\t\tr.setAttribute(\"event_id\", new_id); // for backward compatibility\r\n\t\tr.setAttribute(scheduler.config.event_attribute, new_id);\r\n\t});\r\n\tif (this._select_id == id) this._select_id = new_id;\r\n\tif (this._edit_id == id) this._edit_id = new_id;\r\n\t//if (this._drag_id==id) this._drag_id=new_id;\r\n\tthis.callEvent(\"onEventIdChange\", [id, new_id]);\r\n};\r\n\r\n(function() {\r\n\tvar attrs = [\"text\", \"Text\", \"start_date\", \"StartDate\", \"end_date\", \"EndDate\"];\r\n\tvar create_getter = function(name) {\r\n\t\treturn function(id) { return (scheduler.getEvent(id))[name]; };\r\n\t};\r\n\tvar create_setter = function(name) {\r\n\t\treturn function(id, value) {\r\n\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\tev[name] = value;\r\n\t\t\tev._changed = true;\r\n\t\t\tev._timed = this.isOneDayEvent(ev);\r\n\t\t\tscheduler.event_updated(ev, true);\r\n\t\t};\r\n\t};\r\n\tfor (var i = 0; i < attrs.length; i += 2) {\r\n\t\tscheduler[\"getEvent\" + attrs[i + 1]] = create_getter(attrs[i]);\r\n\t\tscheduler[\"setEvent\" + attrs[i + 1]] = create_setter(attrs[i]);\r\n\t}\r\n})();\r\n\r\nscheduler.event_updated = function(ev, force) {\r\n\tif (this.is_visible_events(ev))\r\n\t\tthis.render_view_data();\r\n\telse\r\n\t\tthis.clear_event(ev.id);\r\n};\r\nscheduler.is_visible_events = function(ev) {\r\n\tif(!this._min_date || !this._max_date){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//if in displayed dates\r\n\tvar in_visible_range = (ev.start_date.valueOf() < this._max_date.valueOf() && this._min_date.valueOf() < ev.end_date.valueOf());\r\n\r\n\tif(in_visible_range){\r\n\r\n\t\t//end dates are not between last/first hours\r\n\t\tvar evFirstHour = ev.start_date.getHours(),\r\n\t\t\tevLastHour = ev.end_date.getHours() + (ev.end_date.getMinutes()/60),\r\n\t\t\tlastHour = this.config.last_hour,\r\n\t\t\tfirstHour = this.config.first_hour;\r\n\r\n\t\tvar end_dates_visible = (this._table_view || !((evLastHour > lastHour || evLastHour <= firstHour) && (evFirstHour >= lastHour || evFirstHour < firstHour)));\r\n\r\n\t\tif(end_dates_visible){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\r\n\t\t\t//event is bigger than area hidden between last/first hours\r\n\t\t\tvar event_duration = (ev.end_date.valueOf() - ev.start_date.valueOf()) / (1000*60*60),//hours\r\n\t\t\t\thidden_duration = 24 - (this.config.last_hour - this.config.first_hour);\r\n\r\n\t\t\treturn !!((event_duration > hidden_duration) || (evFirstHour < lastHour && evLastHour > firstHour));\r\n\r\n\t\t}\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.isOneDayEvent = function(ev) {\r\n\t// decrease by one ms so events that ends on midnight on the next day were still considered one day events\r\n\t// e.g. (09-02-2018 19:00 - 10-02-2018 00:00)\r\n\t// events >= 24h long are considered multiday\r\n\tvar checkEndDate = new Date(ev.end_date.valueOf() - 1);\r\n\treturn (\r\n\t\tev.start_date.getFullYear() === checkEndDate.getFullYear() &&\r\n\t\tev.start_date.getMonth() === checkEndDate.getMonth() &&\r\n\t\tev.start_date.getDate() === checkEndDate.getDate()\r\n\t) && ((ev.end_date.valueOf() - ev.start_date.valueOf()) < (1000 * 60 * 60 * 24));\r\n};\r\n\r\nscheduler.get_visible_events = function(only_timed) {\r\n\t//not the best strategy for sure\r\n\tvar stack = [];\r\n\r\n\tfor (var id in this._events)\r\n\t\tif (this.is_visible_events(this._events[id]))\r\n\t\t\tif (!only_timed || this._events[id]._timed)\r\n\t\t\t\tif (this.filter_event(id, this._events[id]))\r\n\t\t\t\t\tstack.push(this._events[id]);\r\n\r\n\treturn stack;\r\n};\r\nscheduler.filter_event = function(id, ev) {\r\n\tvar filter = this[\"filter_\" + this._mode];\r\n\treturn (filter) ? filter(id, ev) : true;\r\n};\r\nscheduler._is_main_area_event = function(ev){\r\n\treturn !!ev._timed;\r\n};\r\nscheduler.render_view_data = function(evs, hold) {\r\n\tvar full = false;\r\n\tif (!evs) {\r\n\t\tfull = true;\r\n\t\tif (this._not_render) {\r\n\t\t\tthis._render_wait = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._render_wait = false;\r\n\r\n\t\tthis.clear_view();\r\n\t\tevs = this.get_visible_events(!(this._table_view || this.config.multi_day));\r\n\t}\r\n\tfor(var i= 0, len = evs.length; i < len; i++){\r\n\t\tthis._recalculate_timed(evs[i]);\r\n\t}\r\n\r\n\tif (this.config.multi_day && !this._table_view) {\r\n\r\n\t\tvar tvs = [];\r\n\t\tvar tvd = [];\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tif (this._is_main_area_event(evs[i]))\r\n\t\t\t\ttvs.push(evs[i]);\r\n\t\t\telse\r\n\t\t\t\ttvd.push(evs[i]);\r\n\t\t}\r\n\r\n\t\tif(!this._els['dhx_multi_day']){\r\n\t\t\tvar message = scheduler._commonErrorMessages.unknownView(this._mode);\r\n\t\t\tthrow new Error(message);\r\n\t\t}\r\n\r\n\t\t// multiday events\r\n\t\tthis._rendered_location = this._els['dhx_multi_day'][0];\r\n\t\tthis._table_view = true;\r\n\t\tthis.render_data(tvd, hold);\r\n\t\tthis._table_view = false;\r\n\r\n\t\t// normal events\r\n\t\tthis._rendered_location = this._els['dhx_cal_data'][0];\r\n\t\tthis._table_view = false;\r\n\t\tthis.render_data(tvs, hold);\r\n\r\n\t} else {\r\n\t\tvar buffer = document.createDocumentFragment();\r\n\t\tvar renderedLocation = this._els['dhx_cal_data'][0];\r\n\t\tthis._rendered_location = buffer;\r\n\t\tthis.render_data(evs, hold);\r\n\t\trenderedLocation.appendChild(buffer);\r\n\t\tthis._rendered_location = renderedLocation;\r\n\r\n\t}\r\n\r\n\tif(full){\r\n\t\tthis.callEvent(\"onDataRender\", []);\r\n\t}\r\n};\r\n\r\n\r\nscheduler._view_month_day = function(e){\r\n\tvar date = scheduler.getActionData(e).date;\r\n\tif(!scheduler.callEvent(\"onViewMoreClick\", [date]))\r\n\t\treturn;\r\n\tscheduler.setCurrentView(date, \"day\");\r\n};\r\n\r\nscheduler._render_month_link = function(ev){\r\n\tvar parent = this._rendered_location;\r\n\tvar toRender = this._lame_clone(ev);\r\n\r\n\t//render links in each cell of multiday events\r\n\tfor(var d = ev._sday; d < ev._eday; d++){\r\n\r\n\t\ttoRender._sday = d;\r\n\t\ttoRender._eday = d+1;\r\n\r\n\t\tvar date = scheduler.date;\r\n\t\tvar curr = scheduler._min_date;\r\n\t\tcurr = date.add(curr, toRender._sweek, \"week\");\r\n\t\tcurr = date.add(curr, toRender._sday, \"day\");\r\n\t\tvar count = scheduler.getEvents(curr, date.add(curr, 1, \"day\")).length;\r\n\r\n\t\tvar pos = this._get_event_bar_pos(toRender);\r\n\t\tvar widt = (pos.x2 - pos.x);\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\t\tscheduler.event(el, \"click\", function(e){scheduler._view_month_day(e);});\r\n\t\tel.className = \"dhx_month_link\";\r\n\t\tel.style.top = pos.y + \"px\";\r\n\t\tel.style.left = pos.x + \"px\";\r\n\t\tel.style.width = widt + \"px\";\r\n\t\tel.innerHTML = scheduler.templates.month_events_link(curr, count);\r\n\t\tthis._rendered.push(el);\r\n\r\n\t\tparent.appendChild(el);\r\n\t}\r\n};\r\n\r\nscheduler._recalculate_timed = function(id){\r\n\tif(!id) return;\r\n\tvar ev;\r\n\tif(typeof(id) != \"object\")\r\n\t\tev = this._events[id];\r\n\telse\r\n\t\tev = id;\r\n\tif(!ev) return;\r\n\tev._timed = scheduler.isOneDayEvent(ev);\r\n};\r\nscheduler.attachEvent(\"onEventChanged\", scheduler._recalculate_timed);\r\nscheduler.attachEvent(\"onEventAdded\", scheduler._recalculate_timed);\r\n\r\nscheduler.render_data = function(evs, hold) {\r\n\tevs = this._pre_render_events(evs, hold);\r\n\tvar containers = {};\r\n\tfor (var i = 0; i < evs.length; i++)\r\n\t\tif (this._table_view){\r\n\t\t\tif(scheduler._mode != 'month'){\r\n\t\t\t\tthis.render_event_bar(evs[i]);//may be multiday section on other views\r\n\t\t\t}else{\r\n\r\n\t\t\t\tvar max_evs = scheduler.config.max_month_events;\r\n\t\t\t\tif(max_evs !== max_evs*1 || evs[i]._sorder < max_evs){\r\n\t\t\t\t\t//of max number events per month cell is set and event can be rendered\r\n\t\t\t\t\tthis.render_event_bar(evs[i]);\r\n\t\t\t\t}else if(max_evs !== undefined && evs[i]._sorder == max_evs){\r\n\t\t\t\t\t//render 'view more' links\r\n\t\t\t\t\tscheduler._render_month_link(evs[i]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//do not render events with ordinal number > maximum events per cell\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}else{\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tvar parent = scheduler.locate_holder(ev._sday);\r\n\t\t\tif (!parent) continue; //attempt to render non-visible event\r\n\r\n\t\t\tif(!containers[ev._sday]){\r\n\t\t\t\tcontainers[ev._sday] = {\r\n\t\t\t\t\treal: parent,\r\n\t\t\t\t\tbuffer: document.createDocumentFragment(),\r\n\t\t\t\t\twidth: parent.clientWidth\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar container = containers[ev._sday];\r\n\t\t\tthis.render_event(ev, container.buffer, container.width);\r\n\t\t}\r\n\r\n\t\tfor(var i in containers){\r\n\t\t\tvar container = containers[i];\r\n\t\t\tif(container.real && container.buffer){\r\n\t\t\t\tcontainer.real.appendChild(container.buffer);\r\n\t\t\t}\r\n\t\t}\r\n};\r\n\r\nscheduler._get_first_visible_cell = function(cells) {\r\n\tfor (var i = 0; i < cells.length; i++) {\r\n\t\tif ((cells[i].className || \"\").indexOf(\"dhx_scale_ignore\") == -1) {\r\n\t\t\treturn cells[i];\r\n\t\t}\r\n\t}\r\n\t// if no visible cell found, return cells[0] to be more tolerant, since it's the original logic\r\n\treturn cells[0];\r\n};\r\n\r\nscheduler._pre_render_events = function(evs, hold) {\r\n\tvar hb = this.xy.bar_height;\r\n\tvar h_old = this._colsS.heights;\r\n\tvar h = this._colsS.heights = [0, 0, 0, 0, 0, 0, 0];\r\n\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\r\n\tif (!this._table_view) {\r\n\t\tevs = this._pre_render_events_line(evs, hold); //ignore long events for now\r\n\t}\r\n\telse {\r\n\t\tevs = this._pre_render_events_table(evs, hold);\r\n\t}\r\n\tif (this._table_view) {\r\n\t\tif (hold)\r\n\t\t\tthis._colsS.heights = h_old;\r\n\t\telse {\r\n\t\t\tvar monthRows = data.querySelectorAll(\".dhx_cal_month_row\");\r\n\t\t\tif (monthRows.length) {\r\n\t\t\t\tfor (var i = 0; i < monthRows.length; i++) {\r\n\t\t\t\t\th[i]++;\r\n\t\t\t\t\tvar cells = monthRows[i].querySelectorAll(\".dhx_cal_month_cell\");\r\n\t\t\t\t\tvar cellHeight = this._colsS.height - this.xy.month_head_height;\r\n\t\t\t\t\tif ((h[i]) * hb > cellHeight) { // 22 - height of cell's header\r\n\t\t\t\t\t\t//we have overflow, update heights\r\n\r\n\t\t\t\t\t\tvar cHeight = cellHeight;\r\n\t\t\t\t\t\tif(this.config.max_month_events*1 !== this.config.max_month_events || h[i] <= this.config.max_month_events){\r\n\t\t\t\t\t\t\tcHeight = h[i] * hb;\r\n\t\t\t\t\t\t}else if( (this.config.max_month_events + 1) * hb > cellHeight){\r\n\t\t\t\t\t\t\tcHeight = (this.config.max_month_events + 1) * hb;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmonthRows[i].style.height = (cHeight + this.xy.month_head_height) + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\th[i] = (h[i - 1] || 0) + scheduler._get_first_visible_cell(cells).offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\th.unshift(0);\r\n\t\t\t\tconst dataArea = this.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tif (dataArea.offsetHeight < dataArea.scrollHeight && !scheduler._colsS.scroll_fix && scheduler.xy.scroll_width) {\r\n\r\n\t\t\t\t\tvar scale_settings = scheduler._colsS,\r\n\t\t\t\t\t\tsum_width = scale_settings[scale_settings.col_length],\r\n\t\t\t\t\t\trow_heights = scale_settings.heights.slice();\r\n\r\n\t\t\t\t\tsum_width -= (scheduler.xy.scroll_width || 0);\r\n\t\t\t\t\tthis._calc_scale_sizes(sum_width, this._min_date, this._max_date);\r\n\t\t\t\t\tscheduler._colsS.heights = row_heights;\r\n\r\n\t\t\t\t\tthis.set_xy(this._els[\"dhx_cal_header\"][0], sum_width/*, this.xy.scale_height*/);\r\n\t\t\t\t\tscheduler._render_scales(this._els[\"dhx_cal_header\"][0]);\r\n\t\t\t\t\tscheduler._render_month_scale(this._els[\"dhx_cal_data\"][0], this._get_timeunit_start(), this._min_date);\r\n\r\n\t\t\t\t\tscale_settings.scroll_fix = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!evs.length && this._els[\"dhx_multi_day\"][0].style.visibility == \"visible\")\r\n\t\t\t\t\th[0] = -1;\r\n\t\t\t\tif (evs.length || h[0] == -1) {\r\n\t\t\t\t\t//shift days to have space for multiday events\r\n\t\t\t\t\t//var childs = evl.parentNode.childNodes;\r\n\r\n\t\t\t\t\t// +1 so multiday events would have 2px from top and 2px from bottom by default\r\n\t\t\t\t\tvar full_multi_day_height = (h[0] + 1) * hb + 4;\r\n\r\n\t\t\t\t\tvar used_multi_day_height = full_multi_day_height;\r\n\t\t\t\t\tvar used_multi_day_height_css = full_multi_day_height + \"px\";\r\n\t\t\t\t\tif (this.config.multi_day_height_limit) {\r\n\t\t\t\t\t\tused_multi_day_height = Math.min(full_multi_day_height, this.config.multi_day_height_limit) ;\r\n\t\t\t\t\t\tused_multi_day_height_css = used_multi_day_height + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar multi_day_section = this._els[\"dhx_multi_day\"][0];\r\n\t\t\t\t\tmulti_day_section.style.height = used_multi_day_height_css;\r\n\t\t\t\t\tmulti_day_section.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\tmulti_day_section.style.display = (h[0] == -1 ? \"none\" : \"\");\r\n\r\n\t\t\t\t\t// icon\r\n\t\t\t\t\tvar multi_day_icon = this._els[\"dhx_multi_day\"][1];\r\n\t\t\t\t\tmulti_day_icon.style.height = used_multi_day_height_css;\r\n\t\t\t\t\tmulti_day_icon.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\tmulti_day_icon.style.display = (h[0] == -1 ? \"none\" : \"\");\r\n\t\t\t\t\tmulti_day_icon.className = h[0] ? \"dhx_multi_day_icon\" : \"dhx_multi_day_icon_small\";\r\n\t\t\t\t\tthis._dy_shift = (h[0] + 1) * hb;\r\n\t\t\t\t\tif(this.config.multi_day_height_limit){\r\n\t\t\t\t\t\tthis._dy_shift = Math.min(this.config.multi_day_height_limit, this._dy_shift);\r\n\t\t\t\t\t}\r\n\t\t\t\t\th[0] = 0;\r\n\r\n\t\t\t\t\tif (used_multi_day_height != full_multi_day_height) {\r\n\r\n\t\t\t\t\t\tmulti_day_section.style.overflowY = \"auto\";\r\n\t\t\t\t\t//\tmulti_day_section.style.width = (parseInt(this._els[\"dhx_cal_navline\"][0].style.width)) + \"px\";\r\n\r\n\t\t\t\t\t\tmulti_day_icon.style.position = \"fixed\";\r\n\t\t\t\t\t\tmulti_day_icon.style.top = \"\";\r\n\t\t\t\t\t\tmulti_day_icon.style.left = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn evs;\r\n};\r\nscheduler._get_event_sday = function(ev) {\r\n\t// get day in current view\r\n\t// use rounding for 23 or 25 hour days on DST\r\n\tvar datePart = this.date.day_start(new Date(ev.start_date));\r\n\treturn Math.round((datePart.valueOf() - this._min_date.valueOf()) / (24 * 60 * 60 * 1000));\r\n};\r\nscheduler._get_event_mapped_end_date = function(ev) {\r\n\tvar end_date = ev.end_date;\r\n\tif (this.config.separate_short_events) {\r\n\t\tvar ev_duration = (ev.end_date - ev.start_date) / 60000; // minutes\r\n\t\tif (ev_duration < this._min_mapped_duration) {\r\n\t\t\tend_date = this.date.add(end_date, this._min_mapped_duration - ev_duration, \"minute\");\r\n\t\t}\r\n\t}\r\n\treturn end_date;\r\n};\r\nscheduler._pre_render_events_line = function(evs, hold){\r\n\tevs.sort(function(a, b) {\r\n\t\tif (a.start_date.valueOf() == b.start_date.valueOf())\r\n\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\treturn a.start_date > b.start_date ? 1 : -1;\r\n\t});\r\n\tvar days = []; //events by weeks\r\n\tvar evs_originals = [];\r\n\r\n\tthis._min_mapped_duration = Math.floor(this.xy.min_event_height * 60 / this.config.hour_size_px);  // values could change along the way\r\n\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tvar ev = evs[i];\r\n\r\n\t\t//check date overflow\r\n\t\tvar sd = ev.start_date;\r\n\t\tvar ed = ev.end_date;\r\n\t\t//check scale overflow\r\n\t\tvar sh = sd.getHours();\r\n\t\tvar eh = ed.getHours();\r\n\t\tev._sday = this._get_event_sday(ev); // sday based on event start_date\r\n\t\tif (this._ignores[ev._sday]){\r\n\t\t\t//ignore event\r\n\t\t\tevs.splice(i,1);\r\n\t\t\ti--;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!days[ev._sday]) days[ev._sday] = [];\r\n\r\n\t\tif (!hold) {\r\n\t\t\tev._inner = false;\r\n\r\n\t\t\tvar stack = days[ev._sday];\r\n\r\n\t\t\twhile (stack.length) {\r\n\t\t\t\tvar t_ev = stack[stack.length - 1];\r\n\t\t\t\tvar t_end_date = this._get_event_mapped_end_date(t_ev);\r\n\t\t\t\tif (t_end_date.valueOf() <= ev.start_date.valueOf()) {\r\n\t\t\t\t\tstack.splice(stack.length - 1, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar slot_index = stack.length;\r\n\t\t\tvar sorderSet = false;\r\n\t\t\tfor (var j = 0; j < stack.length; j++) {\r\n\t\t\t\tvar t_ev = stack[j];\r\n\t\t\t\tvar t_end_date = this._get_event_mapped_end_date(t_ev);\r\n\t\t\t\tif (t_end_date.valueOf() <= ev.start_date.valueOf()) {\r\n\t\t\t\t\tsorderSet = true;\r\n\t\t\t\t\tev._sorder = t_ev._sorder;\r\n\t\t\t\t\tslot_index = j;\r\n\t\t\t\t\tev._inner = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (stack.length)\r\n\t\t\t\tstack[stack.length - 1]._inner = true;\r\n\r\n\t\t\tif (!sorderSet) {\r\n\t\t\t\tif (stack.length) {\r\n\t\t\t\t\tif (stack.length <= stack[stack.length - 1]._sorder) {\r\n\t\t\t\t\t\tif (!stack[stack.length - 1]._sorder)\r\n\t\t\t\t\t\t\tev._sorder = 0;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tfor (j = 0; j < stack.length; j++) {\r\n\t\t\t\t\t\t\t\tvar _is_sorder = false;\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < stack.length; k++) {\r\n\t\t\t\t\t\t\t\t\tif (stack[k]._sorder == j) {\r\n\t\t\t\t\t\t\t\t\t\t_is_sorder = true;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!_is_sorder) {\r\n\t\t\t\t\t\t\t\t\tev._sorder = j;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tev._inner = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar _max_sorder = stack[0]._sorder;\r\n\t\t\t\t\t\tfor (j = 1; j < stack.length; j++) {\r\n\t\t\t\t\t\t\tif (stack[j]._sorder > _max_sorder)\r\n\t\t\t\t\t\t\t\t_max_sorder = stack[j]._sorder;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tev._sorder = _max_sorder + 1;\r\n\t\t\t\t\t\tev._inner = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t\tev._sorder = 0;\r\n\t\t\t}\r\n\r\n\t\t\tstack.splice(slot_index, slot_index == stack.length ? 0 : 1, ev);\r\n\r\n\t\t\tif (stack.length > (stack.max_count || 0)) {\r\n\t\t\t\tstack.max_count = stack.length;\r\n\t\t\t\tev._count = stack.length;\r\n\t\t\t} else {\r\n\t\t\t\tev._count = (ev._count) ? ev._count : 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (sh < this.config.first_hour || eh >= this.config.last_hour) {\r\n\t\t\t// Need to create copy of event as we will be changing it's start/end date\r\n\t\t\t// e.g. first_hour = 11 and event.start_date hours = 9. Need to preserve that info\r\n\t\t\tevs_originals.push(ev);\r\n\t\t\tevs[i] = ev = this._copy_event(ev);\r\n\r\n\t\t\tif (sh < this.config.first_hour) {\r\n\t\t\t\tev.start_date.setHours(this.config.first_hour);\r\n\t\t\t\tev.start_date.setMinutes(0);\r\n\t\t\t}\r\n\t\t\tif (eh >= this.config.last_hour) {\r\n\t\t\t\tev.end_date.setMinutes(0);\r\n\t\t\t\tev.end_date.setHours(this.config.last_hour);\r\n\t\t\t}\r\n\r\n\t\t\tif (ev.start_date > ev.end_date || sh == this.config.last_hour) {\r\n\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (!hold) {\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tevs[i]._count = days[evs[i]._sday].max_count;\r\n\t\t}\r\n\t\tfor (var i = 0; i < evs_originals.length; i++)\r\n\t\t\tevs_originals[i]._count = days[evs_originals[i]._sday].max_count;\r\n\t}\r\n\r\n\treturn evs;\r\n};\r\nscheduler._time_order = function(evs) {\r\n\tevs.sort(function(a, b) {\r\n\t\tif (a.start_date.valueOf() == b.start_date.valueOf()) {\r\n\t\t\tif (a._timed && !b._timed) return 1;\r\n\t\t\tif (!a._timed && b._timed) return -1;\r\n\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\t}\r\n\t\treturn a.start_date > b.start_date ? 1 : -1;\r\n\t});\r\n};\r\n\r\nscheduler._is_any_multiday_cell_visible = function(from, to, event){\r\n\tvar cols = this._cols.length;\r\n\tvar isAnyCellVisible = false;\r\n\tvar checkDate = from;\r\n\tvar noCells = true;\r\n\tvar lastDayEnd = new Date(to);\r\n\tif(scheduler.date.day_start(new Date(to)).valueOf() != to.valueOf()){\r\n\t\tlastDayEnd = scheduler.date.day_start(lastDayEnd);\r\n\t\tlastDayEnd = scheduler.date.add(lastDayEnd, 1, \"day\");\r\n\t}\r\n\twhile(checkDate < lastDayEnd){\r\n\t\tnoCells = false;\r\n\t\tvar cellIndex = this.locate_holder_day(checkDate, false, event);\r\n\t\tvar weekCellIndex = cellIndex % cols;\r\n\t\tif(!this._ignores[weekCellIndex]){\r\n\t\t\tisAnyCellVisible = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcheckDate = scheduler.date.add(checkDate, 1, \"day\");\r\n\t}\r\n\treturn noCells || isAnyCellVisible;\r\n};\r\n\r\nscheduler._pre_render_events_table = function(evs, hold) { // max - max height of week slot\r\n\tthis._time_order(evs);\r\n\tvar out = [];\r\n\tvar weeks = [\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[]\r\n\t]; //events by weeks\r\n\tvar max = this._colsS.heights;\r\n\tvar start_date;\r\n\tvar cols = this._cols.length;\r\n\tvar chunks_info = {};\r\n\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tvar ev = evs[i];\r\n\t\tvar id = ev.id;\r\n\t\tif (!chunks_info[id]) {\r\n\t\t\tchunks_info[id] = {\r\n\t\t\t\tfirst_chunk: true,\r\n\t\t\t\tlast_chunk: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tvar chunk_info = chunks_info[id];\r\n\t\tvar sd = (start_date || ev.start_date);\r\n\t\tvar ed = ev.end_date;\r\n\t\t//trim events which are crossing through current view\r\n\t\tif (sd < this._min_date) {\r\n\t\t\tchunk_info.first_chunk = false;\r\n\t\t\tsd = this._min_date;\r\n\t\t}\r\n\t\tif (ed > this._max_date) {\r\n\t\t\tchunk_info.last_chunk = false;\r\n\t\t\ted = this._max_date;\r\n\t\t}\r\n\r\n\t\tvar locate_s = this.locate_holder_day(sd, false, ev);\r\n\t\tev._sday = locate_s % cols;\r\n\t\t//skip single day events for ignored dates\r\n\t\tif (this._ignores[ev._sday] && ev._timed) continue;\r\n\r\n\t\tvar locate_e = this.locate_holder_day(ed, true, ev) || cols;\r\n\t\tev._eday = (locate_e % cols) || cols; //cols used to fill full week, when event end on monday\r\n\t\tev._length = locate_e - locate_s;\r\n\t\t//3600000 - compensate 1 hour during winter|summer time shift\r\n\t\tev._sweek = Math.floor((this._correct_shift(sd.valueOf(), 1) - this._min_date.valueOf()) / (60 * 60 * 1000 * 24 * cols));\r\n\r\n\t\tvar isAnyCellVisible = scheduler._is_any_multiday_cell_visible(sd, ed, ev);\r\n\r\n\t\tif(!isAnyCellVisible){\r\n\t\t\tstart_date = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t//current slot\r\n\t\tvar stack = weeks[ev._sweek];\r\n\t\t//check order position\r\n\t\tvar stack_line;\r\n\r\n\t\tfor (stack_line = 0; stack_line < stack.length; stack_line++)\r\n\t\t\tif (stack[stack_line]._eday <= ev._sday)\r\n\t\t\t\tbreak;\r\n\r\n\t\tif (!ev._sorder || !hold) {\r\n\t\t\tev._sorder = stack_line;\r\n\t\t}\r\n\r\n\t\tif (ev._sday + ev._length <= cols) {\r\n\t\t\tstart_date = null;\r\n\t\t\tout.push(ev);\r\n\t\t\tstack[stack_line] = ev;\r\n\t\t\t//get max height of slot\r\n\t\t\tmax[ev._sweek] = stack.length - 1;\r\n\t\t\tev._first_chunk = chunk_info.first_chunk;\r\n\t\t\tev._last_chunk = chunk_info.last_chunk;\r\n\t\t} else { // split long event in chunks\r\n\t\t\tvar copy = this._copy_event(ev);\r\n\t\t\tcopy.id = ev.id;\r\n\t\t\tcopy._length = cols - ev._sday;\r\n\t\t\tcopy._eday = cols;\r\n\t\t\tcopy._sday = ev._sday;\r\n\t\t\tcopy._sweek = ev._sweek;\r\n\t\t\tcopy._sorder = ev._sorder;\r\n\t\t\tcopy.end_date = this.date.add(sd, copy._length, \"day\");\r\n\t\t\tcopy._first_chunk = chunk_info.first_chunk;\r\n\t\t\tif (chunk_info.first_chunk) {\r\n\t\t\t\tchunk_info.first_chunk = false;\r\n\t\t\t}\r\n\r\n\t\t\tout.push(copy);\r\n\t\t\tstack[stack_line] = copy;\r\n\t\t\tstart_date = copy.end_date;\r\n\t\t\t//get max height of slot\r\n\t\t\tmax[ev._sweek] = stack.length - 1;\r\n\t\t\ti--;\r\n\t\t\tcontinue;  //repeat same step\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n};\r\nscheduler._copy_dummy = function() {\r\n\tvar a = new Date(this.start_date);\r\n\tvar b = new Date(this.end_date);\r\n\tthis.start_date = a;\r\n\tthis.end_date = b;\r\n};\r\nscheduler._copy_event = function(ev) {\r\n\tthis._copy_dummy.prototype = ev;\r\n\treturn new this._copy_dummy();\r\n\t//return {start_date:ev.start_date, end_date:ev.end_date, text:ev.text, id:ev.id}\r\n};\r\nscheduler._rendered = [];\r\nscheduler.clear_view = function() {\r\n\tfor (var i = 0; i < this._rendered.length; i++) {\r\n\t\tvar obj = this._rendered[i];\r\n\t\tif (obj.parentNode) obj.parentNode.removeChild(obj);\r\n\t}\r\n\tthis._rendered = [];\r\n};\r\nscheduler.updateEvent = function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tthis.clear_event(id);\r\n\r\n\tif (ev && this.is_visible_events(ev) && this.filter_event(id, ev) && (this._table_view || this.config.multi_day || ev._timed)) {\r\n\t\tif (this.config.update_render){\r\n\t\t\tthis.render_view_data();\r\n\t\t}else{\r\n\t\t\tif(this.getState().mode == \"month\" && !this.getState().drag_id && !this.isOneDayEvent(ev)){\r\n\t\t\t\tthis.render_view_data();\r\n\t\t\t}else{\r\n\t\t\t\tthis.render_view_data([ev], true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.clear_event = function(id) {\r\n\tthis.for_rendered(id, function(node, i) {\r\n\t\tif (node.parentNode)\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\tscheduler._rendered.splice(i, 1);\r\n\t});\r\n};\r\nscheduler._y_from_date = function(date){\r\n\tvar sm = date.getHours() * 60 + date.getMinutes();\r\n\treturn ((Math.round((sm * 60 * 1000 - this.config.first_hour * 60 * 60 * 1000) * this.config.hour_size_px / (60 * 60 * 1000))) % (this.config.hour_size_px * 24)); //42px/hour\r\n};\r\nscheduler._calc_event_y = function(ev, min_height){\r\n\tmin_height = min_height || 0;\r\n\tvar sm = ev.start_date.getHours() * 60 + ev.start_date.getMinutes();\r\n\tvar em = (ev.end_date.getHours() * 60 + ev.end_date.getMinutes()) || (scheduler.config.last_hour * 60);\r\n\tvar top = this._y_from_date(ev.start_date);\r\n\r\n\tvar height = Math.max(min_height, (em - sm) * this.config.hour_size_px / 60); //42px/hour\r\n\treturn {\r\n\t\ttop: top,\r\n\t\theight: height\r\n\t};\r\n};\r\nscheduler.render_event = function(ev, buffer, parentWidth) {\r\n\tvar menu = scheduler.xy.menu_width;\r\n\tvar menu_offset = (this.config.use_select_menu_space) ? 0 : menu;\r\n\tif (ev._sday < 0) return; //can occur in case of recurring event during time shift\r\n\r\n\tvar parent = scheduler.locate_holder(ev._sday);\r\n\tif (!parent) return; //attempt to render non-visible event\r\n\r\n\tbuffer = buffer || parent;\r\n\r\n\tvar pos_y = this._calc_event_y(ev, scheduler.xy.min_event_height);\r\n\tvar top = pos_y.top,\r\n\t\theight = pos_y.height;\r\n\r\n\tvar ev_count = ev._count || 1;\r\n\tvar ev_sorder = ev._sorder || 0;\r\n\r\n\tparentWidth = parentWidth || parent.clientWidth;\r\n\tif(this.config.day_column_padding){\r\n\t\tparentWidth -= this.config.day_column_padding;\r\n\t}\r\n\r\n\tvar width = Math.floor((parentWidth - menu_offset) / ev_count);\r\n\tvar left = ev_sorder * width + 1;\r\n\tif (!ev._inner) width = width * (ev_count - ev_sorder);\r\n\tif (this.config.cascade_event_display) {\r\n\t\tvar limit = this.config.cascade_event_count;\r\n\t\tvar margin = this.config.cascade_event_margin;\r\n\t\tleft = ev_sorder % limit * margin;\r\n\t\tvar right = (ev._inner) ? (ev_count - ev_sorder - 1) % limit * margin / 2 : 0;\r\n\t\twidth = Math.floor(parentWidth - menu_offset - left - right);\r\n\t}\r\n\r\n\tif(height < 30){\r\n\t\tev._mode = \"smallest\";\r\n\t}else if(height < 42){\r\n\t\tev._mode = \"small\";\r\n\t}else{\r\n\t\tev._mode = null;\r\n\t}\r\n\r\n\tvar d = this._render_v_bar(ev, menu_offset + left, top, width, height, ev._text_style, scheduler.templates.event_header(ev.start_date, ev.end_date, ev), scheduler.templates.event_text(ev.start_date, ev.end_date, ev));\r\n\t\r\n\tif(ev._mode === \"smallest\"){\r\n\t\td.classList.add(\"dhx_cal_event--xsmall\");\r\n\t}else if (ev._mode === \"small\"){\r\n\t\td.classList.add(\"dhx_cal_event--small\");\r\n\t}\r\n\r\n\tthis._waiAria.eventAttr(ev, d);\r\n\tthis._rendered.push(d);\r\n\tbuffer.appendChild(d);\r\n\r\n\tvar parentPosition = parseInt( this.config.rtl ? parent.style.right : parent.style.left, 10);\r\n\r\n\tleft = left + parentPosition + menu_offset;\r\n\r\n\tif (this._edit_id == ev.id) {\r\n\r\n\t\td.style.zIndex = 1; //fix overlapping issue\r\n\t\twidth = Math.max(width, scheduler.xy.editor_width);\r\n\t\td = document.createElement(\"div\");\r\n\t\td.setAttribute(\"event_id\", ev.id); // for backward compatibility\r\n\t\td.setAttribute(this.config.event_attribute, ev.id);\r\n\r\n\t\tthis._waiAria.eventAttr(ev, d);\r\n\r\n\t\td.className = \"dhx_cal_event dhx_cal_editor\";\r\n\t\tif (this.config.rtl) left++;\r\n\t\tthis.set_xy(d, width, height, left, top);\r\n\r\n\r\n\t\tif(ev.color){\r\n\t\t\td.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tvar tplClass = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\r\n\t\tif(tplClass){\r\n\t\t\td.className += \" \" + tplClass;\r\n\t\t}\r\n\t\tvar d2 = document.createElement(\"div\");\r\n\t\td2.style.cssText += \"overflow:hidden;height:100%\";\r\n\r\n\t\td.appendChild(d2);\r\n\t\tthis._els[\"dhx_cal_data\"][0].appendChild(d);\r\n\t\tthis._rendered.push(d);\r\n\r\n\t\td2.innerHTML = \"<textarea class='dhx_cal_editor'>\" + ev.text + \"</textarea>\";\r\n\t\tthis._editor = d2.querySelector(\"textarea\");\r\n\t\t\r\n\t\tscheduler.event(this._editor, \"keydown\", function(e) {\r\n\t\t\tif (e.shiftKey) return true;\r\n\t\t\tvar code = e.keyCode;\r\n\t\t\tif (code == scheduler.keys.edit_save) scheduler.editStop(true);\r\n\t\t\tif (code == scheduler.keys.edit_cancel) scheduler.editStop(false);\r\n\r\n\t\t\tif(code == scheduler.keys.edit_save || code == scheduler.keys.edit_cancel){\r\n\t\t\t\tif(e.preventDefault) e.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\t\tscheduler.event(this._editor, \"selectstart\", function (e) {\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tscheduler._focus(this._editor, true);\r\n\t\t//IE and opera can add x-scroll during focusing\r\n\t\tthis._els[\"dhx_cal_data\"][0].scrollLeft = 0;\r\n\t}\r\n\tif (this.xy.menu_width !== 0 && this._select_id == ev.id) {\r\n\r\n\t\tif (this.config.cascade_event_display && this._drag_mode)\r\n\t\t\td.style.zIndex = 1; //fix overlapping issue for cascade view in case of dnd of selected event\r\n\t\tvar icons = this.config[\"icons_\" + ((this._edit_id == ev.id) ? \"edit\" : \"select\")];\r\n\t\tvar icons_str = \"\";\r\n\r\n\t\tvar ariaAttr;\r\n\r\n\t\tfor (var i = 0; i < icons.length; i++) {\r\n\t\t\tconst currentIcon = icons[i];\r\n\t\t\tariaAttr = this._waiAria.eventMenuAttrString(currentIcon);\r\n\t\t\ticons_str += `<div class='dhx_menu_icon ${currentIcon}' title='${this.locale.labels[currentIcon]}' ${ariaAttr}></div>`;\r\n\t\t}\r\n\t\tvar obj = this._render_v_bar(ev, left - menu - 1, top, menu, null, \"\", \"<div class='dhx_menu_head'></div>\", icons_str, true);\r\n\r\n\t\tif(ev.color){\r\n\t\t\tobj.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tobj.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\t//obj.style.left = left - menu + 1;\r\n\t\tthis._els[\"dhx_cal_data\"][0].appendChild(obj);\r\n\t\tthis._rendered.push(obj);\r\n\t}\r\n\tif(this.config.drag_highlight && this._drag_id == ev.id){\r\n\t\tthis.highlightEventPosition(ev);\r\n\t}\r\n};\r\nscheduler._render_v_bar = function (ev, x, y, w, h, style, contentA, contentB, bottom) {\r\n\tvar d = document.createElement(\"div\");\r\n\tvar id = ev.id;\r\n\tvar cs = (bottom) ? \"dhx_cal_event dhx_cal_select_menu\" : \"dhx_cal_event\";\r\n\r\n\tvar state = scheduler.getState();\r\n\tif(state.drag_id == ev.id){\r\n\t\tcs += \" dhx_cal_event_drag\";\r\n\t}\r\n\r\n\tif(state.select_id == ev.id){\r\n\t\tcs += \" dhx_cal_event_selected\";\r\n\t}\r\n\r\n\tvar cse = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\tif (cse) cs = cs + \" \" + cse;\r\n\r\n\tif(this.config.cascade_event_display) {\r\n\t\tcs += \" dhx_cal_event_cascade\";\r\n\t}\r\n\r\n\tvar boxWidth = w - 1;\r\n\r\n\tvar html = '<div event_id=\"' + id + '\" ' + this.config.event_attribute + '=\"' + id + '\" class=\"' + cs +\r\n\t\t\t\t'\" style=\"position:absolute; top:' + y + 'px; ' +\r\n\t\t\t\t((this.config.rtl) ? 'right:':'left:') + x + 'px; width:' + boxWidth + 'px; height:' + h + 'px;' +\r\n\t\t\t\t(style || \"\") + '\"></div>';\r\n\td.innerHTML = html;\r\n\r\n\tvar container = d.cloneNode(true).firstChild;\r\n\r\n\tif (!bottom && scheduler.renderEvent(container, ev, w, h, contentA, contentB)) {\r\n\t\tif(ev.color){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\treturn container;\r\n\t} else {\r\n\t\tcontainer = d.firstChild;\r\n\t\tif(ev.color){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\tvar inner_html = '<div class=\"dhx_event_move dhx_header\" >&nbsp;</div>';\r\n\t\tinner_html += '<div class=\"dhx_event_move dhx_title\">' + contentA + '</div>';\r\n\t\tinner_html += '<div class=\"dhx_body\">' + contentB + '</div>'; // +2 css specific, moved from render_event\r\n\r\n\t\tvar footer_class = \"dhx_event_resize dhx_footer\";\r\n\t\tif (bottom || ev._drag_resize === false)\r\n\t\t\tfooter_class = \"dhx_resize_denied \" + footer_class;\r\n\r\n\t\tinner_html += '<div class=\"' + footer_class + '\" style=\" width:' + (bottom ? ' margin-top:-1px;' : '') + '\" ></div>';\r\n\r\n\t\tcontainer.innerHTML = inner_html;\r\n\t}\r\n\r\n\treturn container;\r\n};\r\nscheduler.renderEvent = function(){\r\n\treturn false;\r\n};\r\nscheduler.locate_holder = function(day) {\r\n\tif (this._mode == \"day\") return this._els[\"dhx_cal_data\"][0].firstChild; //dirty\r\n\treturn this._els[\"dhx_cal_data\"][0].childNodes[day];\r\n};\r\nscheduler.locate_holder_day = function(date, past) {\r\n\tvar day = Math.floor((this._correct_shift(date, 1) - this._min_date) / (60 * 60 * 24 * 1000));\r\n\t//when locating end data of event , we need to use next day if time part was defined\r\n\tif (past && this.date.time_part(date)) day++;\r\n\treturn day;\r\n};\r\n\r\n\r\n\r\nscheduler._get_dnd_order = function(order, ev_height, max_height){\r\n\tif(!this._drag_event)\r\n\t\treturn order;\r\n\tif(!this._drag_event._orig_sorder)\r\n\t\tthis._drag_event._orig_sorder = order;\r\n\telse\r\n\t\torder = this._drag_event._orig_sorder;\r\n\r\n\tvar evTop = ev_height * order;\r\n\twhile((evTop + ev_height) > max_height){\r\n\t\torder--;\r\n\t\tevTop -= ev_height;\r\n\t}\r\n\torder = Math.max(order, 0);\r\n\treturn order;\r\n};\r\n//scheduler._get_event_bar_pos = function(sday, eday, week, drag){\r\nscheduler._get_event_bar_pos = function(ev){\r\n\tvar rtl = this.config.rtl;\r\n\tvar columns = this._colsS;\r\n\tvar x = columns[ev._sday];\r\n\tvar x2 = columns[ev._eday];\r\n\tif (rtl) {\r\n\t\tx = columns[columns.col_length] - columns[ev._eday] + columns[0];\r\n\t\tx2 = columns[columns.col_length] - columns[ev._sday] + columns[0];\r\n\t}\r\n\r\n\tif (x2 == x) x2 = columns[ev._eday + 1];\r\n\tvar hb = this.xy.bar_height;\r\n\r\n\tvar order = ev._sorder;\r\n\tif(ev.id == this._drag_id){\r\n\t\tvar cellHeight = columns.heights[ev._sweek + 1] - columns.heights[ev._sweek]- this.xy.month_head_height;//22 for month head height\r\n\t\torder = scheduler._get_dnd_order(order, hb, cellHeight);\r\n\t}\r\n\tvar y_event_offset =  order * hb;\r\n\tvar y = columns.heights[ev._sweek] + (columns.height ? (this.xy.month_scale_height + 2) : 2 ) + y_event_offset;\r\n\treturn {x:x, x2:x2, y:y};\r\n};\r\n\r\nscheduler.render_event_bar = function (ev) {\r\n\tvar parent = this._rendered_location;\r\n\tvar pos = this._get_event_bar_pos(ev);\r\n\tvar y = pos.y;\r\n\tvar x = pos.x;\r\n\tvar x2 = pos.x2;\r\n\t// resize for month mutliday events\r\n\tvar resize_handle = \"\";\r\n\r\n\t//events in ignored dates\r\n\r\n\tif (!x2) return;\r\n\r\n\tvar resizable = scheduler.config.resize_month_events && this._mode == \"month\" &&\r\n\t\t(!ev._timed || scheduler.config.resize_month_timed);\r\n\r\n\tvar d = document.createElement(\"div\");\r\n\tvar left_chunk = (ev.hasOwnProperty(\"_first_chunk\") && ev._first_chunk),\r\n\t\tright_chunk = (ev.hasOwnProperty(\"_last_chunk\") && ev._last_chunk);\r\n\r\n\tvar resize_left = resizable && (ev._timed || left_chunk);\r\n\tvar resize_right = resizable && (ev._timed || right_chunk);\r\n\r\n\tvar timed = true;\r\n\tvar cs = \"dhx_cal_event_clear\";\r\n\tif (!ev._timed || resizable) {\r\n\t\ttimed = false;\r\n\t\tcs = \"dhx_cal_event_line\";\r\n\t}\r\n\tif(left_chunk){\r\n\t\tcs += \" dhx_cal_event_line_start\";\r\n\t}\r\n\tif(right_chunk){\r\n\t\tcs += \" dhx_cal_event_line_end\";\r\n\t}\r\n\tif(resize_left){\r\n\t\tresize_handle += \"<div class='dhx_event_resize dhx_event_resize_start'></div>\";\r\n\t}\r\n\tif(resize_right){\r\n\t\tresize_handle += \"<div class='dhx_event_resize dhx_event_resize_end'></div>\";\r\n\t}\r\n\r\n\tvar cse = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\tif (cse){\r\n\t\tcs += \" \" + cse;\r\n\t}\r\n\r\n\tvar bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\tvar color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\tvar style_text = [\r\n\t\t\"position:absolute\",\r\n\t\t\"top:\" + y + \"px\",\r\n\t\t\"left:\" + x + \"px\",\r\n\t\t\"width:\" + (x2 - x - (timed ? 1 : 0)) + \"px\",\r\n\t\t\"height:\" + (this.xy.bar_height - 2) + \"px\",\r\n\t\tcolor,\r\n\t\tbg_color,\r\n\t\t(ev._text_style || \"\")\r\n\t].join(\";\");\r\n\r\n\tvar html = \"<div event_id='\" + ev.id + \"' \" + this.config.event_attribute + \"='\" + ev.id + \"' class='\"+ cs + \"' style='\"+style_text+\"'\"+this._waiAria.eventBarAttrString(ev)+\">\";\r\n\tif (resizable) {\r\n\t\thtml += resize_handle;\r\n\t}\r\n\tif(scheduler.getState().mode == \"month\"){\r\n\t\tev = scheduler.getEvent(ev.id); // ev at this point could be a part (row in a month view) of a larger event\r\n\t}\r\n\r\n\tif (ev._timed){\r\n\t\thtml += `<span class='dhx_cal_event_clear_date'>${scheduler.templates.event_bar_date(ev.start_date, ev.end_date, ev)}</span>`;\r\n\t}\r\n\r\n\thtml += \"<div class='dhx_cal_event_line_content'>\";\r\n\thtml += scheduler.templates.event_bar_text(ev.start_date, ev.end_date, ev) + '</div>';\r\n\thtml += \"</div>\";\r\n\thtml += '</div>';\r\n\r\n\td.innerHTML = html;\r\n\r\n\tthis._rendered.push(d.firstChild);\r\n\tparent.appendChild(d.firstChild);\r\n};\r\n\r\nscheduler._locate_event = function(node) {\r\n\tvar id = null;\r\n\twhile (node && !id && node.getAttribute) {\r\n\t\tid = node.getAttribute(this.config.event_attribute);\r\n\t\tnode = node.parentNode;\r\n\t}\r\n\treturn id;\r\n};\r\n\r\nscheduler.edit = function(id) {\r\n\tif (this._edit_id == id) return;\r\n\tthis.editStop(false, id);\r\n\tthis._edit_id = id;\r\n\tthis.updateEvent(id);\r\n};\r\nscheduler.editStop = function(mode, id) {\r\n\tif (id && this._edit_id == id) return;\r\n\tvar ev = this.getEvent(this._edit_id);\r\n\tif (ev) {\r\n\t\tif (mode) ev.text = this._editor.value;\r\n\t\tthis._edit_id = null;\r\n\t\tthis._editor = null;\r\n\t\tthis.updateEvent(ev.id);\r\n\t\tthis._edit_stop_event(ev, mode);\r\n\t}\r\n};\r\nscheduler._edit_stop_event = function(ev, mode) {\r\n\tif (this._new_event) {\r\n\t\tif (!mode) {\r\n\t\t\tif (ev) // in case of custom lightbox user can already delete event\r\n\t\t\t\tthis.deleteEvent(ev.id, true);\r\n\t\t} else {\r\n\t\t\tthis.callEvent(\"onEventAdded\", [ev.id, ev]);\r\n\t\t}\r\n\t\tthis._new_event = null;\r\n\t} else {\r\n\t\tif (mode){\r\n\t\t\tthis.callEvent(\"onEventChanged\", [ev.id, ev]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.getEvents = function(from, to) {\r\n\tvar result = [];\r\n\tfor (var a in this._events) {\r\n\t\tvar ev = this._events[a];\r\n\t\tif (ev && ( (!from && !to) || (ev.start_date < to && ev.end_date > from) ))\r\n\t\t\tresult.push(ev);\r\n\t}\r\n\treturn result;\r\n};\r\nscheduler.getRenderedEvent = function(id) {\r\n\tif (!id)\r\n\t\treturn;\r\n\tvar rendered_events = scheduler._rendered;\r\n\tfor (var i=0; i<rendered_events.length; i++) {\r\n\t\tvar rendered_event = rendered_events[i];\r\n\t\tif (rendered_event.getAttribute(scheduler.config.event_attribute) == id) {\r\n\t\t\treturn rendered_event;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\nscheduler.showEvent = function(id, mode) {\r\n\tvar section;\r\n\tif(id && typeof id === \"object\"){\r\n\t\tmode = id.mode;\r\n\t\tsection = id.section;\r\n\t\tid = id.section;\r\n\t}\r\n\tvar ev = (typeof id == \"number\" || typeof id == \"string\") ? scheduler.getEvent(id) : id;\r\n\tmode = mode||scheduler._mode;\r\n\r\n\tif (!ev || (this.checkEvent(\"onBeforeEventDisplay\") && !this.callEvent(\"onBeforeEventDisplay\", [ev, mode])))\r\n\t\treturn;\r\n\r\n\tvar scroll_hour = scheduler.config.scroll_hour;\r\n\tscheduler.config.scroll_hour = ev.start_date.getHours();\r\n\tvar preserve_scroll = scheduler.config.preserve_scroll;\r\n\tscheduler.config.preserve_scroll = false;\r\n\r\n\tvar original_color = ev.color;\r\n\tvar original_text_color = ev.textColor;\r\n\tif (scheduler.config.highlight_displayed_event) {\r\n\t\tev.color = scheduler.config.displayed_event_color;\r\n\t\tev.textColor = scheduler.config.displayed_event_text_color;\r\n\t}\r\n\r\n\tscheduler.setCurrentView(new Date(ev.start_date), mode);\r\n\r\n\tfunction restoreOriginalColors(){\r\n\t\tev.color = original_color;\r\n\t\tev.textColor = original_text_color;\r\n\t}\r\n\r\n\tscheduler.config.scroll_hour = scroll_hour;\r\n\tscheduler.config.preserve_scroll = preserve_scroll;\r\n\r\n\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\tvar timeline = scheduler.getView();\r\n\t\tvar property = timeline.y_property;\r\n\r\n\t\tvar event = scheduler.getEvent(ev.id);\r\n\r\n\t\tif(event){\r\n\t\t\tif(!section){\r\n\t\t\t\tvar section = event[property];\r\n\t\t\t\tif(Array.isArray(section)){\r\n\t\t\t\t\tsection = section[0];\r\n\t\t\t\t}else if(typeof section === \"string\" && scheduler.config.section_delimiter && section.indexOf(scheduler.config.section_delimiter) > -1){\r\n\t\t\t\t\tsection = section.split(scheduler.config.section_delimiter)[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar top = timeline.getSectionTop(section);\r\n\t\t\tvar left = timeline.posFromDate(event.start_date);\r\n\t\t\tvar container = scheduler.$container.querySelector(\".dhx_timeline_data_wrapper\");\r\n\t\t\tleft = left - (container.offsetWidth - timeline.dx) / 2;\r\n\t\t\ttop = top - container.offsetHeight / 2 + timeline.dy/2;\r\n\r\n\t\t\tif (timeline._smartRenderingEnabled()) {\r\n\t\t\t\tvar handlerId = timeline.attachEvent(\"onScroll\", function(){\r\n\t\t\t\t\trestoreOriginalColors();\r\n\t\t\t\t\ttimeline.detachEvent(handlerId);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ttimeline.scrollTo({\r\n\t\t\t\tleft: left,\r\n\t\t\t\ttop: top\r\n\t\t\t});\r\n\t\t\tif (!timeline._smartRenderingEnabled()) {\r\n\t\t\t\trestoreOriginalColors();\r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\trestoreOriginalColors();\r\n\t}\r\n\r\n\tscheduler.callEvent(\"onAfterEventDisplay\", [ev, mode]);\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._append_drag_marker = function(m){\r\n\tif(m.parentNode) return;\r\n\tvar zone = scheduler._els[\"dhx_cal_data\"][0];\r\n\r\n\tvar scale = zone.lastChild;\r\n\tvar className = scheduler._getClassName(scale);\r\n\tif(className.indexOf(\"dhx_scale_holder\") < 0 && scale.previousSibling){\r\n\t\tscale = scale.previousSibling;\r\n\t}\r\n\r\n\tclassName = scheduler._getClassName(scale);\r\n\tif (scale && className.indexOf(\"dhx_scale_holder\") === 0) {\r\n\t\tscale.appendChild(m);\r\n\t}\r\n};\r\n\r\nscheduler._update_marker_position = function(m, event){\r\n\tvar size = scheduler._calc_event_y(event, 0);\r\n\tm.style.top = size.top + \"px\";\r\n\tm.style.height = size.height + \"px\";\r\n};\r\n\r\nscheduler.highlightEventPosition = function(event){\r\n\tvar m = document.createElement(\"div\");\r\n\r\n\tm.setAttribute(\"event_id\", event.id); // for backward compatibility\r\n\tm.setAttribute(this.config.event_attribute, event.id);\r\n\tthis._rendered.push(m);\r\n\tthis._update_marker_position(m, event);\r\n\r\n\tvar css = this.templates.drag_marker_class(event.start_date, event.end_date, event);\r\n\tvar html = this.templates.drag_marker_content(event.start_date, event.end_date, event);\r\n\tm.className = \"dhx_drag_marker\";\r\n\tif(css)\r\n\t\tm.className += \" \" + css;\r\n\tif(html)\r\n\t\tm.innerHTML = html;\r\n\tthis._append_drag_marker(m);\r\n};\r\n\r\n}","import xmlLoaded from \"./loaders/xml\";\r\nimport jsonLoader from \"./loaders/json\";\r\nimport iCalLoader from \"./loaders/ical\";\r\nimport createSerializator from \"../core/common/get_serializable_events\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler._loaded = {};\r\nscheduler._load = function(url, from) {\r\n\turl = url || this._load_url;\r\n\r\n\tif(!url){\r\n\t\t//if scheduler.setLoadMode is called before scheduler.init, initial rendering will invoke data loading while url is undefined\r\n\t\treturn;\r\n\t}\r\n\r\n\turl += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + \"timeshift=\" + (new Date()).getTimezoneOffset();\r\n\tif (this.config.prevent_cache)    url += \"&uid=\" + this.uid();\r\n\tvar to;\r\n\tfrom = from || this._date;\r\n\tfunction ajaxCallback(response) {\r\n\t\tscheduler.on_load(response);\r\n\t\tscheduler.callEvent(\"onLoadEnd\", []);\r\n\t}\r\n\tif (this._load_mode) {\r\n\t\tvar lf = this.templates.load_format;\r\n\r\n\t\tfrom = this.date[this._load_mode + \"_start\"](new Date(from.valueOf()));\r\n\t\twhile (from > this._min_date) from = this.date.add(from, -1, this._load_mode);\r\n\t\tto = from;\r\n\r\n\t\tvar cache_line = true;\r\n\t\twhile (to < this._max_date) {\r\n\t\t\tto = this.date.add(to, 1, this._load_mode);\r\n\t\t\tif (this._loaded[lf(from)] && cache_line)\r\n\t\t\t\tfrom = this.date.add(from, 1, this._load_mode); else cache_line = false;\r\n\t\t}\r\n\r\n\t\tvar temp_to = to;\r\n\t\tdo {\r\n\t\t\tto = temp_to;\r\n\t\t\ttemp_to = this.date.add(to, -1, this._load_mode);\r\n\t\t} while (temp_to > from && this._loaded[lf(temp_to)]);\r\n\r\n\t\tif (to <= from)\r\n\t\t\treturn false; //already loaded\r\n\r\n\t\tscheduler.ajax.get(url + \"&from=\" + lf(from) + \"&to=\" + lf(to), ajaxCallback);\r\n\r\n\t\twhile (from < to) {\r\n\t\t\tthis._loaded[lf(from)] = true;\r\n\t\t\tfrom = this.date.add(from, 1, this._load_mode);\r\n\t\t}\r\n\t} else {\r\n\t\tscheduler.ajax.get(url, ajaxCallback);\r\n\t}\r\n\r\n\t// TODO: remove onXLS\r\n\tthis.callEvent(\"onXLS\", []);\r\n\tthis.callEvent(\"onLoadStart\", []);\r\n\treturn true;\r\n};\r\n\r\nscheduler._parsers = {};\r\n\r\n\r\nxmlLoaded(scheduler);\r\njsonLoader(scheduler);\r\niCalLoader(scheduler);\r\n\r\nscheduler.on_load = function (loader) {\r\n\tthis.callEvent(\"onBeforeParse\", []);\r\n\r\n\tvar evs;\r\n\tvar error = false;\r\n\r\n\tvar foundParser = false;\r\n\tfor(var i in this._parsers){\r\n\t\tvar parser = this._parsers[i];\r\n\t\tif(parser.canParse(loader.xmlDoc.responseText, loader.xmlDoc)){\r\n\t\t\ttry{\r\n\t\t\t\tvar param = loader.xmlDoc.responseText;\r\n\t\t\t\tif(i === \"xml\"){\r\n\t\t\t\t\tparam = loader;\r\n\t\t\t\t}\r\n\t\t\t\tevs = parser.parse(param);\r\n\t\t\t\tif(!evs){\r\n\t\t\t\t\terror = true;\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t\tfoundParser = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif(!foundParser){\r\n\t\tif(this._process && this[this._process]){\r\n\t\t\ttry{\r\n\t\t\t\tevs = this[this._process].parse(loader.xmlDoc.responseText);\r\n\t\t\t}catch (e){\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\terror = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif(error || (loader.xmlDoc.status && loader.xmlDoc.status >= 400)){\r\n\t\tthis.callEvent(\"onLoadError\", [loader.xmlDoc]);\r\n\t\tevs = [];\r\n\t}\r\n\r\n\tthis._process_loading(evs);\r\n\r\n\t// TODO: remove onXLE\r\n\tthis.callEvent(\"onXLE\", []);\r\n\tthis.callEvent(\"onParse\", []);\r\n};\r\nscheduler._process_loading = function(evs) {\r\n\tthis._loading = true;\r\n\tthis._not_render = true;\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tif (!this.callEvent(\"onEventLoading\", [evs[i]])) continue;\r\n\t\tthis.addEvent(evs[i]);\r\n\t}\r\n\tthis._not_render = false;\r\n\tif (this._render_wait) this.render_view_data();\r\n\r\n\tthis._loading = false;\r\n\tif (this._after_call) this._after_call();\r\n\tthis._after_call = null;\r\n};\r\nscheduler._init_event = function(event) {\r\n\tevent.text = (event.text || event._tagvalue) || \"\";\r\n\tevent.start_date = scheduler._init_date(event.start_date);\r\n\tevent.end_date = scheduler._init_date(event.end_date);\r\n};\r\n\r\nscheduler._init_date = function(date){\r\n\tif(!date)\r\n\t\treturn null;\r\n\tif (typeof date == \"string\") {\r\n\t\treturn scheduler._helpers.parseDate(date);\r\n\t}\r\n\telse return new Date(date);\r\n};\r\n\r\nconst getSerializableData = createSerializator(scheduler);\r\nscheduler.serialize = function(){\r\n\tconst dataset = [];\r\n\tconst allEvents = getSerializableData();\r\n\tfor (var a in allEvents){\r\n\t\t\r\n\t\tconst exportedEvent = {};\r\n\t\tvar ev = allEvents[a];\r\n\r\n\t\tfor(var key in ev){\r\n\t\t\tif (key.charAt(0) == \"$\" || key.charAt(0) == \"_\"){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet exportValue;\r\n\t\t\tconst rawValue = ev[key];\r\n\t\t\tif(scheduler.utils.isDate(rawValue)){\r\n\t\t\t\texportValue = scheduler.defined(scheduler.templates.xml_format) ? scheduler.templates.xml_format(rawValue) : scheduler.templates.format_date(rawValue);\r\n\t\t\t}else{\r\n\t\t\t\texportValue = rawValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\texportedEvent[key] = exportValue;\r\n\t\t}\r\n\r\n\t\tdataset.push(exportedEvent);\r\n\t}\r\n\treturn dataset;\r\n};\r\n\r\n/*\r\nscheduler.json = {};\r\nscheduler.json.parse = function(data) {\r\n\r\n\tvar events = [];\r\n\r\n\tif (typeof data == \"string\") {\r\n\t\tdata = JSON.parse(data);\r\n\t}\r\n\tif (Object.prototype.toString.call(data) === '[object Array]') {\r\n\t\tevents = data;\r\n\t} else {\r\n\t\tif(data){\r\n\t\t\tif(data.events){\r\n\t\t\t\tevents = data.events;\r\n\t\t\t}else if(data.data){\r\n\t\t\t\tevents = data.data;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tevents = events || [];\r\n\r\n\tif (data.dhx_security) {\r\n\t\tif (window.dhtmlx) {\r\n\t\t\twindow.dhtmlx.security_key = data.dhx_security;\r\n\t\t}\r\n\t\tscheduler.security_key = data.dhx_security;\r\n\t}\r\n\r\n\tvar collections = (data && data.collections) ? data.collections : {};\r\n\tvar collections_loaded = false;\r\n\tfor (var key in collections) {\r\n\t\tif (collections.hasOwnProperty(key)) {\r\n\t\t\tcollections_loaded = true;\r\n\t\t\tvar collection = collections[key];\r\n\t\t\tvar arr = scheduler.serverList[key];\r\n\t\t\tif (!arr) {\r\n\t\t\t\tscheduler.serverList[key] = arr = [];\r\n\t\t\t}\r\n\t\t\tarr.splice(0, arr.length); //clear old options\r\n\t\t\tfor (var j = 0; j < collection.length; j++) {\r\n\t\t\t\tvar option = collection[j];\r\n\t\t\t\tvar obj = { key: option.value, label: option.label }; // resulting option object\r\n\t\t\t\tfor (var option_key in option) {\r\n\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\r\n\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (collections_loaded)\r\n\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\r\n\tvar evs = [];\r\n\tfor (var i = 0; i < events.length; i++) {\r\n\t\tvar event = events[i];\r\n\t\tscheduler._init_event(event);\r\n\t\tevs.push(event);\r\n\t}\r\n\treturn evs;\r\n};*/\r\nscheduler.parse = function(data, type) {\r\n\tthis._process = type;\r\n\tthis.on_load({xmlDoc: {responseText: data}});\r\n};\r\nscheduler.load = function(url, call) {\r\n\tif (typeof call == \"string\") {\r\n\t\tthis._process = call;\r\n\t\tcall = arguments[2];\r\n\t}\r\n\r\n\tthis._load_url = url;\r\n\tthis._after_call = call;\r\n\tthis._load(url, this._date);\r\n};\r\n//possible values - day,week,month,year,all\r\nscheduler.setLoadMode = function(mode) {\r\n\tif (mode == \"all\") mode = \"\";\r\n\tthis._load_mode = mode;\r\n};\r\n\r\nscheduler.serverList = function(name, array) {\r\n\tif (array) {\r\n\t\tthis.serverList[name] = array.slice(0);\r\n\t\treturn this.serverList[name];\r\n\t}\r\n\tthis.serverList[name] = (this.serverList[name] || []);\r\n\treturn this.serverList[name];\r\n};\r\nscheduler._userdata = {};\r\n\r\nscheduler._xmlNodeToJSON = function(node) {\r\n\tvar t = {};\r\n\tfor (var i = 0; i < node.attributes.length; i++)\r\n\t\tt[node.attributes[i].name] = node.attributes[i].value;\r\n\r\n\tfor (var i = 0; i < node.childNodes.length; i++) {\r\n\t\tvar child = node.childNodes[i];\r\n\t\tif (child.nodeType == 1)\r\n\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\r\n\t}\r\n\r\n\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\r\n\r\n\treturn t;\r\n};\r\nscheduler.attachEvent(\"onXLS\", function() {\r\n\tif (this.config.show_loading === true) {\r\n\t\tvar t;\r\n\t\tt = this.config.show_loading = document.createElement(\"div\");\r\n\t\tt.className = 'dhx_loading';\r\n\t\tt.style.left = Math.round((this._x - 128) / 2) + \"px\";\r\n\t\tt.style.top = Math.round((this._y - 15) / 2) + \"px\";\r\n\t\tthis._obj.appendChild(t);\r\n\t}\r\n});\r\nscheduler.attachEvent(\"onXLE\", function() {\r\n\tvar t = this.config.show_loading;\r\n\tif (t && typeof t == \"object\") {\r\n\t\tif(t.parentNode) {\r\n\t\t\tt.parentNode.removeChild(t);\r\n\t\t}\r\n\t\tthis.config.show_loading = true;\r\n\t}\r\n});\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._parsers.xml = {\r\n\tcanParse: function(data, xhr){\r\n\t\t// IE returns non-empty responseXML type regardless of actual data type\r\n\t\tif(xhr.responseXML && xhr.responseXML.firstChild){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\t\tvar xmlDoc = scheduler.ajax.parse(xhr.responseText);\r\n\t\t\tvar topElement = scheduler.ajax.xmltop(\"data\", xmlDoc);\r\n\t\t\tif(topElement && topElement.tagName === \"data\"){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}catch (e){\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tparse: function(loader) {\r\n\t\tvar xml;\r\n\r\n\t\tif (!loader.xmlDoc.responseXML) { //from a string\r\n\t\t\tloader.xmlDoc.responseXML = scheduler.ajax.parse(loader.xmlDoc.responseText);\r\n\t\t}\r\n\t\r\n\t\txml = scheduler.ajax.xmltop(\"data\", loader.xmlDoc);\r\n\t\tif (xml.tagName != \"data\") return null;//not an xml\r\n\t\tvar csrfToken = xml.getAttribute(\"dhx_security\");\r\n\t\tif (csrfToken) {\r\n\t\t\tif (window.dhtmlx) {\r\n\t\t\t\twindow.dhtmlx.security_key = csrfToken;\r\n\t\t\t}\r\n\t\t\tscheduler.security_key = csrfToken;\r\n\t\t}\r\n\t\r\n\t\tvar opts = scheduler.ajax.xpath(\"//coll_options\", loader.xmlDoc);\r\n\t\tfor (var i = 0; i < opts.length; i++) {\r\n\t\t\tvar bind = opts[i].getAttribute(\"for\");\r\n\t\t\tvar arr = scheduler.serverList[bind];\r\n\t\t\tif (!arr) {\r\n\t\t\t\tscheduler.serverList[bind] = arr = [];\r\n\t\t\t}\r\n\t\t\tarr.splice(0, arr.length);\t//clear old options\r\n\t\t\tvar itms = scheduler.ajax.xpath(\".//item\", opts[i]);\r\n\t\t\tfor (var j = 0; j < itms.length; j++) {\r\n\t\t\t\tvar itm = itms[j];\r\n\t\t\t\tvar attrs = itm.attributes;\r\n\t\t\t\tvar obj = { key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\r\n\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\r\n\t\t\t\t\tvar attr = attrs[k];\r\n\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (opts.length)\r\n\t\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\t\r\n\t\tvar ud = scheduler.ajax.xpath(\"//userdata\", loader.xmlDoc);\r\n\t\tfor (var i = 0; i < ud.length; i++) {\r\n\t\t\tvar udx = scheduler._xmlNodeToJSON(ud[i]);\r\n\t\t\tscheduler._userdata[udx.name] = udx.text;\r\n\t\t}\r\n\t\r\n\t\tvar evs = [];\r\n\t\txml = scheduler.ajax.xpath(\"//event\", loader.xmlDoc);\r\n\t\r\n\t\tfor (var i = 0; i < xml.length; i++) {\r\n\t\t\tvar ev = evs[i] = scheduler._xmlNodeToJSON(xml[i]);\r\n\t\t\tscheduler._init_event(ev);\r\n\t\t}\r\n\t\treturn evs;\r\n\t}\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler.json = scheduler._parsers.json = {\r\n\tcanParse: function(data){\r\n\t\tif(data && typeof data === \"object\"){\r\n\t\t\treturn true;\r\n\t\t} else if(typeof data === \"string\"){\r\n\t\t\ttry {\r\n\t\t\t\tvar result = JSON.parse(data);\r\n\t\t\t\treturn Object.prototype.toString.call(result) === '[object Object]' || \r\n\t\t\t\t\t\tObject.prototype.toString.call(result) === '[object Array]';\r\n\t\t\t} catch (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tparse: function(data) {\r\n\t\tvar events = [];\r\n\r\n\t\tif (typeof data == \"string\") {\r\n\t\t\tdata = JSON.parse(data);\r\n\t\t}\r\n\t\tif (Object.prototype.toString.call(data) === '[object Array]') {\r\n\t\t\tevents = data;\r\n\t\t} else {\r\n\t\t\tif(data){\r\n\t\t\t\tif(data.events){\r\n\t\t\t\t\tevents = data.events;\r\n\t\t\t\t}else if(data.data){\r\n\t\t\t\t\tevents = data.data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tevents = events || [];\r\n\r\n\t\tif (data.dhx_security) {\r\n\t\t\tif (window.dhtmlx) {\r\n\t\t\t\twindow.dhtmlx.security_key = data.dhx_security;\r\n\t\t\t}\r\n\t\t\tscheduler.security_key = data.dhx_security;\r\n\t\t}\r\n\r\n\t\tvar collections = (data && data.collections) ? data.collections : {};\r\n\t\tvar collections_loaded = false;\r\n\t\tfor (var key in collections) {\r\n\t\t\tif (collections.hasOwnProperty(key)) {\r\n\t\t\t\tcollections_loaded = true;\r\n\t\t\t\tvar collection = collections[key];\r\n\t\t\t\tvar arr = scheduler.serverList[key];\r\n\t\t\t\tif (!arr) {\r\n\t\t\t\t\tscheduler.serverList[key] = arr = [];\r\n\t\t\t\t}\r\n\t\t\t\tarr.splice(0, arr.length); //clear old options\r\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\r\n\t\t\t\t\tvar option = collection[j];\r\n\t\t\t\t\tvar obj = { key: option.value, label: option.label }; // resulting option object\r\n\t\t\t\t\tfor (var option_key in option) {\r\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\r\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.push(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (collections_loaded)\r\n\t\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\r\n\t\tvar evs = [];\r\n\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\tvar event = events[i];\r\n\t\t\tscheduler._init_event(event);\r\n\t\t\tevs.push(event);\r\n\t\t}\r\n\t\treturn evs;\r\n\t}\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler.ical = scheduler._parsers.ical = {\r\n\tcanParse: function(data){\r\n\t\tif(typeof data === \"string\"){\r\n\t\t\treturn new RegExp(\"^BEGIN:VCALENDAR\").test(data);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\tparse:function(str){\r\n\t\tvar data = str.match(RegExp(this.c_start+\"[^\\f]*\"+this.c_end,\"\"));\r\n\t\tif (!data.length) return;\r\n\r\n\t\t// mpl: handle bad unfolding\r\n\t\tdata[0]=data[0].replace(/[\\r\\n]+ /g,\"\");\r\n\r\n\t\t//unfolding \r\n\t\tdata[0]=data[0].replace(/[\\r\\n]+(?=[a-z \\t])/g,\" \");\r\n\t\t//drop property\r\n\t\tdata[0]=data[0].replace(/;[^:\\r\\n]*:/g,\":\");\r\n\t\t\r\n\t\t\r\n\t\tvar incoming=[];\r\n\t\tvar match;\r\n\t\tvar event_r = RegExp(\"(?:\"+this.e_start+\")([^\\f]*?)(?:\"+this.e_end+\")\",\"g\");\r\n\t\twhile ((match=event_r.exec(data)) !== null){\r\n\t\t\tvar e={};\r\n\t\t\tvar param;\r\n\t\t\tvar param_r = /[^\\r\\n]+[\\r\\n]+/g;\r\n\t\t\twhile ((param=param_r.exec(match[1])) !== null)\r\n\t\t\t\tthis.parse_param(param.toString(),e);\r\n\t\t\tif (e.uid && !e.id) e.id = e.uid; //fallback to UID, when ID is not defined\r\n\t\t\tincoming.push(e);\t\r\n\t\t}\r\n\t\treturn incoming;\r\n\t},\r\n\tparse_param:function(str,obj){\r\n\t\tvar d = str.indexOf(\":\"); \r\n\t\t\tif (d==-1) return;\r\n\t\t\r\n\t\tvar name = str.substr(0,d).toLowerCase();\r\n\t\tvar value = str.substr(d+1).replace(/\\\\,/g,\",\").replace(/[\\r\\n]+$/,\"\");\r\n\t\tif (name==\"summary\")\r\n\t\t\tname=\"text\";\r\n\t\telse if (name==\"dtstart\"){\r\n\t\t\tname = \"start_date\";\r\n\t\t\tvalue = this.parse_date(value,0,0);\r\n\t\t}\r\n\t\telse if (name==\"dtend\"){\r\n\t\t\tname = \"end_date\";\r\n\t\t\tvalue = this.parse_date(value,0,0);\r\n\t\t}\r\n\t\tobj[name]=value;\r\n\t},\r\n\tparse_date:function(value,dh,dm){\r\n\t\tvar t = value.split(\"T\");\r\n\r\n\t\tvar utcMark = false;\r\n\t\tif (t[1]){\r\n\t\t\tdh=t[1].substr(0,2);\r\n\t\t\tdm=t[1].substr(2,2);\r\n\t\t\tutcMark = !!(t[1][6] == \"Z\");\r\n\t\t}\r\n\t\tvar dy = t[0].substr(0,4);\r\n\t\tvar dn = parseInt(t[0].substr(4,2),10)-1;\r\n\t\tvar dd = t[0].substr(6,2);\r\n\r\n\t\tif(scheduler.config.server_utc || utcMark){\r\n\t\t\treturn new Date(Date.UTC(dy,dn,dd,dh,dm)) ;\r\n\t\t}else{\r\n\t\t\treturn new Date(dy,dn,dd,dh,dm);\r\n\t\t}\r\n\t},\r\n\tc_start:\"BEGIN:VCALENDAR\",\r\n\te_start:\"BEGIN:VEVENT\",\r\n\te_end:\"END:VEVENT\",\r\n\tc_end:\"END:VCALENDAR\"\t\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler._lightbox_controls = {};\r\nscheduler.formSection = function(name){\r\n\tvar config = this.config.lightbox.sections;\r\n\tvar i = 0;\r\n\tfor (i; i < config.length; i++) {\r\n\t\tif (config[i].name == name) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif (i === config.length) {\r\n\t\t// GS-1662 section not found, should exit here instead of throwing an error\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar section = config[i];\r\n\tif (!scheduler._lightbox) {\r\n\t\tscheduler.getLightbox();\r\n\t}\r\n\tvar header = scheduler._lightbox.querySelector(`#${section.id}`);\r\n\tvar node = header.nextSibling;\r\n\r\n\tvar result = {\r\n\t\tsection: section,\r\n\t\theader: header,\r\n\t\tnode: node,\r\n\t\tgetValue:function(ev){\r\n\t\t\treturn scheduler.form_blocks[section.type].get_value(node, (ev||{}), section);\r\n\t\t},\r\n\t\tsetValue:function(value, ev){\r\n\t\t\treturn scheduler.form_blocks[section.type].set_value(node, value, (ev||{}), section);\r\n\t\t}\r\n\t};\r\n\r\n\tvar handler = scheduler._lightbox_controls[\"get_\"+section.type+\"_control\"];\r\n\treturn handler?handler(result):result;\r\n};\r\nscheduler._lightbox_controls.get_template_control = function(result) {\r\n\tresult.control = result.node;\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_select_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('select')[0];\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_textarea_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('textarea')[0];\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_time_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('select'); // array\r\n\treturn result;\r\n};\r\n\r\nscheduler._lightbox_controls.defaults = {\r\n\ttemplate: {\r\n\t\theight:30\r\n\t},\r\n\ttextarea: {\r\n\t\theight: 200\r\n\t},\r\n\tselect: {\r\n\t\theight: 23\r\n\t},\r\n\ttime: {\r\n\t\theight: 20\r\n\t}\r\n};\r\n\r\n\r\nscheduler.form_blocks={\r\n\ttemplate:{\r\n\t\trender: function(sns){\r\n\t\t\treturn \"<div class='dhx_cal_ltext dhx_cal_template' ></div>\";\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,config){\r\n\t\t\tnode.innerHTML = value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev,config){\r\n\t\t\treturn node.innerHTML||\"\";\r\n\t\t},\r\n\t\tfocus: function(node){\r\n\t\t}\r\n\t},\r\n\ttextarea:{\r\n\t\trender:function(sns){\r\n\t\t\tconst placeholder = sns.placeholder ? `placeholder='${sns.placeholder}'` : \"\";\r\n\t\t\treturn `<div class='dhx_cal_ltext'><textarea ${placeholder}></textarea></div>`;\r\n\t\t},\r\n\t\tset_value:function(node,value,ev){\r\n\t\t\tscheduler.form_blocks.textarea._get_input(node).value=value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev){\r\n\t\t\treturn scheduler.form_blocks.textarea._get_input(node).value;\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tvar a = scheduler.form_blocks.textarea._get_input(node);\r\n\t\t\tscheduler._focus(a, true);\r\n\t\t},\r\n\t\t_get_input: function(node){\r\n\t\t\treturn node.getElementsByTagName(\"textarea\")[0];\r\n\t\t}\r\n\t},\r\n\tselect:{\r\n\t\trender:function(sns){\r\n\t\t\t//var defaults = scheduler._lightbox_controls.defaults.select;\r\n\t\t\tvar html=\"<div class='dhx_cal_ltext dhx_cal_select'><select style='width:100%;'>\";\r\n\t\t\tfor (var i=0; i < sns.options.length; i++)\r\n\t\t\t\thtml+=\"<option value='\"+sns.options[i].key+\"'>\"+sns.options[i].label+\"</option>\";\r\n\t\t\thtml+=\"</select></div>\";\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,sns){\r\n\t\t\tvar select = node.firstChild;\r\n\t\t\tif (!select._dhx_onchange && sns.onchange) {\r\n\t\t\t\tscheduler.event(select, \"change\", sns.onchange);\r\n\t\t\t\tselect._dhx_onchange = true;\r\n\t\t\t}\r\n\t\t\tif (typeof value == \"undefined\")\r\n\t\t\t\tvalue = (select.options[0]||{}).value;\r\n\t\t\tselect.value=value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev){\r\n\t\t\treturn node.firstChild.value;\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tvar a=node.firstChild; scheduler._focus(a, true);\r\n\t\t}\r\n\t},\r\n\ttime:{\r\n\t\trender:function(sns) {\r\n\t\t\tif (!sns.time_format) {\r\n\t\t\t\t// default order\r\n\t\t\t\tsns.time_format = [\"%H:%i\", \"%d\", \"%m\", \"%Y\"];\r\n\t\t\t}\r\n\t\t\t// map: default order => real one\r\n\t\t\tsns._time_format_order = {};\r\n\t\t\tvar time_format = sns.time_format;\r\n\r\n\t\t\tvar cfg = scheduler.config;\r\n\t\t\tvar dt = scheduler.date.date_part(scheduler._currentDate());\r\n\t\t\tvar last = 24*60, first = 0;\r\n\t\t\tif(scheduler.config.limit_time_select){\r\n\t\t\t\tlast = 60*cfg.last_hour+1;\r\n\t\t\t\tfirst = 60*cfg.first_hour;\r\n\t\t\t\tdt.setHours(cfg.first_hour);\r\n\t\t\t}\r\n\t\t\tvar html = \"\";\r\n\r\n\t\t\tfor (var p = 0; p < time_format.length; p++) {\r\n\t\t\t\tvar time_option = time_format[p];\r\n\r\n\t\t\t\t// adding spaces between selects\r\n\t\t\t\tif (p > 0) {\r\n\t\t\t\t\thtml += \" \";\r\n\t\t\t\t}\r\n\t\t\t\tvar selectBoxClass = \"\";\r\n\t\t\t\tvar options = \"\";\r\n\t\t\t\tswitch (time_option) {\r\n\t\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_year_select\";\r\n\t\t\t\t\t\tsns._time_format_order[3] = p;\r\n\t\t\t\t\t\t//year\r\n\t\t\t\t\t\tvar range;\r\n\t\t\t\t\t\tvar start_year;\r\n\t\t\t\t\t\tvar end_year;\r\n\t\t\t\t\t\tif(sns.year_range){\r\n\t\t\t\t\t\t\tif (!isNaN(sns.year_range)) {\r\n\t\t\t\t\t\t\t\trange = sns.year_range;\r\n\t\t\t\t\t\t\t} else if (sns.year_range.push) {\r\n\t\t\t\t\t\t\t\t// if\r\n\t\t\t\t\t\t\t\tstart_year = sns.year_range[0];\r\n\t\t\t\t\t\t\t\tend_year = sns.year_range[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trange = range || 10;\r\n\t\t\t\t\t\tvar offset = offset || Math.floor(range / 2);\r\n\t\t\t\t\t\tstart_year = start_year || dt.getFullYear() - offset;\r\n\t\t\t\t\t\tend_year = end_year || start_year + range;\r\n\r\n\t\t\t\t\t\tfor (var i = start_year; i < end_year; i++)\r\n\t\t\t\t\t\t\toptions += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%m\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_month_select\";\r\n\t\t\t\t\t\tsns._time_format_order[2] = p;\r\n\t\t\t\t\t\t//month\r\n\t\t\t\t\t\tfor (var i=0; i < 12; i++)\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+this.locale.date.month_full[i]+\"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%d\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_day_select\";\r\n\t\t\t\t\t\tsns._time_format_order[1] = p;\r\n\t\t\t\t\t\t//days\r\n\t\t\t\t\t\tfor (var i=1; i < 32; i++)\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+i+\"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%H:%i\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_time_select\";\r\n\t\t\t\t\t\tsns._time_format_order[0] = p;\r\n\t\t\t\t\t\t//hours\r\n\t\t\t\t\t\tvar i = first;\r\n\t\t\t\t\t\tvar tdate = dt.getDate();\r\n\t\t\t\t\t\tsns._time_values = [];\r\n\r\n\t\t\t\t\t\twhile(i<last){\r\n\t\t\t\t\t\t\tvar time=this.templates.time_picker(dt);\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+time+\"</option>\";\r\n\t\t\t\t\t\t\tsns._time_values.push(i);\r\n\t\t\t\t\t\t\tdt.setTime(dt.valueOf()+this.config.time_step*60*1000);\r\n\t\t\t\t\t\t\tvar diff = (dt.getDate()!=tdate)?1:0; // moved or not to the next day\r\n\t\t\t\t\t\t\ti=diff*24*60+dt.getHours()*60+dt.getMinutes();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(options){\r\n\r\n\t\t\t\t\tvar ariaAttrs = scheduler._waiAria.lightboxSelectAttrString(time_option);\r\n\t\t\t\t\tvar readonly = sns.readonly ? \"disabled='disabled'\" : \"\";\r\n\t\t\t\t\thtml += \"<select class='\"+selectBoxClass+\"' \"+readonly + ariaAttrs+\">\"+options+\"</select> \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//var defaults = scheduler._lightbox_controls.defaults.select;\r\n\r\n\t\t\treturn \"<div class='dhx_section_time'>\"+html+\"<span style='font-weight:normal; font-size:10pt;' class='dhx_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>\"+html+\"</div>\";\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,config){\r\n\t\t\tvar cfg = scheduler.config;\r\n\t\t\tvar s=node.getElementsByTagName(\"select\");\r\n\t\t\tvar map = config._time_format_order;\r\n\t\t\tvar start_date, end_date;\r\n\r\n\t\t\tif(cfg.full_day) {\r\n\t\t\t\tif (!node._full_day){\r\n\t\t\t\t\tvar html = \"<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> \"+scheduler.locale.labels.full_day+\"&nbsp;</label></input>\";\r\n\t\t\t\t\tif (!scheduler.config.wide_form)\r\n\t\t\t\t\t\thtml = node.previousSibling.innerHTML+html;\r\n\t\t\t\t\tnode.previousSibling.innerHTML=html;\r\n\t\t\t\t\tnode._full_day=true;\r\n\t\t\t\t}\r\n\t\t\t\tvar input=node.previousSibling.getElementsByTagName(\"input\")[0];\r\n\t\t\t\tinput.checked = (scheduler.date.time_part(ev.start_date)===0 && scheduler.date.time_part(ev.end_date)===0);\r\n\r\n\t\t\t\ts[map[0]].disabled=input.checked;\r\n\t\t\t\ts[ map[0] + s.length/2 ].disabled=input.checked;\r\n\r\n\t\t\t\tif(!input.$_eventAttached){\r\n\t\t\t\t\tinput.$_eventAttached = true;\r\n\r\n\t\t\t\t\t\tscheduler.event(input, \"click\", function(){\r\n\t\t\t\t\t\tif(input.checked) {\r\n\t\t\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\t\t\tscheduler.form_blocks.time.get_value(node,obj,config);\r\n\r\n\t\t\t\t\t\t\tstart_date = scheduler.date.date_part(obj.start_date);\r\n\t\t\t\t\t\t\tend_date = scheduler.date.date_part(obj.end_date);\r\n\r\n\t\t\t\t\t\t\tif (+end_date == +start_date || (+end_date >= +start_date && (ev.end_date.getHours() !== 0 || ev.end_date.getMinutes() !== 0)))\r\n\t\t\t\t\t\t\t\tend_date = scheduler.date.add(end_date, 1, \"day\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tstart_date = null;\r\n\t\t\t\t\t\t\tend_date = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ts[map[0]].disabled=input.checked;\r\n\t\t\t\t\t\ts[ map[0] + s.length/2 ].disabled=input.checked;\r\n\r\n\t\t\t\t\t\t_fill_lightbox_select(s,0,start_date||ev.start_date);\r\n\t\t\t\t\t\t_fill_lightbox_select(s,4,end_date||ev.end_date);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(cfg.auto_end_date && cfg.event_duration) {\r\n\t\t\t\tvar _update_lightbox_select = function () {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!(cfg.auto_end_date && cfg.event_duration)){\r\n\t\t\t\t\t\t// setting may be disabled after the handler is attached\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart_date = new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);\r\n\t\t\t\t\tend_date = new Date(start_date.getTime() + (scheduler.config.event_duration * 60 * 1000));\r\n\t\t\t\t\t_fill_lightbox_select(s, 4, end_date);\r\n\t\t\t\t};\r\n\t\t\t\tfor(var i=0; i<4; i++) {\r\n\t\t\t\t\tif(!s[i].$_eventAttached) {\r\n\t\t\t\t\t\ts[i].$_eventAttached = true;\r\n\t\t\t\t\t\tscheduler.event(s[i], \"change\", _update_lightbox_select);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction _fill_lightbox_select(s,i,d) {\r\n\t\t\t\tvar time_values = config._time_values;\r\n\t\t\t\tvar direct_value = d.getHours()*60+d.getMinutes();\r\n\t\t\t\tvar fixed_value = direct_value;\r\n\t\t\t\tvar value_found = false;\r\n\t\t\t\tfor (var k=0; k<time_values.length; k++) {\r\n\t\t\t\t\tvar t_v = time_values[k];\r\n\t\t\t\t\tif (t_v === direct_value) {\r\n\t\t\t\t\t\tvalue_found = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (t_v < direct_value)\r\n\t\t\t\t\t\tfixed_value = t_v;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ts[i+map[0]].value=(value_found)?direct_value:fixed_value;\r\n\t\t\t\tif(!(value_found || fixed_value)){\r\n\t\t\t\t\ts[i+map[0]].selectedIndex = -1;//show empty select in FF\r\n\t\t\t\t}\r\n\t\t\t\ts[i+map[1]].value=d.getDate();\r\n\t\t\t\ts[i+map[2]].value=d.getMonth();\r\n\t\t\t\ts[i+map[3]].value=d.getFullYear();\r\n\t\t\t}\r\n\r\n\t\t\t_fill_lightbox_select(s,0,ev.start_date);\r\n\t\t\t_fill_lightbox_select(s,4,ev.end_date);\r\n\t\t},\r\n\t\tget_value:function(node, ev, config) {\r\n\t\t\tvar s = node.getElementsByTagName(\"select\");\r\n\t\t\tvar map = config._time_format_order;\r\n\r\n\t\t\tev.start_date=new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);\r\n\t\t\tev.end_date=new Date(s[map[3]+4].value,s[map[2]+4].value,s[map[1]+4].value,0,s[map[0]+4].value);\r\n\r\n\t\t\tif(!(s[map[3]].value && s[map[3]+4].value)){\r\n\t\t\t\t// use the previous date if start/end years are empty (outside lightbox range)\r\n\t\t\t\tvar original = scheduler.getEvent(scheduler._lightbox_id);\r\n\t\t\t\tif(original){\r\n\t\t\t\t\tev.start_date = original.start_date;\r\n\t\t\t\t\tev.end_date = original.end_date;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (ev.end_date<=ev.start_date)\r\n\t\t\t\tev.end_date=scheduler.date.add(ev.start_date,scheduler.config.time_step,\"minute\");\r\n\t\t\treturn {\r\n\t\t\t\tstart_date: new Date(ev.start_date),\r\n\t\t\t\tend_date: new Date(ev.end_date)\r\n\t\t\t};\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tscheduler._focus(node.getElementsByTagName(\"select\")[0]);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n\t// GS-2214. Attaching the lightbox to the BODY element is not considered secure.\r\n\t// Attach it to Scheduler container for Salesforce and other secure environments\r\n\tfunction getLightboxRoot(){\r\n\t\tconst cspEnvironment = scheduler.config.csp === true;\r\n\t\tconst salesforceEnvironment = !!window[\"Sfdc\"] || !!window[\"$A\"] || window[\"Aura\"] || ('$shadowResolver$' in document.body);\r\n\t\tif (cspEnvironment || salesforceEnvironment) {\r\n\t\t\treturn scheduler.$root;\r\n\t\t} else {\r\n\t\t\treturn document.body;\r\n\t\t}\r\n\t}\r\n\r\nscheduler._setLbPosition = function(box) {\r\n\tif(!box){\r\n\t\treturn;\r\n\t}\r\n\r\n\tbox.style.top = Math.max(getLightboxRoot().offsetHeight / 2 - box.offsetHeight/2, 0) + \"px\";\r\n\tbox.style.left = Math.max(getLightboxRoot().offsetWidth / 2 - box.offsetWidth/2, 0) + \"px\";\r\n\r\n};\r\n\r\nscheduler.showCover=function(box){\r\n\tif (box){\r\n\t\tbox.style.display=\"block\";\r\n\r\n\t\tthis._setLbPosition(box);\r\n\t}\r\n\tif(scheduler.config.responsive_lightbox){\r\n\t\tdocument.documentElement.classList.add(\"dhx_cal_overflow_container\");\r\n\t\tgetLightboxRoot().classList.add(\"dhx_cal_overflow_container\");\r\n\t}\r\n\tthis.show_cover();\r\n\tthis._cover.style.display = \"\";\r\n};\r\nscheduler.showLightbox=function(id){\r\n\tif (!id) return;\r\n\tif (!this.callEvent(\"onBeforeLightbox\",[id])) {\r\n\t\tif (this._new_event)\r\n\t\t\tthis._new_event = null;\r\n\t\treturn;\r\n\t}\r\n\tthis.showCover(box);\r\n\tvar box = this.getLightbox();\r\n\tthis._setLbPosition(box);\r\n\tthis._fill_lightbox(id,box);\r\n\tthis._waiAria.lightboxVisibleAttr(box);\r\n\t\r\n\tthis.callEvent(\"onLightbox\",[id]);\r\n};\r\nscheduler._fill_lightbox = function(id, box) {\r\n\tvar ev = this.getEvent(id);\r\n\tvar s = box.getElementsByTagName(\"span\");\r\n\tvar lightboxHeader = [];\r\n\r\n\tif (scheduler.templates.lightbox_header) {\r\n\t\tlightboxHeader.push(\"\");\r\n\t\tvar headerContent = scheduler.templates.lightbox_header(ev.start_date, ev.end_date, ev);\r\n\t\tlightboxHeader.push(headerContent);\r\n\t\ts[1].innerHTML = \"\";\r\n\t\ts[2].innerHTML = headerContent;\r\n\t} else {\r\n\t\tvar headerDate = this.templates.event_header(ev.start_date, ev.end_date, ev);\r\n\t\tvar headerTitle = (this.templates.event_bar_text(ev.start_date, ev.end_date, ev) || \"\").substr(0, 70); //IE6 fix;\r\n\r\n\t\tlightboxHeader.push(headerDate);\r\n\t\tlightboxHeader.push(headerTitle);\r\n\t\ts[1].innerHTML = headerDate;\r\n\t\ts[2].innerHTML = headerTitle;\r\n\t}\r\n\r\n\tthis._waiAria.lightboxHeader(box,  lightboxHeader.join(\" \"));\r\n\r\n\tvar sns = this.config.lightbox.sections;\r\n\tfor (var i = 0; i < sns.length; i++) {\r\n\t\tvar current_sns = sns[i];\r\n\t\tvar node = scheduler._get_lightbox_section_node(current_sns);\r\n\t\tvar block = this.form_blocks[current_sns.type];\r\n\t\tvar value = (ev[current_sns.map_to] !== undefined) ? ev[current_sns.map_to] : current_sns.default_value;\r\n\t\tblock.set_value.call(this, node, value, ev, current_sns);\r\n\t\tif (sns[i].focus)\r\n\t\t\tblock.focus.call(this, node);\r\n\t}\r\n\r\n\tscheduler._lightbox_id = id;\r\n};\r\n\r\nscheduler._get_lightbox_section_node = function(section){\r\n\treturn scheduler._lightbox.querySelector(`#${section.id}`).nextSibling;\r\n};\r\n\r\nscheduler._lightbox_out=function(ev){\r\n\tvar sns = this.config.lightbox.sections;\r\n\tfor (var i=0; i < sns.length; i++) {\r\n\t\tvar node = scheduler._lightbox.querySelector(`#${sns[i].id}`);\r\n\t\tnode=(node?node.nextSibling:node);\r\n\t\tvar block=this.form_blocks[sns[i].type];\r\n\t\tvar res=block.get_value.call(this,node,ev, sns[i]);\r\n\t\tif (sns[i].map_to!=\"auto\")\r\n\t\t\tev[sns[i].map_to]=res;\r\n\t}\r\n\treturn ev;\r\n};\r\nscheduler._empty_lightbox=function(data){\r\n\tvar id=scheduler._lightbox_id;\r\n\tvar ev=this.getEvent(id);\r\n\t//var box=this.getLightbox();\r\n\r\n\tthis._lame_copy(ev, data);\r\n\r\n\tthis.setEvent(ev.id,ev);\r\n\tthis._edit_stop_event(ev,true);\r\n\tthis.render_view_data();\r\n};\r\nscheduler.hide_lightbox=function(id){\r\n\tscheduler.endLightbox(false, this.getLightbox());\r\n};\r\n\r\nscheduler.hideCover=function(box){\r\n\tif (box) box.style.display=\"none\";\r\n\tthis.hide_cover();\r\n\tif(scheduler.config.responsive_lightbox){\r\n\t\tdocument.documentElement.classList.remove(\"dhx_cal_overflow_container\");\r\n\t\tgetLightboxRoot().classList.remove(\"dhx_cal_overflow_container\");\r\n\t}\r\n};\r\nscheduler.hide_cover=function(){\r\n\tif (this._cover)\r\n\t\tthis._cover.parentNode.removeChild(this._cover);\r\n\tthis._cover=null;\r\n};\r\n\r\nscheduler.show_cover=function(){\r\n\tif(this._cover) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis._cover=document.createElement(\"div\");\r\n\tthis._cover.className=\"dhx_cal_cover\";\r\n\tthis._cover.style.display = \"none\";\r\n\r\n\tscheduler.event(this._cover, \"mousemove\", scheduler._move_while_dnd);\r\n\tscheduler.event(this._cover, \"mouseup\", scheduler._finish_dnd);\r\n\r\n\tgetLightboxRoot().appendChild(this._cover);\r\n};\r\nscheduler.save_lightbox=function(){\r\n\tvar data = this._lightbox_out({}, this._lame_copy(this.getEvent(this._lightbox_id)));\r\n\tif (this.checkEvent(\"onEventSave\") && !this.callEvent(\"onEventSave\",[this._lightbox_id, data, this._new_event]))\r\n\t\treturn;\r\n\tthis._empty_lightbox(data);\r\n\tthis.hide_lightbox();\r\n};\r\nscheduler.startLightbox = function(id, box){\r\n\tthis._lightbox_id = id;\r\n\tthis._custom_lightbox = true;\r\n\r\n\tthis._temp_lightbox = this._lightbox;\r\n\tthis._lightbox = box;\r\n\tthis.showCover(box);\r\n};\r\nscheduler.endLightbox = function(mode, box){\r\n\tvar box = box || scheduler.getLightbox();\r\n\r\n\tvar event = scheduler.getEvent(this._lightbox_id);\r\n\tif(event)\r\n\t\tthis._edit_stop_event(event, mode);\r\n\tif (mode)\r\n\t\tscheduler.render_view_data();\r\n\tthis.hideCover(box);\r\n\r\n\tif (this._custom_lightbox){\r\n\t\tthis._lightbox = this._temp_lightbox;\r\n\t\tthis._custom_lightbox = false;\r\n\t}\r\n\tthis._temp_lightbox = this._lightbox_id = null; // in case of custom lightbox user only calls endLightbox so we need to reset _lightbox_id\r\n\tthis._waiAria.lightboxHiddenAttr(box);\r\n\tthis.resetLightbox();\r\n\tthis.callEvent(\"onAfterLightbox\",[]);\r\n};\r\nscheduler.resetLightbox = function(){\r\n\tif (scheduler._lightbox && !scheduler._custom_lightbox)\r\n\t\tscheduler._lightbox.parentNode.removeChild(scheduler._lightbox);\r\n\tscheduler._lightbox = null;\r\n};\r\nscheduler.cancel_lightbox=function(){\r\n\tif(this._lightbox_id){\r\n\t\tthis.callEvent(\"onEventCancel\",[this._lightbox_id, !!this._new_event]);\r\n\t}\r\n\r\n\tthis.hide_lightbox();\r\n};\r\nscheduler.hideLightbox = scheduler.cancel_lightbox;// GS-1650 need to use cancel in order to fire onEventCancel event, which is important to refresh the state of recurring series\r\n\r\nscheduler._init_lightbox_events=function(){\r\n\tif(this.getLightbox().$_eventAttached){\r\n\t\treturn;\t\r\n\t}\r\n\tconst lightbox = this.getLightbox();\r\n\tlightbox.$_eventAttached = true;\r\n\r\n\tscheduler.event(lightbox, \"click\", function(e){\r\n\r\n\t\tif(e.target.closest(\".dhx_cal_ltitle_close_btn\")){\r\n\t\t\tscheduler.cancel_lightbox();\r\n\t\t}\r\n\t\t\r\n\t\tconst buttonTarget = scheduler.$domHelpers.closest(e.target, \".dhx_btn_set\");\r\n\t\tif(!buttonTarget) {\r\n\t\t\tconst sectionButton = scheduler.$domHelpers.closest(e.target, \".dhx_custom_button[data-section-index]\");\r\n\t\t\tif(sectionButton){\r\n\t\t\t\tconst index = Number(sectionButton.getAttribute(\"data-section-index\"));\r\n\t\t\t\tconst block = scheduler.form_blocks[scheduler.config.lightbox.sections[index].type];\r\n\t\t\t\tblock.button_click(scheduler.$domHelpers.closest(sectionButton, \".dhx_cal_lsection\"), sectionButton, e);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tconst action = buttonTarget ? buttonTarget.getAttribute(\"data-action\") : null;\r\n\r\n\t\tswitch(action){\r\n\t\t\tcase \"dhx_save_btn\":\r\n\t\t\tcase \"save\":\r\n\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscheduler.save_lightbox();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dhx_delete_btn\":\r\n\t\t\tcase \"delete\":\r\n\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar c=scheduler.locale.labels.confirm_deleting;\r\n\r\n\t\t\t\tscheduler._dhtmlx_confirm({message: c, title: scheduler.locale.labels.title_confirm_deleting, callback: function(){\r\n\t\t\t\t\tscheduler.deleteEvent(scheduler._lightbox_id);\r\n\t\t\t\t\tscheduler._new_event = null; //clear flag, if it was unsaved event\r\n\t\t\t\t\tscheduler.hide_lightbox();\r\n\t\t\t\t},\r\n\t\t\t\tconfig: {ok: scheduler.locale.labels.icon_delete}});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dhx_cancel_btn\":\r\n\t\t\tcase \"cancel\":\r\n\t\t\t\tscheduler.cancel_lightbox();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tscheduler.callEvent(\"onLightboxButton\", [action, buttonTarget, e]);\r\n\t\t}\r\n\t});\r\n\tscheduler.event(lightbox, \"keydown\", function(e){\r\n\t\tvar event = e || window.event;\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar buttonTarget = target.querySelector(\"[dhx_button]\");\r\n\r\n\t\tif(!buttonTarget){\r\n\t\t\tbuttonTarget = target.parentNode.querySelector(\".dhx_custom_button, .dhx_readonly\");\r\n\t\t}\r\n\r\n\t\tswitch((e||event).keyCode){\r\n\t\t\tcase 32:{//space\r\n\t\t\t\tif ((e||event).shiftKey) return;\r\n\t\t\t\tif(buttonTarget && buttonTarget.click){\r\n\t\t\t\t\tbuttonTarget.click();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase scheduler.keys.edit_save:\r\n\t\t\t\tif ((e||event).shiftKey) return;\r\n\t\t\t\tif(buttonTarget && buttonTarget.click){\r\n\t\t\t\t\tbuttonTarget.click();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscheduler.save_lightbox();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase scheduler.keys.edit_cancel:\r\n\t\t\t\tscheduler.cancel_lightbox();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t});\r\n};\r\nscheduler.setLightboxSize=function(){\r\n\treturn;\r\n/* TODO: inspect and remove in 7.0\r\n\tvar d = this._lightbox;\r\n\tif (!d) return;\r\n\r\n\tvar con = d.childNodes[1];\r\n\tcon.style.height=\"0px\";\r\n\tcon.style.height=con.scrollHeight+\"px\";\r\n\td.style.height=con.scrollHeight+scheduler.xy.lightbox_additional_height+\"px\";\r\n\tcon.style.height=con.scrollHeight+\"px\"; //it is incredible , how ugly IE can be*/\r\n};\r\n\r\nscheduler._init_dnd_events = function(){\r\n\tscheduler.event(getLightboxRoot(), \"mousemove\", scheduler._move_while_dnd);\r\n\tscheduler.event(getLightboxRoot(), \"mouseup\", scheduler._finish_dnd);\r\n\tscheduler._init_dnd_events = function(){};\r\n };\r\nscheduler._move_while_dnd = function(e){\r\n\tif (scheduler._dnd_start_lb){\r\n\t\tif (!document.dhx_unselectable){\r\n\t\t\tgetLightboxRoot().classList.add(\"dhx_unselectable\");\r\n\t\t\tdocument.dhx_unselectable = true;\r\n\t\t}\r\n\t\tvar lb = scheduler.getLightbox();\r\n\t\tvar now = [e.pageX, e.pageY];\r\n\t\tlb.style.top = scheduler._lb_start[1]+now[1]-scheduler._dnd_start_lb[1]+\"px\";\r\n\t\tlb.style.left = scheduler._lb_start[0]+now[0]-scheduler._dnd_start_lb[0]+\"px\";\r\n\t}\r\n};\r\nscheduler._ready_to_dnd = function(e){\r\n\tvar lb = scheduler.getLightbox();\r\n\tscheduler._lb_start = [lb.offsetLeft, lb.offsetTop];\r\n\tscheduler._dnd_start_lb = [e.pageX, e.pageY];\r\n};\r\nscheduler._finish_dnd = function(){\r\n\tif (scheduler._lb_start){\r\n\t\tscheduler._lb_start = scheduler._dnd_start_lb = false;\r\n\t\tgetLightboxRoot().classList.remove(\"dhx_unselectable\");\r\n\t\tdocument.dhx_unselectable = false;\r\n\t}\r\n};\r\nscheduler.getLightbox=function(){ //scheduler.config.wide_form=true;\r\n\tif (!this._lightbox){\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\td.className=\"dhx_cal_light\";\r\n\t\tif (scheduler.config.wide_form)\r\n\t\t\td.className+=\" dhx_cal_light_wide\";\r\n\t\tif (scheduler.form_blocks.recurring)\r\n\t\t\td.className+=\" dhx_cal_light_rec\";\r\n\t\tif (scheduler.config.rtl)\r\n\t\t\td.className+=\" dhx_cal_light_rtl\";\r\n\t\tif (scheduler.config.responsive_lightbox)\r\n\t\t\td.className += \" dhx_cal_light_responsive\";\r\n\r\n\t\td.style.visibility=\"hidden\";\r\n\t\tvar html = this._lightbox_template;\r\n\r\n\t\tvar buttons = this.config.buttons_left;\r\n\r\n\r\n\t\thtml += \"<div class='dhx_cal_lcontrols'>\";\r\n\t\tvar ariaAttr = \"\";\r\n\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\tariaAttr = this._waiAria.lightboxButtonAttrString(buttons[i]);\r\n\t\t\thtml += \"<div \"+ariaAttr+\" data-action='\"+ buttons[i]+\"' class='dhx_btn_set dhx_\"+(scheduler.config.rtl?\"right\":\"left\")+\"_btn_set \" + buttons[i] + \"_set'><div class='dhx_btn_inner \" + buttons[i] + \"'></div><div>\" + scheduler.locale.labels[buttons[i]] + \"</div></div>\";\r\n\t\t}\r\n\r\n\t\tbuttons = this.config.buttons_right;\r\n\t\tvar rtl = scheduler.config.rtl;\r\n\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\tariaAttr = this._waiAria.lightboxButtonAttrString(buttons[i]);\r\n\r\n\t\t\thtml += \"<div class='dhx_cal_lcontrols_push_right'></div>\";\r\n\r\n\t\t\thtml += \"<div \"+ariaAttr+\" data-action='\"+ buttons[i]+\"' class='dhx_btn_set dhx_\"+(rtl?\"left\":\"right\")+\"_btn_set \" +\r\n\t\t\t\t\t\tbuttons[i] + \"_set'><div class='dhx_btn_inner \" +\r\n\t\t\t\t\t\tbuttons[i] + \"'></div><div>\" + scheduler.locale.labels[buttons[i]] + \"</div></div>\";\r\n\t\t}\r\n\t\thtml += \"</div>\";\r\n\t\thtml+=\"</div>\";\r\n\t\td.innerHTML=html;\r\n\t\tif (scheduler.config.drag_lightbox){\r\n\t\t\tscheduler.event(d.firstChild, \"mousedown\", scheduler._ready_to_dnd);\r\n\t\t\tscheduler.event(d.firstChild, \"selectstart\", function(e){ \r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false; \r\n\t\t\t});\r\n\t\t\td.firstChild.style.cursor = \"move\";\r\n\t\t\tscheduler._init_dnd_events();\r\n\r\n\t\t}\r\n\r\n\t\tthis._waiAria.lightboxAttr(d);\r\n\r\n\t\tthis.show_cover();\r\n\t\tthis._cover.insertBefore(d,this._cover.firstChild);\r\n\t\t\r\n\t\tthis._lightbox=d;\r\n\r\n\t\tvar sns=this.config.lightbox.sections;\r\n\t\thtml=\"\";\r\n\t\tfor (var i=0; i < sns.length; i++) {\r\n\t\t\tvar block=this.form_blocks[sns[i].type];\r\n\t\t\tif (!block) continue; //ignore incorrect blocks\r\n\t\t\tsns[i].id=\"area_\"+this.uid();\r\n\t\t\tvar button = \"\";\r\n\t\t\tif (sns[i].button){\r\n\t\t\t\tvar ariaAttr = scheduler._waiAria.lightboxSectionButtonAttrString(this.locale.labels[\"button_\"+sns[i].button]);\r\n\t\t\t\tbutton = \"<div \"+ariaAttr+\" class='dhx_custom_button' data-section-index='\"+i+\"' index='\"+i+\"'><div class='dhx_custom_button_\"+sns[i].button+\"'></div><div>\"+this.locale.labels[\"button_\"+sns[i].button]+\"</div></div>\";\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.wide_form){\r\n\t\t\t\thtml+=\"<div class='dhx_wrap_section'>\";\r\n\t\t\t}\r\n\r\n\t\t\tvar label_name = this.locale.labels[\"section_\"+sns[i].name];\r\n\t\t\tif(typeof label_name !== \"string\"){\r\n\t\t\t\tlabel_name = sns[i].name;\r\n\t\t\t}\r\n\t\t\thtml+=\"<div id='\"+sns[i].id+\"' class='dhx_cal_lsection'>\"+button+ \"<label>\"+label_name+\"</label></div>\"+block.render.call(this,sns[i]);\r\n\t\t\thtml+=\"</div>\";\r\n\t\t}\r\n\r\n\t\tvar ds=d.getElementsByTagName(\"div\");\r\n\t\tfor (var i=0; i<ds.length; i++) {\r\n\t\t\tvar t_ds = ds[i];\r\n\t\t\tvar className = scheduler._getClassName(t_ds);\r\n\t\t\tif (className == \"dhx_cal_larea\") {\r\n\t\t\t\tt_ds.innerHTML = html;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// bind labels to lightbox inputs\r\n\t\tscheduler._bindLightboxLabels(sns);\r\n\r\n\t\t//sizes\r\n\t\tthis.setLightboxSize();\r\n\r\n\t\tthis._init_lightbox_events(this);\r\n\t\t//d.style.display=\"none\";\r\n\t\td.style.visibility=\"visible\";\r\n\t}\r\n\r\n\r\n\treturn this._lightbox;\r\n};\r\n\r\nscheduler._bindLightboxLabels = function(sections){\r\n\t// link section labels to controls using label[for] attribute and label.onclick=control.focus as a fallback\r\n\t// label[for] is preferable for accessibility reasons\r\n\r\n\tfor(var i = 0; i < sections.length; i++){\r\n\t\tvar section = sections[i];\r\n\t\tif(!section.id || !scheduler._lightbox.querySelector(`#${section.id}`))\r\n\t\t\tcontinue;\r\n\r\n\t\tvar labelBlock = scheduler._lightbox.querySelector(`#${section.id}`);\r\n\t\tvar label = labelBlock.querySelector(\"label\");\r\n\r\n\t\tvar inputBlock = scheduler._get_lightbox_section_node(section);\r\n\t\twhile(inputBlock && !inputBlock.querySelector){\r\n\t\t\tinputBlock = inputBlock.nextSibling;\r\n\t\t}\r\n\r\n\t\tvar fallback = true;\r\n\r\n\t\tif(inputBlock) {\r\n\t\t\tvar input = inputBlock.querySelector(\"input, select, textarea\");\r\n\t\t\tif(input){\r\n\t\t\t\tsection.inputId = input.id || \"input_\" + scheduler.uid();\r\n\t\t\t\tif(!input.id)\r\n\t\t\t\t\tinput.id = section.inputId;\r\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\r\n\t\t\t\tfallback = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// use control.focus if failed to bind input using label[for]\r\n\t\tif(fallback){\r\n\t\t\tvar control = scheduler.form_blocks[section.type];\r\n\t\t\tif(control.focus){\r\n\t\t\t\tscheduler.event(label, \"click\", (function(section){\r\n\t\t\t\t\treturn function(){\r\n\r\n\t\t\t\t\t\tvar block = scheduler.form_blocks[section.type];\r\n\t\t\t\t\t\tvar node = scheduler._get_lightbox_section_node(section);\r\n\r\n\t\t\t\t\t\tif(block && block.focus)\r\n\t\t\t\t\t\t\tblock.focus.call(scheduler, node);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(section));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.attachEvent(\"onEventIdChange\", function(old_id, new_id){\r\n\tif(this._lightbox_id == old_id)\r\n\t\tthis._lightbox_id = new_id;\r\n});\r\n\r\nscheduler._lightbox_template= `<div class='dhx_cal_ltitle'><div class=\"dhx_cal_ltitle_descr\"><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span>\r\n</div>\r\n<div class=\"dhx_cal_ltitle_controls\">\r\n<a class=\"dhx_cal_ltitle_close_btn scheduler_icon close\"></a>\r\n</div></div><div class='dhx_cal_larea'></div>`;\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._init_touch_events = function(){\r\n\tvar mobile = this.config.touch  &&\r\n\t\t( ((navigator.userAgent.indexOf(\"Mobile\")!=-1)   ||\r\n\t\t\t(navigator.userAgent.indexOf(\"iPad\")!=-1)       ||\r\n\t\t\t(navigator.userAgent.indexOf(\"Android\")!=-1)    ||\r\n\t\t\t(navigator.userAgent.indexOf(\"Touch\")!=-1)) && !window.MSStream) ||\r\n\t\t\t((navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1));\r\n\r\n\tif(mobile){\r\n\t\tthis.xy.scroll_width = 0;\r\n\t\tthis._mobile = true;\r\n\t}\r\n\r\n\tif(this.config.touch){\r\n\r\n\t\tvar touchEventsSupported = true;\r\n\t\ttry {\r\n\t\t\tdocument.createEvent(\"TouchEvent\");\r\n\t\t} catch (e) {\r\n\t\t\ttouchEventsSupported = false;\r\n\t\t}\r\n\r\n\t\tif (touchEventsSupported) {\r\n\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\r\n\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\r\n\t\t\t\tif (ev.touches[0])\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttarget: ev.target,\r\n\t\t\t\t\t\tpageX: ev.touches[0].pageX,\r\n\t\t\t\t\t\tpageY: ev.touches[0].pageY,\r\n\t\t\t\t\t\tclientX: ev.touches[0].clientX,\r\n\t\t\t\t\t\tclientY: ev.touches[0].clientY\r\n\t\t\t\t\t};\r\n\t\t\t\telse\r\n\t\t\t\t\treturn ev;\r\n\t\t\t}, function () {\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t} else if (window.PointerEvent || window.navigator.pointerEnabled) {\r\n\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\r\n\t\t\t\tif (ev.pointerType == \"mouse\") return null;\r\n\t\t\t\treturn ev;\r\n\t\t\t}, function (ev) {\r\n\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\r\n\t\t\t});\r\n\t\t} else if (window.navigator.msPointerEnabled) {\r\n\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\r\n\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\r\n\t\t\t\treturn ev;\r\n\t\t\t}, function (ev) {\r\n\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler._touch_events = function(names, accessor, ignore){\r\n\t//webkit on android need to be handled separately\r\n\t//var a_webkit = (navigator.userAgent.indexOf(\"Android\")!=-1) && (navigator.userAgent.indexOf(\"WebKit\")!=-1);\r\n\tvar source, tracker, timer, drag_mode, scroll_mode, action_mode;\r\n\tvar dblclicktime = 0;\r\n\r\n\tfunction attachTouchEvent(element, name, callback){\r\n\t\t//touch gestures must be disabled when ligthbox is opened\r\n\t\tscheduler.event(element, name, function(e){\r\n\t\t\tif(scheduler._is_lightbox_open()){\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\tif (ignore(e)) return;\r\n\t\t\t\treturn callback(e);\r\n\t\t\t}\r\n\t\t}, { passive: false });\r\n\t}\r\n\r\n\tfunction check_direction_swipe(s_ev, e_ev, step, max_dy){\r\n\t\tif (!s_ev || !e_ev) return false;\r\n\r\n\t\tvar t = s_ev.target;\r\n\t\twhile(t && t != scheduler._obj){\r\n\t\t\tt = t.parentNode;\r\n\t\t}\r\n\t\tif(t != scheduler._obj){\r\n\t\t\t//swipe outside scheduler\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// ignore swipe in horizontal timeline\r\n\t\tif(scheduler.matrix && scheduler.matrix[scheduler.getState().mode]){\r\n\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\tif(timeline.scrollable){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar dy = Math.abs(s_ev.pageY - e_ev.pageY);\r\n\t\tvar dx = Math.abs(s_ev.pageX - e_ev.pageX);\r\n\t\tif (dy < max_dy && dx>step && (!dy || (dx/dy > 3))){\r\n\t\t\tif (s_ev.pageX > e_ev.pageX) {\r\n\t\t\t\tscheduler._click.dhx_cal_next_button();\r\n\t\t\t}else {\r\n\t\t\t\tscheduler._click.dhx_cal_prev_button();\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction doMouseMove(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tvar dnd = scheduler.getState().drag_mode,\r\n\t\t\ttimeline = scheduler.matrix ? scheduler.matrix[scheduler._mode] : false;\r\n\r\n\t\tvar original_render = scheduler.render_view_data;\r\n\t\tif(dnd == 'create' && timeline){\r\n\t\t\t//suppress full redraw of timeline on creating event\r\n\t\t\tscheduler.render_view_data = function() {\r\n\t\t\t\tvar id = scheduler.getState().drag_id;\r\n\t\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\t\tvar property = timeline.y_property;\r\n\r\n\t\t\t\tvar evs = scheduler.getEvents(ev.start_date, ev.end_date);\r\n\t\t\t\tfor(var i = 0; i < evs.length; i++){\r\n\t\t\t\t\tif(evs[i][property] != ev[property]){\r\n\t\t\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tev._sorder = evs.length - 1;\r\n\t\t\t\tev._count = evs.length;\r\n\r\n\t\t\t\tthis.render_data([ev], scheduler.getState().mode);\r\n\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tscheduler._on_mouse_move(e);\r\n\r\n\t\tif(dnd == 'create' && timeline){\r\n\t\t\tscheduler.render_view_data = original_render;\r\n\t\t}\r\n\r\n\t\tif (e.preventDefault)\r\n\t\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// touchmove\r\n\tattachTouchEvent(document.body, names[0], function(e){\r\n\t\tif (ignore(e)) return;\r\n\r\n\t\tvar acc = accessor(e);\r\n\t\tif(!acc) return;\r\n\t\tif (drag_mode){\r\n\t\t\tdoMouseMove(acc);\r\n\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._update_global_tip();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//if (tracker && a_webkit){\r\n\t\t//\tcheck_direction_swipe(tracker, accessor(e), 0);\r\n\t\t//}\r\n\r\n\t\ttracker = accessor(e);\r\n\t\t//ignore common and scrolling moves\r\n\t\tif (!action_mode) return;\r\n\r\n\t\t//multitouch\r\n\t\tif (!tracker){\r\n\t\t\tscroll_mode = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//target changed - probably in scroll mode\r\n\r\n\t\tif (source.target != tracker.target || (Math.abs(source.pageX - tracker.pageX) > 5) || (Math.abs(source.pageY - tracker.pageY) > 5)){\r\n\t\t\tscroll_mode = true;\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t//attachTouchEvent(this._els[\"dhx_cal_data\"][0], \"scroll\", drag_cancel);\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], \"touchcancel\", drag_cancel);\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], \"contextmenu\", function(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tif (action_mode){\r\n\t\t\tif (e && e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\t// touchstart\r\n\tattachTouchEvent(this._obj, names[1], function(e){\r\n\t\t// block pull-to-refresh\r\n\t\tif(document && document.body){\r\n\t\t\tdocument.body.classList.add(\"dhx_cal_touch_active\");\r\n\t\t}\r\n\r\n\t\tif (ignore(e)) return;\r\n\t\tscheduler._pointerDragId = e.pointerId;\r\n\r\n\t\tvar fake_event;\r\n\t\tdrag_mode = scroll_mode = false;\r\n\t\taction_mode = true;\r\n\t\tfake_event = tracker = accessor(e);\r\n\r\n\t\tif (!fake_event){\r\n\t\t\tscroll_mode = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//dbl click\r\n\t\tvar now = new Date();\r\n\r\n\t\tif (!scroll_mode && !drag_mode && now - dblclicktime < 250){\r\n\t\t\tscheduler._click.dhx_cal_data(fake_event);\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//fake_event.type = \"dblclick\";\r\n\t\t\t\tscheduler._on_dbl_click(fake_event);\r\n\t\t\t}, 50);\r\n\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._block_next_stop = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tdblclicktime = now;\r\n\r\n\t\t//drag\r\n\r\n\t\tif (scroll_mode || drag_mode || !scheduler.config.touch_drag)\r\n\t\t\treturn;\r\n\r\n\t\tvar actTask = scheduler._locate_event(document.activeElement);\r\n\t\tvar fakeTask = scheduler._locate_event(fake_event.target);\r\n\t\tvar sourceTask = source? scheduler._locate_event(source.target) : null;\r\n\r\n\t\tif(actTask && fakeTask && actTask == fakeTask && actTask != sourceTask)\r\n\t\t{\r\n\t\t\tif(e.preventDefault) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\tscheduler._click.dhx_cal_data(fake_event);\r\n\t\t\tsource = fake_event;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//there is no target\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdrag_mode = true;\r\n\t\t\tvar target = source.target;\r\n\t\t\tvar className = scheduler._getClassName(target);\r\n\t\t\tif (target && className.indexOf(\"dhx_body\") != -1)\r\n\t\t\t\ttarget = target.previousSibling;\r\n\r\n\t\t\tscheduler._on_mouse_down(source, target);\r\n\t\t\tif (scheduler._drag_mode && scheduler._drag_mode != \"create\"){\r\n\t\t\t\tscheduler.for_rendered(scheduler._drag_id, function(node, i) {\r\n\t\t\t\t\tnode.style.display='none';\r\n\t\t\t\t\tscheduler._rendered.splice(i, 1);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (scheduler.config.touch_tip) {\r\n\t\t\t\tscheduler._show_global_tip();\r\n\t\t\t}\r\n\t\t\tscheduler.updateEvent(scheduler._drag_id);\r\n\t\t},scheduler.config.touch_drag);\r\n\r\n\t\tsource = fake_event;\r\n\t});\r\n\tfunction drag_cancel(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tscheduler._hide_global_tip();\r\n\t\tif (drag_mode){\r\n\t\t\tscheduler._on_mouse_up( accessor(e) );\r\n\t\t\tscheduler._temp_touch_block = false;\r\n\t\t}\r\n\t\tscheduler._drag_id = null;\r\n\t\tscheduler._drag_mode=null;\r\n\t\tscheduler._drag_pos=null;\r\n\t\tscheduler._pointerDragId = null;\r\n\t\tclearTimeout(timer);\r\n\t\tdrag_mode = action_mode = false;\r\n\t\tscroll_mode = true;\r\n\t}\r\n\r\n\t// touch end\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], names[2], function(e){\r\n\t\tif(document && document.body){\r\n\t\t\tdocument.body.classList.remove(\"dhx_cal_touch_active\");\r\n\t\t}\r\n\r\n\t\tif (ignore(e)) return;\r\n\r\n\t\tif(scheduler.config.touch_swipe_dates){\r\n\t\t\tif (!drag_mode && check_direction_swipe(source, tracker, 200, 100)) {\r\n\t\t\t\tscheduler._block_next_stop = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (drag_mode) {\r\n\t\t\tscheduler._ignore_next_click = true;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\t}, 100);\r\n\t\t}\r\n\r\n\t\tdrag_cancel(e);\r\n\t\tif (scheduler._block_next_stop){\r\n\t\t\tscheduler._block_next_stop = false;\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler.event(document.body, names[2], drag_cancel);\r\n};\r\n\r\nscheduler._show_global_tip = function(){\r\n\tscheduler._hide_global_tip();\r\n\r\n\tvar toptip = scheduler._global_tip = document.createElement(\"div\");\r\n\ttoptip.className='dhx_global_tip';\r\n\r\n\tscheduler._update_global_tip(1);\r\n\r\n\tdocument.body.appendChild(toptip);\r\n};\r\nscheduler._update_global_tip = function(init){\r\n\tvar toptip = scheduler._global_tip;\r\n\tif (toptip){\r\n\t\tvar time = \"\";\r\n\t\tif (scheduler._drag_id && !init){\r\n\t\t\tvar ev = scheduler.getEvent(scheduler._drag_id);\r\n\t\t\tif (ev)\r\n\t\t\t\ttime = \"<div>\" + (ev._timed ? scheduler.templates.event_header(ev.start_date, ev.end_date, ev):scheduler.templates.day_date(ev.start_date, ev.end_date, ev)) + \"</div>\";\r\n\t\t}\r\n\r\n\t\tif (scheduler._drag_mode == \"create\" || scheduler._drag_mode == \"new-size\")\r\n\t\t\ttoptip.innerHTML = (scheduler.locale.labels.drag_to_create || \"Drag to create\")+time;\r\n\t\telse\r\n\t\t\ttoptip.innerHTML = (scheduler.locale.labels.drag_to_move || \"Drag to move\")+time;\r\n\t}\r\n};\r\nscheduler._hide_global_tip = function(){\r\n\tvar toptip = scheduler._global_tip;\r\n\tif (toptip && toptip.parentNode){\r\n\t\ttoptip.parentNode.removeChild(toptip);\r\n\t\tscheduler._global_tip = 0;\r\n\t}\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler.getRootView = function() {\r\n\treturn {\r\n\t\tview: {\r\n\t\t\trender: function(){\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttag: \"div\",\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\tattrs: {\r\n\t\t\t\t\t\tstyle: \"width:100%;height:100%;\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\thooks: {\r\n\t\t\t\t\t\t\"didInsert\": function(){\r\n\t\t\t\t\t\t\tscheduler.setCurrentView();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tel: this.el,\r\n\t\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tinit: function(){\r\n\t\t\t\tvar container = document.createElement(\"DIV\");\r\n\t\t\t\tcontainer.id = \"scheduler_\"+ scheduler.uid();\r\n\t\t\t\tcontainer.style.width = \"100%\";\r\n\t\t\t\tcontainer.style.height = \"100%\";\r\n\t\t\t\tcontainer.classList.add(\"dhx_cal_container\");\r\n\t\t\t\tcontainer.cmp = \"grid\";\r\n\t\t\t\tcontainer.innerHTML = '<div class=\"dhx_cal_navline\">' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_prev_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_next_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_today_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_date\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"day\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"week\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"month\"></div>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_header\">' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_data\">' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\t\tscheduler.init(container);\r\n\r\n\t\t\t\tthis.el = container;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttype: 4\r\n\t};\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._addThemeClass = function(){\r\n\tdocument.documentElement.setAttribute(\"data-scheduler-theme\", scheduler.skin);\r\n};\r\n\r\nscheduler._skin_settings = {\r\n\tfix_tab_position: [1,0],\r\n\tuse_select_menu_space: [1,0],\r\n\twide_form: [1,0],\r\n\r\n\thour_size_px: [44,42],\r\n\tdisplayed_event_color: [\"#ff4a4a\", \"ffc5ab\"],\r\n\tdisplayed_event_text_color: [\"#ffef80\", \"7e2727\"]\r\n};\r\n\r\nscheduler._skin_xy = {\r\n\tlightbox_additional_height: [90,50],\r\n\tnav_height: [59,22],\r\n\tbar_height: [24,20]\r\n};\r\n\r\n// material skin uses a different box sizing model than other skins, and also requires some post-processing.\r\n// In order to render events correctly, we need to know which box sizing model is used\r\n// We can detect it by styles applied, taking into account that styles may be loaded after scheduler is rendered\r\n\r\nscheduler._is_material_skin = function(){\r\n\tif(!scheduler.skin){\r\n\t\treturn checkIfMaterialSkin();\r\n\t}else{\r\n\t\treturn ((scheduler.skin + \"\").indexOf(\"material\") > -1);\r\n\t}\r\n};\r\n\r\nfunction themeNameFromFile(){\r\n\tvar links = document.getElementsByTagName(\"link\");\r\n\tfor (var i = 0; i < links.length; i++) {\r\n\t\tvar res = links[i].href.match(\"dhtmlxscheduler_([a-z]+).css\");\r\n\t\tif (res){\r\n\t\t\treturn res[1];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nscheduler._build_skin_info = function() {\r\n\tmonitorThemeChange();\r\n\tconst styles = getComputedStyle(this.$container);\r\n\tconst themeVar = styles.getPropertyValue(\"--dhx-scheduler-theme\");\r\n\r\n\tlet isCssVarTheme = !!themeVar;\r\n\tlet themeName;\r\n\tlet cssValues = {};\r\n\tlet oldMaterialTheme = false;\r\n\r\n\tif(isCssVarTheme){\r\n\t\tthemeName = themeVar;\r\n\t\tfor(let i in scheduler.xy){\r\n\t\t\tcssValues[i] = styles.getPropertyValue(`--dhx-scheduler-xy-${i}`);\r\n\t\t}\r\n\r\n\t\tcssValues.hour_size_px = styles.getPropertyValue(`--dhx-scheduler-config-hour_size_px`);\r\n\t\tcssValues.wide_form = styles.getPropertyValue(`--dhx-scheduler-config-form_wide`);\r\n\r\n\t}else{\r\n\t\tthemeName = themeNameFromFile();\r\n\t\toldMaterialTheme = scheduler._is_material_skin();\r\n\t}\r\n\r\n\r\n\tscheduler._theme_info = {\r\n\t\ttheme: themeName,\r\n\t\tcssVarTheme: isCssVarTheme,\r\n\t\toldMaterialTheme: oldMaterialTheme,\r\n\t\tvalues: cssValues\r\n\t};\r\n\r\n\tif(scheduler._theme_info.cssVarTheme){\r\n\t\tconst themeVariables = this._theme_info.values;\r\n\t\tfor(let i in scheduler.xy){\r\n\t\t\tif(!isNaN(parseInt(themeVariables[i]))){\r\n\t\t\t\tscheduler.xy[i] = parseInt(themeVariables[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar calculatedMaterial;\r\nfunction checkIfMaterialSkin(){\r\n\tif(calculatedMaterial === undefined){\r\n\t\tvar probe = document.createElement(\"div\");\r\n\t\tprobe.style.position = \"absolute\";\r\n\t\tprobe.style.left = \"-9999px\";\r\n\t\tprobe.style.top = \"-9999px\";\r\n\t\tprobe.innerHTML = \"<div class='dhx_cal_container'>\" +\r\n\t\t\t\"<div class='dhx_cal_scale_placeholder'>\" +\r\n\t\t\t\"</div>\"+\r\n\t\t\"<div>\";\r\n\t\tdocument.body.appendChild(probe);\r\n\t\tvar styles = window.getComputedStyle(probe.querySelector(\".dhx_cal_scale_placeholder\"));\r\n\t\tvar position = styles.getPropertyValue('position');\r\n\t\tif(position === \"absolute\"){\r\n\t\t\t// page has skins for placeholder element from material skin\r\n\t\t\tcalculatedMaterial = true;\r\n\t\t}else{\r\n\t\t\tcalculatedMaterial = false;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tcalculatedMaterial = null;\r\n\t\t\tif(probe && probe.parentNode){\r\n\t\t\t\tprobe.parentNode.removeChild(probe);\r\n\t\t\t}\r\n\t\t}, 500);\r\n\t}\r\n\treturn calculatedMaterial;\r\n}\r\n\r\nvar cachedBorderBoxValue;\r\nfunction checkIfBorderBoxStyling(){\r\n\tif(scheduler._is_material_skin()){\r\n\t\treturn true;\r\n\t}else{\r\n\t\tif(cachedBorderBoxValue === undefined){\r\n\t\t\tvar probe = document.createElement(\"div\");\r\n\t\t\tprobe.style.position = \"absolute\";\r\n\t\t\tprobe.style.left = \"-9999px\";\r\n\t\t\tprobe.style.top = \"-9999px\";\r\n\t\t\tprobe.innerHTML = \"<div class='dhx_cal_container'>\" +\r\n\t\t\t\t\"<div class='dhx_cal_data'>\" +\r\n\t\t\t\t\t\"<div class='dhx_cal_event'><div class='dhx_body'></div>\"+\r\n\t\t\t\t\"</div>\"+\r\n\t\t\t\"<div>\";\r\n\r\n\t\t\tdocument.body.appendChild(probe);\r\n\t\t\tvar styles = window.getComputedStyle(probe.querySelector(\".dhx_body\"));\r\n\t\t\tvar boxSizing = styles.getPropertyValue('box-sizing');\r\n\t\t\tdocument.body.removeChild(probe);\r\n\t\t\tcachedBorderBoxValue = !!(boxSizing === \"border-box\");\r\n\r\n\t\t\tif(!cachedBorderBoxValue){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tcachedBorderBoxValue = undefined;\r\n\t\t\t\t}, 1000);// recalculate in case scheduler initialized before skin is loaded\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\treturn cachedBorderBoxValue;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction refreshAfterLoad(){\r\n\tif(scheduler._is_material_skin() || scheduler._border_box_events()){\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar oldStyling = cachedBorderBoxValue;\r\n\tcachedBorderBoxValue = undefined;\r\n\tcalculatedMaterial = undefined;\r\n\tvar newStyling = checkIfBorderBoxStyling();\r\n\r\n\t// if box styling model changed - means scheduler was rendered before stylesheet was loaded or parsed inline\r\n\t// repaint scheduler in order to apply new styles\r\n\tif(oldStyling !== newStyling && scheduler.$container && scheduler.getState().mode){\r\n\t\tscheduler.setCurrentView();\r\n\t}\r\n}\r\nscheduler.event(window, 'DOMContentLoaded', refreshAfterLoad);\r\nscheduler.event(window, 'load', refreshAfterLoad);\r\n\r\nscheduler._border_box_events = function(){\r\n\treturn checkIfBorderBoxStyling();\r\n};\r\n\r\nscheduler._configure = function(col, data, skin){\r\n\tfor (var key in data)\r\n\t\tif (typeof col[key] == \"undefined\")\r\n\t\t\tcol[key] = data[key][skin];\r\n};\r\n\r\nscheduler.setSkin = function(value){\r\n\tthis.skin = value;\r\n\tscheduler._addThemeClass();\r\n\tif(scheduler.$container){\r\n\t\tthis._skin_init();\r\n\t\tthis.render();\r\n\t}\r\n\t\r\n\t//\r\n};\r\n\r\nfunction flatSkinHourScale(date){\r\n\tvar min = date.getMinutes();\r\n\tmin = min < 10 ? \"0\"+min : min;\r\n\tvar html = \"<span class='dhx_scale_h'>\"+ date.getHours() +\"</span>\"+\r\n\t\t\"<span class='dhx_scale_m'>&nbsp;\"+ min +\"</span>\";\r\n\treturn html;\r\n}\r\n\r\nlet monitorIntervalId = null;\r\nfunction monitorThemeChange(){\r\n\tconst container = scheduler.$container;\r\n\t\r\n\tclearInterval(monitorIntervalId);\r\n\tif(container){\r\n\t\tmonitorIntervalId = setInterval(() => {\r\n\t\t\tconst csstheme = getComputedStyle(container).getPropertyValue('--dhx-scheduler-theme');\r\n\t\t\tif(csstheme && csstheme !== scheduler.skin){\r\n\t\t\t\tscheduler.setSkin(csstheme);\r\n\t\t\t}\r\n\r\n\t\t}, 100);\r\n\t}\r\n}\r\nscheduler.attachEvent(\"onDestroy\", function(){\r\n\tclearInterval(monitorIntervalId);\r\n});\r\n\r\nscheduler._skin_init = function(){\r\n\tthis._build_skin_info();\r\n\r\n\tif (!this.skin){\r\n\t\tthis.skin = this._theme_info.theme;\r\n\t}\r\n\tscheduler._addThemeClass();\r\n\tif (scheduler.skin === \"flat\"){\r\n\t\t// scheduler.xy.scale_height = 35;\r\n\t\tscheduler.templates.hour_scale = flatSkinHourScale;\r\n\t}else if (scheduler.templates.hour_scale === flatSkinHourScale){\r\n\t\tscheduler.templates.hour_scale = scheduler.date.date_to_str(scheduler.config.hour_date);\r\n\t}\r\n\r\n\r\n\r\n\t//scheduler._lightbox_template=\"<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span><div class='dhx_close_icon'></div></div><div class='dhx_cal_larea'></div>\";\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\r\n\t\tvar date_to_str = scheduler.date.date_to_str(\"%d\");\r\n\t\tif(!scheduler.templates._old_month_day){\r\n\t\t\tscheduler.templates._old_month_day = scheduler.templates.month_day;\r\n\t\t}\r\n\t\tvar old_month_day = scheduler.templates._old_month_day;\r\n\t\tscheduler.templates.month_day = function(date) {\r\n\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\tvar label = date_to_str(date);\r\n\t\t\t\tif (date.getDate() == 1) {\r\n\t\t\t\t\tlabel = scheduler.locale.date.month_full[date.getMonth()] + \" \" + label;\r\n\t\t\t\t}\r\n\t\t\t\tif (+date == +scheduler.date.date_part(this._currentDate())) {\r\n\t\t\t\t\tlabel = scheduler.locale.labels.dhx_cal_today_button + \" \" + label;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t} else {\r\n\t\t\t\treturn old_month_day.call(this, date);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// tab classes\r\n\t\tif(scheduler.config.fix_tab_position){\r\n\t\t\tconst tabs = scheduler._els[\"dhx_cal_navline\"][0].querySelectorAll('[data-tab]');\r\n\t\t\ttabs.forEach((tab) => {\r\n\t\t\t\tconst view = tab.getAttribute(\"data-tab\") || tab.getAttribute(\"name\");\r\n\r\n\t\t\t\tswitch (view) {\r\n\t\t\t\t\tcase \"day\":\r\n\t\t\t\t\tcase \"day_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_first\");\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"week\":\r\n\t\t\t\t\tcase \"week_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"month\":\r\n\t\t\t\t\tcase \"month_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_last\");\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_standalone\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treorderTabs(scheduler._els[\"dhx_cal_navline\"][0]);\r\n\r\n\t\t}\r\n\t}, {once: true});\r\n\r\n\tfunction reorderTabs(container) {\r\n\t\t// segmented tabs should go first\r\n\r\n\t\tif(scheduler.config.header){\r\n\t\t\treturn;\r\n\t\t\t// don't reorder tabs if header is defined via config\r\n\t\t}\r\n\t\tconst tabs = Array.from(container.querySelectorAll('.dhx_cal_tab'));\r\n\t\r\n\t\t// segmented tabs\r\n\t\tconst order = ['day', 'week', 'month'];\r\n\t\r\n\t\tconst specialTabs = order.map(tabName => \r\n\t\t\ttabs.find(tab => tab.getAttribute('data-tab') === tabName)\r\n\t\t).filter(tab => tab !== undefined);\r\n\t\r\n\t\tlet firstTab = tabs.length > 0 ? tabs[0] : null;\r\n\r\n\t\tspecialTabs.reverse().forEach(tab => {\r\n\t\t\tcontainer.insertBefore(tab, firstTab);\r\n\t\t\tfirstTab = tab;\r\n\t\t});\r\n\t}\r\n\r\n\t// scheduler._skin_init = function(){\r\n\t// \tthis._build_skin_info();\r\n\t// \tthis.skin = this._theme_info.theme;\r\n\t// };\r\n};\r\n\r\n\r\n\r\n}","import global from \"../global\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\n(function(){\r\n\r\n\tvar setCurrentView = scheduler.setCurrentView,\r\n\t\tupdateView = scheduler.updateView;\r\n\tvar update_view_timer = null,\r\n\t\tcurr_view_timer = null;\r\n\r\n\tvar lazy_setCurrentView = function(date, mode){\r\n\t\tvar self = this;\r\n\t\tglobal.clearTimeout(curr_view_timer);\r\n\t\tglobal.clearTimeout(update_view_timer);\r\n\r\n\t\tvar oldDate = self._date,\r\n\t\t\toldMode = self._mode;\r\n\t\tupdateFlags(this, date, mode);\r\n\r\n\t\tcurr_view_timer = setTimeout(function(){\r\n\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!self.callEvent(\"onBeforeViewChange\", [oldMode, oldDate, mode || self._mode, date || self._date])){\r\n\t\t\t\tupdateFlags(self, oldDate, oldMode);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tupdateView.call(self, date, mode);\r\n\t\t\tself.callEvent(\"onViewChange\", [self._mode, self._date]);\r\n\r\n\t\t\tglobal.clearTimeout(update_view_timer);\r\n\t\t\tcurr_view_timer = 0;\r\n\t\t}, scheduler.config.delay_render);\r\n\t};\r\n\tvar lazy_updateView = function(date, mode){\r\n\t\tvar self = this,\r\n\t\t\tars = arguments;\r\n\r\n\t\tupdateFlags(this, date, mode);\r\n\r\n\t\tglobal.clearTimeout(update_view_timer);\r\n\t\tupdate_view_timer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(curr_view_timer)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tupdateView.apply(self, ars);\r\n\t\t}, scheduler.config.delay_render);\r\n\t};\r\n\tfunction updateFlags(scheduler, date, mode){\r\n\t\tif(date)\r\n\t\t\tscheduler._date = date;\r\n\t\tif(mode)\r\n\t\t\tscheduler._mode = mode;\r\n\r\n\t}\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\tif(scheduler.config.delay_render){\r\n\t\t\tscheduler.setCurrentView = lazy_setCurrentView;\r\n\t\t\tscheduler.updateView = lazy_updateView;\r\n\t\t}else{\r\n\t\t\tscheduler.setCurrentView = setCurrentView;\r\n\t\t\tscheduler.updateView = updateView;\r\n\t\t}\r\n\t});\r\n\r\n})();\r\n\r\n}","import global from \"../global\";\r\n\r\nexport default function extend(scheduler) {\r\n/*\r\nif (global.dataProcessor && !dataProcessor.prototype.init_original){\r\n\tdataProcessor.prototype.init_original=dataProcessor.prototype.init;\r\n\tdataProcessor.prototype.init=function(obj){\r\n\t\tthis.init_original(obj);\r\n\t\tobj._dataprocessor=this;\r\n\r\n\t\tthis.setTransactionMode(\"POST\",true);\r\n\t\tthis.serverProcessor+=(this.serverProcessor.indexOf(\"?\")!=-1?\"&\":\"?\")+\"editing=true\";\r\n\t};\r\n}*/\r\n\r\nscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\tif(typeof dhtmlxError !== \"undefined\") {\r\n\t\twindow.dhtmlxError.catchError(\"LoadXML\", function(a, b, c){\r\n\t\t\tvar message = c[0].responseText;\r\n\r\n\t\t\tswitch (scheduler.config.ajax_error){\r\n\t\t\t\tcase \"alert\":\r\n\t\t\t\t\tglobal.alert(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"console\":\r\n\t\t\t\t\tglobal.console.log(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\n}","import ar from \"./locale_ar\";\r\nimport be from \"./locale_be\";\r\nimport ca from \"./locale_ca\";\r\nimport cn from \"./locale_cn\";\r\nimport cs from \"./locale_cs\";\r\nimport da from \"./locale_da\";\r\nimport de from \"./locale_de\";\r\nimport el from \"./locale_el\";\r\nimport en from \"./locale_en\";\r\nimport es from \"./locale_es\";\r\nimport fi from \"./locale_fi\";\r\nimport fr from \"./locale_fr\";\r\nimport he from \"./locale_he\";\r\nimport hu from \"./locale_hu\";\r\nimport id from \"./locale_id\";\r\nimport it from \"./locale_it\";\r\nimport jp from \"./locale_jp\";\r\n\r\nimport LocaleManager from \"./locale_manager\";\r\n\r\nimport nb from \"./locale_nb\";\r\nimport nl from \"./locale_nl\";\r\nimport no from \"./locale_no\";\r\nimport pl from \"./locale_pl\";\r\nimport pt from \"./locale_pt\";\r\nimport ro from \"./locale_ro\";\r\nimport ru from \"./locale_ru\";\r\nimport si from \"./locale_si\";\r\nimport sk from \"./locale_sk\";\r\nimport sv from \"./locale_sv\";\r\nimport tr from \"./locale_tr\";\r\nimport ua from \"./locale_ua\";\r\n\r\nexport default function(){\r\n\treturn new LocaleManager({\r\n\t\ten,\r\n\t\tar,\r\n\t\tbe,\r\n\t\tca,\r\n\t\tcn,\r\n\t\tcs,\r\n\t\tda,\r\n\t\tde,\r\n\t\tel,\r\n\t\tes,\r\n\t\tfi,\r\n\t\tfr,\r\n\t\the,\r\n\t\thu,\r\n\t\tid,\r\n\t\tit,\r\n\t\tjp,\r\n\t\tnb,\r\n\t\tnl,\r\n\t\tno,\r\n\t\tpl,\r\n\t\tpt,\r\n\t\tro,\r\n\t\tru,\r\n\t\tsi,\r\n\t\tsk,\r\n\t\tsv,\r\n\t\ttr,\r\n\t\tua\r\n\t});\r\n}","export default class ExtensionsManager{\r\n\tconstructor(config){\r\n\t\tthis._extensions = {};\r\n\t\tfor(const i in config){\r\n\t\t\tthis._extensions[i] = config[i];\r\n\t\t}\r\n\t}\r\n\r\n\taddExtension(name, ext) {\r\n\t\tthis._extensions[name] = ext;\r\n\t}\r\n\r\n\tgetExtension(name) {\r\n\t\treturn this._extensions[name];\r\n\t}\r\n}","\r\nexport default function(){\r\n/* global dhtmlx */\r\nif (typeof dhtmlx != \"undefined\" && dhtmlx.attaches) {\r\n\tdhtmlx.attaches.attachScheduler = function (day, mode, tabs, scheduler) {\r\n\t\tvar tabs = tabs || '<div class=\"dhx_cal_tab\" name=\"day_tab\" data-tab=\"day\" style=\"right:204px;\"></div><div class=\"dhx_cal_tab\" name=\"week_tab\" data-tab=\"week\" style=\"right:140px;\"></div><div class=\"dhx_cal_tab\" name=\"month_tab\" data-tab=\"month\" style=\"right:76px;\"></div>';\r\n\t\tvar obj = document.createElement(\"DIV\");\r\n\t\tobj.id = \"dhxSchedObj_\" + this._genStr(12);\r\n\t\tobj.innerHTML = '<div id=\"' + obj.id + '\" class=\"dhx_cal_container\" style=\"width:100%; height:100%;\"><div class=\"dhx_cal_navline\"><div class=\"dhx_cal_prev_button\"></div><div class=\"dhx_cal_next_button\"></div><div class=\"dhx_cal_today_button\"></div><div class=\"dhx_cal_date\"></div>' + tabs + '</div><div class=\"dhx_cal_header\"></div><div class=\"dhx_cal_data\"></div></div>';\r\n\t\tdocument.body.appendChild(obj.firstChild);\r\n\r\n\t\tthis.attachObject(obj.id, false, true);\r\n\r\n\t\tthis.vs[this.av].sched = scheduler;\r\n\t\tthis.vs[this.av].schedId = obj.id;\r\n\t\tscheduler.setSizes = scheduler.updateView;\r\n\t\tscheduler.destructor = function () { };\r\n\t\tscheduler.init(obj.id, day, mode);\r\n\r\n\t\treturn this.vs[this._viewRestore()].sched;\r\n\t};\r\n}\r\n\r\n}","export default {\r\n\talert: (extension, assert) => {\r\n\t\tassert(false, `The ${extension} extension is not included in this version of dhtmlxScheduler.<br>\r\n\t\tYou may need a <a href=\"https://docs.dhtmlx.com/scheduler/editions_comparison.html\" target=\"_blank\">Professional version of the component</a>.<br>\r\n\t\tContact us at <a href=\"https://dhtmlx.com/docs/contact.shtml\" target=\"_blank\">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`);\r\n\t}\r\n};","interface IViewPosition{\r\n\ttop: number;\r\n\tleft: number;\r\n}\r\n\r\ninterface IViewBox extends IViewPosition{\r\n\twidth: number;\r\n\theight: number;\r\n\tbottom: number;\r\n\tright: number;\r\n}\r\n\r\nexport class Tooltip {\r\n\tprivate _root: HTMLElement;\r\n\tprivate _tooltipNode: HTMLElement | null;\r\n\tprivate _scheduler: any;\r\n\r\n\tconstructor(scheduler: any){\r\n\t\tthis._scheduler = scheduler;\r\n\t}\r\n\r\n\tgetNode() : HTMLElement {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tif (!this._tooltipNode){\r\n\t\t\tthis._tooltipNode = document.createElement(\"div\");\r\n\t\t\tthis._tooltipNode.className = \"dhtmlXTooltip scheduler_tooltip tooltip\";\r\n\r\n\t\t\tscheduler._waiAria.tooltipAttr(this._tooltipNode);\r\n\t\t}\r\n\t\tif(scheduler.config.rtl){\r\n\t\t\tthis._tooltipNode.classList.add(\"dhtmlXTooltip_rtl\");\r\n\t\t} else{\r\n\t\t\tthis._tooltipNode.classList.remove(\"dhtmlXTooltip_rtl\");\r\n\t\t}\r\n\t\treturn this._tooltipNode;\r\n\t}\r\n\r\n\tsetViewport(node: HTMLElement):Tooltip{\r\n\t\tthis._root = node;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tshow(left: number, top: number): Tooltip;\r\n\tshow(event: MouseEvent): Tooltip;\r\n\tshow(left: number | MouseEvent, top?: number): Tooltip {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tconst container = document.body;\r\n\t\tconst node = this.getNode();\r\n\r\n\t\tif(!domHelpers.isChildOf(node, container)){\r\n\t\t\tthis.hide();\r\n\t\t\tcontainer.appendChild(node);\r\n\t\t}\r\n\r\n\t\tif (this._isLikeMouseEvent(left)) {\r\n\t\t\tconst position = this._calculateTooltipPosition(left as MouseEvent);\r\n\t\t\ttop = position.top;\r\n\t\t\tleft = position.left;\r\n\t\t}\r\n\r\n\t\tnode.style.top = top + \"px\";\r\n\t\tnode.style.left = left + \"px\";\r\n\r\n\t\tscheduler._waiAria.tooltipVisibleAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\thide() : Tooltip{\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst node = this.getNode();\r\n\t\tif(node && node.parentNode){\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t\tscheduler._waiAria.tooltipHiddenAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tsetContent(html: string) : Tooltip{\r\n\t\tconst node = this.getNode();\r\n\t\tnode.innerHTML = html;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t// it is for salesforce, because it proxies event to it own events\r\n\tprivate _isLikeMouseEvent(event: any): boolean {\r\n\t\tif (!event || typeof event !== \"object\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn \"clientX\" in event && \"clientY\" in event;\r\n\t}\r\n\r\n\tprivate _getViewPort() : HTMLElement {\r\n\t\treturn this._root || document.body;\r\n\t}\r\n\r\n\r\n\tprivate _calculateTooltipPosition(event: MouseEvent): IViewPosition{\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\t// top/left coordinates inside the viewport by mouse position\r\n\t\tconst viewport =  this._getViewPortSize();\r\n\t\tconst tooltipNode = this.getNode();\r\n\t\tconst tooltip: IViewBox = {\r\n\t\t\ttop:0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: tooltipNode.offsetWidth,\r\n\t\t\theight: tooltipNode.offsetHeight,\r\n\t\t\tbottom: 0,\r\n\t\t\tright: 0\r\n\t\t};\r\n\r\n\t\tconst offsetX = scheduler.config.tooltip_offset_x;\r\n\t\tconst offsetY = scheduler.config.tooltip_offset_y;\r\n\r\n\t\tconst container = document.body;\r\n\t\tconst mouse = domHelpers.getRelativeEventPosition(event, container);\r\n\t\tconst containerPos = domHelpers.getNodePosition(container);\r\n\t\tmouse.y += containerPos.y; // to fix margin collapsing\r\n\r\n\t\ttooltip.top = mouse.y;\r\n\t\ttooltip.left = mouse.x;\r\n\t\ttooltip.top += offsetY;\r\n\t\ttooltip.left += offsetX;\r\n\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\r\n\t\tconst scrollTop = window.scrollY + container.scrollTop; // to fix margin collapsing\r\n\t\t// edge cases when the tooltip element can be partially hidden by edges of the viewport\r\n\t\tif(tooltip.top < viewport.top - scrollTop){\r\n\t\t\ttooltip.top = viewport.top;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}else if(tooltip.bottom > viewport.bottom){\r\n\t\t\ttooltip.bottom = viewport.bottom;\r\n\t\t\ttooltip.top = tooltip.bottom - tooltip.height;\r\n\t\t}\r\n\r\n\t\tif(tooltip.left < viewport.left){\r\n\t\t\ttooltip.left = viewport.left;\r\n\t\t\ttooltip.right = viewport.left + tooltip.width;\r\n\t\t}else if(tooltip.right > viewport.right){\r\n\t\t\ttooltip.right = viewport.right;\r\n\t\t\ttooltip.left = tooltip.right - tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.x >= tooltip.left && mouse.x <= tooltip.right) {\r\n\t\t\ttooltip.left = mouse.x - tooltip.width - offsetX;\r\n\t\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.y >= tooltip.top && mouse.y <= tooltip.bottom) {\r\n\t\t\ttooltip.top = mouse.y - tooltip.height - offsetY;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}\r\n\r\n\t\treturn tooltip;\r\n\t}\r\n\r\n\tprivate _getViewPortSize() : IViewBox {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tconst container = this._getViewPort();\r\n\t\tlet viewport = container;\r\n\t\tlet scrollTop = window.scrollY + document.body.scrollTop;\r\n\t\tlet scrollLeft = window.scrollX + document.body.scrollLeft;\r\n\t\tlet pos;\r\n\t\t// support for the initial tooltip mode where the tooltip element was attached to the data area of scheduler\r\n\t\tif(container === scheduler.$event_data){\r\n\t\t\tviewport = scheduler.$event;\r\n\t\t\tscrollTop = 0;\r\n\t\t\tscrollLeft = 0;\r\n\t\t\tpos = domHelpers.getNodePosition(scheduler.$event);\r\n\t\t}else{\r\n\t\t\tpos = domHelpers.getNodePosition(viewport);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft:pos.x + scrollLeft,\r\n\t\t\ttop: pos.y + scrollTop,\r\n\t\t\twidth: pos.width,\r\n\t\t\theight: pos.height,\r\n\t\t\tbottom: pos.y + pos.height + scrollTop,\r\n\t\t\tright: pos.x + pos.width + scrollLeft\r\n\t\t};\r\n\t}\r\n}\r\n","import * as utils from \"../../core/utils/utils\";\r\nimport { Tooltip } from \"./tooltip\";\r\n\r\ninterface ITrackerTarget {\r\n\tselector: string;\r\n\tonmouseenter: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmousemove: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmouseleave: (event: MouseEvent, node: HTMLElement) => void;\r\n\tglobal: boolean;\r\n}\r\n\r\ninterface ITooltipConfig {\r\n\tselector: string;\r\n\thtml: (event: MouseEvent, node: HTMLElement) => string;\r\n\tglobal: boolean;\r\n}\r\n\r\nexport class TooltipManager{\r\n\ttooltip: Tooltip;\r\n\tprotected _domEvents: any;\r\n\tprivate _listeners: object = {};\r\n\tprivate _scheduler: any;\r\n\tprivate delayShow: any;\r\n\tprivate delayHide: any;\r\n\r\n\tconstructor(scheduler: any) {\r\n\t\tthis.tooltip = new Tooltip(scheduler);\r\n\t\tthis._scheduler = scheduler;\r\n\t\tthis._domEvents = scheduler._createDomEventScope();\r\n\t\tthis._initDelayedFunctions();\r\n\t}\r\n\r\n\tdestructor(): void{\r\n\t\tthis.tooltip.hide();\r\n\t\tthis._domEvents.detachAll();\r\n\t}\r\n\thideTooltip(): void{\r\n\t\tthis.delayHide();\r\n\t}\r\n\tattach(config: ITrackerTarget): void {\r\n\t\tlet root = document.body;\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tif(!config.global){\r\n\t\t\troot = scheduler.$root;\r\n\t\t}\r\n\r\n\t\tlet watchableTarget = null;\r\n\t\tconst handler = (event) => {\r\n\t\t\tconst eventTarget = domHelpers.getTargetNode(event);\r\n\t\t\tconst targetNode = domHelpers.closest(eventTarget, config.selector);\r\n\t\t\tif(domHelpers.isChildOf(eventTarget, this.tooltip.getNode())){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst doOnMouseEnter = () => {\r\n\t\t\t\twatchableTarget = targetNode;\r\n\t\t\t\tconfig.onmouseenter(event, targetNode);\r\n\t\t\t};\r\n\r\n\t\t\tif(watchableTarget){\r\n\t\t\t\tif(targetNode && targetNode === watchableTarget){\r\n\t\t\t\t\tconfig.onmousemove(event, targetNode);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconfig.onmouseleave(event, watchableTarget);\r\n\t\t\t\t\twatchableTarget = null;\r\n\r\n\t\t\t\t\tif(targetNode && targetNode !== watchableTarget){\r\n\t\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(targetNode){\r\n\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.detach(config.selector);\r\n\t\tthis._domEvents.attach(root, \"mousemove\", handler);\r\n\t\tthis._listeners[config.selector] = {\r\n\t\t\tnode: root,\r\n\t\t\thandler\r\n\t\t};\r\n\t}\r\n\r\n\tdetach(selector: string): void {\r\n\t\tconst listener = this._listeners[selector];\r\n\t\tif(listener){\r\n\t\t\tthis._domEvents.detach(listener.node, \"mousemove\", listener.handler);\r\n\t\t}\r\n\t}\r\n\r\n\ttooltipFor(config: ITooltipConfig): void {\r\n\t\tconst cloneDomEvent = (event: MouseEvent) => {\r\n\t\t\tlet clone = event;\r\n\t\t\t// making events survive timeout in ie\r\n\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\tif(document[\"createEventObject\"] && !document.createEvent){\r\n\t\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\t\tclone = document[\"createEventObject\"](event);\r\n\t\t\t}\r\n\t\t\treturn clone;\r\n\t\t};\r\n\t\tthis._initDelayedFunctions();\r\n\t\tthis.attach({\r\n\t\t\tselector: config.selector,\r\n\t\t\tglobal: config.global,\r\n\t\t\tonmouseenter:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmousemove:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\t\tthis.delayHide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmouseleave:() => {\r\n\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\tthis.delayHide();\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _initDelayedFunctions(){\r\n\t\tconst scheduler = this._scheduler;\r\n\t\t// reset delayed functions in order to apply current values of tooltip_timeout\r\n\t\tif(this.delayShow){\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t}\r\n\t\tif(this.delayHide){\r\n\t\t\tthis.delayHide.$cancelTimeout();\r\n\t\t}\r\n\t\tthis.tooltip.hide();\r\n\t\t\r\n\t\tthis.delayShow = (utils as any).default.delay((event: MouseEvent, html: string) => {\r\n\t\t\tif(scheduler.callEvent(\"onBeforeTooltip\", [event]) === false) {\r\n\t\t\t\tthis.tooltip.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.tooltip.setContent(html);\r\n\t\t\t\tthis.tooltip.show(event);\r\n\t\t\t}\r\n\t\t}, scheduler.config.tooltip_timeout || 1);\r\n\r\n\t\tthis.delayHide = (utils as any).default.delay(() => {\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\tthis.tooltip.hide();\r\n\t\t}, scheduler.config.tooltip_hide_timeout || 1);\r\n\t}\r\n\r\n}","import active_links from \"./active_links\";\r\nimport agenda_legacy from \"./agenda_legacy_view\";\r\nimport agenda_view from \"./agenda\";\r\nimport all_timed from \"./all_timed\";\r\nimport collision from \"./collision\";\r\nimport container_autoresize from \"./container_autoresize\";\r\nimport cookie from \"./cookie\";\r\nimport daytimeline_restricted from \"./restricted_extensions/daytimeline\";\r\nimport drag_between_restricted from \"./restricted_extensions/drag_between\";\r\nimport editors from \"./editors\";\r\nimport expand from \"./expand\";\r\nimport grid_view from \"./restricted_extensions/grid_view\";\r\nimport html_templates from \"./html_templates\";\r\nimport key_nav from \"./key_nav\";\r\nimport layer from \"./layer\";\r\nimport limit from \"./limit\";\r\nimport map_view from \"./map_view\";\r\nimport minical from \"./minical\";\r\nimport monthheight from \"./monthheight\";\r\nimport multisection_restricted from \"./restricted_extensions/multisection\";\r\nimport multiselect from \"./multiselect\";\r\nimport multisource from \"./multisource\";\r\nimport mvc from \"./mvc\";\r\nimport outerdrag from \"./outerdrag\";\r\nimport pdf from \"./pdf\";\r\nimport quick_info from \"./quick_info\";\r\nimport readonly from \"./readonly\";\r\nimport recurring from \"./recurring\";\r\nimport serialize from \"./serialize\";\r\nimport timeline_restricted from \"./restricted_extensions/timeline\";\r\nimport tooltip from \"./tooltip\";\r\nimport treetimeline_restricted from \"./restricted_extensions/treetimeline\";\r\nimport units_restricted from \"./restricted_extensions/units\";\r\nimport url from \"./url\";\r\nimport week_agenda_restricted from \"./restricted_extensions/week_agenda\";\r\nimport wp from \"./wp\";\r\nimport year_view from \"./year_view\";\r\nimport export_api from \"./export_api\";\r\n\r\nexport default {\r\n\tactive_links,\r\n\tagenda_legacy,\r\n\tagenda_view,\r\n\tall_timed,\r\n\tcollision,\r\n\tcontainer_autoresize,\r\n\tcookie,\r\n\tdaytimeline: daytimeline_restricted,\r\n\tdrag_between: drag_between_restricted,\r\n\teditors,\r\n\texpand,\r\n\texport_api,\r\n\tgrid_view,\r\n\thtml_templates,\r\n\tkey_nav,\r\n\tlayer,\r\n\tlimit,\r\n\tmap_view,\r\n\tminical,\r\n\tmonthheight,\r\n\tmultisection: multisection_restricted,\r\n\tmultiselect,\r\n\tmultisource,\r\n\tmvc,\r\n\touterdrag,\r\n\tpdf,\r\n\tquick_info,\r\n\treadonly,\r\n\trecurring,\r\n\tserialize,\r\n\ttimeline: timeline_restricted,\r\n\ttooltip,\r\n\ttreetimeline: treetimeline_restricted,\r\n\tunits: units_restricted,\r\n\turl,\r\n\tweek_agenda: week_agenda_restricted,\r\n\twp,\r\n\tyear_view\r\n};","export default function(scheduler){\r\n\r\nscheduler.config.active_link_view = \"day\";\r\nscheduler._active_link_click = function(e){\r\n\tvar start = e.target;\r\n\tvar to = start.getAttribute(\"data-link-date\");\r\n\tvar s_d = scheduler.date.str_to_date(scheduler.config.api_date, false, true);\r\n\tif (to) {\r\n\t\tscheduler.setCurrentView(s_d(to), scheduler.config.active_link_view);\r\n\t\tif (e && e.preventDefault)\r\n\t\t\te.preventDefault();\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar do_wrapper = function(key, fullname){\r\n\t\tfullname = fullname || (key+\"_scale_date\");\r\n\r\n\t\tif(!scheduler.templates['_active_links_old_'+ fullname]){\r\n\t\t\tscheduler.templates['_active_links_old_'+ fullname] = scheduler.templates[fullname];\r\n\t\t}\r\n\t\tvar week_x = scheduler.templates['_active_links_old_'+ fullname];\r\n\t\tvar d_s = scheduler.date.date_to_str(scheduler.config.api_date);\r\n\t\tscheduler.templates[fullname] = function(date) {\r\n\t\t\treturn \"<a data-link-date='\" + d_s(date) + \"' href='#'>\" + week_x(date) + \"</a>\";\r\n\t\t};\r\n\t};\r\n\r\n\tdo_wrapper(\"week\");\r\n\tdo_wrapper(\"\", \"month_day\");\r\n\tif (this.matrix){\r\n\t\tfor (var key in this.matrix)\r\n\t\t\tdo_wrapper(key);\r\n\t}\r\n\r\n\tthis._detachDomEvent(this._obj, \"click\", scheduler._active_link_click);\r\n\tscheduler.event(this._obj, \"click\", scheduler._active_link_click);\r\n});\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.date.add_agenda_legacy = function(date){\r\n\treturn scheduler.date.add(date, 1, \"year\");\r\n};\r\n\r\nscheduler.templates.agenda_legacy_time = function(start,end,ev){\r\n\tif (ev._timed)\r\n\t\treturn this.day_date(ev.start_date, ev.end_date, ev)+\" \"+this.event_date(start);\r\n\telse\r\n\t\treturn scheduler.templates.day_date(start)+\" &ndash; \"+scheduler.templates.day_date(end);\r\n};\r\nscheduler.templates.agenda_legacy_text = function(start,end,event){\r\n\treturn event.text;\r\n};\r\nscheduler.templates.agenda_legacy_date = function(){ return \"\"; };\r\n\r\nscheduler.date.agenda_legacy_start=function(){ return scheduler.date.date_part(scheduler._currentDate()); };\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function() {\r\n\tvar old_dblclick_dhx_cal_data = scheduler.dblclick_dhx_cal_data;\r\n\tscheduler.dblclick_dhx_cal_data = function() {\r\n\t\tif (this._mode == \"agenda_legacy\") {\r\n\t\t\tif (!this.config.readonly && this.config.dblclick_create)\r\n\t\t\t\tthis.addEventNow();\r\n\t\t} else {\r\n\t\t\tif (old_dblclick_dhx_cal_data)\r\n\t\t\t\treturn old_dblclick_dhx_cal_data.apply(this, arguments);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tvar old = scheduler.render_data;\r\n\tscheduler.render_data=function(evs){\r\n\t\tif (this._mode == \"agenda_legacy\")\r\n\t\t\tfill_agenda_tab();\r\n\t\telse\r\n\t\t\treturn old.apply(this,arguments);\r\n\t};\r\n\r\n\tvar old_render_view_data = scheduler.render_view_data;\r\n\tscheduler.render_view_data = function(){\r\n\t\tif(this._mode == \"agenda_legacy\") {\r\n\t\t\tscheduler._agendaScrollTop = scheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop;\r\n\t\t\tscheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop = 0;\r\n\t\t}\r\n\t\treturn old_render_view_data.apply(this,arguments);\r\n\t};\r\n\r\n\r\n\r\n\tfunction set_full_view(mode){\r\n\t\tif (mode){\r\n\t\t\tvar l = scheduler.locale.labels;\r\n\r\n\t\t\tvar rowAttr = scheduler._waiAria.agendaHeadAttrString();\r\n\t\t\tvar dateHeader = scheduler._waiAria.agendaHeadDateString(l.date);\r\n\t\t\tvar descriptionHeader = scheduler._waiAria.agendaHeadDescriptionString(l.description);\r\n\r\n\t\t\tscheduler._els[\"dhx_cal_header\"][0].innerHTML=\"<div \"+rowAttr+\" class='dhx_agenda_line dhx_agenda_line_header'>\" +\r\n\t\t\t\t\"<div \"+dateHeader+\">\"+l.date+\"</div>\" +\r\n\t\t\t\t\"<span class = 'description_header' style='padding-left:25px' \"+descriptionHeader+\">\"+l.description+\"</span>\" +\r\n\t\t\t\t\"</div>\";\r\n\t\t\tscheduler._table_view=true;\r\n\t\t\tscheduler.set_sizes();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fill_agenda_tab(){\r\n\t\t//select events for which data need to be printed\r\n\r\n\t\tvar events = scheduler.get_visible_events();\r\n\t\tevents.sort(function(a,b){ return a.start_date>b.start_date?1:-1;});\r\n\r\n\t\tvar tableAttr = scheduler._waiAria.agendaDataAttrString();\r\n\t\tvar agendaEventAttrString;\r\n\t\t//generate html for the view\r\n\t\tvar html=\"<div class='dhx_agenda_area' \"+tableAttr+\">\";\r\n\t\tfor (var i=0; i<events.length; i++){\r\n\t\t\tvar ev = events[i];\r\n\t\t\tvar bg_color = (ev.color?(\"--dhx-scheduler-event-background:\"+ev.color+\";\"):\"\");\r\n\t\t\tvar color = (ev.textColor?(\"--dhx-scheduler-event-color:\"+ev.textColor+\";\"):\"\");\r\n\t\t\tvar ev_class = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\r\n\t\t\tagendaEventAttrString = scheduler._waiAria.agendaEventAttrString(ev);\r\n\t\t\tvar agendaDetailsButtonAttr = scheduler._waiAria.agendaDetailsBtnString();\r\n\r\n\t\t\thtml+=\"<div \"+agendaEventAttrString+\" class='dhx_agenda_line\"+(ev_class?' '+ev_class:'')+\r\n\t\t\t\t\t\"' event_id='\"+ev.id+\"' \"+scheduler.config.event_attribute+\"='\"+ev.id+\"' style='\"+color+\"\"+bg_color+\"\"+\r\n\t\t\t\t\t(ev._text_style||\"\")+\"'><div class='dhx_agenda_event_time'>\"+\r\n\t\t\t\t\t(scheduler.config.rtl ? scheduler.templates.agenda_time(ev.end_date,ev.start_date, ev):scheduler.templates.agenda_time(ev.start_date, ev.end_date,ev))+\r\n\t\t\t\t\t\"</div>\";\r\n\t\t\thtml+=`<div ${agendaDetailsButtonAttr} class='dhx_event_icon icon_details'><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z\" fill=\"#A1A4A6\"/>\r\n\t\t\t</svg></div>`;\r\n\t\t\thtml+=\"<span>\"+scheduler.templates.agenda_text(ev.start_date, ev.end_date, ev)+\"</span></div>\";\r\n\t\t}\r\n\t\thtml+=\"<div class='dhx_v_border'></div></div>\";\r\n\r\n\t\t//render html\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop = scheduler._agendaScrollTop||0;\r\n\r\n\t\t// setting up dhx_v_border size\r\n\t\tvar agenda_area = scheduler._els[\"dhx_cal_data\"][0].childNodes[0];\r\n\t\tvar v_border = agenda_area.childNodes[agenda_area.childNodes.length-1];\r\n\t\tv_border.style.height = (agenda_area.offsetHeight < scheduler._els[\"dhx_cal_data\"][0].offsetHeight) ? \"100%\" : (agenda_area.offsetHeight+\"px\");\r\n\r\n\t\tvar t=scheduler._els[\"dhx_cal_data\"][0].firstChild.childNodes;\r\n\r\n\t\tvar dateElement = scheduler._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML=scheduler.templates.agenda_date(scheduler._min_date, scheduler._max_date, scheduler._mode);\r\n\t\t}\r\n\r\n\t\tscheduler._rendered=[];\r\n\t\tfor (var i=0; i < t.length-1; i++)\r\n\t\t\tscheduler._rendered[i]=t[i];\r\n\r\n\t}\r\n\r\n\tscheduler.agenda_legacy_view=function(mode){\r\n\t\tscheduler._min_date = scheduler.config.agenda_start||scheduler.date.agenda_legacy_start(scheduler._date);\r\n\t\tscheduler._max_date = scheduler.config.agenda_end||scheduler.date.add_agenda_legacy(scheduler._min_date, 1);\r\n\r\n\t\tset_full_view(mode);\r\n\t\tif (mode){\r\n\t\t\tscheduler._cols = null;\r\n\t\t\tscheduler._colsS = null;\r\n\t\t\tscheduler._table_view = true;\r\n\t\t\t//agenda tab activated\r\n\t\t\tfill_agenda_tab();\r\n\t\t} else {\r\n\t\t\tscheduler._table_view = false;\r\n\t\t\t//agenda tab de-activated\r\n\t\t}\r\n\t};\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.date.add_agenda = function(date, inc){\r\n\t\treturn scheduler.date.add(date, 1*inc, \"month\");\r\n\t};\r\n\t\r\n\tscheduler.templates.agenda_time = function(start,end,ev){\r\n\t\tif (ev._timed){\r\n\t\t\treturn `${this.event_date(start)} - ${this.event_date(end)}`;\r\n\t\t}else{\r\n\t\t\treturn scheduler.locale.labels.full_day;\r\n\t\t}\r\n\t};\r\n\tscheduler.templates.agenda_text = function(start,end,ev){\r\n\t\treturn ev.text;\r\n\t};\r\n\r\n\tconst dayDateToStr = scheduler.date.date_to_str(\"%F %j\");\r\n\tconst dayDowToStr = scheduler.date.date_to_str(\"%l\");\r\n\r\n\tscheduler.templates.agenda_day = function(date){ \r\n\t\treturn `<div class=\"dhx_agenda_day_date\">${dayDateToStr(date)}</div>\r\n\t\t<div class=\"dhx_agenda_day_dow\">${dayDowToStr(date)}</div>`;\r\n\t};\r\n\tscheduler.templates.agenda_date = function(start, end){ \r\n\t\treturn scheduler.templates.month_date(scheduler.getState().date); \r\n\t};\r\n\t\r\n\tscheduler.date.agenda_start=function(date){\r\n\t\treturn scheduler.date.month_start(new Date(date));\r\n\t};\r\n\r\n\tlet scrollTop = 0;\r\n\t\r\n\tscheduler.attachEvent(\"onTemplatesReady\",function() {\r\n\t\tvar old_dblclick_dhx_cal_data = scheduler.dblclick_dhx_cal_data;\r\n\t\tscheduler.dblclick_dhx_cal_data = function() {\r\n\t\t\tif (this._mode == \"agenda\") {\r\n\t\t\t\tif (!this.config.readonly && this.config.dblclick_create)\r\n\t\t\t\t\tthis.addEventNow();\r\n\t\t\t} else {\r\n\t\t\t\tif (old_dblclick_dhx_cal_data)\r\n\t\t\t\t\treturn old_dblclick_dhx_cal_data.apply(this, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\r\n\t\tvar old = scheduler.render_data;\r\n\t\tscheduler.render_data=function(evs){\r\n\t\t\tif (this._mode == \"agenda\")\r\n\t\t\t\tfill_agenda_tab();\r\n\t\t\telse\r\n\t\t\t\treturn old.apply(this,arguments);\r\n\t\t};\r\n\t\r\n\t\tvar old_render_view_data = scheduler.render_view_data;\r\n\t\tscheduler.render_view_data = function(){\r\n\t\t\tif(this._mode == \"agenda\") {\r\n\t\t\t\tscrollTop = scheduler._els[\"dhx_cal_data\"][0].scrollTop;\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = 0;\r\n\t\t\t}\r\n\t\t\treturn old_render_view_data.apply(this,arguments);\r\n\t\t};\r\n\r\n\t\tfunction fill_agenda_tab(){\r\n\t\t\tconst events = scheduler.get_visible_events();\r\n\t\t\tevents.sort(function(a,b){ return a.start_date>b.start_date?1:-1;});\r\n\r\n\t\t\tconst eventsInDays = {};\r\n\t\t\tlet currDate = scheduler.getState().min_date;\r\n\t\t\tconst maxDate = scheduler.getState().max_date;\r\n\t\t\twhile(currDate.valueOf() < maxDate.valueOf()){\r\n\t\t\t\teventsInDays[currDate.valueOf()] = [];\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\r\n\t\t\tlet anyEvents = false;\r\n\r\n\t\t\tevents.forEach((ev) => {\r\n\t\t\t\tlet eventStart = scheduler.date.day_start(new Date(ev.start_date)); \r\n\t\t\t\twhile (eventStart.valueOf() < ev.end_date.valueOf()) {\r\n\t\t\t\t\tif (eventsInDays[eventStart.valueOf()]) {\r\n\t\t\t\t\t\teventsInDays[eventStart.valueOf()].push(ev);\r\n\t\t\t\t\t\tanyEvents = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\teventStart = scheduler.date.day_start(scheduler.date.add(eventStart, 1, \"day\"));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(!anyEvents){\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = renderEmptyView();\r\n\t\t\t}else{\r\n\t\t\t\tlet html = \"\";\r\n\t\t\t\tfor(let day in eventsInDays){\r\n\t\t\t\t\thtml += renderDay(new Date(day*1), eventsInDays[day]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = scrollTop;\r\n\t\t\t\r\n\t\t\tlet t = scheduler._els[\"dhx_cal_data\"][0].querySelectorAll(\".dhx_cal_agenda_event_line\");\r\n\t\t\tscheduler._rendered = [];\r\n\t\t\tfor (var i = 0; i < t.length - 1; i++) {\r\n\t\t\t\tscheduler._rendered[i] = t[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\r\n\r\n\t\tfunction renderEmptyView(){\r\n\t\t\treturn `<div class=\"dhx_cal_agenda_no_events\">${scheduler.locale.labels.agenda_tab}</div>`;\r\n\t\t}\r\n\r\n\t\tfunction renderDay(day, events) {\r\n\t\t\tif(!events.length){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tlet html = `\r\n<div class=\"dhx_cal_agenda_day\">\r\n\t<div class=\"dhx_cal_agenda_day_header\">${scheduler.templates.agenda_day(day)}</div>\r\n\t<div class=\"dhx_cal_agenda_day_events\">\r\n`;\r\n\r\n\t\t\tevents.forEach((calendarEvent) => {\r\n\t\t\t\thtml += renderOneEvent(day, calendarEvent);\r\n\t\t\t});\r\n\r\n\t\t\thtml += `</div></div>`;\r\n\t\t\treturn html;\r\n\t\t}\r\n\r\n\t\tfunction renderOneEvent(day, calendarEvent){\r\n\t\t\tconst dates = scheduler.templates.agenda_time(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\t\t\tconst selectedId = scheduler.getState().select_id;\r\n\t\t\tconst cls = scheduler.templates.event_class(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\t\t\tconst description = scheduler.templates.agenda_text(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\r\n\t\t\tlet style = \"\";\r\n\t\t\tif(calendarEvent.color || calendarEvent.textColor){\r\n\t\t\t\tconst bg = (calendarEvent.color ? (\"--dhx-scheduler-event-background:\" + calendarEvent.color + \";\") : \"\");\r\n\t\t\t\tconst color = (calendarEvent.textColor ? (\"--dhx-scheduler-event-color:\" + calendarEvent.textColor + \";\") : \"\");\r\n\t\t\t\tstyle = ` style=\"${bg}${color}\" `;\r\n\t\t\t}\r\n\r\n\t\t\treturn `<div class=\"dhx_cal_agenda_event_line ${cls||\"\"} ${calendarEvent.id == selectedId ? \"dhx_cal_agenda_event_line_selected\" : \"\"}\" ${style} ${scheduler.config.event_attribute}=\"${calendarEvent.id}\">\r\n\t<div class=\"dhx_cal_agenda_event_line_marker\"></div>\r\n\t<div class=\"dhx_cal_agenda_event_line_time\">${dates}</div>\r\n\t<div class=\"dhx_cal_agenda_event_line_text\">${description}</div>\r\n</div>`;\r\n\t\t}\r\n\t\r\n\t\tscheduler.agenda_view=function(mode){\r\n\t\t\tif (mode){\r\n\t\t\t\tscheduler._min_date = scheduler.config.agenda_start || scheduler.date.agenda_start(scheduler._date);\r\n\t\t\t\tscheduler._max_date = scheduler.config.agenda_end || scheduler.date.add_agenda(scheduler._min_date, 1);\r\n\t\t\t\tscheduler._cols = null;\r\n\t\t\t\tscheduler._colsS = null;\r\n\t\t\t\tscheduler._table_view = true;\r\n\r\n\t\t\t\tconst dateHeader = scheduler._getNavDateElement();\r\n\t\t\t\tdateHeader.innerHTML = scheduler.templates.agenda_date(scheduler._date);\r\n\t\t\t\t//agenda tab activated\r\n\t\t\t\tfill_agenda_tab();\r\n\t\t\t} else {\r\n\t\t\t\tscheduler._table_view = false;\r\n\t\t\t\t//agenda tab de-activated\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\t// scheduler.attachEvent(\"onEventSelected\", function(id){\r\n\t// \tconst oldSelected = scheduler.$container.querySelectorAll(\".dhx_cal_agenda_event_line_selected\");\r\n\t// \toldSelected.forEach((el) => {\r\n\t// \t\tel.classList.remove(\"dhx_cal_agenda_event_line_selected\");\r\n\t// \t});\r\n\r\n\t// \tconst selected = scheduler.$container.querySelector(`[${scheduler.config.event_attribute}=\"${id}\"]`);\r\n\t// \tif(selected){\r\n\t// \t\tselected.classList.add(\"dhx_cal_agenda_event_line_selected\");\r\n\t// \t}\r\n\t// });\r\n\t\r\n\t\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.config.all_timed = \"short\";\r\n\tscheduler.config.all_timed_month = false;\r\n\r\n\tvar is_event_short = function (ev) {\r\n\t\tif(!((ev.end_date - ev.start_date)/(1000*60*60) >= 24)){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// short event shouldn't disappear to multiday area during dnd-resize\r\n\t\tif(scheduler._drag_mode == \"resize\" && scheduler._drag_id == ev.id){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn \tfalse;\r\n\t};\r\n\r\n\t// copy of usual events and recurring instances;\r\n\t// regular copy causes problems with recurrings which have series event as a prototype\r\n\tscheduler._safe_copy = function(event){\r\n\t\tvar proto = null,\r\n\t\t\tcopy = scheduler._copy_event(event);\r\n\t\tif(event.event_pid){\r\n\t\t\tproto = scheduler.getEvent(event.event_pid);\r\n\t\t}\r\n\r\n\t\tif (proto && proto.isPrototypeOf(event)) {\r\n\t\t\tdelete copy.event_length;\r\n\t\t\tdelete copy.event_pid;\r\n\t\t\tdelete copy.rec_pattern;\r\n\t\t\tdelete copy.rec_type;\r\n\t\t}\r\n\r\n\t\treturn copy;\r\n\t};\r\n\r\n\tvar old_prerender_events_line = scheduler._pre_render_events_line;\r\n\tvar old_prerender_events_table = scheduler._pre_render_events_table;\r\n\r\n\tvar prerender_events = function (evs, hold) {\r\n\t\tif (!this._table_view) {\r\n\t\t\treturn old_prerender_events_line.call(this, evs, hold);\r\n\t\t}\r\n\r\n\t\treturn old_prerender_events_table.call(this, evs, hold);\r\n\t};\r\n\r\n\tscheduler._pre_render_events_line = scheduler._pre_render_events_table = function(evs, hold){\r\n\t\tif (!this.config.all_timed ||\r\n\t\t\t(this._table_view && this._mode != \"month\") ||\r\n\t\t\t(this._mode == \"month\" && !this.config.all_timed_month))\r\n\t\t\treturn prerender_events.call(this, evs, hold);\r\n\r\n\t\tfor (var i=0; i < evs.length; i++) {\r\n\t\t\tvar ev=evs[i];\r\n\r\n\t\t\tif (ev._timed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (this.config.all_timed == \"short\") {\r\n\t\t\t\tif (!is_event_short(ev)) {\r\n\t\t\t\t\tif (this._mode != \"month\") {\r\n\t\t\t\t\t\tevs.splice(i--, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar ce = this._safe_copy(ev); // current event (event for one specific day) is copy of original with modified dates\r\n\t\t\tif(!ev._virtual){\r\n\t\t\t\tce._first_chunk = true;\r\n\t\t\t}else{\r\n\t\t\t\tce._first_chunk = false;\r\n\t\t\t}\r\n\t\t\tce._drag_resize = false;\r\n\t\t\tce._virtual = true;\r\n\t\t\tce.start_date = new Date(ce.start_date); // as lame copy doesn't copy date objects\r\n\r\n\t\t\tif (!isOvernightEvent(ev)) {\r\n\t\t\t\tce.end_date = new Date(ev.end_date);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tce.end_date = getNextDay(ce.start_date);\r\n\t\t\t\tif (this.config.last_hour != 24) { // if specific last_hour was set (e.g. 20)\r\n\t\t\t\t\tce.end_date = setDateTime(ce.start_date, this.config.last_hour);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar event_changed = false;\r\n\t\t\tif (ce.start_date < this._max_date && ce.end_date > this._min_date && ce.start_date < ce.end_date) {\r\n\t\t\t\tevs[i] = ce; // adding another event in collection\r\n\t\t\t\tevent_changed = true;\r\n\t\t\t}\r\n\t\t//\tif (ce.start_date > ce.end_date) {\r\n\t\t//\t\tevs.splice(i--,1);\r\n\t\t//\t}\r\n\r\n\t\t\tvar re = this._safe_copy(ev); // remaining event, copy of original with modified start_date (making range more narrow)\r\n\t\t\tre._virtual = true;\r\n\t\t\tre.end_date = new Date(re.end_date);\r\n\t\t\tif (re.start_date < this._min_date)\r\n\t\t\t\tre.start_date = setDateTime(this._min_date, this.config.first_hour);// as we are starting only with whole hours\r\n\t\t\telse\r\n\t\t\t\tre.start_date = setDateTime(getNextDay(ev.start_date), this.config.first_hour);\r\n\r\n\t\t\tif (re.start_date < this._max_date && re.start_date < re.end_date) {\r\n\t\t\t\tif (event_changed){\r\n\t\t\t\t\tevs.splice(i+1,0,re);//insert part\r\n\t\t\t\t}else {\r\n\t\t\t\t\tevs[i--] = re;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tre._last_chunk = false;\r\n\t\t\t}else{\r\n\t\t\t\tce._last_chunk = true;\r\n\t\t\t\tce._drag_resize = true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t// in case of all_timed pre_render is not applied to the original event\r\n\t\t// so we need to force redraw in case of dnd\r\n\t\tvar redraw = (this._drag_mode == 'move')?false:hold;\r\n\t\treturn prerender_events.call(this, evs, redraw);\r\n\r\n\r\n\t\tfunction isOvernightEvent(ev){\r\n\t\t\tvar next_day = getNextDay(ev.start_date);\r\n\t\t\treturn (+ev.end_date > +next_day);\r\n\t\t}\r\n\t\tfunction getNextDay(date){\r\n\t\t\tvar next_day = scheduler.date.add(date, 1, \"day\");\r\n\t\t\tnext_day = scheduler.date.date_part(next_day);\r\n\t\t\treturn next_day;\r\n\t\t}\r\n\t\tfunction setDateTime(date, hours){\r\n\t\t\tvar val = scheduler.date.date_part(new Date(date));\r\n\t\t\tval.setHours(hours);\r\n\t\t\treturn val;\r\n\t\t}\r\n\t};\r\n\tvar old_get_visible_events = scheduler.get_visible_events;\r\n\tscheduler.get_visible_events = function(only_timed){\r\n\t\tif (!(this.config.all_timed && this.config.multi_day))\r\n\t\t\treturn old_get_visible_events.call(this, only_timed);\r\n\t\treturn old_get_visible_events.call(this, false); // only timed = false\r\n\t};\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function (old_mode, old_date, mode, date) {\r\n\t\tscheduler._allow_dnd = (mode == \"day\" || mode == \"week\" || scheduler.getView(mode));\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler._is_main_area_event = function(ev){\r\n\t\treturn !!(ev._timed || this.config.all_timed === true || (this.config.all_timed == \"short\" && is_event_short(ev)) );\r\n\t};\r\n\r\n\tvar oldUpdate = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id){\r\n\t\t// full redraw(update_render=true) messes events order while dnd.\r\n\t\t// individual redraw(update_render=false) of multiday event, which happens on select/unselect, expands event to full width of the cell and can be fixes only with full redraw.\r\n\t\t// so for now full redraw is always enabled for not-dnd updates\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tvar fullRedrawNeeded;\r\n\t\tvar initial;\r\n\t\tif(ev) {\r\n\t\t\tfullRedrawNeeded = (scheduler.config.all_timed && !(scheduler.isOneDayEvent(scheduler._events[id]) || scheduler.getState().drag_id));\r\n\t\t\tif (fullRedrawNeeded) {\r\n\t\t\t\tinitial = scheduler.config.update_render;\r\n\t\t\t\tscheduler.config.update_render = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\toldUpdate.apply(scheduler, arguments);\r\n\r\n\t\tif(ev) {\r\n\t\t\tif (fullRedrawNeeded) {\r\n\t\t\t\tscheduler.config.update_render = initial;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\r\nvar temp_section;\r\nvar before;\r\n\r\nscheduler.config.collision_limit = 1;\r\n\r\nfunction _setTempSection(event_id) { // for custom views (matrix, timeline, units)\r\n\tvar checked_mode = scheduler._get_section_view();\r\n\tif(checked_mode && event_id){\r\n\t\ttemp_section = scheduler.getEvent(event_id)[scheduler._get_section_property()];\r\n\t}\r\n}\r\n\r\nscheduler.attachEvent(\"onBeforeDrag\",function(id){\r\n\t_setTempSection(id);\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onBeforeLightbox\",function(id){\r\n\tvar ev = scheduler.getEvent(id);\r\n\tbefore = [ev.start_date, ev.end_date];\r\n\t_setTempSection(id);\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventChanged\",function(id){\r\n\tif (!id || !scheduler.getEvent(id)) return true;\r\n\tvar ev = scheduler.getEvent(id);\r\n\tif (!scheduler.checkCollision(ev)){\r\n\t\tif (!before) return false;\r\n\t\tev.start_date = before[0];\r\n\t\tev.end_date = before[1];\r\n\t\tev._timed=this.isOneDayEvent(ev);\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onBeforeEventChanged\",function(ev,e,is_new){\r\n\treturn scheduler.checkCollision(ev);\r\n});\r\nscheduler.attachEvent(\"onEventAdded\",function(id,ev) {\r\n\tvar result = scheduler.checkCollision(ev);\r\n\tif (!result)\r\n\t\tscheduler.deleteEvent(id);\r\n});\r\nscheduler.attachEvent(\"onEventSave\",function(id, edited_ev, is_new){\r\n\tedited_ev = scheduler._lame_clone(edited_ev);\r\n\tedited_ev.id = id;\r\n\r\n\t//lightbox may not have 'time' section\r\n\tif(!(edited_ev.start_date && edited_ev.end_date)){\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tedited_ev.start_date = new Date(ev.start_date);\r\n\t\tedited_ev.end_date = new Date(ev.end_date);\r\n\t}\r\n\r\n\tif(edited_ev.rec_type){\r\n\t\tscheduler._roll_back_dates(edited_ev);\r\n\t}\r\n\treturn scheduler.checkCollision(edited_ev); // in case user creates event on one date but then edited it another\r\n});\r\n\r\nscheduler._check_sections_collision = function(first, second){\r\n\tvar map_to = scheduler._get_section_property();\r\n\tif (first[map_to] == second[map_to] && first.id != second.id)\r\n\t\treturn true;\r\n\treturn false;\r\n};\r\n\r\nscheduler.checkCollision = function(ev) {\r\n\tvar evs = [];\r\n\tvar collision_limit = scheduler.config.collision_limit;\r\n\r\n\tif (ev.rec_type) {\r\n\t\tvar evs_dates = scheduler.getRecDates(ev);\r\n\t\tfor(var k=0; k<evs_dates.length; k++) {\r\n\t\t\tvar tevs = scheduler.getEvents(evs_dates[k].start_date, evs_dates[k].end_date);\r\n\t\t\tfor(var j=0; j<tevs.length; j++) {\r\n\t\t\t\tif ((tevs[j].event_pid || tevs[j].id) != ev.id )\r\n\t\t\t\t\tevs.push(tevs[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tevs = scheduler.getEvents(ev.start_date, ev.end_date);\r\n\t\tfor (var i=0; i<evs.length; i++) {\r\n\t\t\tvar concurrent = evs[i];\r\n\r\n\t\t\tif (concurrent.id == ev.id || (concurrent.event_length && [concurrent.event_pid, concurrent.event_length].join(\"#\") == ev.id)) {\r\n\t\t\t\tevs.splice(i,1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar checked_mode = scheduler._get_section_view();\r\n\tvar map_to = scheduler._get_section_property();\r\n\r\n\tvar single = true;\r\n\tif (checked_mode) { // custom view\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (var i = 0; i < evs.length; i++){\r\n\t\t\tif (evs[i].id != ev.id && this._check_sections_collision(evs[i], ev))\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\r\n\t\tif (count >= collision_limit) {\r\n\r\n\t\t\tsingle = false;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif ( evs.length >= collision_limit )\r\n\t\t\tsingle = false;\r\n\t}\r\n\tif (!single) {\r\n\t\tvar res = !scheduler.callEvent(\"onEventCollision\",[ev,evs]);\r\n\t\tif (!res) {\r\n\t\t\tev[map_to] = temp_section||ev[map_to]; // from _setTempSection for custom views\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\treturn single;\r\n\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.config.container_autoresize = true;\r\n\tscheduler.config.month_day_min_height = 90;\r\n\tscheduler.config.min_grid_size = 25;\r\n\tscheduler.config.min_map_size = 400;\r\n\r\n\tvar old_pre_render_event = scheduler._pre_render_events;\r\n\r\n\t//need for temporary disabling without modifying public config\r\n\tvar active = true;\r\n\tvar total_height = 0;\r\n\tvar multiday_height = 0;\r\n\r\n\tscheduler._pre_render_events = function(evs, hold) {\r\n\t\tif (!(scheduler.config.container_autoresize && active)) {\r\n\t\t\treturn old_pre_render_event.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\tvar hb = this.xy.bar_height;\r\n\t\tvar h_old = this._colsS.heights;\r\n\t\tvar h = this._colsS.heights = [0, 0, 0, 0, 0, 0, 0];\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tif (!this._table_view)\r\n\t\t\tevs = this._pre_render_events_line(evs, hold); //ignore long events for now\r\n\t\telse\r\n\t\t\tevs = this._pre_render_events_table(evs, hold);\r\n\r\n\t\tif (this._table_view) {\r\n\t\t\tif (hold){\r\n\t\t\t\tthis._colsS.heights = h_old;\r\n\t\t\t} else {\r\n\t\t\t\tvar evl = data.firstChild;\r\n\t\t\t\tconst rows = evl.querySelectorAll(\".dhx_cal_month_row\");\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\tfor (var i = 0; i < rows.length; i++) {\r\n\t\t\t\t\t\th[i]++;\r\n\r\n\t\t\t\t\t\tif ((h[i]) * hb > this._colsS.height - this.xy.month_head_height) { // 22 - height of cell's header\r\n\t\t\t\t\t\t\t//we have overflow, update heights\r\n\t\t\t\t\t\t\tvar cells = rows[i].querySelectorAll(\".dhx_cal_month_cell\");\r\n\r\n\t\t\t\t\t\t\tvar cHeight = this._colsS.height - this.xy.month_head_height;\r\n\t\t\t\t\t\t\tif(this.config.max_month_events*1 !== this.config.max_month_events || h[i] <= this.config.max_month_events){\r\n\t\t\t\t\t\t\t\tcHeight = h[i] * hb;\r\n\t\t\t\t\t\t\t}else if( (this.config.max_month_events + 1) * hb > this._colsS.height - this.xy.month_head_height){\r\n\t\t\t\t\t\t\t\tcHeight = (this.config.max_month_events + 1) * hb;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trows[i].style.height = (cHeight + this.xy.month_head_height) + \"px\";\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tfor (var j = 0; j < cells.length; j++) {\r\n\t\t\t\t\t\t\t\tcells[j].childNodes[1].style.height = cHeight + \"px\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\th[i] = (h[i - 1] || 0) + cells[0].offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\th[i] = (h[i - 1] || 0) + rows[i].querySelectorAll(\".dhx_cal_month_cell\")[0].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\th.unshift(0);\r\n\t\t\t\t\tif (evl.parentNode.offsetHeight < evl.parentNode.scrollHeight && !evl._h_fix) {\r\n\t\t\t\t\t\t//we have v-scroll, decrease last day cell\r\n\r\n\t\t\t\t\t\t// NO CHECK SHOULD BE MADE ON VERTICAL SCROLL\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!evs.length && this._els[\"dhx_multi_day\"][0].style.visibility == \"visible\")\r\n\t\t\t\t\t\th[0] = -1;\r\n\t\t\t\t\tif (evs.length || h[0] == -1) {\r\n\t\t\t\t\t\t//shift days to have space for multiday events\r\n\t\t\t\t\t\t//var childs = evl.parentNode.childNodes;\r\n\t\t\t\t\t\tvar dh = ((h[0] + 1) * hb + 1); // +1 so multiday events would have 2px from top and 2px from bottom by default\r\n\t\t\t\t\t\tif(multiday_height != dh + 1) {\r\n\t\t\t\t\t\t\tthis._obj.style.height = (total_height - multiday_height + dh - 1) + \"px\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdh += \"px\";\r\n\t\t\t\t\t\tconst navHeight = this._els[\"dhx_cal_navline\"][0].offsetHeight;\r\n\t\t\t\t\t\tconst headerHeight =  this._els[\"dhx_cal_header\"][0].offsetHeight;\r\n\t\t\t\t\t\tdata.style.height = (this._obj.offsetHeight - navHeight - headerHeight - (this.xy.margin_top || 0)) + 'px';\r\n\t\t\t\t\t\tvar last = this._els[\"dhx_multi_day\"][0];\r\n\t\t\t\t\t\tlast.style.height = dh;\r\n\t\t\t\t\t\tlast.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\tlast = this._els[\"dhx_multi_day\"][1];\r\n\t\t\t\t\t\tlast.style.height = dh;\r\n\t\t\t\t\t\tlast.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\tif(last.style.visibility == \"hidden\"){\r\n\t\t\t\t\t\t\tlast.style.display = \"none\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlast.style.display = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlast.className = h[0] ? \"dhx_multi_day_icon\" : \"dhx_multi_day_icon_small\";\r\n\t\t\t\t\t\tthis._dy_shift = (h[0] + 1) * hb;\r\n\t\t\t\t\t\th[0] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn evs;\r\n\t};\r\n\r\n\tvar checked_divs = [\"dhx_cal_navline\", \"dhx_cal_header\", \"dhx_multi_day\", \"dhx_cal_data\"];\r\n\tvar updateContainterHeight = function(is_repaint) {\r\n\t\ttotal_height = 0;\r\n\t\tfor (var i = 0; i < checked_divs.length; i++) {\r\n\r\n\t\t\tvar className = checked_divs[i];\r\n\t\t\tvar checked_div = (scheduler._els[className]) ? scheduler._els[className][0] : null;\r\n\t\t\tvar height = 0;\r\n\t\t\tswitch (className) {\r\n\t\t\t\tcase \"dhx_cal_navline\":\r\n\t\t\t\tcase \"dhx_cal_header\":\r\n\t\t\t\t\theight = checked_div.offsetHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"dhx_multi_day\":\r\n\t\t\t\t\theight = (checked_div) ? checked_div.offsetHeight - 1 : 0;\r\n\t\t\t\t\tmultiday_height = height;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"dhx_cal_data\":\r\n\t\t\t\t\tvar mode = scheduler.getState().mode;\r\n\r\n\t\t\t\t\tif(checked_div.childNodes[1] && mode != \"month\") {\r\n\t\t\t\t\t\tlet maxHeight = 0;\r\n\t\t\t\t\t\tfor(let i = 0; i < checked_div.childNodes.length; i++){\r\n\t\t\t\t\t\t\tif(checked_div.childNodes[i].offsetHeight > maxHeight){\r\n\t\t\t\t\t\t\t\tmaxHeight = checked_div.childNodes[i].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\theight = maxHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\theight = Math.max(checked_div.offsetHeight - 1, checked_div.scrollHeight);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mode == \"month\") {\r\n\t\t\t\t\t\tif (scheduler.config.month_day_min_height && !is_repaint) {\r\n\t\t\t\t\t\t\tvar rows_length = checked_div.querySelectorAll(\".dhx_cal_month_row\").length;\r\n\t\t\t\t\t\t\theight = rows_length * scheduler.config.month_day_min_height;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (is_repaint) {\r\n\t\t\t\t\t\t\tchecked_div.style.height = height + \"px\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (mode == \"year\"){\r\n\t\t\t\t\t\theight = 190 * scheduler.config.year_y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(mode == \"agenda\"){\r\n\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\tif(checked_div.childNodes && checked_div.childNodes.length){\r\n\t\t\t\t\t\t\tfor(var j = 0; j < checked_div.childNodes.length; j++){\r\n\t\t\t\t\t\t\t\theight += checked_div.childNodes[j].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(height + 2 < scheduler.config.min_grid_size){\r\n\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (mode == \"week_agenda\"){\r\n\t\t\t\t\t\tvar min_height = scheduler.xy.week_agenda_scale_height + scheduler.config.min_grid_size,\r\n\t\t\t\t\t\t\tcur_height;\r\n\r\n\t\t\t\t\t\tvar column;\r\n\t\t\t\t\t\tfor(var k = 0; k < checked_div.childNodes.length; k++){\r\n\t\t\t\t\t\t\tcolumn = checked_div.childNodes[k];\r\n\t\t\t\t\t\t\tfor(var j = 0; j < column.childNodes.length; j++) {\r\n\t\t\t\t\t\t\t\tvar innerHeight = 0,\r\n\t\t\t\t\t\t\t\t\teventsContainer = column.childNodes[j].childNodes[1];\r\n\r\n\t\t\t\t\t\t\t\tfor(var g =0; g < eventsContainer.childNodes.length; g++){\r\n\t\t\t\t\t\t\t\t\tinnerHeight += eventsContainer.childNodes[g].offsetHeight;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tcur_height = innerHeight + scheduler.xy.week_agenda_scale_height;\r\n\t\t\t\t\t\t\t\tcur_height = (k == 1 && (j == 2 || j == 3)) ? cur_height * 2 : cur_height; // for last two cells;\r\n\r\n\t\t\t\t\t\t\t\tif (cur_height > min_height) {\r\n\t\t\t\t\t\t\t\t\tmin_height = cur_height;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\theight = min_height * 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(mode == \"map\") {\r\n\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\tvar evs = checked_div.querySelectorAll(\".dhx_map_line\");\r\n\r\n\t\t\t\t\t\tfor (var j = 0; j < evs.length; j++) {\r\n\t\t\t\t\t\t\theight += evs[j].offsetHeight;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (height + 2 < scheduler.config.min_map_size) {\r\n\t\t\t\t\t\t\theight = scheduler.config.min_map_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(scheduler._gridView) {\r\n\t\t\t\t\t\theight = 0;\r\n\r\n\t\t\t\t\t\tif (checked_div.childNodes[1].childNodes[0].childNodes && checked_div.childNodes[1].childNodes[0].childNodes.length) {\r\n\t\t\t\t\t\t\tvar evs = checked_div.childNodes[1].childNodes[0].childNodes[0].childNodes;\r\n\r\n\t\t\t\t\t\t\tfor (var j = 0; j < evs.length; j++) {\r\n\t\t\t\t\t\t\t\theight += evs[j].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\theight += 2;\r\n\r\n\t\t\t\t\t\t\tif(height < scheduler.config.min_grid_size){\r\n\t\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\t\t\t\t\tif (is_repaint) {\r\n\t\t\t\t\t\t\theight += 0;\r\n\t\t\t\t\t\t\tchecked_div.style.height = height + \"px\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\t\tvar cfg = scheduler.matrix[mode];\r\n\t\t\t\t\t\t\tvar rows = cfg.y_unit;\r\n\t\t\t\t\t\t\tfor(var r=0; r < rows.length; r++){\r\n\t\t\t\t\t\t\t\theight += cfg.getSectionHeight(rows[r].key);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Check and add extra height to avoid events hiding by the horizontal scrollbar\r\n\t\t\t\t\t\t\tif(scheduler.$container.clientWidth != scheduler.$container.scrollWidth){\r\n\t\t\t\t\t\t\t\theight += getScrollSize();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\theight -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mode == \"day\" || mode == \"week\" || (scheduler._props && scheduler._props[mode])) {\r\n\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\theight += 1;\r\n\t\t\ttotal_height += height;\r\n\t\t}\r\n\t\tscheduler._obj.style.height = (total_height) + \"px\";\r\n\r\n\t\tif (!is_repaint)\r\n\t\t\tscheduler.updateView();\r\n\t};\r\n\r\n\tfunction callUpdate(){\r\n\t\tactive = false;\r\n\t\tscheduler.callEvent(\"onAfterSchedulerResize\", []);\r\n\t\tactive = true;\r\n\t}\r\n\r\n\tvar conditionalUpdateContainerHeight = function() {\r\n\t\tif(!(scheduler.config.container_autoresize && active))\r\n\t\t\treturn true;\r\n\r\n\t\tvar mode = scheduler.getState().mode;\r\n\r\n\t\tif(!mode) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tvar asyncRepaint = window.requestAnimationFrame || window.setTimeout;\r\n\t\tvar scrollTop = document.documentElement.scrollTop;\r\n\r\n\t\tasyncRepaint(function() {\r\n\t\t\tif(scheduler.$destroyed || !scheduler.$initialized){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tupdateContainterHeight();\r\n\t\t});\r\n\r\n\t\tif ( (scheduler.matrix && scheduler.matrix[mode]) || mode == \"month\") {\r\n\t\t\tasyncRepaint(function() {\r\n\t\t\t\tif(scheduler.$destroyed || !scheduler.$initialized){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tupdateContainterHeight(true);\r\n\t\t\t\tdocument.documentElement.scrollTop = scrollTop;\r\n\t\t\t\tcallUpdate();\r\n\t\t\t}, 1);\r\n\t\t}else{\r\n\t\t\tcallUpdate();\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function(){\r\n\t\tvar autosizeEnabled = scheduler.config.container_autoresize;\r\n\t\tif(!scheduler.xy.$original_scroll_width){\r\n\t\t\tscheduler.xy.$original_scroll_width = scheduler.xy.scroll_width;\r\n\t\t}\r\n\r\n\t\tscheduler.xy.scroll_width = autosizeEnabled ? 0 : scheduler.xy.$original_scroll_width;\r\n\r\n\t\tif(scheduler.matrix){\r\n\t\t\tfor(var i in scheduler.matrix){\r\n\t\t\t\tvar timeline = scheduler.matrix[i];\r\n\t\t\t\tif(!timeline.$original_section_autoheight){\r\n\t\t\t\t\ttimeline.$original_section_autoheight = timeline.section_autoheight;\r\n\t\t\t\t}\r\n\t\t\t\tif(autosizeEnabled){\r\n\t\t\t\t\ttimeline.section_autoheight = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttimeline.section_autoheight = timeline.$original_section_autoheight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onXLE\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventChanged\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventCreated\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventAdded\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventDeleted\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onAfterSchedulerResize\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onClearAll\", conditionalUpdateContainerHeight);\r\n\r\n\t//disable container autoresize when expanded\r\n\tscheduler.attachEvent(\"onBeforeExpand\", function(){\r\n\t\tactive = false;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeCollapse\", function(){\r\n\t\tactive = true;\r\n\t\treturn true;\r\n\t});\r\n\t// helper function\r\n\tfunction getScrollSize() {\r\n\t\tvar div = document.createElement(\"div\");\r\n\t\tdiv.style.cssText = \"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\t\tdocument.body.appendChild(div);\r\n\t\tvar size = div.offsetWidth - div.clientWidth;\r\n\t\tdocument.body.removeChild(div);\r\n\t\treturn size;\r\n\t}\r\n\r\n\r\n}","export default function(scheduler){\r\n\tfunction setCookie(name,cookie_param,value) {\r\n\t\tvar str = name + \"=\" + value +  (cookie_param?(\"; \"+cookie_param):\"\");\r\n\t\tdocument.cookie = str;\r\n\t}\r\n\tfunction getCookie(name) {\r\n\t\tvar search = name + \"=\";\r\n\t\tif (document.cookie.length > 0) {\r\n\t\t\tvar offset = document.cookie.indexOf(search);\r\n\t\t\tif (offset != -1) {\r\n\t\t\t\toffset += search.length;\r\n\t\t\t\tvar end = document.cookie.indexOf(\";\", offset);\r\n\t\t\t\tif (end == -1)\r\n\t\t\t\t\tend = document.cookie.length;\r\n\t\t\t\treturn document.cookie.substring(offset, end);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tfunction getCookieName(scheduler) {\r\n\t\treturn (scheduler._obj.id || \"scheduler\") + \"_settings\";\r\n\t}\r\n\r\n\tvar first = true;\r\n\tscheduler.attachEvent(\"onBeforeViewChange\",function(oldMode,oldDate,mode,date){\r\n\t\t// if Url plugin is enabled - explicit url values should have more priority than cookies\r\n\t\tif (first && scheduler._get_url_nav){\r\n\t\t\tvar urlNavigationPlugin = scheduler._get_url_nav();\r\n\t\t\tif(urlNavigationPlugin.date || urlNavigationPlugin.mode || urlNavigationPlugin.event){\r\n\t\t\t\tfirst = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar cookie = getCookieName(scheduler);\r\n\r\n\t\tif (first){\r\n\t\t\tfirst = false;\r\n\t\t\tvar schedulerCookie = getCookie(cookie);\r\n\t\t\tif (schedulerCookie){\r\n\r\n\t\t\t\tif(!scheduler._min_date){\r\n\t\t\t\t\t//otherwise scheduler will have incorrect date until timeout\r\n\t\t\t\t\t//it can cause js error with 'onMouseMove' handler of key_nav.js\r\n\t\t\t\t\tscheduler._min_date = date;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tschedulerCookie = unescape(schedulerCookie).split(\"@\");\r\n\t\t\t\tschedulerCookie[0] = this._helpers.parseDate(schedulerCookie[0]);\r\n\t\t\t\tvar view = this.isViewExists(schedulerCookie[1]) ? schedulerCookie[1] : mode,\r\n\t\t\t\t\tdate = !isNaN(+schedulerCookie[0]) ? schedulerCookie[0] : date;\r\n\r\n\t\t\t\twindow.setTimeout(function(){\r\n\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscheduler.setCurrentView(date,view);\r\n\t\t\t\t},1);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", function (newMode , newDate){\r\n\t\tvar cookie = getCookieName(scheduler);\r\n\t\tvar text = escape(this._helpers.formatDate(newDate)+\"@\"+(newMode));\r\n\t\tsetCookie(cookie,\"expires=Sun, 31 Jan 9999 22:00:00 GMT\",text);\r\n\t});\r\n\r\n\t// As we are blocking first render above there could be a problem in case of dynamic loading and rendering of visible data in general ('from'/'to' won't be defined)\r\n\tvar old_load = scheduler._load;\r\n\tscheduler._load = function() {\r\n\t\tvar args = arguments;\r\n\r\n\t\tif (!scheduler._date) {\r\n\t\t\tvar that = this;\r\n\t\t\twindow.setTimeout(function() {\r\n\t\t\t\told_load.apply(that, args);\r\n\t\t\t},1);\r\n\t\t} else {\r\n\t\t\told_load.apply(this, args);\r\n\t\t}\r\n\t};\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Day Timeline\", scheduler.assert);\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Drag Between\", scheduler.assert);\r\n}","export default function(scheduler){\r\n/* global dhtmlXCombo */\r\nscheduler.form_blocks['combo']={\r\n\trender:function(sns) {\r\n\t\tif (!sns.cached_options)\r\n\t\t\tsns.cached_options = {};\r\n\t\tvar res = '';\r\n\t\tres += \"<div class='\"+sns.type+\"' ></div>\";\r\n\t\treturn res;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\t(function(){\r\n\t\t\tresetCombo();\r\n\t\t\tvar id = scheduler.attachEvent(\"onAfterLightbox\",function(){\r\n\t\t\t\t// otherwise destructor will never be called after form reset(e.g. in readonly event mode)\r\n\t\t\t\tresetCombo();\r\n\t\t\t\tscheduler.detachEvent(id);\r\n\t\t\t});\r\n\t\t\tfunction resetCombo(){\r\n\t\t\t\tif(node._combo && node._combo.DOMParent) {\r\n\t\t\t\t\tvar combo = node._combo;\r\n\t\t\t\t\tif(combo.unload){\r\n\t\t\t\t\t\tcombo.unload();\r\n\t\t\t\t\t}else if(combo.destructor){\r\n\t\t\t\t\t\tcombo.destructor();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// dhtmlxCombo 4.1.0 bug\r\n\t\t\t\t\tcombo.DOMParent = combo.DOMelem = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})();\r\n\t\twindow.dhx_globalImgPath = config.image_path||'/';\r\n\t\tnode._combo = new dhtmlXCombo(node, config.name, node.offsetWidth-8);\r\n\t\tif (config.onchange)\r\n\t\t\tnode._combo.attachEvent(\"onChange\", config.onchange);\r\n\r\n\t\tif (config.options_height)\r\n\t\t\tnode._combo.setOptionHeight(config.options_height);\r\n\t\tvar combo = node._combo;\r\n\t\tcombo.enableFilteringMode(config.filtering, config.script_path||null, !!config.cache);\r\n\r\n\t\tif (!config.script_path) { // script-side filtration is used\r\n\t\t\tvar all_options = [];\r\n\t\t\tfor (var i = 0; i < config.options.length; i++) {\r\n\t\t\t\tvar option = config.options[i];\r\n\t\t\t\tvar single_option = [\r\n\t\t\t\t\toption.key,\r\n\t\t\t\t\toption.label,\r\n\t\t\t\t\toption.css\r\n\t\t\t\t];\r\n\t\t\t\tall_options.push(single_option);\r\n\t\t\t}\r\n\t\t\tcombo.addOption(all_options);\r\n\t\t\tif (ev[config.map_to]) {\r\n\t\t\t\tvar index = combo.getIndexByValue(ev[config.map_to]);\r\n\t\t\t\tcombo.selectOption(index);\r\n\t\t\t}\r\n\t\t} else { // server-side filtration is used\r\n\t\t\tvar selected_id = ev[config.map_to];\r\n\t\t\tif (selected_id) {\r\n\t\t\t\tif (config.cached_options[selected_id]) {\r\n\t\t\t\t\tcombo.addOption(selected_id, config.cached_options[selected_id]);\r\n\t\t\t\t\tcombo.disable(1);\r\n\t\t\t\t\tcombo.selectOption(0);\r\n\t\t\t\t\tcombo.disable(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscheduler.ajax.get(config.script_path+\"?id=\"+selected_id+\"&uid=\"+scheduler.uid(), function(result){\r\n\t\t\t\t\t\tvar responseText = result.xmlDoc.responseText;\r\n\t\t\t\t\t\tvar label;\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tvar res = JSON.parse(responseText);\r\n\t\t\t\t\t\t\tlabel = res.options[0].text;\r\n\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\tvar option = scheduler.ajax.xpath(\"//option\", result.xmlDoc)[0];\r\n\t\t\t\t\t\t\tlabel = option.childNodes[0].nodeValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconfig.cached_options[selected_id] = label;\r\n\t\t\t\t\t\tcombo.addOption(selected_id, label);\r\n\t\t\t\t\t\tcombo.disable(1);\r\n\t\t\t\t\t\tcombo.selectOption(0);\r\n\t\t\t\t\t\tcombo.disable(0);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcombo.setComboValue(\"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config) {\r\n\t\tvar selected_id = node._combo.getSelectedValue(); // value = key\r\n\t\tif (config.script_path) {\r\n\t\t\tconfig.cached_options[selected_id] = node._combo.getSelectedText();\r\n\t\t}\r\n\t\treturn selected_id;\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\nscheduler.form_blocks['radio']={\r\n\trender:function(sns) {\r\n\t\tvar res = '';\r\n\t\tres += `<div class='dhx_cal_ltext dhx_cal_radio ${sns.vertical ? \"dhx_cal_radio_vertical\": \"\"}' style='max-height:${sns.height}px;'>`;\r\n\t\tfor (var i=0; i<sns.options.length; i++) {\r\n\t\t\tvar id = scheduler.uid();\r\n\t\t\tres += \"<label class='dhx_cal_radio_item' for='\"+id+\"'><input id='\"+id+\"' type='radio' name='\"+sns.name+\"' value='\"+sns.options[i].key+\"'><span>\"+\" \"+sns.options[i].label+\"</span></label>\";\r\n\t\t}\r\n\t\tres += \"</div>\";\r\n\r\n\t\treturn res;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\tvar radiobuttons = node.getElementsByTagName('input');\r\n\t\tfor (var i = 0; i < radiobuttons.length; i++) {\r\n\t\t\tradiobuttons[i].checked = false;\r\n\t\t\tvar checked_value = ev[config.map_to]||value;\r\n\t\t\tif (radiobuttons[i].value == checked_value) {\r\n\t\t\t\tradiobuttons[i].checked = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tvar radiobuttons = node.getElementsByTagName('input');\r\n\t\tfor(var i=0; i<radiobuttons.length; i++) {\r\n\t\t\tif(radiobuttons[i].checked) {\r\n\t\t\t\treturn radiobuttons[i].value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\nscheduler.form_blocks['checkbox']={\r\n\trender:function(sns) {\r\n\t\tif (scheduler.config.wide_form)\r\n\t\t\treturn '<div class=\"dhx_cal_wide_checkbox\"></div>';\r\n\t\telse\r\n\t\t\treturn '';\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\tnode=scheduler._lightbox.querySelector(`#${config.id}`);\r\n\t\tvar id = scheduler.uid();\r\n\t\tvar isChecked = (typeof config.checked_value != \"undefined\") ? value == config.checked_value : !!value;\r\n\t\tnode.className += \" dhx_cal_checkbox\";\r\n\t\tvar check_html = \"<input id='\"+id+\"' type='checkbox' value='true' name='\"+config.name+\"'\"+((isChecked)?\"checked='true'\":'')+\"'>\";\r\n\t\tvar label_html = \"<label for='\"+id+\"'>\"+(scheduler.locale.labels[\"section_\"+config.name]||config.name)+\"</label>\";\r\n\t\tif (scheduler.config.wide_form){\r\n\t\t\tnode.innerHTML = label_html;\r\n\t\t\tnode.nextSibling.innerHTML=check_html;\r\n\t\t} else\r\n\t\t\tnode.innerHTML=check_html+label_html;\r\n\r\n\t\tif (config.handler) {\r\n\t\t\tvar checkbox = node.getElementsByTagName('input')[0];\r\n\t\t\tif(checkbox.$_eventAttached){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcheckbox.$_eventAttached = true;\r\n\t\t\tscheduler.event(checkbox, \"click\", config.handler);\r\n\t\t\t//checkbox.onclick = config.handler;\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tnode=scheduler._lightbox.querySelector(`#${config.id}`);\r\n\t\tvar checkbox = node.getElementsByTagName('input')[0]; // moved to the header\r\n\t\tif (!checkbox)\r\n\t\t\tcheckbox = node.nextSibling.getElementsByTagName('input')[0];\r\n\t\treturn (checkbox.checked)?(config.checked_value||true):(config.unchecked_value||false);\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.ext.fullscreen = {\r\n\ttoggleIcon: null\r\n};\r\n\r\nscheduler.expand = function() {\r\n\tif(!scheduler.callEvent(\"onBeforeExpand\", []))\r\n\t\treturn;\r\n\tvar t = scheduler._obj;\r\n\tdo {\r\n\t\tt._position = t.style.position || \"\";\r\n\t\tt.style.position = \"static\";\r\n\t} while ((t = t.parentNode) && t.style);\r\n\tt = scheduler._obj;\r\n\tt.style.position = \"absolute\";\r\n\tt._width = t.style.width;\r\n\tt._height = t.style.height;\r\n\tt.style.width = t.style.height = \"100%\";\r\n\tt.style.top = t.style.left = \"0px\";\r\n\r\n\tvar top = document.body;\r\n\ttop.scrollTop = 0;\r\n\r\n\ttop = top.parentNode;\r\n\tif (top)\r\n\t\ttop.scrollTop = 0;\r\n\tdocument.body._overflow = document.body.style.overflow || \"\";\r\n\tdocument.body.style.overflow = \"hidden\";\r\n\tscheduler._maximize();\r\n\tscheduler.callEvent(\"onExpand\", []);\r\n};\r\nscheduler.collapse = function() {\r\n\tif(!scheduler.callEvent(\"onBeforeCollapse\", []))\r\n\t\treturn;\r\n\tvar t = scheduler._obj;\r\n\tdo {\r\n\t\tt.style.position = t._position;\r\n\t} while ((t = t.parentNode) && t.style);\r\n\tt = scheduler._obj;\r\n\tt.style.width = t._width;\r\n\tt.style.height = t._height;\r\n\tdocument.body.style.overflow = document.body._overflow;\r\n\tscheduler._maximize();\r\n\tscheduler.callEvent(\"onCollapse\", []);\r\n};\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar t = document.createElement(\"div\");\r\n\tt.className = \"dhx_expand_icon\";\r\n\tscheduler.ext.fullscreen.toggleIcon = t;\r\n\tt.innerHTML = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t<g>\r\n\t<line x1=\"0.5\" y1=\"5\" x2=\"0.5\" y2=\"3.0598e-08\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line y1=\"0.5\" x2=\"5\" y2=\"0.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"0.5\" y1=\"11\" x2=\"0.5\" y2=\"16\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line y1=\"15.5\" x2=\"5\" y2=\"15.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"11\" y1=\"0.5\" x2=\"16\" y2=\"0.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"15.5\" y1=\"2.18557e-08\" x2=\"15.5\" y2=\"5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"11\" y1=\"15.5\" x2=\"16\" y2=\"15.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"15.5\" y1=\"16\" x2=\"15.5\" y2=\"11\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t</g>\r\n\t</svg>\r\n\t`;\r\n\tscheduler._obj.appendChild(t);\r\n\tscheduler.event(t, \"click\",  function() {\r\n\t\tif (!scheduler.expanded)\r\n\t\t\tscheduler.expand(); else\r\n\t\t\tscheduler.collapse();\r\n\t});\r\n});\r\nscheduler._maximize = function() {\r\n\tthis.expanded = !this.expanded;\r\n\tif(this.expanded){\r\n\t\tthis.ext.fullscreen.toggleIcon.classList.add(\"dhx_expand_icon--expanded\");\r\n\t\t\r\n\t}else{\r\n\t\tthis.ext.fullscreen.toggleIcon.classList.remove(\"dhx_expand_icon--expanded\");\r\n\t}\r\n\t\r\n\t//scheduler.ext.fullscreen.toggleIcon.style.backgroundPosition = \"0 \" + (this.expanded ? \"0\" : \"18\") + \"px\";\r\n\r\n\tvar directions = ['left', 'top'];\r\n\tfor (var i = 0; i < directions.length; i++) {\r\n\t\t//var margin = scheduler.xy['margin_' + directions[i]];\r\n\t\tvar prev_margin = scheduler['_prev_margin_' + directions[i]];\r\n\t\tif (scheduler.xy['margin_' + directions[i]]) {\r\n\t\t\tscheduler['_prev_margin_' + directions[i]] = scheduler.xy['margin_' + directions[i]];\r\n\t\t\tscheduler.xy['margin_' + directions[i]] = 0;\r\n\t\t} else {\r\n\t\t\tif (prev_margin) {\r\n\t\t\t\tscheduler.xy['margin_' + directions[i]] = scheduler['_prev_margin_' + directions[i]];\r\n\t\t\t\tdelete scheduler['_prev_margin_' + directions[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.setCurrentView();\r\n};\r\n\r\n\r\n}\r\n","export default function(scheduler){\r\n\r\n\r\n(function(){\r\n\r\nfunction defaults(obj, std){\r\n\tfor (var key in std)\r\n\t\tif (!obj[key])\r\n\t\t\tobj[key] = std[key];\r\n\treturn obj;\r\n}\r\n\r\nfunction getElementSizes(element, scheduler) {\r\n\tvar sizes = {};\r\n\telement = scheduler._els[element];\r\n\tif (element && element[0]) {\r\n\t\tsizes.x = element[0].scrollWidth;\r\n\t\tsizes.y = element[0].scrollHeight;\r\n\t} else {\r\n\t\tsizes.x = 0;\r\n\t\tsizes.y = 0;\r\n\t}\r\n\treturn sizes;\r\n}\r\n\r\n//compatibility for new versions of scheduler\r\nif(!window.dhtmlxAjax){\r\n\twindow.dhtmlxAjax = {\r\n\t\tpost: function(url, data, callback){\r\n\t\t\treturn window.dhx4.ajax.post(url, data, callback);\r\n\t\t},\r\n\t\tget: function(url, callback){\r\n\t\t\treturn window.ajax.get(url, callback);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction add_export_methods(scheduler){\r\n\r\n\tscheduler.exportToPDF = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.pdf\",\r\n\t\t\tformat:\"A4\",\r\n\t\t\torientation:\"landscape\",\r\n\t\t\tdpi:96,\r\n\t\t\tzoom:1,\r\n\t\t\trtl: scheduler.config.rtl\r\n\t\t});\r\n\t\tconfig.html = this._export_html(config);\r\n\t\tconfig.mode = this.getState().mode;\r\n\t\tthis._send_to_export(config, \"pdf\");\r\n\t};\r\n\r\n\tscheduler.exportToPNG = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.png\",\r\n\t\t\tformat:\"A4\",\r\n\t\t\torientation:\"landscape\",\r\n\t\t\tdpi:96,\r\n\t\t\tzoom:1,\r\n\t\t\trtl: scheduler.config.rtl\r\n\t\t});\r\n\t\tconfig.html = this._export_html(config);\r\n\t\tconfig.mode = this.getState().mode;\r\n\t\tthis._send_to_export(config, \"png\");\r\n\t};\r\n\r\n\tscheduler.exportToICal = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.ical\",\r\n\t\t\tdata:this._serialize_plain(null, config)\r\n\t\t});\r\n\t\tthis._send_to_export(config, \"ical\");\r\n\t};\r\n\r\n\tscheduler.exportToExcel = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.xlsx\",\r\n\t\t\ttitle:\"Events\",\r\n\t\t\tdata:this._serialize_plain( this.templates.xml_format, config),\r\n\t\t\tcolumns:this._serialize_columns()\r\n\t\t});\r\n\t\tthis._send_to_export(config, \"excel\");\r\n\t};\r\n\r\n\tscheduler._ajax_to_export = function(data, type, callback){\r\n\t\tdelete data.callback;\r\n\t\tvar url = data.server || \"https://export.dhtmlx.com/scheduler\";\r\n\r\n\t\twindow.dhtmlxAjax.post(url,\r\n\t\t\t\"type=\"+type+\"&store=1&data=\"+encodeURIComponent(JSON.stringify(data)),\r\n\t\t\tfunction(loader){\r\n\t\t\t\tvar fail = loader.xmlDoc.status > 400;\r\n\t\t\t\tvar info = null;\r\n\r\n\t\t\t\tif (!fail){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tinfo = JSON.parse(loader.xmlDoc.responseText);\r\n\t\t\t\t\t}catch(e){}\r\n\t\t\t\t}\r\n\t\t\t\tcallback(info);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tscheduler._plain_export_copy = function(source, format){\r\n\t\tvar target = {};\r\n\t\tfor (var key in source)\r\n\t\t\ttarget[key] = source[key];\r\n\r\n\t\ttarget.start_date = format(target.start_date);\r\n\t\ttarget.end_date = format(target.end_date);\r\n\t\ttarget.$text = this.templates.event_text(source.start_date, source.end_date, source);\r\n\r\n\t\treturn target;\r\n\t};\r\n\r\n\tscheduler._serialize_plain = function(format, config){\r\n\t\tformat = format || scheduler.date.date_to_str(\"%Y%m%dT%H%i%s\", true);\r\n\r\n\t\tvar events;\r\n\t\tif (config && config.start && config.end)\r\n\t\t\tevents = scheduler.getEvents(config.start, config.end);\r\n\t\telse\r\n\t\t\tevents = scheduler.getEvents();\r\n\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i< events.length; i++)\r\n\t\t\tdata[i] = this._plain_export_copy(events[i], format);\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tscheduler._serialize_columns = function(){\r\n\t\treturn [\r\n\t\t\t{ id:\"start_date\", header:\"Start Date\", width:30 },\r\n\t\t\t{ id:\"end_date\", header:\"End Date\", width:30 },\r\n\t\t\t{ id:\"$text\", header:\"Text\", width:100 }\r\n\t\t];\r\n\t};\r\n\r\n\tscheduler._send_to_export = function(data, type){\r\n\t\tif(!data.version){\r\n\t\t\tdata.version = scheduler.version;\r\n\t\t}\r\n\r\n\t\tif(!data.skin){\r\n\t\t\tdata.skin = scheduler.skin;\r\n\t\t}\r\n\r\n\t\tif (data.callback)\r\n\t\t\t\treturn scheduler._ajax_to_export(data, type, data.callback);\r\n\r\n\t\tvar form = this._create_hidden_form();\r\n\r\n\t\tform.firstChild.action = data.server || \"https://export.dhtmlx.com/scheduler\";\r\n\t\tform.firstChild.childNodes[0].value = JSON.stringify(data);\r\n\t\tform.firstChild.childNodes[1].value = type;\r\n\t\tform.firstChild.submit();\r\n\t};\r\n\r\n\tscheduler._create_hidden_form = function(){\r\n\t\tif (!this._hidden_export_form){\r\n\t\t\tvar t = this._hidden_export_form = document.createElement(\"div\");\r\n\t\t\tt.style.display = \"none\";\r\n\t\t\tt.innerHTML = \"<form method='POST' target='_blank'><input type='text' name='data'><input type='hidden' name='type' value=''></form>\";\r\n\t\t\tdocument.body.appendChild(t);\r\n\t\t}\r\n\t\treturn this._hidden_export_form;\r\n\t};\r\n\r\n\tscheduler._get_export_size = function(format, orientation, zoom, dpi, header, footer, scales) {\r\n\r\n\t\tdpi = parseInt(dpi)/25.4 || 4;\r\n\r\n\t\tvar sizes = {\r\n\t\t\t\"A5\":{ x:148, y:210 },\r\n\t\t\t\"A4\":{ x:210, y:297 },\r\n\t\t\t\"A3\":{ x:297, y:420 },\r\n\t\t\t\"A2\":{ x:420, y:594 },\r\n\t\t\t\"A1\":{ x:594, y:841 },\r\n\t\t\t\"A0\":{ x:841, y:1189 }\r\n\t\t};\r\n\r\n\t\tvar dataX = getElementSizes(\"dhx_cal_data\", this).x;\r\n\t\tvar dataY = getElementSizes(\"dhx_cal_data\", this).y;\r\n\t\tvar headY = getElementSizes(\"dhx_cal_header\", this).y;\r\n\t\tvar multY = getElementSizes(\"dhx_multi_day\", this).y;\r\n\r\n\t\tvar cSize = {\r\n\t\t\ty: dataY + headY + multY\r\n\t\t};\r\n\r\n\t\tif (format === \"full\") {\r\n\t\t\tcSize.x = dataX;\r\n\t\t} else {\r\n\t\t\tcSize.x = Math.floor( (orientation === \"landscape\" ? sizes[format].y : sizes[format].x) * dpi );\r\n\t\t}\r\n\r\n\t\tif (scales) {\r\n\t\t\tcSize.x *= (parseFloat(scales.x) || 1);\r\n\t\t\tcSize.y *= (parseFloat(scales.y) || 1);\r\n\t\t}\r\n\r\n\t\treturn cSize;\r\n\t};\r\n\r\n\tfunction getTimeline() {\r\n\t\tvar mode = scheduler.getState().mode;\r\n\t\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\t\treturn scheduler.matrix[mode];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction getInitialSizes() {\r\n\t\tvar smartRendering = undefined,\r\n\t\t\tscrollable = undefined;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (timeline) {\r\n\t\t\tscrollable = timeline.scrollable;\r\n\t\t\tsmartRendering = timeline.smart_rendering;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tnav_height: scheduler.xy.nav_height,\r\n\t\t\tscroll_width: scheduler.xy.scroll_width,\r\n\t\t\tstyle_width: scheduler._obj.style.width,\r\n\t\t\tstyle_height: scheduler._obj.style.height,\r\n\t\t\ttimeline_scrollable: scrollable,\r\n\t\t\ttimeline_smart_rendering: smartRendering\r\n\t\t};\r\n\t}\r\n\r\n\tfunction setExportSizes(size, initialSizes) {\r\n\t\tscheduler._obj.style.width  = size.x + \"px\";\r\n\t\tscheduler._obj.style.height = size.y + \"px\";\r\n\r\n\t\tscheduler.xy.nav_height = 0;\r\n\t\tscheduler.xy.scroll_width = 0;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (initialSizes.timeline_scrollable || initialSizes.timeline_smart_rendering) {\r\n\r\n\t\t\ttimeline.scrollable = false;\r\n\t\t\ttimeline.smart_rendering = false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setInitialSizes(initialSizes) {\r\n\t\tscheduler.xy.scroll_width = initialSizes.scroll_width;\r\n\t\tscheduler.xy.nav_height = initialSizes.nav_height;\r\n\t\tscheduler._obj.style.width  = initialSizes.style_width;\r\n\t\tscheduler._obj.style.height = initialSizes.style_height;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (initialSizes.timeline_scrollable || initialSizes.timeline_smart_rendering) {\r\n\t\t\ttimeline.scrollable = initialSizes.timeline_scrollable;\r\n\t\t\ttimeline.smart_rendering = initialSizes.timeline_smart_rendering;\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler._export_html = function (obj) {\r\n\t\tvar initialSizes = getInitialSizes();\r\n\t\tvar size = scheduler._get_export_size(obj.format, obj.orientation, obj.zoom, obj.dpi, obj.header, obj.footer, obj.scales);\r\n\r\n\t\tvar html = \"\";\r\n\t\ttry {\r\n\t\t\tsetExportSizes(size, initialSizes);\r\n\t\t\tscheduler.setCurrentView();\r\n\t\t\thtml = scheduler._obj.innerHTML;\r\n\t\t} catch (e) {\r\n\r\n\t\t\t// eslint-disable-next-line no-console\r\n\t\t\tconsole.error(e);\r\n\t\t} finally {\r\n\t\t\tsetInitialSizes(initialSizes);\r\n\t\t\tscheduler.setCurrentView();\r\n\t\t}\r\n\r\n\t\treturn html;\r\n\t};\r\n\r\n}\r\n\r\nadd_export_methods(scheduler);\r\n\r\n\r\n})();\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Grid\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\tvar els = document.body.getElementsByTagName(\"DIV\");\r\n\tfor (var i=0; i < els.length; i++) {\r\n\t\tvar cs = els[i].className||\"\";\r\n\t\tcs = cs.split(\":\");\r\n\t\tif (cs.length == 2 && cs[0] == \"template\"){\r\n\t\t\tvar code = \"return \\\"\"+(els[i].innerHTML||\"\").replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g,\"\\\\\\\"\").replace(/[\\n\\r]+/g,\"\")+\"\\\";\";\r\n\t\t\tcode = unescape(code).replace(/\\{event\\.([a-z]+)\\}/g,function(all,mask){\r\n\t\t\t\treturn '\"+ev.'+mask+'+\"';\r\n\t\t\t});\r\n\t\t\tscheduler.templates[cs[1]]=Function(\"start\",\"end\",\"ev\",code);\r\n\t\t\tels[i].style.display='none';\r\n\t\t}\r\n\t}\r\n});\r\n\r\n}","import keyboard_shortcuts from \"./keyboard_navigation/common/keyboard_shortcuts\";\r\nimport eventhandler from \"./keyboard_navigation/common/eventhandler\";\r\nimport trap_modal_focus from \"./keyboard_navigation/common/trap_modal_focus\";\r\nimport marker from \"./keyboard_navigation/marker\";\r\nimport scheduler_node from \"./keyboard_navigation/elements/scheduler_node\";\r\nimport nav_node from \"./keyboard_navigation/elements/nav_node\";\r\nimport header_cell from \"./keyboard_navigation/elements/header_cell\";\r\nimport event from \"./keyboard_navigation/elements/event\";\r\nimport time_slot from \"./keyboard_navigation/elements/time_slot\";\r\nimport minical_button from \"./keyboard_navigation/elements/minical_button\";\r\nimport minical_cell from \"./keyboard_navigation/elements/minical_cell\";\r\nimport data_area from \"./keyboard_navigation/elements/data_area\";\r\nimport modals from \"./keyboard_navigation/modals\";\r\nimport core from \"./keyboard_navigation/core\";\r\nimport key_nav_legacy from \"./keyboard_navigation/key_nav_legacy\";\r\n\r\n\r\nimport scheduler_handlers from \"./keyboard_navigation/scheduler_handlers\";\r\nimport minical_handlers from \"./keyboard_navigation/minical_handlers\";\r\n\r\nexport default function(scheduler){\r\n\t\tscheduler.config.key_nav = true;\r\n\t\tscheduler.config.key_nav_step = 30;\r\n\t\tscheduler.addShortcut = function(shortcut, handler, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.getShortcutHandler = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tvar commands = scheduler.$keyboardNavigation.shortcuts.parse(shortcut);\r\n\t\t\t\tif(commands.length){\r\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.removeShortcut = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.focus = function(){\r\n\t\t\tif(!scheduler.config.key_nav){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar disp = scheduler.$keyboardNavigation.dispatcher;\r\n\t\t\tdisp.enable();\r\n\t\t\tvar activeNode = disp.getActiveNode();\r\n\t\t\tif(!activeNode || activeNode instanceof scheduler.$keyboardNavigation.MinicalButton || activeNode instanceof scheduler.$keyboardNavigation.MinicalCell){\r\n\t\t\t\tdisp.setDefaultNode();\r\n\t\t\t}else{\r\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction getScope(mode){\r\n\t\t\tvar scopes = {\r\n\t\t\t\t\"minicalButton\":scheduler.$keyboardNavigation.MinicalButton,\r\n\t\t\t\t\"minicalDate\":scheduler.$keyboardNavigation.MinicalCell,\r\n\t\t\t\t\"scheduler\":scheduler.$keyboardNavigation.SchedulerNode,\r\n\t\t\t\t\"dataArea\": scheduler.$keyboardNavigation.DataArea,\r\n\t\t\t\t\"timeSlot\": scheduler.$keyboardNavigation.TimeSlot,\r\n\t\t\t\t\"event\": scheduler.$keyboardNavigation.Event\r\n\t\t\t};\r\n\r\n\t\t\tvar searchMap = {};\r\n\t\t\tfor(var i in scopes)\r\n\t\t\t\tsearchMap[i.toLowerCase()] = scopes[i];\r\n\r\n\t\t\tmode = (mode + \"\").toLowerCase();\r\n\r\n\t\t\treturn searchMap[mode] || scopes.scheduler;\r\n\t\t}\r\n\r\n\t\tscheduler.$keyboardNavigation = {};\r\n\r\n\t\tscheduler._compose = function(){\r\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\r\n\t\t\tvar res = {};\r\n\t\t\tfor(var i = 0; i < parts.length; i++){\r\n\t\t\t\tvar obj = parts[i];\r\n\t\t\t\tif(typeof obj == \"function\"){\r\n\t\t\t\t\tobj = new obj();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(var p in obj){\r\n\t\t\t\t\tres[p] = obj[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\r\n\t\tkeyboard_shortcuts(scheduler);\r\n\t\teventhandler(scheduler);\r\n\t\ttrap_modal_focus(scheduler);\r\n\t\tmarker(scheduler);\r\n\t\tscheduler_node(scheduler);\r\n\t\tnav_node(scheduler);\r\n\t\theader_cell(scheduler);\r\n\t\tevent(scheduler);\r\n\t\ttime_slot(scheduler);\r\n\t\tminical_button(scheduler);\r\n\t\tminical_cell(scheduler);\r\n\t\tdata_area(scheduler);\r\n\t\tmodals(scheduler);\r\n\t\tcore(scheduler);\r\n\t\tkey_nav_legacy(scheduler);\r\n\r\n\t\t(function(){\r\n\t\t\tscheduler_handlers(scheduler);\r\n\t\t\tminical_handlers(scheduler);\r\n\r\n\t\t\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\t\t\tscheduler.$keyboardNavigation.attachSchedulerHandlers();\r\n\r\n\t\t\tif(scheduler.renderCalendar){\r\n\t\t\t\t// if minical ext loaded before key nav ext - patch it now\r\n\t\t\t\tscheduler.$keyboardNavigation.patchMinicalendar();\r\n\t\t\t}else{\r\n\t\t\t\t// otherwise - wait until everything is loaded and try again\r\n\t\t\t\tvar attachOnce = scheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\t\t\t\tscheduler.detachEvent(attachOnce);\r\n\t\t\t\t\tscheduler.$keyboardNavigation.patchMinicalendar();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\tfunction isSchedulerSelected(){\r\n\t\t\t\tif(!scheduler.config.key_nav) return;\r\n\r\n\t\t\t\tvar enable;\r\n\t\t\t\tvar focusElement = document.activeElement;\r\n\t\t\t\t// halt key nav when focus is outside scheduler or in quick info popup\r\n\t\t\t\tif(!focusElement || scheduler.utils.dom.locateCss(focusElement, \"dhx_cal_quick_info\", false)){\r\n\t\t\t\t\tenable = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tenable = scheduler.$keyboardNavigation.isChildOf(focusElement, scheduler.$container) || scheduler.$keyboardNavigation.isMinical(focusElement);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn enable;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\tfunction changeState(enable){\r\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.disable();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst intervalId = setInterval(function(){\r\n\t\t\t\tif(!scheduler.$container || !scheduler.$keyboardNavigation.isChildOf(scheduler.$container, document.body)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar enable = isSchedulerSelected();\r\n\r\n\t\t\t\tif(enable){\r\n\t\t\t\t\tchangeState(enable);\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// doublecheck in case checking is done in handler before focus element is repainted\r\n\t\t\t\t\t\tif(scheduler.config.key_nav){\r\n\t\t\t\t\t\t\tchangeState(isSchedulerSelected());\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tscheduler.$container.removeAttribute(\"tabindex\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\t\t\tclearInterval(intervalId);\r\n\t\t\t});\r\n\t\t})();\r\n\t}\r\n\r\n\r\n","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.shortcuts = {\r\n\tcreateCommand: function(){\r\n\t\treturn {\r\n\t\t\tmodifiers:{\r\n\t\t\t\t\"shift\": false,\r\n\t\t\t\t\"alt\": false,\r\n\t\t\t\t\"ctrl\": false,\r\n\t\t\t\t\"meta\": false\r\n\t\t\t},\r\n\t\t\tkeyCode: null\r\n\t\t};\r\n\t},\r\n\tparse: function(shortcut){\r\n\t\tvar commands = [];\r\n\r\n\t\tvar expr = this.getExpressions(this.trim(shortcut));\r\n\t\tfor(var i = 0; i < expr.length; i++){\r\n\t\t\tvar words = this.getWords(expr[i]);\r\n\r\n\t\t\tvar command = this.createCommand();\r\n\r\n\t\t\tfor(var j = 0; j < words.length; j++){\r\n\t\t\t\tif(this.commandKeys[words[j]]){\r\n\t\t\t\t\tcommand.modifiers[words[j]] = true;\r\n\t\t\t\t}else if(this.specialKeys[words[j]]){\r\n\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcommands.push(command);\r\n\t\t}\r\n\t\treturn commands;\r\n\t},\r\n\r\n\tgetCommandFromEvent: function(domEvent){\r\n\t\tvar command = this.createCommand();\r\n\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\r\n\t\tcommand.modifiers.alt = !!domEvent.altKey;\r\n\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\r\n\t\tcommand.modifiers.meta = !!domEvent.metaKey;\r\n\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\r\n\r\n\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\r\n\t\t\t// numpad keys 96-105 -> 48-57\r\n\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\r\n\t\t}\r\n\r\n\t\tvar printableKey = String.fromCharCode(command.keyCode );\r\n\t\tif(printableKey){\r\n\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\r\n\t\t}\r\n\t\treturn command;\r\n\t},\r\n\r\n\tgetHashFromEvent: function(domEvent){\r\n\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\r\n\t},\r\n\r\n\tgetHash: function(command){\r\n\t\tvar parts = [];\r\n\t\tfor(var i in command.modifiers){\r\n\t\t\tif(command.modifiers[i]){\r\n\t\t\t\tparts.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tparts.push(command.keyCode);\r\n\r\n\t\treturn parts.join(this.junctionChar);\r\n\t},\r\n\r\n\tgetExpressions: function(shortcut){\r\n\t\treturn shortcut.split(this.junctionChar);\r\n\t},\r\n\tgetWords: function(term){\r\n\t\treturn term.split(this.combinationChar);\r\n\t},\r\n\ttrim: function(shortcut){\r\n\t\treturn shortcut.replace(/\\s/g, \"\");\r\n\t},\r\n\tjunctionChar:\",\",\r\n\tcombinationChar:\"+\",\r\n\tcommandKeys:{\r\n\t\t\"shift\": 16,\r\n\t\t\"alt\": 18,\r\n\t\t\"ctrl\": 17,\r\n\t\t\"meta\": true\r\n\t},\r\n\tspecialKeys:{\r\n\t\t\"backspace\": 8,\r\n\t\t\"tab\": 9,\r\n\t\t\"enter\": 13,\r\n\t\t\"esc\": 27,\r\n\t\t\"space\": 32,\r\n\t\t\"up\": 38,\r\n\t\t\"down\": 40,\r\n\t\t\"left\": 37,\r\n\t\t\"right\": 39,\r\n\t\t\"home\": 36,\r\n\t\t\"end\": 35,\r\n\t\t\"pageup\": 33,\r\n\t\t\"pagedown\": 34,\r\n\t\t\"delete\": 46,\r\n\t\t\"insert\": 45,\r\n\t\t\"plus\":107,\r\n\t\t\"f1\": 112,\r\n\t\t\"f2\": 113,\r\n\t\t\"f3\": 114,\r\n\t\t\"f4\": 115,\r\n\t\t\"f5\": 116,\r\n\t\t\"f6\": 117,\r\n\t\t\"f7\": 118,\r\n\t\t\"f8\": 119,\r\n\t\t\"f9\": 120,\r\n\t\t\"f10\": 121,\r\n\t\t\"f11\": 122,\r\n\t\t\"f12\": 123\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.EventHandler = {\r\n\t_handlers: null,\r\n\tfindHandler: function(command){\r\n\t\tif(!this._handlers) this._handlers = {};\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\t\tvar hash = shortcuts.getHash(command);\r\n\r\n\t\treturn this._handlers[hash];\r\n\t},\r\n\r\n\tdoAction: function(command, e){\r\n\t\tvar handler = this.findHandler(command);\r\n\t\tif(handler){\r\n\t\t\thandler.call(this, e);\r\n\r\n\t\t\tif (e.preventDefault) e.preventDefault();\r\n\t\t\telse e.returnValue = false;\r\n\r\n\t\t}\r\n\t},\r\n\tbind: function(shortcut, handler){\r\n\t\tif(!this._handlers) this._handlers = {};\r\n\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\r\n\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\tfor(var i = 0; i < commands.length; i++){\r\n\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\r\n\t\t}\r\n\t},\r\n\tunbind: function(shortcut){\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\r\n\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\tfor(var i = 0; i < commands.length; i++){\r\n\t\t\tif(this._handlers[shortcuts.getHash(commands[i])]){\r\n\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbindAll: function(map){\r\n\t\tfor(var i in map){\r\n\t\t\tthis.bind(i, map[i]);\r\n\t\t}\r\n\t},\r\n\tinitKeys: function(){\r\n\t\tif(!this._handlers)\r\n\t\t\tthis._handlers = {};\r\n\t\tif(this.keys){\r\n\t\t\tthis.bindAll(this.keys);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n(function(){\r\n\tscheduler.$keyboardNavigation.getFocusableNodes = scheduler._getFocusableNodes;\r\n\r\n\tscheduler.$keyboardNavigation.trapFocus = function trapFocus(root, e){\r\n\t\tif(e.keyCode != 9) return false;\r\n\r\n\t\tvar focusable = scheduler.$keyboardNavigation.getFocusableNodes(root);\r\n\t\tvar currentFocus = document.activeElement;\r\n\t\tvar currentIndex = -1;\r\n\t\tfor(var i = 0; i < focusable.length; i++){\r\n\t\t\tif(focusable[i] == currentFocus){\r\n\t\t\t\tcurrentIndex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar nextIndex, nextItem;\r\n\t\tif(e.shiftKey){\r\n\r\n\t\t\t// back tab\r\n\t\t\t// go to the last element if we focused on the first\r\n\t\t\tnextIndex = (currentIndex <= 0) ? (focusable.length - 1) : (currentIndex - 1);\r\n\r\n\t\t\tnextItem = focusable[nextIndex];\r\n\t\t\tif(nextItem){\r\n\t\t\t\tnextItem.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}else{\r\n\t\t\t// forward tab\r\n\t\t\t// forward tab from last element should go back to the first element\r\n\t\t\tnextIndex = (currentIndex >= focusable.length - 1) ? 0 : (currentIndex + 1);\r\n\t\t\tnextItem = focusable[nextIndex];\r\n\t\t\tif(nextItem){\r\n\t\t\t\tnextItem.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n})();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.marker = {\r\n\tclear: function(){\r\n\t\tvar divs = scheduler.$container.querySelectorAll(\".dhx_focus_slot\");\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tdivs[i].parentNode.removeChild(divs[i]);\r\n\t\t}\r\n\t},\r\n\tcreateElement: function(){\r\n\t\tvar element = document.createElement(\"div\");\r\n\t\telement.setAttribute(\"tabindex\", -1);\r\n\t\telement.className = \"dhx_focus_slot\";\r\n\t\treturn element;\r\n\t},\r\n\r\n\trenderMultiple: function(start, end, method){\r\n\t\tvar divs = [];\r\n\t\tvar currentStart = new Date(start);\r\n\t\tvar currentEnd = new Date(Math.min(end.valueOf(), scheduler.date.add(scheduler.date.day_start(new Date(start)), 1, \"day\").valueOf()));\r\n\t\twhile(currentStart.valueOf() < end.valueOf()){\r\n\r\n\t\t\tdivs = divs.concat(method.call(this, currentStart, new Date(Math.min(currentEnd.valueOf(), end.valueOf()))));\r\n\t\t\tcurrentStart = scheduler.date.day_start(scheduler.date.add(currentStart, 1, \"day\"));\r\n\r\n\t\t\tcurrentEnd = scheduler.date.day_start(scheduler.date.add(currentStart, 1, \"day\"));\r\n\t\t\tcurrentEnd = new Date(Math.min(currentEnd.valueOf(), end.valueOf()));\r\n\t\t}\r\n\r\n\t\treturn divs;\r\n\t},\r\n\r\n\r\n\trender: function(start, end, section){\r\n\t\tthis.clear();\r\n\t\tvar divs = [];\r\n\r\n\t\tvar modes = scheduler.$keyboardNavigation.TimeSlot.prototype._modes;\r\n\t\tvar view = scheduler.$keyboardNavigation.TimeSlot.prototype._getMode();\r\n\t\tswitch (view){\r\n\t\t\tcase modes.units:\r\n\t\t\t\tdivs = this.renderVerticalMarker(start, end, section);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.timeline:\r\n\t\t\t\tdivs = this.renderTimelineMarker(start, end, section);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.year:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderYearMarker));\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.month:\r\n\t\t\t\tdivs = this.renderMonthMarker(start, end);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.weekAgenda:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderWeekAgendaMarker));\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.list:\r\n\t\t\t\tdivs = this.renderAgendaMarker(start, end);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.dayColumns:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderVerticalMarker));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.addWaiAriaLabel(divs, start, end, section);\r\n\t\tthis.addDataAttributes(divs, start, end, section);\r\n\r\n\t\tfor(var i = divs.length - 1; i >= 0; i--){\r\n\t\t\tif(divs[i].offsetWidth){\r\n\t\t\t\treturn divs[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\taddDataAttributes: function(divs, start, end, section){\r\n\t\tvar dateToStr = scheduler.date.date_to_str(scheduler.config.api_date);\r\n\r\n\t\tvar from = dateToStr(start),\r\n\t\t\tto = dateToStr(end);\r\n\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tdivs[i].setAttribute(\"data-start-date\", from);\r\n\t\t\tdivs[i].setAttribute(\"data-end-date\", to);\r\n\t\t\tif(section){\r\n\t\t\t\tdivs[i].setAttribute(\"data-section\", section);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\taddWaiAriaLabel: function(divs, start, end, section){\r\n\t\tvar label = \"\";\r\n\t\tvar state = scheduler.getState();\r\n\t\tvar mode = state.mode;\r\n\r\n\t\tvar dateTimeLabel = false;\r\n\r\n\t\tlabel += scheduler.templates.day_date(start);\r\n\r\n\t\tif((scheduler.date.day_start(new Date(start)).valueOf() != start.valueOf())){\r\n\t\t\tlabel += \" \" + scheduler.templates.hour_scale(start);\r\n\t\t\tdateTimeLabel = true;\r\n\t\t}\r\n\r\n\t\tif((scheduler.date.day_start(new Date(start)).valueOf() != scheduler.date.day_start(new Date(end)).valueOf())){\r\n\r\n\t\t\tlabel += \" - \" + scheduler.templates.day_date(end);\r\n\t\t\tif(dateTimeLabel || (scheduler.date.day_start(new Date(end)).valueOf() != end.valueOf())){\r\n\t\t\t\tlabel += \" \" + scheduler.templates.hour_scale(end);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(section){\r\n\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\t\t\t\tconst timeline = scheduler.matrix[mode];\r\n\t\t\t\tconst sectionObject = timeline.y_unit[timeline.order[section]];\r\n\t\t\t\tlabel += \", \" + scheduler.templates[mode + \"_scale_label\"](sectionObject.key, sectionObject.label, sectionObject);\r\n\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\tconst units = scheduler._props[mode];\r\n\t\t\t\tconst sectionObject = units.options[units.order[section]];\r\n\r\n\t\t\t\tlabel += \", \" + scheduler.templates[mode + \"_scale_text\"](sectionObject.key, sectionObject.label, sectionObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tscheduler._waiAria.setAttributes(divs[i], {\r\n\t\t\t\t\"aria-label\": label,\r\n\t\t\t\t\"aria-live\": \"polite\"\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\trenderWeekAgendaMarker: function(start_date, end_date){\r\n\t\tvar divs = scheduler.$container.querySelectorAll(\".dhx_wa_day_cont .dhx_wa_scale_bar\");\r\n\r\n\t\tvar currDate = scheduler.date.week_start(new Date(scheduler.getState().min_date));\r\n\r\n\t\tvar index = -1;\r\n\t\tvar markerDate = scheduler.date.day_start(new Date(start_date));\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tindex++;\r\n\t\t\tif(scheduler.date.day_start(new Date(currDate)).valueOf() == markerDate.valueOf()){\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(index != -1) return this._wrapDiv(divs[index]);\r\n\t\treturn [];\r\n\t},\r\n\r\n\t_wrapDiv: function(cell){\r\n\t\tvar marker = this.createElement();\r\n\t\tmarker.style.top = cell.offsetTop + \"px\";\r\n\t\tmarker.style.left = cell.offsetLeft + \"px\";\r\n\t\tmarker.style.width = cell.offsetWidth + \"px\";\r\n\t\tmarker.style.height = cell.offsetHeight + \"px\";\r\n\t\tcell.appendChild(marker);\r\n\t\treturn [marker];\r\n\t},\r\n\trenderYearMarker: function(start_date, end_date){\r\n\t\tvar cell = scheduler._get_year_cell(start_date);\r\n\t\tcell.style.position = \"relative\";\r\n\t\tvar marker = this.createElement();\r\n\t\tmarker.style.top = \"0px\";\r\n\t\tmarker.style.left = \"0px\";\r\n\t\tmarker.style.width = \"100%\";\r\n\t\tmarker.style.height = \"100%\";\r\n\t\tcell.appendChild(marker);\r\n\t\treturn [marker];\r\n\t},\r\n\r\n\trenderAgendaMarker: function(start_date, end_date){\r\n\t\tvar block = this.createElement();\r\n\t\tblock.style.height = \"1px\";\r\n\t\tblock.style.width = \"100%\";\r\n\t\tblock.style.opacity = 1;\r\n\t\tblock.style.top = \"0px\";\r\n\t\tblock.style.left = \"0px\";\r\n\t\tscheduler.$container.querySelector(\".dhx_cal_data\").appendChild(block);\r\n\t\treturn [block];\r\n\t},\r\n\r\n\trenderTimelineMarker: function(start_date, end_date, section){\r\n\t\tvar view_opts = scheduler._lame_copy({}, scheduler.matrix[scheduler._mode]);\r\n\t\tvar areas = view_opts._scales;\r\n\t\t//timespans must always use actual position, not rounded\r\n\t\tview_opts.round_position = false;\r\n\t\tvar blocks = [];\r\n\r\n\t\tvar min_date = start_date ? new Date(start_date) : scheduler._min_date;\r\n\t\tvar max_date = end_date ? new Date(end_date) : scheduler._max_date;\r\n\r\n\t\tif(min_date.valueOf() < scheduler._min_date.valueOf())\r\n\t\t\tmin_date = new Date(scheduler._min_date);\r\n\t\tif(max_date.valueOf() > scheduler._max_date.valueOf())\r\n\t\t\tmax_date = new Date(scheduler._max_date);\r\n\r\n\t\tif(!view_opts._trace_x) return blocks;\r\n\r\n\t\tfor(var i = 0; i < view_opts._trace_x.length; i++){\r\n\t\t\tif(scheduler._is_column_visible(view_opts._trace_x[i]))\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif(i == view_opts._trace_x.length)\r\n\t\t\treturn blocks;\r\n\r\n\t\tvar area = areas[section];\r\n\r\n\t\tif (!(min_date < end_date && max_date > start_date))\r\n\t\t\treturn blocks;\r\n\r\n\t\tvar block = this.createElement();\r\n\r\n\t\tlet start_pos;\r\n\t\tlet end_pos;\r\n\r\n\t\tfunction set_date_part(source, target) {\r\n\t\t\t// reset to start of the month in order to prevent month change when target is on 31th day, and source month has only 30 days\r\n\t\t\ttarget.setDate(1);\r\n\r\n\t\t\ttarget.setFullYear(source.getFullYear());\r\n\t\t\ttarget.setMonth(source.getMonth());\r\n\t\t\ttarget.setDate(source.getDate());\r\n\t\t}\r\n\r\n\t\tif(!scheduler.getView().days){\r\n\t\t\tstart_pos = scheduler._timeline_getX({start_date: start_date}, false, view_opts);\r\n\t\t\tend_pos = scheduler._timeline_getX({start_date: end_date}, false, view_opts);\r\n\t\t}else{\r\n\t\t\t// daytimeline\r\n\t\t\tconst tempStart = new Date(start_date);\r\n\t\t\tset_date_part(scheduler._min_date, tempStart);\r\n\t\t\tconst tempEnd = new Date(end_date);\r\n\t\t\tset_date_part(scheduler._min_date, tempEnd);\r\n\t\t\tstart_pos = scheduler._timeline_getX({start_date: tempStart}, false, view_opts);\r\n\t\t\tend_pos = scheduler._timeline_getX({start_date: tempEnd}, false, view_opts);\r\n\t\t}\r\n\r\n\t\tvar height = ((view_opts._section_height[section]-1) || (view_opts.dy - 1));\r\n\r\n\t\tvar top = 0;\r\n\t\tif (scheduler._isRender('cell')){\r\n\t\t\ttop = area.offsetTop;\r\n\t\t\tstart_pos += view_opts.dx;\r\n\t\t\tend_pos += view_opts.dx;\r\n\t\t\tarea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t}else{\r\n\r\n\t\t}\r\n\t\tvar width = Math.max(1, end_pos - start_pos - 1);\r\n\t\tlet direction = \"left\";\r\n\t\tif(scheduler.config.rtl){\r\n\t\t\tdirection = \"right\";\r\n\t\t}\r\n\t\tblock.style.cssText = `height:${height}px; ${direction}:${start_pos}px; width:${width}px; top:${top}px;`;\r\n\r\n\t\tif(area){\r\n\t\t\tarea.appendChild(block);\r\n\t\t\tblocks.push(block);\r\n\t\t}\r\n\r\n\t\treturn blocks;\r\n\t},\r\n\r\n\trenderMonthCell: function(date){\r\n\t\tvar cells = scheduler.$container.querySelectorAll(\".dhx_month_head\");\r\n\r\n\t\tvar divs = [];\r\n\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\tdivs.push(cells[i].parentNode);\r\n\t\t}\r\n\r\n\t\tvar firstDate = scheduler.date.week_start(new Date(scheduler.getState().min_date));\r\n\r\n\t\tvar index = -1;\r\n\t\tvar weekNumber = 0;\r\n\t\tvar dayIndex = -1;\r\n\t\tvar currDate = firstDate;\r\n\t\tvar markerDate = scheduler.date.day_start(new Date(date));\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tindex++;\r\n\r\n\t\t\tif(dayIndex == 6){\r\n\t\t\t\tweekNumber++;\r\n\t\t\t\tdayIndex = 0;\r\n\t\t\t}else{\r\n\t\t\t\tdayIndex++;\r\n\t\t\t}\r\n\r\n\t\t\tif(scheduler.date.day_start(new Date(currDate)).valueOf() == markerDate.valueOf()){\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(index == -1){\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tvar left = scheduler._colsS[dayIndex];\r\n\t\tvar top = scheduler._colsS.heights[weekNumber];\r\n\r\n\t\tvar div = this.createElement();\r\n\t\tdiv.style.top = top + \"px\";\r\n\t\tdiv.style.left = left + \"px\";\r\n\t\tdiv.style.width = scheduler._cols[dayIndex] + \"px\";\r\n\t\tdiv.style.height = ((scheduler._colsS.heights[weekNumber + 1] - top) || scheduler._colsS.height) + \"px\" ;\r\n\r\n\r\n\t\tvar container = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\r\n\t\tvar datatable = container.querySelector(\".dhx_cal_month_table\");\r\n\t\tif(datatable.nextSibling){\r\n\t\t\tcontainer.insertBefore(div, datatable.nextSibling);\r\n\t\t}else{\r\n\t\t\tcontainer.appendChild(div);\r\n\t\t}\r\n\t\treturn div;\r\n\t},\r\n\trenderMonthMarker: function(start_date, end_date){\r\n\t\tvar res = [];\r\n\t\tvar currentDate = start_date;\r\n\t\twhile(currentDate.valueOf() < end_date.valueOf()){\r\n\t\t\tres.push(this.renderMonthCell(currentDate));\r\n\t\t\tcurrentDate = scheduler.date.add(currentDate, 1, \"day\");\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\r\n\trenderVerticalMarker: function(start_date, end_date, section){\r\n\t\tvar index = scheduler.locate_holder_day(start_date);\r\n\r\n\t\tvar divs = [];\r\n\t\tvar area = null;\r\n\r\n\t\tvar c = scheduler.config;\r\n\t\tif(scheduler._ignores[index]) return divs;\r\n\r\n\t\tif (scheduler._props && scheduler._props[scheduler._mode] && section) {\r\n\t\t\tvar view = scheduler._props[scheduler._mode];\r\n\t\t\tindex = view.order[section];\r\n\r\n\t\t\tvar inner_index = view.order[section];\r\n\t\t\tif(!(view.days > 1)){\r\n\t\t\t\tindex = inner_index;\r\n\t\t\t\tif (view.size && (index > view.position+view.size)) {\r\n\t\t\t\t\tindex = 0;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t//var units_l = view.size || view.options.length;\r\n\r\n\t\t\t\tindex = scheduler.locate_holder_day(start_date) + inner_index;\r\n\t\t\t\t//index = index*units_l + inner_index;\r\n\t\t\t}\r\n\t\t}\r\n\t\tarea = scheduler.locate_holder(index);\r\n\t\tif(!area || area.querySelector(\".dhx_scale_hour\")){\r\n\t\t\t// hour scale instead of date column\r\n\t\t\treturn document.createElement(\"div\");\r\n\t\t}\r\n\r\n\t\tvar start = Math.max((start_date.getHours()*60 + start_date.getMinutes()), c.first_hour*60);\r\n\r\n\r\n\t\tvar end = Math.min((end_date.getHours()*60 + end_date.getMinutes()), c.last_hour*60);\r\n\t\tif(!end && (scheduler.date.day_start(new Date(end_date)).valueOf() > scheduler.date.day_start(new Date(start_date)).valueOf())){\r\n\t\t\tend = c.last_hour*60;\r\n\t\t}\r\n\r\n\t\tif (end <= start) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tvar block = this.createElement();\r\n\r\n\t\t// +1 for working with section which really takes up whole height (as % would be == 0)\r\n\t\tvar all_hours_height = scheduler.config.hour_size_px*c.last_hour + 1;\r\n\t\tvar hour_ms = 60*60*1000;\r\n\t\tblock.style.top = (Math.round((start*60*1000-scheduler.config.first_hour*hour_ms)*scheduler.config.hour_size_px/hour_ms) % all_hours_height) + \"px\";\r\n\t\tblock.style.lineHeight = block.style.height = Math.max((Math.round(((end-start)*60*1000)*scheduler.config.hour_size_px/hour_ms)) % all_hours_height, 1)+\"px\";\r\n\t\tblock.style.width = \"100%\";\r\n\t\tarea.appendChild(block);\r\n\t\tdivs.push(block);\r\n\t\treturn divs[0];\r\n\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode = function(){};\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.EventHandler,\r\n\t{\r\n\t\tgetDefaultNode: function(){\r\n\t\t\tvar node = new scheduler.$keyboardNavigation.TimeSlot();\r\n\r\n\t\t\tif(!node.isValid()){\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t_modes:{\r\n\t\t\tmonth: \"month\",\r\n\t\t\tyear: \"year\",\r\n\t\t\tdayColumns: \"dayColumns\",\r\n\t\t\ttimeline:\"timeline\",\r\n\t\t\tunits:\"units\",\r\n\t\t\tweekAgenda: \"weekAgenda\",\r\n\t\t\tlist: \"list\"\r\n\t\t},\r\n\t\tgetMode: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tvar mode = state.mode;\r\n\t\t\tif((scheduler.matrix && scheduler.matrix[mode])){\r\n\t\t\t\treturn this._modes.timeline;\r\n\t\t\t} else if((scheduler._props && scheduler._props[mode])){\r\n\t\t\t\treturn this._modes.units;\r\n\t\t\t}else if(mode == \"month\"){\r\n\t\t\t\treturn this._modes.month;\r\n\t\t\t}else if(mode == \"year\"){\r\n\t\t\t\treturn this._modes.year;\r\n\t\t\t}else if(mode == \"week_agenda\"){\r\n\t\t\t\treturn this._modes.weekAgenda;\r\n\t\t\t}else if(mode == \"map\" || mode == \"agenda\" || (scheduler._grid && scheduler[\"grid_\" + mode])){\r\n\t\t\t\treturn this._modes.list;\r\n\t\t\t}else{\r\n\t\t\t\treturn this._modes.dayColumns;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.focus();\r\n\t\t},\r\n\r\n\t\tblur: function(){\r\n\r\n\t\t},\r\n\r\n\t\tdisable: function(){\r\n\t\t\tscheduler.$container.setAttribute(\"tabindex\", \"0\");\r\n\t\t},\r\n\t\tenable: function(){\r\n\t\t\tif(scheduler.$container)\r\n\t\t\t\tscheduler.$container.removeAttribute(\"tabindex\");\r\n\t\t},\r\n\t\tisEnabled: function(){\r\n\t\t\treturn scheduler.$container.hasAttribute(\"tabindex\");\r\n\t\t},\r\n\r\n\r\n\t\t_compareEvents: function(a, b){\r\n\t\t\tif (a.start_date.valueOf() == b.start_date.valueOf())\r\n\t\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\t\treturn a.start_date.valueOf() > b.start_date.valueOf() ? 1 : -1;\r\n\t\t},\r\n\r\n\t\t_pickEvent: function(from, to, startId, reverse){\r\n\t\t\tvar range = scheduler.getState();\r\n\t\t\tfrom = new Date(Math.max(range.min_date.valueOf(), from.valueOf()));\r\n\t\t\tto = new Date(Math.min(range.max_date.valueOf(), to.valueOf()));\r\n\r\n\t\t\tvar evs = scheduler.getEvents(from, to);\r\n\t\t\tevs.sort(this._compareEvents);\r\n\t\t\tif(reverse){\r\n\t\t\t\tevs = evs.reverse();\r\n\t\t\t}\r\n\r\n\t\t\tvar trim = !!startId;\r\n\t\t\tfor(var i =0; i < evs.length && trim; i++){\r\n\t\t\t\tif(evs[i].id == startId){\r\n\t\t\t\t\ttrim = false;\r\n\t\t\t\t}\r\n\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\r\n\t\t\tfor(var i = 0; i < evs.length; i++){\r\n\t\t\t\tvar eventElement = new scheduler.$keyboardNavigation.Event(evs[i].id);\r\n\t\t\t\tif(eventElement.getNode())\r\n\t\t\t\t\treturn evs[i];\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tnextEventHandler: function(id){\r\n\t\t\tvar activeNode = scheduler.$keyboardNavigation.dispatcher.activeNode;\r\n\r\n\t\t\tvar startId = id || (activeNode && activeNode.eventId);\r\n\r\n\t\t\tvar nextEvent = null;\r\n\t\t\tif(startId && scheduler.getEvent(startId)){\r\n\t\t\t\tvar currEvent = scheduler.getEvent(startId);\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tcurrEvent.start_date,\r\n\t\t\t\t\tscheduler.date.add(currEvent.start_date, 1, \"year\"),\r\n\t\t\t\t\tcurrEvent.id,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\t\t\tif(!nextEvent && !id){\r\n\t\t\t\tvar visibleDates = scheduler.getState();\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tvisibleDates.min_date,\r\n\t\t\t\t\tscheduler.date.add(visibleDates.min_date, 1, \"year\"),\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif(nextEvent){\r\n\r\n\t\t\t\tvar nextEv = new scheduler.$keyboardNavigation.Event(nextEvent.id);\r\n\t\t\t\tif(!nextEv.isValid()){// not visible event\r\n\t\t\t\t\tthis.nextEventHandler(nextEvent.id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(activeNode){activeNode.blur();}\r\n\t\t\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(nextEv);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tprevEventHandler: function(id){\r\n\t\t\tvar activeNode = scheduler.$keyboardNavigation.dispatcher.activeNode;\r\n\r\n\t\t\tvar startId = id || (activeNode && activeNode.eventId);\r\n\r\n\t\t\tvar nextEvent = null;\r\n\t\t\tif(startId && scheduler.getEvent(startId)){\r\n\t\t\t\tvar currEvent = scheduler.getEvent(startId);\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tscheduler.date.add(currEvent.end_date, -1, \"year\"),\r\n\t\t\t\t\tcurrEvent.end_date,\r\n\t\t\t\t\tcurrEvent.id,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif(!nextEvent && !id){\r\n\t\t\t\tvar visibleDates = scheduler.getState();\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tscheduler.date.add(visibleDates.max_date, -1, \"year\"),\r\n\t\t\t\t\tvisibleDates.max_date,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif(nextEvent){\r\n\t\t\t\tvar nextEv = new scheduler.$keyboardNavigation.Event(nextEvent.id);\r\n\t\t\t\tif(!nextEv.isValid()){// not visible event\r\n\t\t\t\t\tthis.prevEventHandler(nextEvent.id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(activeNode){activeNode.blur();}\r\n\t\t\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(nextEv);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\r\n\t\t\t\"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9\": function(e){\r\n\t\t\t\tvar tabs = scheduler.$keyboardNavigation.HeaderCell.prototype.getNodes(\".dhx_cal_navline .dhx_cal_tab\");\r\n\t\t\t\tvar key = e.key;\r\n\t\t\t\tif(key === undefined){\r\n\t\t\t\t\tkey = e.keyCode - 48;\r\n\t\t\t\t}\r\n\t\t\t\tif(tabs[key*1 - 1]){\r\n\t\t\t\t\ttabs[key*1 - 1].click();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+left,meta+left\": function(e){\r\n\t\t\t\tscheduler._click.dhx_cal_prev_button();\r\n\t\t\t},\r\n\t\t\t\"ctrl+right,meta+right\": function(e){\r\n\t\t\t\tscheduler._click.dhx_cal_next_button();\r\n\t\t\t},\r\n\t\t\t\"ctrl+up,meta+up\":function(e){\r\n\t\t\t\tvar dataArea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tdataArea.scrollTop -= 20;\r\n\t\t\t},\r\n\t\t\t\"ctrl+down,meta+down\": function(e){\r\n\t\t\t\tvar dataArea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tdataArea.scrollTop += 20;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t\"e\": function(){\r\n\t\t\t\tthis.nextEventHandler();\r\n\t\t\t},\r\n\r\n\t\t\t\"home\": function(){\r\n\t\t\t\tscheduler.setCurrentView(new Date());\r\n\t\t\t},\r\n\r\n\t\t\t\"shift+e\": function(){\r\n\t\t\t\tthis.prevEventHandler();\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+enter,meta+enter\": function(){\r\n\t\t\t\tscheduler.addEventNow({start_date: new Date(scheduler.getState().date)});\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+c,meta+c\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t},\r\n\t\t\t\"ctrl+v,meta+v\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t},\r\n\t\t\t\"ctrl+x,meta+x\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode.prototype.bindAll(scheduler.$keyboardNavigation.SchedulerNode.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.KeyNavNode = function(){};\r\n\r\nscheduler.$keyboardNavigation.KeyNavNode.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.EventHandler,\r\n\t{\r\n\t\tisValid: function(){\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tmoveTo: function (element) {\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(element);\r\n\t\t},\r\n\r\n\t\tcompareTo: function(b){\r\n\t\t\t// good enough comparison of two random objects\r\n\t\t\tif(!b) return false;\r\n\t\t\tfor(var i in this){\r\n\t\t\t\tif(!!this[i] != !!b[i]) return false;\r\n\r\n\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\r\n\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\r\n\t\t\t\tif(canStringifyThat != canStringifyThis) return false;\r\n\t\t\t\tif(!(canStringifyThat && canStringifyThis)) {\r\n\t\t\t\t\tif(b[i] != this[i]) return false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(b[i].toString() != this[i].toString())\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tgetNode: function(){},\r\n\t\tfocus: function(){\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif(node){\r\n\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t//node.className += \" scheduler_focused\";\r\n\t\t\t\tif(node.focus) node.focus();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif(node){\r\n\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t//node.className = (node.className || \"\").replace(/ ?scheduler_focused/g, \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.HeaderCell = function(index){\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.HeaderCell.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\tgetNode: function(index){\r\n\t\t\tindex = index || this.index || 0;\r\n\t\t\tvar nodes = this.getNodes();\r\n\t\t\tif(nodes[index]) return nodes[index];\r\n\t\t},\r\n\r\n\t\tgetNodes: function(selector){\r\n\t\t\tselector = selector || [\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_prev_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_next_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_today_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_tab\"\r\n\t\t\t\t].join(\", \");\r\n\r\n\t\t\tvar nodes = Array.prototype.slice.call(scheduler.$container.querySelectorAll(selector));\r\n\t\t\tnodes.sort(function(a, b){\r\n\t\t\t\treturn a.offsetLeft - b.offsetLeft;\r\n\t\t\t});\r\n\t\t\treturn nodes;\r\n\t\t},\r\n\r\n\t\t_handlers:null,\r\n\r\n\t\tisValid: function(){\r\n\t\t\treturn !!this.getNode(this.index);\r\n\t\t},\r\n\t\tfallback:function(){\r\n\t\t\tvar defaultCell = this.getNode(0);\r\n\t\t\tif(!defaultCell){\r\n\t\t\t\tdefaultCell = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}\r\n\t\t\treturn defaultCell;\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tvar newIndex = this.index - 1;\r\n\t\t\t\tif(newIndex < 0){\r\n\t\t\t\t\tnewIndex = this.getNodes().length - 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.HeaderCell(newIndex));\r\n\r\n\t\t\t},\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tvar newIndex = this.index + 1;\r\n\t\t\t\tif(newIndex >= this.getNodes().length){\r\n\t\t\t\t\tnewIndex = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.HeaderCell(newIndex));\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t},\r\n\r\n\t\t\t\"enter\": function(){\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif(node){\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.HeaderCell.prototype.bindAll(scheduler.$keyboardNavigation.HeaderCell.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.Event = function(id){\r\n\tthis.eventId = null;\r\n\tif(scheduler.getEvent(id)){\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tthis.start = new Date(ev.start_date);\r\n\t\tthis.end = new Date(ev.end_date);\r\n\r\n\t\tthis.section = this._getSection(ev);\r\n\t\tthis.eventId = id;\r\n\t}\r\n};\r\n\r\nscheduler.$keyboardNavigation.Event.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\t_getNodes: function(){\r\n\t\t\treturn Array.prototype.slice.call(scheduler.$container.querySelectorAll(\"[\"+scheduler.config.event_attribute+\"]\"));\r\n\t\t},\r\n\r\n\t\t_modes: scheduler.$keyboardNavigation.SchedulerNode.prototype._modes,\r\n\r\n\t\tgetMode: scheduler.$keyboardNavigation.SchedulerNode.prototype.getMode,\r\n\r\n\t\t_handlers: null,\r\n\t\tisValid: function(){\r\n\t\t\treturn !!(scheduler.getEvent(this.eventId) && this.getNode());\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\tvar eventNode = this._getNodes()[0];\r\n\t\t\tvar defaultElement = null;\r\n\t\t\tif(!eventNode || !(scheduler._locate_event(eventNode))){\r\n\t\t\t\tdefaultElement = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}else{\r\n\t\t\t\tvar id = scheduler._locate_event(eventNode);\r\n\t\t\t\tdefaultElement = new scheduler.$keyboardNavigation.Event(id);\r\n\t\t\t}\r\n\r\n\t\t\treturn defaultElement;\r\n\t\t},\r\n\r\n\t\tisScrolledIntoView: function (el) {\r\n\t\t\tvar eventBox = el.getBoundingClientRect();\r\n\t\t\tvar viewPort = scheduler.$container.querySelector(\".dhx_cal_data\").getBoundingClientRect();\r\n\t\t\t\r\n\t\t\tif(eventBox.bottom < viewPort.top || eventBox.top > viewPort.bottom){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tgetNode: function(){\r\n\r\n\t\t\tvar idSelector = \"[\"+scheduler.config.event_attribute+\"='\"+this.eventId+\"']\";\r\n\r\n\t\t\tvar inlineEditor = scheduler.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);\r\n\t\t\tif(inlineEditor){// is inline editor visible\r\n\t\t\t\treturn inlineEditor;\r\n\t\t\t}else{\r\n\t\t\t\tif(scheduler.isMultisectionEvent && scheduler.isMultisectionEvent(scheduler.getEvent(this.eventId))){\r\n\t\t\t\t\tvar nodes = scheduler.$container.querySelectorAll(idSelector);\r\n\t\t\t\t\tfor(var i = 0; i < nodes.length; i++){\r\n\t\t\t\t\t\tif(this.isScrolledIntoView(nodes[i])){\r\n\t\t\t\t\t\t\treturn nodes[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn nodes[0];\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn scheduler.$container.querySelector(idSelector);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tvar event = scheduler.getEvent(this.eventId);\r\n\r\n\t\t\tvar calendar = scheduler.getState();\r\n\t\t\tif(event.start_date.valueOf() > calendar.max_date.valueOf() || event.end_date.valueOf() <= calendar.min_date.valueOf()){\r\n\t\t\t\tscheduler.setCurrentView(event.start_date);\r\n\t\t\t}\r\n\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif (this.isScrolledIntoView(node)) {\r\n\t\t\t\tscheduler.$keyboardNavigation.dispatcher.keepScrollPosition((function(){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t\t}).bind(this));\r\n\t\t\t} else {\r\n\t\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\r\n\r\n\t\t_getSection: function(ev){\r\n\t\t\tvar section = null;\r\n\t\t\tvar mode = scheduler.getState().mode;\r\n\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\t\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\t\tsection = ev[timeline.y_property];\r\n\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\tvar unit = scheduler._props[mode];\r\n\t\t\t\tsection = ev[unit.map_to];\r\n\t\t\t}\r\n\t\t\treturn section;\r\n\t\t},\r\n\t\t_moveToSlot: function(dir){\r\n\t\t\tvar ev = scheduler.getEvent(this.eventId);\r\n\t\t\tif(ev){\r\n\t\t\t\tvar section =this._getSection(ev);\r\n\t\t\t\tvar slot = new scheduler.$keyboardNavigation.TimeSlot(ev.start_date, null, section);\r\n\t\t\t\tthis.moveTo(slot.nextSlot(slot, dir));\r\n\t\t\t}else{\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tthis._moveToSlot(\"left\");\r\n\t\t\t},\r\n\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tthis._moveToSlot(\"right\");\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\t\t\t\tif(this.getMode() == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis._moveToSlot(\"down\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"space\": function(){\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif(node && node.click){\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"up\": function () {\r\n\t\t\t\tif(this.getMode() == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis._moveToSlot(\"up\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"delete\": function(){\r\n\t\t\t\tif(scheduler.getEvent(this.eventId)) {\r\n\t\t\t\t\tscheduler._click.buttons[\"delete\"](this.eventId);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// open lightbox\r\n\t\t\t\"enter\": function () {\r\n\t\t\t\tif(scheduler.getEvent(this.eventId)) {\r\n\t\t\t\t\tscheduler.showLightbox(this.eventId);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\nscheduler.$keyboardNavigation.Event.prototype.bindAll(scheduler.$keyboardNavigation.Event.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.TimeSlot = function(from, to, section, movingDate){\r\n\tvar state = scheduler.getState();\r\n\tvar timeline = scheduler.matrix && scheduler.matrix[state.mode];\r\n\r\n\tif(!from){\r\n\t\tfrom = this.getDefaultDate();\r\n\t}\r\n\r\n\tif(!to){\r\n\r\n\t\tif(timeline){\r\n\t\t\tto = scheduler.date.add(from, timeline.x_step, timeline.x_unit);\r\n\t\t}else{\r\n\t\t\tto = scheduler.date.add(from, scheduler.config.key_nav_step, \"minute\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.section = section || this._getDefaultSection();\r\n\tthis.start_date = new Date(from);\r\n\tthis.end_date = new Date(to);\r\n\tthis.movingDate = movingDate || null;\r\n};\r\n\r\nscheduler.$keyboardNavigation.TimeSlot.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\t_handlers:null,\r\n\r\n\t\tgetDefaultDate: function(){\r\n\t\t\tvar from;\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar visibleTime = new Date(state.date);\r\n\t\t\tvisibleTime.setSeconds(0);\r\n\t\t\tvisibleTime.setMilliseconds(0);\r\n\r\n\t\t\tvar nowTime = new Date();\r\n\t\t\tnowTime.setSeconds(0);\r\n\t\t\tnowTime.setMilliseconds(0);\r\n\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[state.mode];\r\n\t\t\tvar showNowTime = false;\r\n\t\t\tif(visibleTime.valueOf() === nowTime.valueOf()){\r\n\t\t\t\tshowNowTime = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(timeline){\r\n\t\t\t\tif(showNowTime){\r\n\t\t\t\t\tif(timeline.x_unit === \"day\"){\r\n\t\t\t\t\t\tnowTime.setHours(0);\r\n\t\t\t\t\t\tnowTime.setMinutes(0);\r\n\t\t\t\t\t}else if(timeline.x_unit === \"hour\"){\r\n\t\t\t\t\t\tnowTime.setMinutes(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfrom = nowTime;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfrom = scheduler.date[timeline.name + \"_start\"](new Date(state.date));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfrom = this.findVisibleColumn(from);\r\n\t\t\t}else{\r\n\t\t\t\tfrom = new Date(scheduler.getState().min_date);\r\n\t\t\t\tif(showNowTime){\r\n\t\t\t\t\tfrom = nowTime;\r\n\t\t\t\t}\r\n\t\t\t\tfrom = this.findVisibleColumn(from);\r\n\t\t\t\tif(!showNowTime){\r\n\t\t\t\t\tfrom.setHours(scheduler.config.first_hour);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!scheduler._table_view){\r\n\t\t\t\t\tvar dataContainer = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\t\tif(dataContainer.scrollTop){\r\n\t\t\t\t\t\tfrom.setHours(scheduler.config.first_hour + Math.ceil(dataContainer.scrollTop / scheduler.config.hour_size_px));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn from;\r\n\t\t},\r\n\r\n\t\tclone: function(timeslot){\r\n\t\t\treturn new scheduler.$keyboardNavigation.TimeSlot(timeslot.start_date, timeslot.end_date, timeslot.section, timeslot.movingDate);\r\n\t\t},\r\n\t\t_getMultisectionView: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view;\r\n\t\t\tif(scheduler._props && scheduler._props[state.mode]) {\r\n\t\t\t\tview = scheduler._props[state.mode];\r\n\t\t\t}else if(scheduler.matrix && scheduler.matrix[state.mode]){\r\n\t\t\t\tview = scheduler.matrix[state.mode];\r\n\t\t\t}\r\n\t\t\treturn view;\r\n\t\t},\r\n\r\n\t\t_getDefaultSection: function(){\r\n\t\t\tvar section = null;\r\n\t\t\tvar view = this._getMultisectionView();\r\n\t\t\tif(view && !section){\r\n\t\t\t\tsection = this._getNextSection();\r\n\t\t\t}\r\n\t\t\treturn section;\r\n\t\t},\r\n\r\n\t\t_getNextSection: function(sectionId, dir){\r\n\t\t\tvar view = this._getMultisectionView();\r\n\t\t\tvar currentIndex = view.order[sectionId];\r\n\t\t\tvar nextIndex = currentIndex;\r\n\t\t\tif(currentIndex !== undefined){\r\n\t\t\t\tnextIndex =  currentIndex + dir;\r\n\t\t\t}else{\r\n\t\t\t\tnextIndex = (view.size && view.position) ? view.position : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif(nextIndex < 0){\r\n\t\t\t\tnextIndex = 0;\r\n\t\t\t}\r\n\t\t\tvar options = view.options || view.y_unit;\r\n\r\n\t\t\tif(nextIndex >= options.length){\r\n\t\t\t\tnextIndex = options.length - 1;\r\n\t\t\t}\r\n\t\t\t//nextIndex = nextIndex < 0 ? nextIndex = (view.options || view.y_unit).length -1 : nextIndex;\r\n\r\n\t\t\tif(options[nextIndex]){\r\n\t\t\t\treturn options[nextIndex].key;\r\n\t\t\t}else{\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar isInRange = !(this.start_date.valueOf() < state.min_date.valueOf() || this.start_date.valueOf() >= state.max_date.valueOf());\r\n\r\n\t\t\tif(!isInRange) return false;\r\n\r\n\r\n\t\t\tif(!this.isVisible(this.start_date, this.end_date)) return false;\r\n\r\n\t\t\tvar view = this._getMultisectionView();\r\n\r\n\t\t\tif(view){\r\n\t\t\t\treturn (view.order[this.section] !== undefined);\r\n\t\t\t}else{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfallback:function(){\r\n\r\n\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(!defaultSlot.isValid()){\r\n\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t}else{\r\n\t\t\t\treturn defaultSlot;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetNodes: function(){\r\n\t\t\treturn Array.prototype.slice.call(scheduler.$container.querySelectorAll(\".dhx_focus_slot\"));\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\treturn this.getNodes()[0];\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tif(this.section && scheduler.getView() && scheduler.getView().smart_rendering && scheduler.getView().scrollTo && !scheduler.$container.querySelector(`[data-section-id=\"${this.section}\"]`)){\r\n\t\t\t\tscheduler.getView().scrollTo({section: this.section});\r\n\t\t\t}\r\n\t\t\tscheduler.$keyboardNavigation.marker.render(this.start_date, this.end_date, this.section);\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\tscheduler.$keyboardNavigation._pasteDate = this.start_date;\r\n\t\t\tscheduler.$keyboardNavigation._pasteSection = this.section;\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t\tscheduler.$keyboardNavigation.marker.clear();\r\n\t\t},\r\n\r\n\t\t_modes: scheduler.$keyboardNavigation.SchedulerNode.prototype._modes,\r\n\r\n\t\t_getMode: scheduler.$keyboardNavigation.SchedulerNode.prototype.getMode,\r\n\r\n\t\taddMonthDate: function(date, dir, extend){\r\n\t\t\tvar res;\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tres = scheduler.date.add(date, -1, \"week\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tres = scheduler.date.add(date, 1, \"week\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tres = scheduler.date.day_start(scheduler.date.add(date, -1, \"day\"));\r\n\t\t\t\t\tres = this.findVisibleColumn(res, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tres = scheduler.date.day_start(scheduler.date.add(date, 1, \"day\"));\r\n\t\t\t\t\tres = this.findVisibleColumn(res, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tres = scheduler.date.day_start(new Date(date));\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tif(date.valueOf() < state.min_date.valueOf() || (!extend && date.valueOf() >= state.max_date.valueOf())){\r\n\t\t\t\tres = new Date(state.min_date);\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t},\r\n\r\n\t\tnextMonthSlot: function(slot, dir, extend){\r\n\r\n\t\t\tvar start, end;\r\n\t\t\tstart = this.addMonthDate(slot.start_date, dir, extend);\r\n\r\n\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\tend = new Date(start);\r\n\t\t\tend.setHours(scheduler.config.last_hour);\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\r\n\t\t_alignTimeSlot: function(date, minDate, unit, step){\r\n\t\t\tvar currentDate = new Date(minDate);\r\n\t\t\twhile(currentDate.valueOf() < date.valueOf()){\r\n\t\t\t\tcurrentDate = scheduler.date.add(currentDate, step, unit);\r\n\t\t\t}\r\n\r\n\t\t\tif(currentDate.valueOf() > date.valueOf()){\r\n\t\t\t\tcurrentDate = scheduler.date.add(currentDate, -step, unit);\r\n\t\t\t}\r\n\r\n\t\t\treturn currentDate;\r\n\t\t},\r\n\r\n\t\tnextTimelineSlot: function(slot, dir, extend){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view = scheduler.matrix[state.mode];\r\n\r\n\t\t\tvar startDate  = this._alignTimeSlot(slot.start_date, scheduler.date[view.name + \"_start\"](new Date(slot.start_date)), view.x_unit, view.x_step);\r\n\t\t\tvar endDate = this._alignTimeSlot(slot.end_date, scheduler.date[view.name + \"_start\"](new Date(slot.end_date)), view.x_unit, view.x_step);\r\n\r\n\t\t\tif(endDate.valueOf() <= startDate.valueOf()){\r\n\t\t\t\tendDate = scheduler.date.add(startDate, view.x_step, view.x_unit);\r\n\t\t\t}\r\n\t\t\tvar newPos = this.clone(slot);\r\n\t\t\tnewPos.start_date = startDate;\r\n\t\t\tnewPos.end_date = endDate;\r\n\t\t\tnewPos.section = slot.section || this._getNextSection();\r\n\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tnewPos.section = this._getNextSection(slot.section, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tnewPos.section = this._getNextSection(slot.section, +1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tnewPos.start_date = this.findVisibleColumn(scheduler.date.add(newPos.start_date, -view.x_step, view.x_unit), -1);\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tnewPos.start_date = this.findVisibleColumn(scheduler.date.add(newPos.start_date, view.x_step, view.x_unit), 1);\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(newPos.start_date.valueOf() < state.min_date.valueOf() || newPos.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tif(extend && newPos.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\t\tnewPos.start_date = new Date(state.max_date);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnewPos.start_date = scheduler.date[state.mode + \"_start\"](scheduler.date.add(state.date, dir == \"left\" ? -1 : 1, state.mode));\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn newPos;\r\n\t\t},\r\n\r\n\t\tnextUnitsSlot: function(slot, dir, extend){\r\n\t\t\tvar newPos = this.clone(slot);\r\n\t\t\tnewPos.section = slot.section || this._getNextSection();\r\n\r\n\t\t\tvar section = slot.section || this._getNextSection();\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view = scheduler._props[state.mode];\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tsection = this._getNextSection(slot.section, -1);\r\n\t\t\t\t\tvar optionsCount = view.size ? (view.size - 1) : view.options.length;\r\n\r\n\t\t\t\t\tif(view.days > 1 && (view.order[section] == optionsCount - 1)){\r\n\t\t\t\t\t\tif(scheduler.date.add(slot.start_date, -1, \"day\").valueOf() >= state.min_date.valueOf()){\r\n\t\t\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tsection = this._getNextSection(slot.section, 1);\r\n\t\t\t\t\tif(view.days > 1 && !view.order[section]){\r\n\t\t\t\t\t\tif(scheduler.date.add(slot.start_date, 1, \"day\").valueOf() < state.max_date.valueOf()){\r\n\t\t\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\tsection = slot.section;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tnewPos.section = section;\r\n\t\t\treturn newPos;\r\n\t\t},\r\n\r\n\t\t_moveDate: function(oldDate, dir){\r\n\t\t\tvar newDate = this.findVisibleColumn(scheduler.date.add(oldDate, dir, \"day\"), dir);\r\n\t\t\tnewDate.setHours(oldDate.getHours());\r\n\t\t\tnewDate.setMinutes(oldDate.getMinutes());\r\n\t\t\treturn newDate;\r\n\t\t},\r\n\r\n\t\tisBeforeLastHour: function(date, isStartDate){\r\n\t\t\tvar minutes = date.getMinutes(),\r\n\t\t\t\thours = date.getHours(),\r\n\t\t\t\tlast_hour = scheduler.config.last_hour;\r\n\t\t\treturn (hours < last_hour || (!isStartDate && ((last_hour == 24 || hours == last_hour) && !minutes)));\r\n\t\t},\r\n\t\tisAfterFirstHour: function(date, isStartDate){\r\n\t\t\tvar minutes = date.getMinutes(),\r\n\t\t\t\thours = date.getHours(),\r\n\t\t\t\tfirst_hour = scheduler.config.first_hour,\r\n\t\t\t\tlast_hour = scheduler.config.last_hour;\r\n\t\t\treturn (hours >= first_hour || (!isStartDate && (!minutes && ((!hours &&  last_hour == 24) || (hours == last_hour)))));\r\n\t\t},\r\n\t\tisInVisibleDayTime: function(date, isStartDate){\r\n\t\t\treturn (this.isBeforeLastHour(date, isStartDate) && this.isAfterFirstHour(date, isStartDate));\r\n\t\t},\r\n\r\n\t\tnextDaySlot: function(slot, dir, extend){\r\n\t\t\tvar start, end;\r\n\r\n\t\t\tvar key_nav_step = scheduler.config.key_nav_step;\r\n\r\n\t\t\tvar date = this._alignTimeSlot(slot.start_date, scheduler.date.day_start(new Date(slot.start_date)), \"minute\", key_nav_step);\r\n\r\n\r\n\t\t\tvar oldStart = slot.start_date;\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tstart = scheduler.date.add(date, -key_nav_step, \"minute\");\r\n\r\n\t\t\t\t\tif(!this.isInVisibleDayTime(start, true)){\r\n\t\t\t\t\t\tif (!extend || this.isInVisibleDayTime(oldStart, true)) {\r\n\r\n\t\t\t\t\t\t\tvar toNextDay = true;\r\n\t\t\t\t\t\t\tif(extend && scheduler.date.date_part(new Date(start)).valueOf() != scheduler.date.date_part(new Date(oldStart)).valueOf())\r\n\t\t\t\t\t\t\t\ttoNextDay = false;\r\n\t\t\t\t\t\t\tif(toNextDay)\r\n\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, -1, \"day\"), -1);\r\n\r\n\t\t\t\t\t\t\tstart.setHours(scheduler.config.last_hour);\r\n\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\tstart = scheduler.date.add(start, -key_nav_step, \"minute\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tstart = scheduler.date.add(date, key_nav_step, \"minute\");\r\n\r\n\t\t\t\t\tvar testEnd = extend ? start : scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tif(!this.isInVisibleDayTime(testEnd, false)){\r\n\t\t\t\t\t\tif(!extend || this.isInVisibleDayTime(oldStart, false)) {\r\n\t\t\t\t\t\t\tif (!extend) {\r\n\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, 1, \"day\"), 1);\r\n\t\t\t\t\t\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar toNextDay = true;\r\n\t\t\t\t\t\t\t\tif (scheduler.date.date_part(new Date(oldStart)).valueOf() == oldStart.valueOf()) {\r\n\t\t\t\t\t\t\t\t\ttoNextDay = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (toNextDay) {\r\n\t\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, 1, \"day\"), 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\t\tstart = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tstart = this._moveDate(slot.start_date, -1);\r\n\t\t\t\t\tend = this._moveDate(slot.end_date, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tstart = this._moveDate(slot.start_date, 1);\r\n\t\t\t\t\tend = this._moveDate(slot.end_date, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tstart = date;\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\t\tnextWeekAgendaSlot: function(slot, dir){\r\n\t\t\tvar start, end;\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tstart = scheduler.date.day_start(scheduler.date.add(slot.start_date, -1, \"day\"));\r\n\t\t\t\t\tstart = this.findVisibleColumn(start, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tstart = scheduler.date.day_start(scheduler.date.add(slot.start_date, 1, \"day\"));\r\n\t\t\t\t\tstart = this.findVisibleColumn(start, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tstart = scheduler.date.day_start(slot.start_date);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif(slot.start_date.valueOf() < state.min_date.valueOf() || slot.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tstart = new Date(state.min_date);\r\n\r\n\t\t\t}\r\n\t\t\tend = new Date(start);\r\n\t\t\tend.setHours(scheduler.config.last_hour);\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\t\tnextAgendaSlot: function(slot, dir){\r\n\t\t\treturn {start_date: slot.start_date, end_date: slot.end_date};\r\n\t\t},\r\n\r\n\r\n\t\tisDateVisible: function(date){\r\n\t\t\tif(!scheduler._ignores_detected)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[scheduler.getState().mode];\r\n\r\n\t\t\tvar index;\r\n\t\t\tif(timeline){\r\n\t\t\t\tindex = scheduler._get_date_index(timeline, date);\r\n\t\t\t}else{\r\n\t\t\t\tindex = scheduler.locate_holder_day(date);\r\n\t\t\t}\r\n\r\n\t\t\treturn !scheduler._ignores[index];\r\n\t\t},\r\n\r\n\t\tfindVisibleColumn: function(start, dir){\r\n\t\t\tvar date = start;\r\n\t\t\tdir = dir || 1;\r\n\t\t\tvar range = scheduler.getState();\r\n\r\n\t\t\twhile(!this.isDateVisible(date) && ((dir > 0 && date.valueOf() <= range.max_date.valueOf()) || (dir < 0 && date.valueOf() >= range.min_date.valueOf()))){\r\n\t\t\t\tdate = this.nextDateColumn(date, dir);\r\n\t\t\t}\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\r\n\t\tnextDateColumn: function(start, dir){\r\n\t\t\tdir = dir || 1;\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[scheduler.getState().mode];\r\n\r\n\t\t\tvar date;\r\n\t\t\tif(timeline){\r\n\t\t\t\tdate = scheduler.date.add(start, dir * timeline.x_step, timeline.x_unit);\r\n\t\t\t}else{\r\n\t\t\t\tdate = scheduler.date.day_start(scheduler.date.add(start, dir, \"day\"));\r\n\t\t\t}\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\r\n\t\tisVisible:function(from, to){\r\n\t\t\tif(!scheduler._ignores_detected)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tvar current = new Date(from);\r\n\r\n\t\t\twhile(current.valueOf() < to.valueOf()){\r\n\t\t\t\tif(this.isDateVisible(current)) return true;\r\n\t\t\t\tcurrent = this.nextDateColumn(current);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tnextSlot: function(slot, dir, view, extend){\r\n\t\t\tvar next;\r\n\t\t\tview = view || this._getMode();\r\n\r\n\t\t\tvar tempSlot = scheduler.$keyboardNavigation.TimeSlot.prototype.clone(slot);\r\n\r\n\t\t\tswitch (view){\r\n\t\t\t\tcase this._modes.units:\r\n\t\t\t\t\tnext = this.nextUnitsSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.timeline:\r\n\t\t\t\t\tnext = this.nextTimelineSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.year:\r\n\t\t\t\t\tnext = this.nextMonthSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.month:\r\n\t\t\t\t\tnext = this.nextMonthSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.weekAgenda:\r\n\t\t\t\t\tnext = this.nextWeekAgendaSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.list:\r\n\t\t\t\t\tnext = this.nextAgendaSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.dayColumns:\r\n\t\t\t\t\tnext = this.nextDaySlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(next.start_date.valueOf() >= next.end_date.valueOf()){\r\n\t\t\t\tnext = this.nextSlot(next, dir, view);\r\n\t\t\t}\r\n\r\n\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(next);\r\n\r\n\t\t},\r\n\r\n\t\textendSlot: function(slot, dir){\r\n\t\t\tvar view = this._getMode();\r\n\t\t\tvar next;\r\n\t\t\tswitch (view){\r\n\t\t\t\tcase this._modes.units:\r\n\t\t\t\t\tif(dir == \"left\" || dir == \"right\"){\r\n\t\t\t\t\t\tnext = this.nextUnitsSlot(slot, dir);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnext = this.extendUnitsSlot(slot, dir);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.timeline:\r\n\t\t\t\t\tif(dir == \"down\" || dir == \"up\"){\r\n\t\t\t\t\t\tnext = this.nextTimelineSlot(slot, dir);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnext = this.extendTimelineSlot(slot, dir);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.year:\r\n\t\t\t\t\tnext = this.extendMonthSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.month:\r\n\t\t\t\t\tnext = this.extendMonthSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.dayColumns:\r\n\t\t\t\t\tnext = this.extendDaySlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.weekAgenda:\r\n\t\t\t\t\tnext = this.extendWeekAgendaSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnext = slot;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar range = scheduler.getState();\r\n\t\t\tif(next.start_date.valueOf() < range.min_date.valueOf()){\r\n\t\t\t\tnext.start_date = this.findVisibleColumn(range.min_date);\r\n\t\t\t\tnext.start_date.setHours(scheduler.config.first_hour);\r\n\t\t\t}\r\n\r\n\t\t\tif(next.end_date.valueOf() > range.max_date.valueOf()){\r\n\t\t\t//\tnext.end_date =  new Date(slot.end_date);\r\n\t\t\t\tnext.end_date = this.findVisibleColumn(range.max_date, -1);\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(next);\r\n\t\t},\r\n\r\n\t\textendTimelineSlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"timeline\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\textendWeekAgendaSlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"weekAgenda\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\textendGenericSlot: function(allowedDirections, slot, direction, type){\r\n\t\t\tvar next;\r\n\t\t\tvar moveDate = slot.movingDate;\r\n\r\n\t\t\tif(!moveDate){\r\n\t\t\t\tmoveDate = allowedDirections[direction];\r\n\t\t\t}\r\n\r\n\t\t\tif(!moveDate || !allowedDirections[direction]){\r\n\t\t\t\treturn slot;\r\n\t\t\t}\r\n\r\n\t\t\tif(direction){\r\n\t\t\t\tnext = this.nextSlot({start_date: slot[moveDate], section: slot.section}, direction, type, true);\r\n\r\n\t\t\t\tif(next.start_date.valueOf() == slot.start_date.valueOf()){\r\n\t\t\t\t\tnext = this.nextSlot({start_date: next.start_date, section:next.section}, direction, type, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnext.movingDate = moveDate;\r\n\t\t\t}else{\r\n\t\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(slot);\r\n\t\t\t}\r\n\r\n\t\t\tvar newDates = this.extendSlotDates(slot, next, next.movingDate);\r\n\r\n\t\t\tif(newDates.end_date.valueOf() <= newDates.start_date.valueOf()){\r\n\t\t\t\tnext.movingDate = next.movingDate == \"end_date\" ? \"start_date\" : \"end_date\";\r\n\t\t\t}\r\n\t\t\tnewDates = this.extendSlotDates(slot, next, next.movingDate);\r\n\r\n\t\t\tnext.start_date = newDates.start_date;\r\n\t\t\tnext.end_date = newDates.end_date;\r\n\t\t\treturn next;\r\n\t\t},\r\n\r\n\t\textendSlotDates: function(oldSlot, newSlot, dateDirection){\r\n\t\t\tvar res = {start_date:null, end_date:null};\r\n\r\n\t\t\tif(dateDirection == \"start_date\"){\r\n\t\t\t\tres.start_date = newSlot.start_date;\r\n\t\t\t\tres.end_date = oldSlot.end_date;\r\n\t\t\t}else{\r\n\t\t\t\tres.start_date = oldSlot.start_date;\r\n\t\t\t\tres.end_date = newSlot.start_date;\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\r\n\t\t},\r\n\r\n\t\textendMonthSlot: function(slot, direction){\r\n\t\t\tvar slot = this.extendGenericSlot({\r\n\t\t\t\t\t\"up\":\"start_date\",\r\n\t\t\t\t\t\"down\":\"end_date\",\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"month\"\r\n\t\t\t);\r\n\r\n\t\t\tslot.start_date.setHours(scheduler.config.first_hour);\r\n\t\t\tslot.end_date = scheduler.date.add(slot.end_date, -1, \"day\");\r\n\t\t\tslot.end_date.setHours(scheduler.config.last_hour);\r\n\t\t\treturn slot;\r\n\t\t},\r\n\r\n\t\textendUnitsSlot: function(slot, direction){\r\n\t\t\tvar next;\r\n\r\n\t\t\tswitch (direction){\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tnext = this.extendDaySlot(slot, direction);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnext = slot;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tnext.section = slot.section;\r\n\t\t\treturn next;\r\n\t\t},\r\n\t\textendDaySlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\t\"up\":\"start_date\",\r\n\t\t\t\t\t\"down\":\"end_date\",\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"dayColumns\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tscrollSlot: function(dir){\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tvar slot = this.nextSlot(this, dir);\r\n\t\t\tif(slot.start_date.valueOf() < state.min_date.valueOf() || slot.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tscheduler.setCurrentView(new Date(slot.start_date));\r\n\t\t\t}\r\n\r\n\t\t\tthis.moveTo(slot);\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tthis.scrollSlot(\"left\");\r\n\t\t\t},\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tthis.scrollSlot(\"right\");\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\r\n\t\t\t\tvar mode =  this._getMode();\r\n\t\t\t\tif(mode == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.scrollSlot(\"down\");\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"up\": function () {\r\n\t\t\t\tvar mode =  this._getMode();\r\n\t\t\t\tif(mode == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.scrollSlot(\"up\");\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"shift+down\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"down\"));\r\n\t\t\t},\r\n\t\t\t\"shift+up\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"up\"));\r\n\t\t\t},\r\n\t\t\t\"shift+right\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"right\"));\r\n\t\t\t},\r\n\t\t\t\"shift+left\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"left\"));\r\n\t\t\t},\r\n\r\n\r\n\t\t\t\"enter\": function(){\r\n\t\t\t\tvar obj = {start_date: new Date(this.start_date), end_date: new Date(this.end_date)};\r\n\r\n\t\t\t\tvar mode = scheduler.getState().mode;\r\n\t\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\r\n\t\t\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\t\t\tobj[timeline.y_property] = this.section;\r\n\t\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\t\tvar unit = scheduler._props[mode];\r\n\t\t\t\t\tobj[unit.map_to] = this.section;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler.addEventNow(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.TimeSlot.prototype.bindAll(scheduler.$keyboardNavigation.TimeSlot.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.MinicalButton = function(div, index){\r\n\tthis.container = div;\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.MinicalButton.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar container = this.container;\r\n\t\t\treturn !!container.offsetWidth;// valid if container is visible\r\n\t\t},\r\n\r\n\t\tfallback: function(){\r\n\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(defaultSlot.isValid()){\r\n\t\t\t\treturn defaultSlot;\r\n\t\t\t}else{\r\n\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t}\r\n\t\t},\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.globalNode.disable();\r\n\t\t\tthis.container.removeAttribute(\"tabindex\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tthis.container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\tif(!this.index){\r\n\t\t\t\treturn this.container.querySelector(\".dhx_cal_prev_button\");\r\n\t\t\t}else{\r\n\t\t\t\treturn this.container.querySelector(\".dhx_cal_next_button\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"right\": function(e){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, this.index ? 0 : 1));\r\n\t\t\t},\r\n\t\t\t\"left\": function(e){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, this.index ? 0 : 1));\r\n\t\t\t},\r\n\t\t\t\"down\": function(){\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, 0, 0);\r\n\t\t\t\tif(next && !next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"enter\": function(e){\r\n\t\t\t\tthis.getNode().click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.MinicalButton.prototype.bindAll(scheduler.$keyboardNavigation.MinicalButton.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.MinicalCell = function(div, row, col){\r\n\tthis.container = div;\r\n\tthis.row = row || 0;\r\n\tthis.col = col || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.MinicalCell.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar grid = this._getGrid();\r\n\t\t\treturn !!(grid[this.row] && grid[this.row][this.col]);\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\tvar row = this.row;\r\n\t\t\tvar col = this.col;\r\n\t\t\tvar grid = this._getGrid();\r\n\t\t\tif(!grid[row]){\r\n\t\t\t\trow = 0;\r\n\t\t\t}\r\n\t\t\tvar dir = true;\r\n\t\t\tif(row > grid.length / 2){\r\n\t\t\t\tdir = false;\r\n\t\t\t}\r\n\r\n\t\t\tif(!grid[row]){\r\n\t\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t\tif(defaultSlot.isValid()){\r\n\t\t\t\t\treturn defaultSlot;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(dir){\r\n\t\t\t\tfor(var c = col; grid[row] && c < grid[row].length; c++){\r\n\t\t\t\t\tif(!grid[row][c] && c == grid[row].length - 1){\r\n\t\t\t\t\t\trow++;\r\n\t\t\t\t\t\tcol = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(grid[row][c]){\r\n\t\t\t\t\t\treturn new scheduler.$keyboardNavigation.MinicalCell(this.container, row, c);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(var c = col; grid[row] && c < grid[row].length; c--){\r\n\t\t\t\t\tif(!grid[row][c] && !c){\r\n\t\t\t\t\t\trow--;\r\n\t\t\t\t\t\tcol = grid[row].length - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(grid[row][c]){\r\n\t\t\t\t\t\treturn new scheduler.$keyboardNavigation.MinicalCell(this.container, row, c);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new scheduler.$keyboardNavigation.MinicalButton(this.container, 0);\r\n\t\t},\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.globalNode.disable();\r\n\r\n\t\t\tthis.container.removeAttribute(\"tabindex\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tthis.container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\t\t_getNode: function(row, col){\r\n\t\t\treturn this.container.querySelector(\".dhx_year_body tr:nth-child(\"+(row + 1) + \") td:nth-child(\"+(col + 1)+\")\");\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\treturn this._getNode(this.row, this.col);\r\n\t\t},\r\n\r\n\t\t_getGrid: function(){\r\n\t\t\tvar rows = this.container.querySelectorAll(\".dhx_year_body tr\");\r\n\t\t\tvar grid = [];\r\n\t\t\tfor(var i = 0; i < rows.length; i++){\r\n\t\t\t\tgrid[i] = [];\r\n\t\t\t\tvar row = rows[i];\r\n\t\t\t\tvar cells = row.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var c = 0; c < cells.length; c++){\r\n\t\t\t\t\tvar cell = cells[c];\r\n\t\t\t\t\tvar enabled = true;\r\n\t\t\t\t\tvar css = scheduler._getClassName(cell);\r\n\t\t\t\t\tif(css.indexOf(\"dhx_after\") > -1 || css.indexOf(\"dhx_before\") > -1 || css.indexOf(\"dhx_scale_ignore\") > -1){\r\n\t\t\t\t\t\tenabled = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid[i][c] = enabled;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn grid;\r\n\t\t},\r\n\r\n\r\n\t\tkeys: {\r\n\t\t\t\"right\": function(e){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row;\r\n\t\t\t\tvar newCol = this.col + 1;\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tif(grid[newRow + 1]){\r\n\t\t\t\t\t\tnewRow = newRow + 1;\r\n\t\t\t\t\t\tnewCol = 0;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnewCol = this.col;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"left\": function(e){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row;\r\n\t\t\t\tvar newCol = this.col - 1;\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tif(grid[newRow - 1]){\r\n\t\t\t\t\t\tnewRow = newRow - 1;\r\n\t\t\t\t\t\tnewCol = grid[newRow].length - 1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnewCol = this.col;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"down\": function(){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row + 1;\r\n\t\t\t\tvar newCol = this.col;\r\n\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tnewRow = this.row;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"up\": function(){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row - 1;\r\n\t\t\t\tvar newCol = this.col;\r\n\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tif(this.col > grid[this.row].length / 2){\r\n\t\t\t\t\t\tindex = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, index));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.moveTo(next);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t\"enter\": function(e){\r\n\t\t\t\tthis.getNode().querySelector(\".dhx_month_head\").click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.MinicalCell.prototype.bindAll(scheduler.$keyboardNavigation.MinicalCell.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.DataArea = function(index){\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.DataArea.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\tgetNode: function(index){\r\n\t\t\treturn scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t},\r\n\r\n\t\t_handlers:null,\r\n\r\n\t\tisValid: function(){\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tfallback:function(){\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"up,down,right,left\":function(){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.DataArea.prototype.bindAll(scheduler.$keyboardNavigation.DataArea.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\n\r\n\r\n(function(){\r\n\tvar modalsStack = [];\r\n\r\n\tfunction isModal(){\r\n\t\treturn !!(modalsStack.length);\r\n\t}\r\n\r\n\tfunction isChildOf(child, parent){\r\n\t\twhile(child && child != parent){\r\n\t\t\tchild = child.parentNode;\r\n\t\t}\r\n\r\n\t\treturn !!(child == parent);\r\n\t}\r\n\r\n\tfunction afterPopup(box){\r\n\t\tsetTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif(!isModal() && !(isChildOf(document.activeElement, scheduler.$container))) {\r\n\t\t\t\tscheduler.focus();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t}\r\n\tfunction startModal(box){\r\n\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\tscheduler.event(box, \"keydown\", trapFocus);\r\n\t\tmodalsStack.push(box);\r\n\t\t//scheduler.$keyboardNavigation.dispatcher.disable();\r\n\t}\r\n\r\n\tfunction endModal(){\r\n\t\tvar box = modalsStack.pop();\r\n\t\tif(box) {\r\n\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t}\r\n\t\tafterPopup(box);\r\n\r\n\t}\r\n\r\n\tfunction isTopModal(box){\r\n\t//\tif(dhtmlx._modalsStack.length){\r\n\t//\t\treturn box == dhtmlx._modalsStack[dhtmlx._modalsStack.length - 1];\r\n\t//\t}else{\r\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\r\n\t//\t}\r\n\r\n\t}\r\n\r\n\tfunction trapFocus(event){\r\n\t\tvar event = event || window.event;\r\n\t\tvar target = event.currentTarget;\r\n\t\tif(!isTopModal(target)) return;\r\n\r\n\t\tscheduler.$keyboardNavigation.trapFocus(target, event);\r\n\t}\r\n\r\n\tfunction traceLightbox(){\r\n\t\tstartModal(scheduler.getLightbox());\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onLightbox\", traceLightbox);\r\n\tscheduler.attachEvent(\"onAfterLightbox\", endModal);\r\n\r\n\tscheduler.attachEvent(\"onAfterQuickInfo\", function(){afterPopup();});\r\n\r\n\tif(!scheduler._keyNavMessagePopup) {\r\n\t\tscheduler._keyNavMessagePopup = true;\r\n\r\n\t\tvar focusElement = null;\r\n\t\tvar backupFocus = null;\r\n\t\tconst modalsStack = [];\r\n\t\tscheduler.attachEvent(\"onMessagePopup\", function(box){\r\n\t\t\tfocusElement = document.activeElement;\r\n\t\t\tbackupFocus = focusElement;\r\n\r\n\t\t\twhile(backupFocus && scheduler._getClassName(backupFocus).indexOf(\"dhx_cal_data\") < 0){\r\n\t\t\t\tbackupFocus = backupFocus.parentNode;\r\n\t\t\t}\r\n\t\t\tif(backupFocus){\r\n\t\t\t\tbackupFocus = backupFocus.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\tscheduler.event(box, \"keydown\", trapFocus);\r\n\t\t\tmodalsStack.push(box);\r\n\t\t});\r\n\r\n\r\n\t\tscheduler.attachEvent(\"onAfterMessagePopup\", function () {\r\n\t\t\tvar box = modalsStack.pop();\r\n\t\t\tif(box) {\r\n\t\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tvar currentTarget = document.activeElement;\r\n\t\t\t\twhile(currentTarget && scheduler._getClassName(currentTarget).indexOf(\"dhx_cal_light\") < 0){\r\n\t\t\t\t\tcurrentTarget = currentTarget.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tif(currentTarget)\r\n\t\t\t\t\treturn;\r\n\r\n\r\n\t\t\t\tif(focusElement && focusElement.parentNode){\r\n\t\t\t\t\tfocusElement.focus();\r\n\r\n\t\t\t\t}else if(backupFocus && backupFocus.parentNode){\r\n\t\t\t\t\tbackupFocus.focus();\r\n\t\t\t\t}\r\n\t\t\t\tfocusElement = null;\r\n\t\t\t\tbackupFocus = null;\r\n\r\n\t\t\t}, 1);\r\n\t\t});\r\n\t}\r\n\r\n\tscheduler.$keyboardNavigation.isModal = isModal;\r\n\r\n\r\n})();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.dispatcher = {\r\n\tisActive: false,\r\n\tactiveNode: null,\r\n\tglobalNode: new scheduler.$keyboardNavigation.SchedulerNode(),\r\n\r\n\tkeepScrollPosition: function (callback) {\r\n\t\tvar top, left;\r\n\r\n\t\tvar scrollable = scheduler.$container.querySelector(\".dhx_timeline_scrollable_data\");\r\n\t\tif(!scrollable){\r\n\t\t\tscrollable = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t}\r\n\r\n\t\tif(scrollable){\r\n\t\t\ttop = scrollable.scrollTop;\r\n\t\t\tleft = scrollable.scrollLeft;\r\n\t\t}\r\n\r\n\t\tcallback();\r\n\r\n\t\tif(scrollable){\r\n\t\t\tscrollable.scrollTop = top;\r\n\t\t\tscrollable.scrollLeft = left;\r\n\t\t}\r\n\t},\r\n\tenable: function(){\r\n\t\tif(!scheduler.$container){\r\n\t\t\t// do nothing if not initialized\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.isActive = true;\r\n\t\tvar self = this;\r\n\t\tthis.keepScrollPosition(function () {\r\n\t\t\tself.globalNode.enable();\r\n\t\t\tself.setActiveNode(self.getActiveNode());\r\n\t\t});\r\n\t},\r\n\r\n\tdisable: function(){\r\n\t\tthis.isActive = false;\r\n\t\tthis.globalNode.disable();\r\n\t},\r\n\r\n\tisEnabled: function(){\r\n\t\treturn !!this.isActive;\r\n\t},\r\n\r\n\tgetDefaultNode: function(){\r\n\t\treturn this.globalNode.getDefaultNode();\r\n\t},\r\n\r\n\tsetDefaultNode: function() {\r\n\t\tthis.setActiveNode(this.getDefaultNode());\r\n\t},\r\n\r\n\tgetActiveNode: function(){\r\n\t\tvar node = this.activeNode;\r\n\t\tif(node && !node.isValid()){\r\n\t\t\tnode = node.fallback();\r\n\t\t}\r\n\t\treturn node;\r\n\t},\r\n\r\n\tfocusGlobalNode: function(){\r\n\t\tthis.blurNode(this.globalNode);\r\n\t\tthis.focusNode(this.globalNode);\r\n\t},\r\n\r\n\tsetActiveNode: function(el){\r\n\t\tif(!el || !el.isValid())\r\n\t\t\treturn;\r\n\r\n\t\tif(this.activeNode){\r\n\t\t\tif(this.activeNode.compareTo(el)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.isEnabled()){\r\n\t\t\tthis.blurNode(this.activeNode);\r\n\t\t\tthis.activeNode = el;\r\n\t\t\tthis.focusNode(this.activeNode);\r\n\t\t}\r\n\t},\r\n\r\n\tfocusNode: function(el){\r\n\t\tif(el && el.focus){\r\n\t\t\tel.focus();\r\n\t\t\tif(el.getNode && document.activeElement != el.getNode()){\r\n\t\t\t\tthis.setActiveNode(new scheduler.$keyboardNavigation.DataArea());\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tblurNode: function(el){\r\n\t\tif(el && el.blur){\r\n\t\t\tel.blur();\r\n\t\t}\r\n\t},\r\n\r\n\tgetInlineEditor: function(id){\r\n\t\tvar editor = scheduler.$container.querySelector(\".dhx_cal_editor[\"+scheduler.config.event_attribute+\"='\"+id+\"'] textarea\");\r\n\t\tif(editor && editor.offsetWidth){\r\n\t\t\t// if exists and visible\r\n\t\t\treturn editor;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tkeyDownHandler: function (e) {\r\n\r\n\t\tif(e.defaultPrevented){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar activeElement = this.getActiveNode();\r\n\r\n\t\tif(scheduler.$keyboardNavigation.isModal() &&\r\n\t\t\t!(activeElement && activeElement.container && scheduler.utils.dom.locateCss({target:activeElement.container}, \"dhx_minical_popup\", false)))\r\n\t\t\treturn;\r\n\r\n\t\tif(scheduler.getState().editor_id && this.getInlineEditor(scheduler.getState().editor_id))\r\n\t\t\treturn;\r\n\r\n\t\tif (!this.isEnabled())\r\n\t\t\treturn;\r\n\r\n\t\te = e || window.event;\r\n\r\n\t\tvar schedulerNode = this.globalNode;\r\n\r\n\t\tvar command = scheduler.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\r\n\r\n\t\tif(!activeElement){\r\n\t\t\tthis.setDefaultNode();\r\n\t\t}else if(activeElement.findHandler(command)){\r\n\t\t\tactiveElement.doAction(command, e);\r\n\t\t}else if(schedulerNode.findHandler(command)){\r\n\t\t\tschedulerNode.doAction(command, e);\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_timeout: null,\r\n\tdelay: function(callback, delay){\r\n\r\n\t\tclearTimeout(this._timeout);\r\n\t\tthis._timeout = setTimeout(callback, delay || 1);\r\n\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n//Initial idea and implementation by Steve MC\r\nscheduler._temp_key_scope = function (){\r\n\r\n\tscheduler.config.key_nav = true;\r\n\r\n\tscheduler.$keyboardNavigation._pasteDate = null; // used for copy and paste operations\r\n\tscheduler.$keyboardNavigation._pasteSection = null; // used for copy and paste operations\r\n\tvar isCopy = null;\r\n\r\n\tvar pos = {};\r\n\r\n\tif(!document.body){\r\n\t\tscheduler.event(window, \"load\", function(){\r\n\t\t\tscheduler.event(document.body, \"mousemove\", trackMousePosition);\r\n\t\t});\r\n\t}else{\r\n\t\tscheduler.event(document.body, \"mousemove\", trackMousePosition);\r\n\t}\r\n\r\n\tfunction trackMousePosition(event){\r\n\t\tevent = event || window.event;\r\n\t\tpos.x = event.clientX;\r\n\t\tpos.y = event.clientY;\r\n\t}\r\n\tfunction currentTarget(){\r\n\r\n\t\tvar mousePointer = false;\r\n\t\tvar keyNavPointer = false;\r\n\r\n\t\tvar target = document.elementFromPoint(pos.x, pos.y);\r\n\t\twhile(target && target != scheduler._obj){\r\n\t\t\ttarget = target.parentNode;\r\n\t\t}\r\n\t\tmousePointer = !!(target == scheduler._obj);\r\n\r\n\t\tkeyNavPointer = scheduler.$keyboardNavigation.dispatcher.isEnabled();\r\n\r\n\t\treturn mousePointer || keyNavPointer;\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onMouseMove\", function(id,e){\r\n\t\tvar state = scheduler.getState();\r\n\r\n\t\t// make sure scheduler is fully initialized before calling scheduler.getActionData\r\n\t\tif(!(state.mode && state.min_date)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar position = scheduler.getActionData(e);\r\n\t\tscheduler.$keyboardNavigation._pasteDate = position.date;\r\n\t\tscheduler.$keyboardNavigation._pasteSection = position.section;\r\n\t});\r\n\r\n\tfunction clear_event_after(ev){\r\n\t\tdelete ev.rec_type; delete ev.rec_pattern;\r\n\t\tdelete ev.event_pid; delete ev.event_length;\r\n\t}\r\n\r\n\tfunction copyEvent(ev){\r\n\t\treturn scheduler._lame_copy({}, ev);\r\n\t}\r\n\r\n\tscheduler._make_pasted_event = function(ev){\r\n\t\tvar date = scheduler.$keyboardNavigation._pasteDate;\r\n\t\tvar section = scheduler.$keyboardNavigation._pasteSection;\r\n\r\n\t\tvar event_duration = ev.end_date-ev.start_date;\r\n\r\n\t\tvar copy = copyEvent(ev);\r\n\t\tclear_event_after(copy);\r\n\t\tcopy.start_date = new Date(date);\r\n\t\tcopy.end_date = new Date(copy.start_date.valueOf() + event_duration);\r\n\r\n\t\tif(section){\r\n\t\t\tvar property = scheduler._get_section_property();\r\n\r\n\t\t\tif(scheduler.config.multisection)\r\n\t\t\t\tcopy[property] = ev[property]; // save initial set of resources for multisection view\r\n\t\t\telse\r\n\t\t\t\tcopy[property] = section;\r\n\t\t}\r\n\t\treturn copy;\r\n\t};\r\n\tscheduler._do_paste = function(is_copy, modified_ev, original_ev){\r\n\t\tif(scheduler.callEvent(\"onBeforeEventPasted\", [is_copy, modified_ev, original_ev]) === false){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tscheduler.addEvent(modified_ev);\r\n\t\tscheduler.callEvent(\"onEventPasted\", [is_copy, modified_ev, original_ev]);\r\n\t};\r\n\r\n\tscheduler._is_key_nav_active = function(){\r\n\t\tif(this._is_initialized() && !this._is_lightbox_open() && this.config.key_nav){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfunction getSelectedEvent(){\r\n\t\tvar node = scheduler.$keyboardNavigation.dispatcher.getActiveNode();\r\n\t\tif(node && node.eventId) return node.eventId;\r\n\t\treturn scheduler._select_id;\r\n\t}\r\n\r\n\tscheduler.event(document, \"keydown\", function(e){\r\n\t\t// compatibility fix - scheduler focus on ctrl+v on mouse hover\r\n\t\tif(((e.ctrlKey || e.metaKey) && e.keyCode == 86) && scheduler._buffer_event && !scheduler.$keyboardNavigation.dispatcher.isEnabled()) {\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.isActive = currentTarget();\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler._key_nav_copy_paste = function(e){\r\n\t\tif(!scheduler._is_key_nav_active()) return true;\r\n\r\n\t\tif (e.keyCode == 37 || e.keyCode == 39) { // Left, Right arrows\r\n\t\t\te.cancelBubble = true;\r\n\r\n\t\t\tvar next = scheduler.date.add(scheduler._date,(e.keyCode == 37 ? -1 : 1 ),scheduler._mode);\r\n\t\t\tscheduler.setCurrentView(next);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tvar select_id = getSelectedEvent();\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 67) {  // CTRL+C\r\n\t\t\tif (select_id) {\r\n\t\t\t\tscheduler._buffer_event = copyEvent(scheduler.getEvent(select_id));\r\n\t\t\t\tisCopy = true;\r\n\t\t\t\tscheduler.callEvent(\"onEventCopied\", [scheduler.getEvent(select_id)]);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 88) { // CTRL+X\r\n\t\t\tif (select_id) {\r\n\t\t\t\tisCopy = false;\r\n\t\t\t\tvar ev = scheduler._buffer_event = copyEvent(scheduler.getEvent(select_id));\r\n\r\n\t\t\t\tscheduler.updateEvent(ev.id);\r\n\t\t\t\tscheduler.callEvent(\"onEventCut\", [ev]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 86 && currentTarget(e)) {  // CTRL+V\r\n\t\t\tvar ev = scheduler._buffer_event ? scheduler.getEvent(scheduler._buffer_event.id) : scheduler._buffer_event;\r\n\t\t\tev = ev || scheduler._buffer_event;\r\n\r\n\t\t\tif (ev) {\r\n\t\t\t\tvar new_ev = scheduler._make_pasted_event(ev);\r\n\t\t\t\tif (isCopy) {\r\n\t\t\t\t\tnew_ev.id = scheduler.uid();\r\n\t\t\t\t\tscheduler._do_paste(isCopy, new_ev, ev);\r\n\t\t\t\t}\r\n\t\t\t\telse { // cut operation\r\n\t\t\t\t\tvar res = scheduler.callEvent(\"onBeforeEventChanged\",[new_ev, e, false, ev]);\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tscheduler._do_paste(isCopy, new_ev, ev);\r\n\t\t\t\t\t\tisCopy = true; // switch to copy after first paste operation\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n};\r\nscheduler._temp_key_scope();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation._minicalendars = [];\r\n\r\nscheduler.$keyboardNavigation.isMinical = function(node){\r\n\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\tif(this.isChildOf(node, minicalendars[i]))\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nscheduler.$keyboardNavigation.isChildOf = function(child, parent){\r\n\twhile(child && child !== parent){\r\n\t\tchild = child.parentNode;\r\n\t}\r\n\r\n\treturn !!(child === parent);\r\n};\r\n\r\nscheduler.$keyboardNavigation.patchMinicalendar = function(){\r\n\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\tfunction focusMinical(e){\r\n\t\tvar target = e.target;\r\n\r\n\t\tdispatcher.enable();\r\n\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.MinicalButton(target, 0));\r\n\t}\r\n\r\n\tfunction minicalClick(e){\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tvar prev = scheduler.utils.dom.locateCss(e, \"dhx_cal_prev_button\", false);\r\n\t\tvar next = scheduler.utils.dom.locateCss(e, \"dhx_cal_next_button\", false);\r\n\t\tvar cell = scheduler.utils.dom.locateCss(e, \"dhx_year_body\", false);\r\n\r\n\t\tvar rowIndex = 0;\r\n\t\tvar cellIndex = 0;\r\n\t\tif(cell){\r\n\t\t\tvar tr;\r\n\t\t\tvar td;\r\n\t\t\tvar current = target;\r\n\t\t\twhile(current && current.tagName.toLowerCase() != \"td\"){\r\n\t\t\t\tcurrent = current.parentNode;\r\n\t\t\t}\r\n\t\t\tif(current){\r\n\t\t\t\ttd = current;\r\n\t\t\t\ttr = td.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tif(tr && td){\r\n\t\t\t\tvar rows = tr.parentNode.querySelectorAll(\"tr\");\r\n\t\t\t\tfor(var i = 0; i < rows.length; i++){\r\n\t\t\t\t\tif(rows[i] == tr){\r\n\t\t\t\t\t\trowIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar cells = tr.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\t\t\tif(cells[i] == td){\r\n\t\t\t\t\t\tcellIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar root = e.currentTarget;\r\n\t\tdispatcher.delay(function(){\r\n\t\t\tif(prev || next || cell){\r\n\r\n\t\t\t\tvar element;\r\n\t\t\t\tif(prev){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalButton(root, 0);\r\n\t\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.MinicalButton(root, 0));\r\n\t\t\t\t}else if(next){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalButton(root, 1);\r\n\t\t\t\t}else if(cell){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalCell(root, rowIndex, cellIndex);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(element){\r\n\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t\tif(element.isValid()){\r\n\t\t\t\t\t\tdispatcher.activeNode = null;\r\n\t\t\t\t\t\tdispatcher.setActiveNode(element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tif(scheduler.renderCalendar){\r\n\t\tvar renderMinical = scheduler.renderCalendar;\r\n\t\tscheduler.renderCalendar = function(){\r\n\t\t\tvar cal = renderMinical.apply(this, arguments);\r\n\t\t\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\r\n\t\t\tscheduler.eventRemove(cal, \"click\", minicalClick);\r\n\t\t\tscheduler.event(cal, \"click\", minicalClick);\r\n\r\n\t\t\tscheduler.eventRemove(cal, \"focus\", focusMinical);\r\n\t\t\tscheduler.event(cal, \"focus\", focusMinical);\r\n\r\n\t\t\tvar added = false;\r\n\t\t\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\t\t\tif(minicalendars[i] == cal){\r\n\t\t\t\t\tadded = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!added)\r\n\t\t\t\tminicalendars.push(cal);\r\n\r\n\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\tvar node = dispatcher.getActiveNode();\r\n\t\t\t\tif(node && node.container == cal){\r\n\t\t\t\t\tdispatcher.focusNode(node);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcal.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tcal.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t}\r\n\t\t\treturn cal;\r\n\t\t};\r\n\t}\r\n\r\n\tif(scheduler.destroyCalendar){\r\n\t\tvar destroyMinical = scheduler.destroyCalendar;\r\n\t\tscheduler.destroyCalendar = function(cal, force){\r\n\t\t\tcal = cal || (scheduler._def_count ? scheduler._def_count.firstChild : null);\r\n\t\t\tvar res = destroyMinical.apply(this, arguments);\r\n\r\n\t\t\tif(!cal || !cal.parentNode){\r\n\t\t\t\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\t\t\t\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\t\t\t\tif(minicalendars[i] == cal){\r\n\t\t\t\t\t\tscheduler.eventRemove(minicalendars[i], \"focus\", focusMinical);\r\n\t\t\t\t\t\tminicalendars.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t};\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.attachSchedulerHandlers = function(){\r\n\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\tvar keyDownHandler = function(e){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\r\n\t\treturn dispatcher.keyDownHandler(e);\r\n\t};\r\n\r\n\tvar focusHandler = function () {\r\n\t\tdispatcher.keepScrollPosition(function () {\r\n\t\t\tdispatcher.focusGlobalNode();\r\n\t\t});\r\n\t};\r\n\r\n\tvar waitCall;\r\n\tscheduler.attachEvent(\"onDataRender\", function(){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\t\tif(!(dispatcher.isEnabled() && !scheduler.getState().editor_id)) return;\r\n\r\n\t\tclearTimeout(waitCall);\r\n\t\twaitCall = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif(!dispatcher.isEnabled())\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\treFocusActiveNode();\r\n\t\t});\r\n\t});\r\n\r\n\tvar reFocusActiveNode = function(){\r\n\t\tif(!dispatcher.isEnabled())\r\n\t\t\treturn;\r\n\r\n\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\tif(!activeNode)\r\n\t\t\treturn;\r\n\r\n\t\tif(!activeNode.isValid()){\r\n\t\t\tactiveNode = activeNode.fallback();\r\n\t\t}\r\n\r\n\t\tif(!activeNode || activeNode instanceof scheduler.$keyboardNavigation.MinicalButton || activeNode instanceof scheduler.$keyboardNavigation.MinicalCell)\r\n\t\t\treturn;\r\n\r\n\t\tdispatcher.keepScrollPosition(function () {\r\n\t\t\tactiveNode.focus(true);\r\n\t\t});\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\tvar container = scheduler.$container;\r\n\t\tscheduler.eventRemove(document, \"keydown\", keyDownHandler);\r\n\t\tscheduler.eventRemove(container, \"mousedown\", mousedownHandler);\r\n\t\tscheduler.eventRemove(container, \"focus\", focusHandler);\r\n\r\n\r\n\t\tif(scheduler.config.key_nav){\r\n\r\n\t\t\tscheduler.event(document, \"keydown\", keyDownHandler);\r\n\t\t\tscheduler.event(container, \"mousedown\", mousedownHandler);\r\n\t\t\tscheduler.event(container, \"focus\", focusHandler);\r\n\r\n\t\t\tcontainer.setAttribute(\"tabindex\", \"0\");\r\n\r\n\t\t}else{\r\n\t\t\tcontainer.removeAttribute(\"tabindex\");\r\n\t\t}\r\n\t});\r\n\r\n\tfunction mousedownHandler(e){\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\r\n\t\tconst view = scheduler.getView();\r\n\t\tlet dataAreaClick = false;\r\n\t\tif (scheduler.getState().mode === \"month\") {\r\n\t\t\tdataAreaClick = scheduler.$keyboardNavigation.isChildOf(e.target || e.srcElement, scheduler.$container.querySelector(\".dhx_cal_month_table\"));\r\n\t\t} else if (view && view.layout === \"timeline\") {\r\n\t\t\tdataAreaClick = scheduler.$keyboardNavigation.isChildOf(e.target || e.srcElement, scheduler.$container.querySelector(\".dhx_timeline_data_col\"));\r\n\t\t} else {\r\n\t\t\tconst listOfScales = scheduler.$container.querySelectorAll(\".dhx_scale_holder\");\r\n\t\t\tconst arrOfScales = Array.from(listOfScales);\r\n\t\t\tdataAreaClick = arrOfScales.some(scale => scale === e.target.parentNode);\r\n\t\t}\r\n\r\n\t\tvar pos = scheduler.getActionData(e);\r\n\r\n\t\tvar focusNode;\r\n\t\tif(scheduler._locate_event(e.target || e.srcElement)){\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.Event(scheduler._locate_event(e.target || e.srcElement));\r\n\t\t}else if(dataAreaClick){\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(pos.date && dataAreaClick){\r\n\t\t\t\tfocusNode = focusNode.nextSlot(new scheduler.$keyboardNavigation.TimeSlot(pos.date, null, pos.section));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(focusNode) {\r\n\t\t\tif (!dispatcher.isEnabled()) {\r\n\t\t\t\tdispatcher.activeNode = focusNode;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (pos.date && dataAreaClick) {\r\n\t\t\t\t\tdispatcher.delay(function () {\r\n\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction focusEvent(evNode){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\t\tif(!dispatcher.isEnabled()) return;\r\n\r\n\r\n\t\tvar prevState = evNode;\r\n\t\tvar focusNode = new scheduler.$keyboardNavigation.Event(prevState.eventId);\r\n\t\tif(!focusNode.isValid()){\r\n\t\t\tvar lastStart = focusNode.start || prevState.start;\r\n\t\t\tvar lastEnd = focusNode.end || prevState.end;\r\n\t\t\tvar lastSection = focusNode.section || prevState.section;\r\n\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot(lastStart, lastEnd, lastSection);\r\n\t\t\tif(!focusNode.isValid()){\r\n\t\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdispatcher.setActiveNode(focusNode);\r\n\t\tvar node = dispatcher.getActiveNode();\r\n\t\tif(node && node.getNode && document.activeElement != node.getNode()){\r\n\t\t\tdispatcher.focusNode(dispatcher.getActiveNode());\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar updateEvent = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id){\r\n\t\tvar res = updateEvent.apply(this, arguments);\r\n\t\tif(scheduler.config.key_nav && dispatcher.isEnabled()){\r\n\t\t\tif(scheduler.getState().select_id == id){\r\n\t\t\t\tvar element = new scheduler.$keyboardNavigation.Event(id);\r\n\r\n\t\t\t\tif(!scheduler.getState().lightbox_id){\r\n\t\t\t\t\tfocusEvent(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onEventDeleted\", function(id) {\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\t\tif(dispatcher.isEnabled()){\r\n\t\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\t\tif(activeNode.eventId == id){\r\n\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onClearAll\", function(){\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\t\tif(dispatcher.isEnabled()){\r\n\t\t\tif(dispatcher.getActiveNode() instanceof scheduler.$keyboardNavigation.Event){\r\n\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\r\n\tthis.layers.sort(function(a, b){\r\n\t\treturn a.zIndex - b.zIndex;\r\n\t});\r\n\r\n\tscheduler._dp_init=function(dp){\r\n\t\tdp._methods=[\"_set_event_text_style\",\"\",\"changeEventId\",\"deleteEvent\"];\r\n\r\n\t\tthis.attachEvent(\"onEventAdded\",function(id){\r\n\t\t\tif (!this._loading && this.validId(id) && this.getEvent(id) && this.getEvent(id).layer == dp.layer)\r\n\t\t\t\tdp.setUpdated(id,true,\"inserted\");\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeEventDelete\",function(id){\r\n\t\t\tif(this.getEvent(id) && this.getEvent(id).layer == dp.layer) {\r\n\t\t\t\tif (!this.validId(id)) return;\r\n\t\t\t\tvar z=dp.getState(id);\r\n\r\n\t\t\t\tif (z==\"inserted\" || this._new_event) {  dp.setUpdated(id,false);\t\treturn true; }\r\n\t\t\t\tif (z==\"deleted\")  return false;\r\n\t\t\t\tif (z==\"true_deleted\")  return true;\r\n\r\n\t\t\t\tdp.setUpdated(id,true,\"deleted\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse return true;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onEventChanged\",function(id){\r\n\t\t\tif (!this._loading && this.validId(id) && this.getEvent(id) && this.getEvent(id).layer == dp.layer)\r\n\t\t\t\tdp.setUpdated(id,true,\"updated\");\r\n\t\t});\r\n\r\n\t\tdp._getRowData=function(id,pref){\r\n\t\t\tvar ev=this.obj.getEvent(id);\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor (var a in ev){\r\n\t\t\t\tif (a.indexOf(\"_\")===0) continue;\r\n\t\t\t\tif (ev[a] && ev[a].getUTCFullYear) //not very good, but will work\r\n\t\t\t\t\tdata[a] = this.obj._helpers.formatDate(ev[a]);\r\n\t\t\t\telse\r\n\t\t\t\t\tdata[a] = ev[a];\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t};\r\n\t\tdp._clearUpdateFlag=function(){};\r\n\r\n\t\tdp.attachEvent(\"insertCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"updateCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"deleteCallback\", function(upd, id) {\r\n\t\t\tthis.obj.setUserData(id, this.action_param, \"true_deleted\");\r\n\t\t\tthis.obj.deleteEvent(id);\r\n\t\t});\r\n\t};\r\n\r\n\t(function() {\r\n        var _cloneObj = function(obj){\r\n            if(obj === null || typeof(obj) != 'object')\r\n                return obj;\r\n            var temp = new obj.constructor();\r\n            for(var key in obj)\r\n                temp[key] = _cloneObj(obj[key]);\r\n            return temp;\r\n        };\r\n\r\n\t\tscheduler._dataprocessors = [];\r\n\t\tscheduler._layers_zindex = {};\r\n\t\tfor(var i=0; i<scheduler.layers.length; i++) {\r\n\t\t\tscheduler.config['lightbox_'+scheduler.layers[i].name] = { };\r\n            scheduler.config['lightbox_'+scheduler.layers[i].name].sections = _cloneObj(scheduler.config.lightbox.sections);\r\n\t\t\tscheduler._layers_zindex[scheduler.layers[i].name] = scheduler.config.initial_layer_zindex||5 + i*3;\r\n\t\t\tif(scheduler.layers[i].url) {\r\n\t\t\t\tvar dp = scheduler.createDataProcessor({\r\n\t\t\t\t\turl: scheduler.layers[i].url\r\n\t\t\t\t});\r\n\t\t\t\tdp.layer = scheduler.layers[i].name;\r\n\t\t\t\tscheduler._dataprocessors.push(dp);\r\n\t\t\t\tscheduler._dataprocessors[i].init(scheduler);\r\n\t\t\t}\r\n\t\t\tif(scheduler.layers[i].isDefault)\r\n\t\t\t\tscheduler.defaultLayer = scheduler.layers[i].name;\r\n\t\t}\r\n\t})();\r\n\r\n\r\n\tscheduler.showLayer = function(tlayer) {\r\n\t\tthis.toggleLayer(tlayer, true);\r\n\t};\r\n\r\n\tscheduler.hideLayer = function(tlayer) {\r\n\t\tthis.toggleLayer(tlayer, false);\r\n\t};\r\n\r\n\tscheduler.toggleLayer = function(tlayer, visible) { // visible is optional\r\n\t\tvar layer = this.getLayer(tlayer);\r\n\r\n\t\tif(typeof visible != 'undefined')\r\n\t\t\tlayer.visible = !!visible;\r\n\t\telse\r\n\t\t\tlayer.visible = !layer.visible;\r\n\r\n\t\tthis.setCurrentView(this._date, this._mode);\r\n\t};\r\n\r\n\tscheduler.getLayer = function(tlayer) { // either string with layer name or event with layer property\r\n\t\tvar layer,\r\n\t\t\tlayer_name;\r\n\t\tif(typeof tlayer == 'string')\r\n\t\t\tlayer_name = tlayer;\r\n\t\tif(typeof tlayer == 'object')\r\n\t\t\tlayer_name = tlayer.layer;\r\n\t\tfor (var i=0; i<scheduler.layers.length; i++) {\r\n\t\t\tif(scheduler.layers[i].name == layer_name)\r\n\t\t\t\tlayer = scheduler.layers[i];\r\n\t\t}\r\n\t\treturn layer;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onBeforeLightbox\", function (event_id){\r\n\t\tvar ev = this.getEvent(event_id);\r\n        this.config.lightbox.sections = this.config['lightbox_'+ev.layer].sections;\r\n        scheduler.resetLightbox();\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onClick\", function (event_id, native_event_object){\r\n\t\tvar ev = scheduler.getEvent(event_id);\r\n        return !scheduler.getLayer(ev.layer).noMenu;\r\n\t});\r\n\r\n\tscheduler.attachEvent('onEventCollision', function(ev, evs) {\r\n\t\tvar layer = this.getLayer(ev);\r\n\t\tif(!layer.checkCollision)\r\n\t\t\treturn false;\r\n\t\tvar count = 0;\r\n\t\tfor(var i = 0; i<evs.length; i++) {\r\n\t\t\tif(evs[i].layer == layer.name && evs[i].id != ev.id)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\treturn (count >= scheduler.config.collision_limit);\r\n\t});\r\n\r\n\tscheduler.addEvent=function(start_date,end_date,text,id,extra_data){\r\n\t\tvar ev=start_date;\r\n\t\tif (arguments.length!=1){\r\n\t\t\tev=extra_data||{};\r\n\t\t\tev.start_date=start_date;\r\n\t\t\tev.end_date=end_date;\r\n\t\t\tev.text=text;\r\n\t\t\tev.id=id;\r\n\t\t\tev.layer = this.defaultLayer;\r\n\t\t}\r\n\t\tev.id = ev.id||scheduler.uid();\r\n\t\tev.text = ev.text||\"\";\r\n\r\n\r\n\t\tif (typeof ev.start_date == \"string\")  ev.start_date=this.templates.api_date(ev.start_date);\r\n\t\tif (typeof ev.end_date == \"string\")  ev.end_date=this.templates.api_date(ev.end_date);\r\n\t\tev._timed=this.isOneDayEvent(ev);\r\n\r\n\t\tvar is_new=!this._events[ev.id];\r\n\t\tthis._events[ev.id]=ev;\r\n\t\tthis.event_updated(ev);\r\n\t\tif (!this._loading)\r\n\t\t\tthis.callEvent(is_new?\"onEventAdded\":\"onEventChanged\",[ev.id,ev]);\r\n\t};\r\n\r\n\tthis._evs_layer = {};\r\n\tfor (var i = 0; i < this.layers.length; i++) { // array in object for each layer\r\n\t\tthis._evs_layer[this.layers[i].name] = [];\r\n\t}\r\n\r\n\tscheduler.addEventNow=function(start,end,e){\r\n\t\tvar base = {};\r\n\t\tif (typeof start == \"object\"){\r\n\t\t\tbase = start;\r\n\t\t\tstart = null;\r\n\t\t}\r\n\r\n\t\tvar d = (this.config.event_duration||this.config.time_step)*60000;\r\n\t\tif (!start) start = Math.round((scheduler._currentDate()).valueOf()/d)*d;\r\n\t\tvar start_date = new Date(start);\r\n\t\tif (!end){\r\n\t\t\tvar start_hour = this.config.first_hour;\r\n\t\t\tif (start_hour > start_date.getHours()){\r\n\t\t\t\tstart_date.setHours(start_hour);\r\n\t\t\t\tstart = start_date.valueOf();\r\n\t\t\t}\r\n\t\t\tend = start+d;\r\n\t\t}\r\n\r\n\r\n\t\tbase.start_date = base.start_date||start_date;\r\n\t\tbase.end_date =  base.end_date||new Date(end);\r\n\t\tbase.text = base.text||this.locale.labels.new_event;\r\n\t\tbase.id = this._drag_id = this.uid();\r\n\t\tbase.layer = this.defaultLayer;\r\n\t\tthis._drag_mode=\"new-size\";\r\n\r\n\t\tthis._loading=true;\r\n\t\tthis.addEvent(base);\r\n\t\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\t\tthis._loading=false;\r\n\r\n\t\tthis._drag_event={}; //dummy , to trigger correct event updating logic\r\n\t\tthis._on_mouse_up(e);\r\n\t};\r\n\r\n\tscheduler._t_render_view_data = function(events) { // helper\r\n\t\tif (this.config.multi_day && !this._table_view) {\r\n\t\t\tvar tvs = [];\r\n\t\t\tvar tvd = [];\r\n\t\t\tfor (var k = 0; k < events.length; k++) {\r\n\t\t\t\tif (events[k]._timed)\r\n\t\t\t\t\ttvs.push(events[k]);\r\n\t\t\t\telse\r\n\t\t\t\t\ttvd.push(events[k]);\r\n\t\t\t}\r\n\t\t\tthis._table_view = true;\r\n\t\t\tthis.render_data(tvd);\r\n\t\t\tthis._table_view = false;\r\n\t\t\tthis.render_data(tvs);\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.render_data(events);\r\n\t};\r\n\r\n\tscheduler.render_view_data = function(){\r\n\t\tif (this._not_render) {\r\n\t\t\tthis._render_wait = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._render_wait = false;\r\n\r\n\t\tthis.clear_view();\r\n\r\n\t\tthis._evs_layer = {};\r\n\t\tfor (var i = 0; i < this.layers.length; i++) { // array in object for each layer\r\n\t\t\tthis._evs_layer[this.layers[i].name] = [];\r\n\t\t}\r\n\r\n\t\tvar evs = this.get_visible_events();\r\n\t\tfor (var i = 0; i < evs.length; i++) { // filling layer arrays with events\r\n\t\t\tif(this._evs_layer[evs[i].layer])\r\n\t\t\t\tthis._evs_layer[evs[i].layer].push(evs[i]);\r\n\t\t}\r\n\r\n\t\tif(this._mode == 'month') { // old logic is used\r\n\t\t\tvar tevs = [];\r\n\t\t\tfor (var i = 0; i < this.layers.length; i++) {\r\n\t\t\t\tif (this.layers[i].visible)\r\n\t\t\t\t\ttevs = tevs.concat(this._evs_layer[this.layers[i].name]);\r\n\t\t\t}\r\n\t\t\tthis._t_render_view_data(tevs);\r\n\t\t}\r\n\t\telse { // week, day; should use new logic\r\n\t\t\tfor (var i = 0; i < this.layers.length; i++) {\r\n\t\t\t\tif (this.layers[i].visible) {\r\n\t\t\t\t\tvar evs_layer = this._evs_layer[this.layers[i].name];\r\n\t\t\t\t\tthis._t_render_view_data(evs_layer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._render_v_bar=function(ev,x,y,w,h,style,contentA,contentB,bottom){\r\n\t\tvar id = ev.id;\r\n\r\n\t\tif(contentA.indexOf('<div class=') == -1)\r\n\t\t\tcontentA = (scheduler.templates['event_header_'+ev.layer])?scheduler.templates['event_header_'+ev.layer](ev.start_date,ev.end_date,ev):contentA;\r\n\t\tif(contentB.indexOf('<div class=') == -1)\r\n\t\tcontentB = (scheduler.templates['event_text_'+ev.layer])?scheduler.templates['event_text_'+ev.layer](ev.start_date,ev.end_date,ev):contentB;\r\n\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\tvar cs = \"dhx_cal_event\";\r\n\t\tvar cse = (scheduler.templates['event_class_'+ev.layer])?scheduler.templates['event_class_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_class(ev.start_date,ev.end_date,ev);\r\n\t\tif (cse) cs=cs+\" \"+cse;\r\n\r\n\t\tvar borderBox = scheduler._border_box_events();\r\n\r\n\t\tvar borderBoxWidth = w - 2;\r\n\t\tvar boxWidth = borderBox ? borderBoxWidth : (w-4),\r\n\t\theaderWidth = borderBox ? borderBoxWidth : (w-6),\r\n\t\tbodyWidth = borderBox ? borderBoxWidth : (w-14),\r\n\t\tfooterWidth = borderBox ? (borderBoxWidth - 2) : (w-8);\r\n\r\n\t\tvar bodyHeight = borderBox ? (h - this.xy.event_header_height) : (h-30 + 1);\r\n\r\n\t\tvar html='<div event_id=\"'+id+'\" '+scheduler.config.event_attribute+'=\"'+id+'\" class=\"'+cs+'\" style=\"position:absolute; top:'+y+'px; left:'+x+'px; width:'+boxWidth+'px; height:'+h+'px;'+(style||\"\")+'\">';\r\n\t\thtml+='<div class=\"dhx_header\" style=\" width:'+headerWidth+'px;\" >&nbsp;</div>';\r\n\t\thtml+='<div class=\"dhx_title\">'+contentA+'</div>';\r\n\t\thtml+='<div class=\"dhx_body\" style=\" width:'+bodyWidth+'px; height:'+bodyHeight+'px;\">'+contentB+'</div>';\r\n\t\thtml+='<div class=\"dhx_footer\" style=\" width:'+footerWidth+'px;'+(bottom?' margin-top:-1px;':'')+'\" ></div></div>';\r\n\r\n\t\td.innerHTML=html;\r\n\t\td.style.zIndex = 100;\r\n\t\treturn d.firstChild;\r\n\t};\r\n\r\n\tscheduler.render_event_bar=function(ev){\r\n\t\tvar parent=this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tvar x=this._colsS[ev._sday];\r\n\t\tvar x2=this._colsS[ev._eday];\r\n\t\tif (x2==x) x2=this._colsS[ev._eday+1];\r\n\t\tvar hb = this.xy.bar_height;\r\n\r\n\t\tvar y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+ev._sorder*hb;\r\n\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\tvar cs = ev._timed?\"dhx_cal_event_clear\":\"dhx_cal_event_line\";\r\n\t\tvar cse = (scheduler.templates['event_class_'+ev.layer])?scheduler.templates['event_class_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_class(ev.start_date,ev.end_date,ev);\r\n\t\tif (cse) cs=cs+\" \"+cse;\r\n\r\n\t\tvar html='<div event_id=\"'+ev.id+'\" '+this.config.event_attribute+'=\"'+ev.id+'\" class=\"'+cs+'\" style=\"position:absolute; top:'+y+'px; left:'+x+'px; width:'+(x2-x-15)+'px;'+(ev._text_style||\"\")+'\">';\r\n\r\n\t\tif (ev._timed)\r\n\t\t\thtml+=(scheduler.templates['event_bar_date_'+ev.layer])?scheduler.templates['event_bar_date_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);\r\n\t\thtml+=( (scheduler.templates['event_bar_text_'+ev.layer])?scheduler.templates['event_bar_text_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev) + '</div>)');\r\n\t\thtml+='</div>';\r\n\r\n\t\td.innerHTML=html;\r\n\r\n\t\tthis._rendered.push(d.firstChild);\r\n\t\tparent.appendChild(d.firstChild);\r\n\t};\r\n\r\n\tscheduler.render_event=function(ev){\r\n\t\tvar menu = scheduler.xy.menu_width;\r\n\t\tif(scheduler.getLayer(ev.layer).noMenu)\r\n\t\t\tmenu = 0;\r\n\r\n\t\tif (ev._sday<0) return; //can occur in case of recurring event during time shift\r\n\t\tvar parent=scheduler.locate_holder(ev._sday);\r\n\t\tif (!parent) return; //attempt to render non-visible event\r\n\t\tvar sm = ev.start_date.getHours()*60+ev.start_date.getMinutes();\r\n\t\tvar em = (ev.end_date.getHours()*60+ev.end_date.getMinutes())||(scheduler.config.last_hour*60);\r\n\r\n\t\tvar top = (Math.round((sm*60*1000-this.config.first_hour*60*60*1000)*this.config.hour_size_px/(60*60*1000)))%(this.config.hour_size_px*24)+1; //42px/hour\r\n\t\tvar height = Math.max(scheduler.xy.min_event_height,(em-sm)*this.config.hour_size_px/60)+1; //42px/hour\r\n\t\t\r\n\t\tvar width=Math.floor((parent.clientWidth-menu)/ev._count);\r\n\t\tvar left=ev._sorder*width+1;\r\n\t\tif (!ev._inner) width=width*(ev._count-ev._sorder);\r\n\r\n\r\n\r\n\t\tvar d=this._render_v_bar(ev.id,menu+left,top,width,height,ev._text_style,scheduler.templates.event_header(ev.start_date,ev.end_date,ev),scheduler.templates.event_text(ev.start_date,ev.end_date,ev));\r\n\r\n\t\tthis._rendered.push(d);\r\n\t\tparent.appendChild(d);\r\n\r\n\t\tleft=left+parseInt(parent.style.left,10)+menu;\r\n\r\n\t\ttop+=this._dy_shift; //corrupt top, to include possible multi-day shift\r\n\t\td.style.zIndex = this._layers_zindex[ev.layer];\r\n\r\n\t\tif (this._edit_id==ev.id){\r\n\t\t\td.style.zIndex = parseInt(d.style.zIndex)+1; //fix overlapping issue\r\n\t\t\tvar new_zIndex = d.style.zIndex;\r\n\t\t\twidth=Math.max(width-4,scheduler.xy.editor_width);\r\n\t\t\tvar d=document.createElement(\"div\");\r\n\t\t\td.setAttribute(\"event_id\",ev.id); // for backward compatibility\r\n\t\t\td.setAttribute(this.config.event_attribute,ev.id);\r\n\t\t\tthis.set_xy(d,width,height-20,left,top+14);\r\n\t\t\td.className=\"dhx_cal_editor\";\r\n\t\t\td.style.zIndex = new_zIndex;\r\n\t\t\tvar d2=document.createElement(\"div\");\r\n\t\t\tthis.set_xy(d2,width-6,height-26);\r\n\t\t\td2.style.cssText+=\";margin:2px 2px 2px 2px;overflow:hidden;\";\r\n\r\n\r\n\t\t\td2.style.zIndex = new_zIndex;\r\n\t\t\td.appendChild(d2);\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].appendChild(d);\r\n\t\t\tthis._rendered.push(d);\r\n\r\n\t\t\td2.innerHTML=\"<textarea class='dhx_cal_editor'>\"+ev.text+\"</textarea>\";\r\n\r\n\t\t\tthis._editor=d2.firstChild;\r\n\t\t\tthis._editor.addEventListener(\"keypress\", function(e){\r\n\t\t\t\tif (e.shiftKey) return true;\r\n\t\t\t\tvar code= e.keyCode;\r\n\t\t\t\tif (code==scheduler.keys.edit_save) scheduler.editStop(true);\r\n\t\t\t\tif (code==scheduler.keys.edit_cancel) scheduler.editStop(false);\r\n\t\t\t});\r\n\t\t\tthis._editor.addEventListener(\"selectstart\", function(e){ e.cancelBubble=true; return true; });\r\n\t\t\td2.firstChild.focus();\r\n\t\t\t//IE and opera can add x-scroll during focusing\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].scrollLeft=0;\r\n\t\t\td2.firstChild.select();\r\n\t\t}\r\n\t\tif (this._select_id==ev.id){\r\n\t\t\td.style.zIndex = parseInt(d.style.zIndex)+1; //fix overlapping issue\r\n\t\t\tvar icons=this.config[\"icons_\"+((this._edit_id==ev.id)?\"edit\":\"select\")];\r\n\t\t\tvar icons_str=\"\";\r\n\t\t\tfor (var i=0; i<icons.length; i++)\r\n\t\t\t\ticons_str+=\"<div class='dhx_menu_icon \"+icons[i]+\"' title='\"+this.locale.labels[icons[i]]+\"'></div>\";\r\n\t\t\tvar obj = this._render_v_bar(ev.id,left-menu+1,top,menu,icons.length*20+26,\"\",\"<div class='dhx_menu_head'></div>\",icons_str,true);\r\n\t\t\tobj.style.left=left-menu+1;\r\n\t\t\tobj.style.zIndex = d.style.zIndex;\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].appendChild(obj);\r\n\t\t\tthis._rendered.push(obj);\r\n\t\t}\r\n\r\n\t};\r\n\r\n    scheduler.filter_agenda = function(id, event) {\r\n        var layer = scheduler.getLayer(event.layer);\r\n        return (layer && layer.visible);\r\n    };\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.limit_start = null;\r\nscheduler.config.limit_end   = null;\r\nscheduler.config.limit_view  = false;\r\nscheduler.config.check_limits = true;\r\nscheduler.config.mark_now = true;\r\nscheduler.config.display_marked_timespans = true;\r\nscheduler.config.overwrite_marked_timespans = true;\r\nscheduler._temp_limit_scope = function(){\r\n\tvar before = null;\r\n\tvar dhx_time_block = \"dhx_time_block\";\r\n\tvar default_timespan_type = \"default\";\r\n\tvar fix_options = function(options, days, zones) {\r\n\t\tif (days instanceof Date && zones instanceof Date) {\r\n\t\t\toptions.start_date = days;\r\n\t\t\toptions.end_date = zones;\r\n\t\t} else {\r\n\t\t\toptions.days = days;\r\n\t\t\toptions.zones = zones;\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\tvar get_resulting_options = function(days, zones, sections) {\r\n\t\tvar options = (typeof days == \"object\") ? days : { days: days };\r\n\t\toptions.type = dhx_time_block;\r\n\t\toptions.css = \"\";\r\n\t\tif (zones) {\r\n\t\t\tif (sections)\r\n\t\t\t\toptions.sections = sections;\r\n\t\t\toptions = fix_options(options, days, zones);\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\tscheduler.blockTime = function(days, zones, sections){\r\n\t\tvar options = get_resulting_options(days, zones, sections);\r\n\t\treturn scheduler.addMarkedTimespan(options);\r\n\t};\r\n\tscheduler.unblockTime = function(days, zones, sections) {\r\n\t\tzones = zones || \"fullday\";\r\n\t\tvar options = get_resulting_options(days, zones, sections);\r\n\t\treturn scheduler.deleteMarkedTimespan(options);\r\n\t};\r\n\tscheduler.attachEvent(\"onBeforeViewChange\",function(om,od,nm,nd){\r\n\r\n\t\tfunction isBlocked(date, mode){\r\n\t\t\tvar limit_start = scheduler.config.limit_start,\r\n\t\t\t\tlimit_end = scheduler.config.limit_end,\r\n\t\t\t\tdate_end =  scheduler.date.add(date,1,mode);\r\n\r\n\t\t\treturn (date.valueOf() > limit_end.valueOf() || date_end <= limit_start.valueOf());\r\n\t\t}\r\n\r\n\t\tif (scheduler.config.limit_view){\r\n\t\t\tnd = nd||od; nm = nm||om;\r\n\t\t\tif (isBlocked(nd, nm) && !(od.valueOf() == nd.valueOf())){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar resetDate = !isBlocked(od, nm) ? od : scheduler.config.limit_start;\r\n\r\n\t\t\t\t\tscheduler.setCurrentView(!isBlocked(resetDate, nm) ? resetDate : null, nm);\r\n\t\t\t\t},1);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.checkInMarkedTimespan = function(ev, timespan_type, on_overlap){\r\n\t\ttimespan_type = timespan_type || default_timespan_type;\r\n\r\n\t\tvar res = true;\r\n\t\tvar temp_start_date = new Date(ev.start_date.valueOf());\r\n\t\tvar temp_end_date = scheduler.date.add(temp_start_date, 1, \"day\");\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tfor (; temp_start_date < ev.end_date; temp_start_date = scheduler.date.date_part(temp_end_date), temp_end_date = scheduler.date.add(temp_start_date, 1, \"day\") ) {\r\n\t\t\tvar day_value = +scheduler.date.date_part( new Date(temp_start_date) ); // the first part of event not necessarily contains only date part\r\n\t\t\tvar day_index = temp_start_date.getDay();\r\n\r\n\t\t\tvar zones = getZones(ev, timespans, day_index, day_value, timespan_type);\r\n\t\t\tif (zones){\r\n\t\t\t\tfor (var i = 0; i < zones.length; i+=2) {\r\n\r\n\t\t\t\t\t// they may change for new event if it passes limit zone\r\n\t\t\t\t\tvar eventStart = scheduler._get_zone_minutes(temp_start_date);\r\n\t\t\t\t\tvar eventEnd = ( ev.end_date>temp_end_date || ev.end_date.getDate() != temp_start_date.getDate() ) ? 1440 : scheduler._get_zone_minutes(ev.end_date);\r\n\r\n\t\t\t\t\tvar markerStart = zones[i];\r\n\t\t\t\t\tvar markerEnd = zones[i+1];\r\n\t\t\t\t\tif (markerStart<eventEnd && markerEnd>eventStart) {\r\n\t\t\t\t\t\tif(typeof on_overlap == \"function\"){\r\n\t\t\t\t\t\t\t//handler allows to cancel overlapping\r\n\t\t\t\t\t\t\t//actually needed only to keep default behavior of limits\r\n\t\t\t\t\t\t\tres = on_overlap(ev, eventStart, eventEnd, markerStart, markerEnd);//event object, event start/end minutes in 'zones' format, zone start/end minutes\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tres = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!res)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !res;\r\n\t};\r\n\tvar blocker = scheduler.checkLimitViolation = function(event){\r\n\t\tif(!event)\r\n\t\t\treturn true;\r\n\t\tif (!scheduler.config.check_limits)\r\n\t\t\treturn true;\r\n\t\tvar s = scheduler;\r\n\t\tvar c = s.config;\r\n\t\tvar evs = [];\r\n\t\tif (event.rec_type) {\r\n\t\t\tvar dates = scheduler.getRecDates(event);\r\n\t\t\tfor(var i=0; i < dates.length; i++){\r\n\t\t\t\tvar ev = scheduler._copy_event(event);\r\n\t\t\t\tscheduler._lame_copy(ev, dates[i]);\r\n\t\t\t\tevs.push(ev);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tevs = [event];\r\n\t\t}\r\n\r\n\t\tvar complete_res = true;\r\n\t\tfor (var p=0; p<evs.length; p++) {\r\n\t\t\tvar res = true;\r\n\t\t\tvar ev = evs[p];\r\n\t\t\t// Event could have old _timed property (e.g. we are creating event with DND on timeline view and crossed day)\r\n\t\t\tev._timed = scheduler.isOneDayEvent(ev);\r\n\r\n\t\t\tres = (c.limit_start && c.limit_end) ? (ev.start_date.valueOf() >= c.limit_start.valueOf() && ev.end_date.valueOf() <= c.limit_end.valueOf()) : true;\r\n\t\t\tif (res){\r\n\t\t\t\tres = !scheduler.checkInMarkedTimespan(ev, dhx_time_block, function(event, eventStart, eventEnd, markerStart, markerEnd){\r\n\t\t\t\t\t//try crop event to allow placing\r\n\t\t\t\t\tvar allow = true;\r\n\t\t\t\t\tif (eventStart<=markerEnd && eventStart >= markerStart){\r\n\t\t\t\t\t\tif (markerEnd == 24*60 || eventEnd <= markerEnd){\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(event._timed && s._drag_id && s._drag_mode == \"new-size\"){\r\n\t\t\t\t\t\t\tevent.start_date.setHours(0);\r\n\t\t\t\t\t\t\tevent.start_date.setMinutes(markerEnd);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((eventEnd >= markerStart && eventEnd <= markerEnd) || (eventStart < markerStart && eventEnd > markerEnd)){\r\n\t\t\t\t\t\tif(event._timed && s._drag_id && s._drag_mode == \"new-size\"){\r\n\t\t\t\t\t\t\tevent.end_date.setHours(0);\r\n\t\t\t\t\t\t\tevent.end_date.setMinutes(markerStart);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn allow;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!res) {\r\n\t\t\t\tres = (s.checkEvent(\"onLimitViolation\")) ? s.callEvent(\"onLimitViolation\",[ev.id, ev]) : res;\r\n\t\t\t}\r\n\t\t\tcomplete_res = complete_res && res;\r\n\t\t}\r\n\t\tif(!complete_res){\r\n\t\t\ts._drag_id = null;\r\n\t\t\ts._drag_mode = null;\r\n\t\t}\r\n\t\treturn complete_res;\r\n\r\n\r\n\t};\r\n\tscheduler._get_blocked_zones = function(timespans, property, day_index, day_value, timespan_type){\r\n\t\tvar zones =[];\r\n\t\tif (timespans && timespans[property]) {\r\n\t\t\tvar timeline_zones = timespans[property];\r\n\t\t\tvar blocked_timeline_zones = this._get_relevant_blocked_zones(day_index, day_value, timeline_zones, timespan_type);\r\n\t\t\tfor (var i=0; i<blocked_timeline_zones.length; i++) {\r\n\t\t\t\tzones = this._add_timespan_zones(zones, blocked_timeline_zones[i].zones);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn zones;\r\n\t};\r\n\tscheduler._get_relevant_blocked_zones = function(day_index, day_value, zones, timespan_type) {\r\n\t\tvar resultZones;\r\n\t\tif(scheduler.config.overwrite_marked_timespans){\r\n\t\t\tresultZones = (zones[day_value] && zones[day_value][timespan_type]) ? zones[day_value][timespan_type] :\r\n\t\t\t(zones[day_index] && zones[day_index][timespan_type]) ? zones[day_index][timespan_type] : [];\r\n\t\t}else{\r\n\t\t\tresultZones = [];\r\n\t\t\tif(zones[day_value] && zones[day_value][timespan_type]){\r\n\t\t\t\tresultZones = resultZones.concat(zones[day_value][timespan_type]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif((zones[day_index] && zones[day_index][timespan_type])){\r\n\t\t\t\tresultZones = resultZones.concat(zones[day_index][timespan_type]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn resultZones;\r\n\t};\r\n\tfunction getZones(ev, timespans, day_index, day_value, timespan_type){\r\n\t\tvar s = scheduler;\r\n\t\t//containers for 'unit' and 'timeline' views, and related 'section_id' properties\r\n\t\tvar zones = [];\r\n\t\tvar containers = {\r\n\t\t\t'_props':'map_to',\r\n\t\t\t'matrix':'y_property'};\r\n\t\t//check blocked sections in all units and timelines\r\n\t\tfor(var container in containers){\r\n\t\t\tvar property = containers[container];\r\n\t\t\tif(s[container]){\r\n\t\t\t\tfor(var view in s[container]){\r\n\t\t\t\t\tvar view_config = s[container][view];\r\n\t\t\t\t\tvar linker = view_config[property];\r\n\t\t\t\t\tif(!ev[linker]) continue;\r\n\t\t\t\t\tzones =  s._add_timespan_zones(zones,\r\n\t\t\t\t\t\tscheduler._get_blocked_zones(timespans[view], ev[linker], day_index, day_value, timespan_type));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// now need to add day blocks\r\n\t\tzones = s._add_timespan_zones(zones, scheduler._get_blocked_zones(timespans, 'global', day_index, day_value, timespan_type));\r\n\t\treturn zones;\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onMouseDown\", function(classname) {\r\n\t\treturn !(classname == dhx_time_block);\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeDrag\",function(id){\r\n\t\tif (!id) return true;\r\n\t\treturn blocker(scheduler.getEvent(id));\r\n\t});\r\n\tscheduler.attachEvent(\"onClick\", function (event_id, native_event_object){\r\n\t\treturn blocker(scheduler.getEvent(event_id));\r\n    });\r\n\tscheduler.attachEvent(\"onBeforeLightbox\",function(id){\r\n\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tbefore = [ev.start_date, ev.end_date];\r\n\t\treturn blocker(ev);\r\n\t});\r\n\tscheduler.attachEvent(\"onEventSave\", function(id, data, is_new_event) {\r\n\r\n\t\t//lightbox may not have 'time' section\r\n\t\tif(!(data.start_date && data.end_date)){\r\n\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\tdata.start_date = new Date(ev.start_date);\r\n\t\t\tdata.end_date = new Date(ev.end_date);\r\n\t\t}\r\n\r\n\t\tif(data.rec_type){\r\n\t\t\t//_roll_back_dates modifies start_date of recurring event, need to check limits after modification\r\n\t\t\t// use a copy to keep original event unchanged\r\n\t\t\tvar data_copy = scheduler._lame_clone(data);\r\n\t\t\tscheduler._roll_back_dates(data_copy);\r\n\t\t\treturn blocker(data_copy);\r\n\t\t}\r\n\t\treturn blocker(data);\r\n\t});\r\n\tscheduler.attachEvent(\"onEventAdded\",function(id){\r\n\t\tif (!id) return true;\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif (!blocker(ev) && scheduler.config.limit_start && scheduler.config.limit_end) {\r\n\t\t\t//if newly created event is outside of limited time - crop it, leaving only allowed time\r\n\t\t\tif (ev.start_date < scheduler.config.limit_start) {\r\n\t\t\t\tev.start_date = new Date(scheduler.config.limit_start);\r\n\t\t\t}\r\n\t\t\tif (ev.start_date.valueOf() >= scheduler.config.limit_end.valueOf()) {\r\n\t\t\t\tev.start_date = this.date.add(scheduler.config.limit_end, -1, \"day\");\r\n\t\t\t}\r\n\t\t\tif (ev.end_date < scheduler.config.limit_start) {\r\n\t\t\t\tev.end_date = new Date(scheduler.config.limit_start);\r\n\t\t\t}\r\n\t\t\tif (ev.end_date.valueOf() >= scheduler.config.limit_end.valueOf()) {\r\n\t\t\t\tev.end_date = this.date.add(scheduler.config.limit_end, -1, \"day\");\r\n\t\t\t}\r\n\t\t\tif (ev.start_date.valueOf() >= ev.end_date.valueOf()) {\r\n\t\t\t\tev.end_date = this.date.add(ev.start_date, (this.config.event_duration||this.config.time_step), \"minute\");\r\n\t\t\t}\r\n\t\t\tev._timed=this.isOneDayEvent(ev);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventChanged\",function(id){\r\n\t\tif (!id) return true;\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif (!blocker(ev)){\r\n\t\t\tif (!before) return false;\r\n\t\t\tev.start_date = before[0];\r\n\t\t\tev.end_date = before[1];\r\n\t\t\tev._timed=this.isOneDayEvent(ev);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeEventChanged\",function(ev, native_object, is_new){\r\n\t\treturn blocker(ev);\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeEventCreated\", function(ev) { // native event\r\n\t\tvar start_date = scheduler.getActionData(ev).date;\r\n\t\tvar event = {\r\n\t\t\t_timed: true,\r\n\t\t\tstart_date: start_date,\r\n\t\t\tend_date: scheduler.date.add(start_date, scheduler.config.time_step, \"minute\")\r\n\t\t};\r\n\t\treturn blocker(event);\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", function(){\r\n\t\tscheduler._mark_now();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onAfterSchedulerResize\", function(){\r\n\t\twindow.setTimeout(function(){ \r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler._mark_now(); \r\n\t\t}, 1);\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\t\tscheduler._mark_now_timer = window.setInterval(function() {\r\n\t\t\tif(!scheduler._is_initialized())\r\n\t\t\t\treturn;\r\n\t\t\tscheduler._mark_now();\r\n\t\t}, 60000);\r\n\t});\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tclearInterval(scheduler._mark_now_timer);\r\n\t});\r\n\tscheduler._mark_now = function(hide) {\r\n\t\t// day, week, units views\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tif (!this._els[dhx_now_time]) {\r\n\t\t\tthis._els[dhx_now_time] = [];\r\n\t\t}\r\n\t\tvar now = scheduler._currentDate();\r\n\t\tvar cfg = this.config;\r\n\t\tscheduler._remove_mark_now(); // delete previous marks if they exist\r\n\t\tif (!hide && cfg.mark_now && now < this._max_date && now > this._min_date && now.getHours() >= cfg.first_hour && now.getHours()<cfg.last_hour) {\r\n\t\t\tvar day_index = this.locate_holder_day(now);\r\n\t\t\tthis._els[dhx_now_time] = scheduler._append_mark_now(day_index, now);\r\n\t\t}\r\n\t};\r\n\tscheduler._append_mark_now = function(day_index, now) {\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tvar zone_start= scheduler._get_zone_minutes(now);\r\n\t\tvar options = {\r\n\t\t\tzones: [zone_start, zone_start+1],\r\n\t\t\tcss: dhx_now_time,\r\n\t\t\ttype: dhx_now_time\r\n\t\t};\r\n\t\tif (!this._table_view) {\r\n\t\t\tif (this._props && this._props[this._mode]) { // units view\r\n\t\t\t\tvar start_index,\r\n\t\t\t\t\tend_index;\r\n\r\n\t\t\t\tvar view = this._props[this._mode];\r\n\t\t\t\tvar units_l = view.size || view.options.length;\r\n\t\t\t\tif (view.days > 1) {\r\n\t\t\t\t\tif(view.size && view.options.length){\r\n\t\t\t\t\t\tday_index = ((view.position+ day_index) / view.options.length) * view.size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart_index = day_index;\r\n\t\t\t\t\tend_index = day_index + units_l;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstart_index = 0;\r\n\t\t\t\t\tend_index = start_index + units_l;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar r_divs = [];\r\n\r\n\t\t\t\tfor (var i = start_index; i < end_index; i++) {\r\n\t\t\t\t\tvar t_day = i; // as each unit is actually considered +1 day\r\n\t\t\t\t\toptions.days = t_day;\r\n\t\t\t\t\tvar t_div = scheduler._render_marked_timespan(options, null, t_day)[0];\r\n\t\t\t\t\tr_divs.push(t_div);\r\n\t\t\t\t}\r\n\t\t\t\treturn r_divs;\r\n\t\t\t} else {  // day/week views\r\n\t\t\t\toptions.days = day_index;\r\n\t\t\t\treturn scheduler._render_marked_timespan(options, null, day_index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\toptions.days = +scheduler.date.date_part(now);\r\n\t\t\t\treturn scheduler._render_marked_timespan(options, null, null);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._remove_mark_now = function() {\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tvar els = this._els[dhx_now_time];\r\n\t\tfor (var i=0; i<els.length; i++) {\r\n\t\t\tvar div = els[i];\r\n\t\t\tvar parent = div.parentNode;\r\n\t\t\tif (parent) {\r\n\t\t\t\tparent.removeChild(div);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._els[dhx_now_time] = [];\r\n\t};\r\n\r\n\t/*\r\n\tscheduler._marked_timespans = {\r\n\t\t\"global\": {\r\n\t\t\t\"0\": {\r\n\t\t\t\t\"default\": [\r\n\t\t\t\t\t{  // sunday\r\n\t\t\t\t\t\tzones: [0, 100, 500, 600],\r\n\t\t\t\t\t\tcss: \"yellow_box\",\r\n\t\t\t\t\t\ttype: \"default\",\r\n\t\t\t\t\t\tview: \"global\",\r\n\t\t\t\t\t\tday: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\t\"112121312\": {\r\n\t\t\t\t\"my_special_type\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tzones: [600, 900],\r\n\t\t\t\t\t\ttype: \"block\",\r\n\t\t\t\t\t\tcss: \"some_class\",\r\n\t\t\t\t\t\tview: \"global\",\r\n\t\t\t\t\t\tday: 112121312\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"units\": {\r\n\t\t\t\"5_id\": {\r\n\t\t\t\t\"3\": {\r\n\t\t\t\t\t\"special_type\": [ {}, {}, {} ],\r\n\t\t\t\t\t\"another_type\": [ {} ]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"6_id\": {\r\n\t\t\t\t\"11212127\": {\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t*/\r\n\tscheduler._marked_timespans = { global: {} };\r\n\r\n\tscheduler._get_zone_minutes = function(date) {\r\n\t\treturn date.getHours()*60 + date.getMinutes();\r\n\t};\r\n\tscheduler._prepare_timespan_options = function(config) { // receives 1 option, returns array of options\r\n\t\tvar r_configs = []; // resulting configs\r\n\t\tvar temp_configs = [];\r\n\r\n\t\tif (config.days == \"fullweek\")\r\n\t\t\tconfig.days = [0,1,2,3,4,5,6];\r\n\r\n\t\tif (config.days instanceof Array) {\r\n\t\t\tvar t_days = config.days.slice();\r\n\t\t\tfor (var i=0; i<t_days.length; i++) {\r\n\t\t\t\tvar cloned_config = scheduler._lame_clone(config);\r\n\t\t\t\tcloned_config.days = t_days[i];\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._prepare_timespan_options(cloned_config));\r\n\t\t\t}\r\n\t\t\treturn r_configs;\r\n\t\t}\r\n\r\n\t\tif ( !config ||\r\n\t\t\t!((config.start_date && config.end_date && config.end_date > config.start_date) || (config.days !== undefined && config.zones)) && !config.type )\r\n\t\t\treturn r_configs;  // incorrect config was provided\r\n\r\n\t\tvar min = 0;\r\n\t\tvar max = 24*60;\r\n\t\tif (config.zones == \"fullday\")\r\n\t\t\tconfig.zones = [min, max];\r\n\t\tif (config.zones && config.invert_zones) {\r\n\t\t\tconfig.zones = scheduler.invertZones(config.zones);\r\n\t\t}\r\n\r\n\t\tconfig.id = scheduler.uid();\r\n\t\tconfig.css = config.css||\"\";\r\n\t\tconfig.type = config.type||default_timespan_type;\r\n\r\n\t\tvar sections = config.sections;\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key)) {\r\n\t\t\t\t\tvar ids = sections[view_key];\r\n\t\t\t\t\tif (!(ids instanceof Array))\r\n\t\t\t\t\t\tids = [ids];\r\n\t\t\t\t\tfor (var i=0; i<ids.length; i++) {\r\n\t\t\t\t\t\tvar t_config = scheduler._lame_copy({}, config);\r\n\t\t\t\t\t\tt_config.sections = {};\r\n\t\t\t\t\t\tt_config.sections[view_key] = ids[i];\r\n\t\t\t\t\t\ttemp_configs.push(t_config);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttemp_configs.push(config);\r\n\t\t}\r\n\r\n\t\tfor (var k=0; k<temp_configs.length; k++) {\r\n\t\t\tvar c_config = temp_configs[k]; // config to be checked\r\n\r\n\t\t\tvar start_date = c_config.start_date;\r\n\t\t\tvar end_date = c_config.end_date;\r\n\r\n\t\t\tif (start_date && end_date) {\r\n\t\t\t\tvar t_sd = scheduler.date.date_part(new Date(start_date)); // e.g. 05 october\r\n\t\t\t\tvar t_ed= scheduler.date.add(t_sd, 1, \"day\");  // 06 october, will both be incremented in the loop\r\n\r\n\t\t\t\twhile (t_sd < end_date) {\r\n\t\t\t\t\tvar t_config = scheduler._lame_copy({}, c_config);\r\n\t\t\t\t\tdelete t_config.start_date;\r\n\t\t\t\t\tdelete t_config.end_date;\r\n\t\t\t\t\tt_config.days = t_sd.valueOf();\r\n\t\t\t\t\tvar zone_start = (start_date > t_sd) ? scheduler._get_zone_minutes(start_date) : min;\r\n\t\t\t\t\tvar zone_end = ( end_date > t_ed || end_date.getDate() != t_sd.getDate() ) ? max : scheduler._get_zone_minutes(end_date);\r\n\t\t\t\t\tt_config.zones = [zone_start, zone_end];\r\n\t\t\t\t\tr_configs.push(t_config);\r\n\r\n\t\t\t\t\tt_sd = t_ed;\r\n\t\t\t\t\tt_ed = scheduler.date.add(t_ed, 1, \"day\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (c_config.days instanceof Date)\r\n\t\t\t\t\tc_config.days = (scheduler.date.date_part(c_config.days)).valueOf();\r\n\t\t\t\tc_config.zones = config.zones.slice();\r\n\t\t\t\tr_configs.push(c_config);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn r_configs;\r\n\t};\r\n\tscheduler._get_dates_by_index = function(index, start, end) {\r\n\t\tvar dates = [];\r\n\t\tstart = scheduler.date.date_part(new Date(start||scheduler._min_date));\r\n\t\tend = new Date(end||scheduler._max_date);\r\n\t\tvar start_day = start.getDay();\r\n\t\tvar delta = (index-start_day >= 0) ? (index-start_day) : (7-start.getDay()+index);\r\n\t\tvar t_date = scheduler.date.add(start, delta, \"day\");\r\n\t\tfor (; t_date < end; t_date = scheduler.date.add(t_date, 1, \"week\")) {\r\n\t\t\tdates.push(t_date);\r\n\t\t}\r\n\t\treturn dates;\r\n\t};\r\n\tscheduler._get_css_classes_by_config = function(config) {\r\n\t\tvar css_classes = [];\r\n\t\tif (config.type == dhx_time_block) {\r\n\t\t\tcss_classes.push(dhx_time_block);\r\n\t\t\tif (config.css)\r\n\t\t\t\tcss_classes.push(dhx_time_block+\"_reset\");\r\n\t\t}\r\n\t\tcss_classes.push(\"dhx_marked_timespan\", config.css);\r\n\t\treturn css_classes.join(\" \");\r\n\t};\r\n\tscheduler._get_block_by_config = function(config) {\r\n\t\tvar block  = document.createElement(\"div\");\r\n\t\tif (config.html) {\r\n\t\t\tif (typeof config.html == \"string\")\r\n\t\t\t\tblock.innerHTML = config.html;\r\n\t\t\telse\r\n\t\t\t\tblock.appendChild(config.html);\r\n\t\t}\r\n\t\treturn block;\r\n\t};\r\n\tscheduler._render_marked_timespan = function(options, area, day) {\r\n\t\tvar blocks = []; // resulting block which will be rendered and returned\r\n\t\tvar c = scheduler.config;\r\n\t\tvar min_date = this._min_date;\r\n\t\tvar max_date = this._max_date;\r\n\t\tvar day_value = false; // if timespan for specific date should be displayed\r\n\r\n\t\tif (!c.display_marked_timespans)\r\n\t\t\treturn blocks;\r\n\r\n\t\t// in case of markTimespan\r\n\t\tif (!day && day !== 0) {\r\n\t\t\tif (options.days < 7)\r\n\t\t\t\tday = options.days;\r\n\t\t\telse {\r\n\t\t\t\tvar date_to_display = new Date(options.days);\r\n\t\t\t\tday_value = +date_to_display;\r\n\r\n\t\t\t\t// in case of markTimespan date could be not in the viewing range, need to return\r\n\t\t\t\tif ( !(+max_date > +date_to_display && +min_date <= +date_to_display) )\r\n\t\t\t\t\treturn blocks;\r\n\r\n\t\t\t\tday = date_to_display.getDay();\r\n\t\t\t}\r\n\r\n\t\t\t// convert day default index (Sun - 0, Sat - 6) to index of hourscales (depends on week_start and config.start_on_monday)\r\n\t\t\tvar min_day = min_date.getDay();\r\n\t\t\tif (min_day > day) {\r\n\t\t\t\tday = 7 - (min_day-day);\r\n\t\t\t} else {\r\n\t\t\t\tday = day - min_day;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar zones = options.zones;\r\n\t\tvar css_classes = scheduler._get_css_classes_by_config(options);\r\n\r\n\t\tif (scheduler._table_view && scheduler._mode == \"month\") {\r\n\t\t\tvar areas = [];\r\n\t\t\tvar days = [];\r\n\r\n\r\n\t\t\tif (!area) {\r\n\t\t\t\tdays = (day_value) ? [day_value] : scheduler._get_dates_by_index(day);\r\n\t\t\t\tfor (var i=0; i < days.length; i++) {\r\n\t\t\t\t\tareas.push( this._scales[days[i]] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tareas.push(area);\r\n\t\t\t\tdays.push(day);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0; i < areas.length; i++) {\r\n\t\t\t\tarea = areas[i];\r\n\t\t\t\tday = days[i];\r\n\r\n\t\t\t\tvar sday = this.locate_holder_day(day, false) % this._cols.length;\r\n\r\n\t\t\t\tif(this._ignores[sday]) continue;\r\n\r\n\t\t\t\tvar block_proto = scheduler._get_block_by_config(options);\r\n\t\t\t\tblock_proto.className = css_classes;\r\n\t\t\t\tblock_proto.style.top = \"0px\";\r\n\t\t\t\tblock_proto.style.height = \"100%\";\r\n\t\t\t\t\r\n\t\t\t\tfor (var k=0; k < zones.length; k+=2) {\r\n\t\t\t\t\tvar start = zones[i];\r\n\t\t\t\t\tvar end = zones[i+1];\r\n\t\t\t\t\tif (end <= start)\r\n\t\t\t\t\t\treturn [];\r\n\r\n\t\t\t\t\tvar block = block_proto.cloneNode(true);\r\n\r\n\t\t\t\t\tblock.style.left = \"0px\";\r\n\t\t\t\t\tblock.style.width = \"100%\";\r\n\r\n\t\t\t\t\tarea.appendChild(block);\r\n\t\t\t\t\tblocks.push(block);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar index = day;\r\n\r\n\t\t\tif(this._ignores[this.locate_holder_day(day, false)]) return blocks;\r\n\r\n\t\t\tif (this._props && this._props[this._mode] && options.sections && options.sections[this._mode]) {\r\n\t\t\t\tvar view = this._props[this._mode];\r\n\t\t\t\tindex = view.order[options.sections[this._mode]];\r\n\r\n\t\t\t\tvar inner_index = view.order[options.sections[this._mode]];\r\n\t\t\t\tif(!(view.days > 1)){\r\n\t\t\t\t\tindex = inner_index;\r\n\t\t\t\t\tif (view.size && (index > view.position+view.size)) {\r\n\t\t\t\t\t\tindex = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar units_l = view.size || view.options.length;\r\n\t\t\t\t\tindex = index*units_l + inner_index;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tarea = area ? area : scheduler.locate_holder(index);\r\n\r\n\t\t\tfor (var i = 0; i < zones.length; i+=2){\r\n\t\t\t\tvar start = Math.max(zones[i], c.first_hour*60);\r\n\t\t\t\tvar end = Math.min(zones[i+1], c.last_hour*60);\r\n\t\t\t\tif (end <= start) {\r\n\t\t\t\t\tif (i+2 < zones.length)\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar block = scheduler._get_block_by_config(options);\r\n\t\t\t\tblock.className = css_classes;\r\n\r\n\t\t\t\t// +1 for working with section which really takes up whole height (as % would be == 0)\r\n\t\t\t\tvar all_hours_height = this.config.hour_size_px*24 + 1;\r\n\t\t\t\tvar hour_ms = 60*60*1000;\r\n\t\t\t\tblock.style.top = (Math.round((start*60*1000-this.config.first_hour*hour_ms)*this.config.hour_size_px/hour_ms) % all_hours_height) + \"px\";\r\n\t\t\t\tblock.style.height = Math.max((Math.round(((end-start)*60*1000)*this.config.hour_size_px/hour_ms)) % all_hours_height, 1)+\"px\";\r\n\r\n\t\t\t\tarea.appendChild(block);\r\n\t\t\t\tblocks.push(block);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn blocks;\r\n\t};\r\n\r\n\tscheduler._mark_timespans = function(){\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\t\tvar divs = [];\r\n\t\tif (scheduler._table_view && scheduler._mode == \"month\"){\r\n\t\t\tfor (var day in this._scales) {\r\n\t\t\t\tvar date = new Date(+day);\r\n\t\t\t\tdivs.push.apply(divs, scheduler._on_scale_add_marker(this._scales[day],date));\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\t//manually trigger rendering of configs for each column\r\n\t\t\tvar date = new Date(scheduler._min_date);\r\n\t\t\tfor (var i = 0, len = data.childNodes.length; i < len; i++) {\r\n\t\t\t\tvar area = data.childNodes[i];\r\n\t\t\t\tif (area.firstChild && scheduler._getClassName(area.firstChild).indexOf(\"dhx_scale_hour\") > -1) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdivs.push.apply(divs, scheduler._on_scale_add_marker(area, date));\r\n\t\t\t\tdate = scheduler.date.add(date, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn divs;\r\n\t};\r\n\r\n\t// just marks timespan, will be cleaned after refresh\r\n\tscheduler.markTimespan = function(configuration) {\r\n\r\n\t\tif(!this._els){\r\n\t\t\tthrow new Error(\"`scheduler.markTimespan` can't be used before scheduler initialization. Place `scheduler.markTimespan` call after `scheduler.init`.\");\r\n\t\t}\r\n\r\n\t\tvar rebuild_els = false;\r\n\t\tif(!this._els[\"dhx_cal_data\"]){\r\n\t\t\tscheduler.get_elements();\r\n\t\t\trebuild_els = true;\r\n\t\t}\r\n\r\n\r\n\t\t// backup regular marked timespans\r\n\t\tvar timespans_ids = scheduler._marked_timespans_ids,\r\n\t\t\ttimespan_types = scheduler._marked_timespans_types,\r\n\t\t\ttimespans = scheduler._marked_timespans;\r\n\r\n\t\tscheduler.deleteMarkedTimespan();\r\n\r\n\t\t//add block to configs\r\n\t\tscheduler.addMarkedTimespan(configuration);\r\n\r\n\t\tvar divs = scheduler._mark_timespans();\r\n\r\n\t\tif(rebuild_els)\r\n\t\t\tscheduler._els = [];\r\n\r\n\t\t// restore timespan config\r\n\t\tscheduler._marked_timespans_ids = timespans_ids;\r\n\t\tscheduler._marked_timespans_types = timespan_types;\r\n\t\tscheduler._marked_timespans = timespans;\r\n\r\n\t\treturn divs;\r\n\t};\r\n\tscheduler.unmarkTimespan = function(divs) {\r\n\t\tif (!divs)\r\n\t\t\treturn;\r\n\t\tfor (var i=0; i<divs.length; i++) {\r\n\t\t\tvar div = divs[i];\r\n\t\t\t// parent may no longer be present if we switched views, navigated\r\n\t\t\tif (div.parentNode) {\r\n\t\t\t\tdiv.parentNode.removeChild(div);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tscheduler._addMarkerTimespanConfig = function(config){\r\n\t\tvar global = \"global\";\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar id = config.id;\r\n\r\n\t\tvar ids = scheduler._marked_timespans_ids;\r\n\t\tif (!ids[id])\r\n\t\t\tids[id] = [];\r\n\r\n\r\n\t\tvar day = config.days;\r\n\r\n\t\tvar sections = config.sections;\r\n\t\tvar type = config.type; // default or specified\r\n\t\tconfig.id = id;\r\n\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key)) {\r\n\t\t\t\t\tif (!timespans[view_key])\r\n\t\t\t\t\t\ttimespans[view_key] = {};\r\n\t\t\t\t\tvar unit_id = sections[view_key];\r\n\t\t\t\t\tvar timespans_view = timespans[view_key];\r\n\t\t\t\t\tif (!timespans_view[unit_id])\r\n\t\t\t\t\t\ttimespans_view[unit_id] = {};\r\n\t\t\t\t\tif (!timespans_view[unit_id][day])\r\n\t\t\t\t\t\ttimespans_view[unit_id][day] = {};\r\n\t\t\t\t\tif (!timespans_view[unit_id][day][type]){\r\n\t\t\t\t\t\ttimespans_view[unit_id][day][type] = [];\r\n\t\t\t\t\t\tif(!scheduler._marked_timespans_types)\r\n\t\t\t\t\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t\t\t\t\tif(!scheduler._marked_timespans_types[type])\r\n\t\t\t\t\t\t\tscheduler._marked_timespans_types[type] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar day_configs = timespans_view[unit_id][day][type];\r\n\t\t\t\t\tconfig._array = day_configs;\r\n\t\t\t\t\tday_configs.push(config);\r\n\t\t\t\t\tids[id].push(config);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!timespans[global][day])\r\n\t\t\t\ttimespans[global][day] = {};\r\n\t\t\tif (!timespans[global][day][type])\r\n\t\t\t\ttimespans[global][day][type] = [];\r\n\r\n\t\t\tif(!scheduler._marked_timespans_types)\r\n\t\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t\tif(!scheduler._marked_timespans_types[type])\r\n\t\t\t\tscheduler._marked_timespans_types[type] = true;\r\n\r\n\t\t\tvar day_configs = timespans[global][day][type];\r\n\t\t\tconfig._array = day_configs;\r\n\t\t\tday_configs.push(config);\r\n\t\t\tids[id].push(config);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tscheduler._marked_timespans_ids = {};\r\n\t// adds marked timespan to collections, persistent\r\n\tscheduler.addMarkedTimespan = function(configuration) {\r\n\t\tvar configs = scheduler._prepare_timespan_options(configuration);\r\n\t\tif (!configs.length)\r\n\t\t\treturn; // options are incorrect, nothing to mark\r\n\r\n\t\tvar id = configs[0].id;\r\n\t\tfor (var i=0; i<configs.length; i++) {\r\n\t\t\tscheduler._addMarkerTimespanConfig(configs[i]);\r\n\t\t}\r\n\t\treturn id;\r\n\t};\r\n\t// not used for now\r\n\tscheduler._add_timespan_zones = function(current_zones, zones) {\r\n\t\tvar resulting_zones = current_zones.slice();\r\n\t\tzones = zones.slice();\r\n\r\n\t\tif (!resulting_zones.length)\r\n\t\t\treturn zones;\r\n\r\n\t\tfor (var i=0; i<resulting_zones.length; i+=2) {\r\n\t\t\tvar c_zone_start = resulting_zones[i];\r\n\t\t\tvar c_zone_end = resulting_zones[i+1];\r\n\t\t\tvar isLast = (i+2 == resulting_zones.length);\r\n\r\n\t\t\tfor (var k=0; k<zones.length; k+=2) {\r\n\t\t\t\tvar zone_start = zones[k];\r\n\t\t\t\tvar zone_end = zones[k+1];\r\n\t\t\t\tif ((zone_end > c_zone_end && zone_start <= c_zone_end) || (zone_start < c_zone_start && zone_end >= c_zone_start)) {\r\n\t\t\t\t\tresulting_zones[i] = Math.min(c_zone_start, zone_start);\r\n\t\t\t\t\tresulting_zones[i+1] = Math.max(c_zone_end, zone_end);\r\n\t\t\t\t\ti -= 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!isLast) // do nothing, maybe next current zone will match or will be last\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tvar offset = (c_zone_start > zone_start)?0:2;\r\n\t\t\t\t\tresulting_zones.splice(i+offset, 0, zone_start, zone_end); // last current zone, need to add another\r\n\t\t\t\t}\r\n\t\t\t\tzones.splice(k--,2); // zone was merged or added, need to exclude it\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resulting_zones;\r\n\t};\r\n\tscheduler._subtract_timespan_zones = function(current_zones, zones) {\r\n\t\tvar resulting_zones = current_zones.slice();\r\n\t\tfor (var i=0; i<resulting_zones.length; i+=2 ) {\r\n\t\t\tvar c_zone_start = resulting_zones[i];// current_zone_start\r\n\t\t\tvar c_zone_end = resulting_zones[i+1];\r\n\t\t\tfor (var k=0; k<zones.length; k+=2) {\r\n\t\t\t\tvar zone_start = zones[k];\r\n\t\t\t\tvar zone_end = zones[k+1];\r\n\t\t\t\tif (zone_end > c_zone_start && zone_start < c_zone_end) {\r\n\t\t\t\t\tvar is_modified = false;\r\n\t\t\t\t\tif (c_zone_start >= zone_start && c_zone_end <= zone_end) {\r\n\t\t\t\t\t\tresulting_zones.splice(i, 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c_zone_start < zone_start) {\r\n\t\t\t\t\t\tresulting_zones.splice(i, 2, c_zone_start, zone_start);\r\n\t\t\t\t\t\tis_modified = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c_zone_end > zone_end) {\r\n\t\t\t\t\t\tresulting_zones.splice( (is_modified)?(i+2):i, (is_modified)?0:2, zone_end, c_zone_end);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti -= 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resulting_zones;\r\n\t};\r\n\tscheduler.invertZones = function(zones) {\r\n\t\treturn scheduler._subtract_timespan_zones([0, 1440], zones.slice());\r\n\t};\r\n\tscheduler._delete_marked_timespan_by_id = function(id) {\r\n\t\tvar configs = scheduler._marked_timespans_ids[id];\r\n\t\tif (configs) {\r\n\t\t\tfor (var i=0; i<configs.length; i++) {\r\n\t\t\t\tvar config = configs[i];\r\n\t\t\t\tvar parent_array = config._array;\r\n\t\t\t\tfor (var k=0; k<parent_array.length; k++) {\r\n\t\t\t\t\tif (parent_array[k] == config) {\r\n\t\t\t\t\t\tparent_array.splice(k, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._delete_marked_timespan_by_config = function(config) {\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar sections = config.sections;\r\n\t\tvar day = config.days;\r\n\t\tvar type = config.type||default_timespan_type;\r\n\t\tvar viewspans;\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key) && timespans[view_key]) {\r\n\t\t\t\t\tvar unit_id = sections[view_key];\r\n\t\t\t\t\tif (timespans[view_key][unit_id]){\r\n\t\t\t\t\t\tviewspans = timespans[view_key][unit_id];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tviewspans = timespans.global;\r\n\t\t}\r\n\r\n\t\tif(viewspans) {\r\n\t\t\tif (day !== undefined) {\r\n\t\t\t\tif (viewspans[day] && viewspans[day][type]) {\r\n\t\t\t\t\tscheduler._addMarkerTimespanConfig(config); // register config in order to be able to delete recurring timespan from a specific day\r\n\t\t\t\t\tscheduler._delete_marked_timespans_list(viewspans[day][type], config);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (var d in viewspans) {\r\n\t\t\t\t\tif (viewspans[d][type]) {\r\n\t\t\t\t\t\tvar dayConfig = scheduler._lame_clone(config);\r\n\t\t\t\t\t\tconfig.days = d;\r\n\t\t\t\t\t\tscheduler._addMarkerTimespanConfig(dayConfig); // register config in order to be able to delete recurring timespan from a specific day\r\n\t\t\t\t\t\tscheduler._delete_marked_timespans_list(viewspans[d][type], config);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._delete_marked_timespans_list = function(day_timespans, config){\r\n\t\tfor (var i=0; i<day_timespans.length; i++) {\r\n\t\t\tvar d_t = day_timespans[i];\r\n\t\t\tvar zones = scheduler._subtract_timespan_zones(d_t.zones, config.zones);\r\n\t\t\tif (zones.length)\r\n\t\t\t\td_t.zones = zones;\r\n\t\t\telse {\r\n\t\t\t\tday_timespans.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t\t// need to update ids collection\r\n\t\t\t\tvar related_zones = scheduler._marked_timespans_ids[d_t.id];\r\n\t\t\t\tfor (var k=0; k<related_zones.length; k++) {\r\n\t\t\t\t\tif (related_zones[k] == d_t) {\r\n\t\t\t\t\t\trelated_zones.splice(k, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler.deleteMarkedTimespan = function(configuration) {\r\n\t\t// delete everything\r\n\t\tif (!arguments.length) {\r\n\t\t\tscheduler._marked_timespans = { global: {} };\r\n\t\t\tscheduler._marked_timespans_ids = {};\r\n\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t}\r\n\r\n\t\tif (typeof configuration != \"object\") { // id was passed\r\n\t\t\tscheduler._delete_marked_timespan_by_id(configuration);\r\n\t\t} else { // normal configuration was passed\r\n\r\n\t\t\tif(!(configuration.start_date && configuration.end_date)){\r\n\t\t\t\tif(configuration.days === undefined && !configuration.type)\r\n\t\t\t\t\tconfiguration.days = \"fullweek\";\r\n\t\t\t\tif(!configuration.zones)\r\n\t\t\t\t\tconfiguration.zones = \"fullday\";\r\n\t\t\t}\r\n\r\n\t\t\tvar types = [];\r\n\t\t\tif(!configuration.type){\r\n\t\t\t\t//if type not specified - delete timespans of all types\r\n\t\t\t\tfor(var type in scheduler._marked_timespans_types){\r\n\t\t\t\t\ttypes.push(type);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ttypes.push(configuration.type);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar configs = scheduler._prepare_timespan_options(configuration);\r\n\r\n\t\t\tfor (var i=0; i<configs.length; i++) {\r\n\r\n\t\t\t\tvar config = configs[i];\r\n\t\t\t\tfor( var t=0; t < types.length; t++){\r\n\t\t\t\t\tvar typedConfig = scheduler._lame_clone(config);\r\n\t\t\t\t\ttypedConfig.type = types[t];\r\n\t\t\t\t\tscheduler._delete_marked_timespan_by_config(typedConfig);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\tscheduler._get_types_to_render = function(common, specific) {\r\n\t\tvar types_to_render = (common) ? scheduler._lame_copy({},common) : {};\r\n\t\tfor (var type in specific||{} ) {\r\n\t\t\tif (specific.hasOwnProperty(type)) {\r\n\t\t\t\ttypes_to_render[type] = specific[type];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn types_to_render;\r\n\t};\r\n\tscheduler._get_configs_to_render = function(types) {\r\n\t\tvar configs = [];\r\n\t\tfor (var type in types) {\r\n\t\t\tif (types.hasOwnProperty(type)) {\r\n\t\t\t\tconfigs.push.apply(configs, types[type]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn configs;\r\n\t};\r\n\r\n\tscheduler._on_scale_add_marker = function(area, day){\r\n\t\tif (scheduler._table_view && scheduler._mode != \"month\")\r\n\t\t\treturn;\r\n\r\n\t\tvar day_index = day.getDay();\r\n\t\tvar day_value = day.valueOf();\r\n\t\tvar mode = this._mode;\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar r_configs = [];\r\n\t\tvar divs = [];\r\n\t\tif (this._props && this._props[mode]) { // we are in the units view and need to draw it's sections as well\r\n\t\t\tvar view = this._props[mode]; // units view object\r\n\t\t\tvar units = view.options;\r\n\t\t\tvar index = scheduler._get_unit_index(view, day);\r\n\t\t\tvar unit = units[index]; // key, label\r\n\r\n\t\t\tif(!(view.days > 1)){\r\n\t\t\t\tday = scheduler.date.date_part(new Date(this._date)); // for units view actually only 1 day is displayed yet the day variable will change, need to use this._date for all calls\r\n\t\t\t}else{\r\n\t\t\t\tvar dx = 24*60*60*1000;\r\n\t\t\t\tvar day_ind = Math.round((day - scheduler._min_date)/dx);\r\n\t\t\t\tvar unitsPerDay = view.size || units.length;\r\n\t\t\t\tday = scheduler.date.add(scheduler._min_date, Math.floor(day_ind/unitsPerDay), \"day\"); // to the \"same\" day for all sections\r\n\t\t\t\tday = scheduler.date.date_part(day);\r\n\t\t\t}\r\n\t\t\tday_index = day.getDay();\r\n\t\t\tday_value = day.valueOf();\r\n\r\n\t\t\tif (timespans[mode] && timespans[mode][unit.key]) {\r\n\t\t\t\tvar unit_zones = timespans[mode][unit.key];\r\n\t\t\t\tvar unit_types = scheduler._get_types_to_render(unit_zones[day_index], unit_zones[day_value]);\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(unit_types));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar global_data = timespans[\"global\"];\r\n\r\n\t\tif(scheduler.config.overwrite_marked_timespans){\r\n\t\t\tvar day_types = global_data[day_value]||global_data[day_index];\r\n\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(day_types));\r\n\t\t} else {\r\n\t\t\tif(global_data[day_value]){\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(global_data[day_value]));\r\n\t\t\t}\r\n\t\t\tif(global_data[day_index]){\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(global_data[day_index]));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i<r_configs.length; i++) {\r\n\t\t\tdivs.push.apply(divs, (scheduler._render_marked_timespan(r_configs[i], area, day)));\r\n\t\t}\r\n\t\treturn divs;\r\n\t};\r\n\tscheduler.attachEvent(\"onScaleAdd\", function(){\r\n\t\tscheduler._on_scale_add_marker.apply(scheduler, arguments);\r\n\t});\r\n\r\n\tscheduler.dblclick_dhx_marked_timespan = function(e,src){\r\n\t\tscheduler.callEvent(\"onScaleDblClick\",[scheduler.getActionData(e).date,src,e]);\r\n\r\n\t\tif (scheduler.config.dblclick_create){\r\n\t\t\tscheduler.addEventNow(scheduler.getActionData(e).date,null,e);\r\n\t\t}\r\n\t};\r\n\r\n};\r\nscheduler._temp_limit_scope();\r\n\r\n\r\n}","export default function(scheduler){\r\n /* global google */\r\n\r\nif(!scheduler.ext){\r\n\tscheduler.ext = {};\r\n}\r\nscheduler.ext.mapView = {\r\n\tgeocoder: null,\r\n\tmap: null,\r\n\tpoints: null,\r\n\tmarkers: null,\r\n\tinfoWindow: null,\r\n\tcreateMarker: function(config){\r\n\t\treturn new google.maps.Marker(config);\r\n\t}\r\n};\r\n\r\n\r\nscheduler.xy.map_date_width = 188; // date column width\r\nscheduler.xy.map_icon_width = 25; // event details icon width\r\nscheduler.xy.map_description_width = 400; // description column width\r\n\r\nscheduler.config.map_resolve_event_location = true; // if events in database doesn't have lat and lng values there will be an attempt to resolve them on event loading, useful for migration\r\nscheduler.config.map_resolve_user_location = true; // if user will be promted to share his location to display it on the map\r\n\r\nscheduler.config.map_initial_position = new google.maps.LatLng(48.724, 8.215); // initial position of the map\r\nscheduler.config.map_error_position = new google.maps.LatLng(15, 15); // this position will be displayed in case if event doesn't have corresponding coordinates\r\n\r\nscheduler.config.map_infowindow_max_width = 300;\r\n\r\nscheduler.config.map_type = google.maps.MapTypeId.ROADMAP;\r\n\r\nscheduler.config.map_zoom_after_resolve = 15;\r\n\r\nscheduler.locale.labels.marker_geo_success = \"It seems you are here.\";\r\nscheduler.locale.labels.marker_geo_fail = \"Sorry, could not get your current position using geolocation.\";\r\n\r\nscheduler.templates.marker_date = scheduler.date.date_to_str(\"%Y-%m-%d %H:%i\"); // date for map's infowindow will be formatted following way\r\n\r\nscheduler.templates.marker_text = function(start, end, ev) {\r\n\treturn \"<div><b>\" + ev.text + \"</b><br/><br/>\" + (ev.event_location || '') + \"<br/><br/>\" + scheduler.templates.marker_date(start) + \" - \" + scheduler.templates.marker_date(end) + \"</div>\";\r\n};\r\nscheduler.dblclick_dhx_map_area = function() {\r\n\tif (!this.config.readonly && this.config.dblclick_create)\r\n\t\tthis.addEventNow({\r\n\t\t\tstart_date: scheduler._date,\r\n\t\t\tend_date: scheduler.date.add(scheduler._date, scheduler.config.time_step, \"minute\")\r\n\t\t});\r\n};\r\nscheduler.templates.map_time = function(start, end, ev) {\r\n\tif (scheduler.config.rtl && !ev._timed) {\r\n\t\treturn scheduler.templates.day_date(end) + \" &ndash; \" + scheduler.templates.day_date(start);\r\n\t} else if (ev._timed) {\r\n\t\treturn this.day_date(ev.start_date, ev.end_date, ev) + \" \" + this.event_date(start);\r\n\t} else {\r\n\t\treturn scheduler.templates.day_date(start) + \" &ndash; \" + scheduler.templates.day_date(end);\r\n\t}\r\n};\r\nscheduler.templates.map_text = function(start, end, ev) {\r\n\treturn ev.text;\r\n};\r\n\r\nscheduler.date.map_start = function(d) {\r\n\treturn d;\r\n};\r\nscheduler.date.add_map = function(date, inc, mode) {\r\n\treturn (new Date(date.valueOf()));\r\n};\r\n\r\nscheduler.templates.map_date = function(dd, ed, mode) {\r\n\treturn '';\r\n};\r\n\r\nscheduler._latLngUpdate = false; // flag for not displaying event second time in case of coordinates update\r\n\r\nscheduler.attachEvent(\"onSchedulerReady\", function() {\r\n\tscheduler._isMapPositionSet = false; // if user actual (geolocation) position was set on the map\r\n\r\n\tconst gmap = document.createElement('div');\r\n\tgmap.className = 'dhx_map';\r\n\tgmap.id = 'dhx_gmap';\r\n\tgmap.style.display = \"none\";\r\n\r\n\tscheduler._obj.appendChild(gmap);\r\n\r\n\tscheduler._els.dhx_gmap = [];\r\n\tscheduler._els.dhx_gmap.push(gmap);\r\n\r\n\t_setMapSize('dhx_gmap');\r\n\r\n\tconst mapOptions = {\r\n\t\tzoom: scheduler.config.map_initial_zoom || 10,\r\n\t\tcenter: scheduler.config.map_initial_position,\r\n\t\tmapTypeId: scheduler.config.map_type || google.maps.MapTypeId.ROADMAP\r\n\t};\r\n\tconst map = new google.maps.Map(document.getElementById('dhx_gmap'), mapOptions);\r\n\tmap.disableDefaultUI = false;\r\n\tmap.disableDoubleClickZoom = !scheduler.config.readonly;\r\n\r\n\tgoogle.maps.event.addListener(map, \"dblclick\", function(event) {\r\n\t\tconst geocoder = scheduler.ext.mapView.geocoder;\r\n\r\n\t\tif (!scheduler.config.readonly && scheduler.config.dblclick_create) {\r\n\t\t\tvar point = event.latLng;\r\n\t\t\tgeocoder.geocode(\r\n\t\t\t\t{ 'latLng': point },\r\n\t\t\t\tfunction(results, status) {\r\n\t\t\t\t\tif (status == google.maps.GeocoderStatus.OK) {\r\n\t\t\t\t\t\tpoint = results[0].geometry.location;\r\n\t\t\t\t\t\tscheduler.addEventNow({\r\n\t\t\t\t\t\t\tlat: point.lat(),\r\n\t\t\t\t\t\t\tlng: point.lng(),\r\n\t\t\t\t\t\t\tevent_location: results[0].formatted_address,\r\n\t\t\t\t\t\t\tstart_date: scheduler._date,\r\n\t\t\t\t\t\t\tend_date: scheduler.date.add(scheduler._date, scheduler.config.time_step, \"minute\")\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tvar infoWindowOptions = {\r\n\t\tcontent: ''\r\n\t};\r\n\r\n\tif (scheduler.config.map_infowindow_max_width) {\r\n\t\tinfoWindowOptions.maxWidth = scheduler.config.map_infowindow_max_width;\r\n\t}\r\n\r\n\tscheduler.map = {\r\n\t\t_points: [],\r\n\t\t_markers: [],\r\n\t\t_infowindow: new google.maps.InfoWindow(infoWindowOptions),\r\n\t\t_infowindows_content: [],\r\n\t\t_initialization_count: -1,\r\n\t\t_obj: map\r\n\t};\r\n\r\n\tscheduler.ext.mapView.geocoder = new google.maps.Geocoder();\r\n\tscheduler.ext.mapView.map = map;\r\n\tscheduler.ext.mapView.points = scheduler.map._points;\r\n\tscheduler.ext.mapView.markers = scheduler.map._markers;\r\n\tscheduler.ext.mapView.infoWindow = scheduler.map._infowindow;\r\n\r\n\tif (scheduler.config.map_resolve_user_location) {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tif (!scheduler._isMapPositionSet) {\r\n\t\t\t\tnavigator.geolocation.getCurrentPosition(function(position) {\r\n\t\t\t\t\tvar _userLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\t\t\t\t\tmap.setCenter(_userLocation);\r\n\t\t\t\t\tmap.setZoom(scheduler.config.map_zoom_after_resolve || 10);\r\n\t\t\t\t\tscheduler.map._infowindow.setContent(scheduler.locale.labels.marker_geo_success);\r\n\t\t\t\t\tscheduler.map._infowindow.position = map.getCenter();\r\n\t\t\t\t\tscheduler.map._infowindow.open(map);\r\n\r\n\t\t\t\t\tscheduler._isMapPositionSet = true;\r\n\t\t\t\t},\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\tscheduler.map._infowindow.setContent(scheduler.locale.labels.marker_geo_fail);\r\n\t\t\t\t\t\t\tscheduler.map._infowindow.setPosition(map.getCenter());\r\n\t\t\t\t\t\t\tscheduler.map._infowindow.open(map);\r\n\t\t\t\t\t\t\tscheduler._isMapPositionSet = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tgoogle.maps.event.addListener(map, \"resize\", function(event) {\r\n\t\tgmap.style.zIndex = '5';\r\n\t\tmap.setZoom(map.getZoom());\r\n\r\n\t});\r\n\tgoogle.maps.event.addListener(map, \"tilesloaded\", function(event) {\r\n\t\tgmap.style.zIndex = '5';\r\n\t});\r\n\r\n\tgmap.style.display = 'none'; // property was changed after attaching map\r\n\r\n\tconst old = scheduler.render_data;\r\n\tscheduler.render_data = function(evs, hold) {\r\n\t\tif (this._mode == \"map\") {\r\n\t\t\tfill_map_tab();\r\n\t\t\tvar events = scheduler.get_visible_events();\r\n\t\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\t\tif (!scheduler.map._markers[events[i].id]) {\r\n\t\t\t\t\tshowAddress(events[i], false, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\treturn old.apply(this, arguments);\r\n\t};\r\n\r\n\tfunction set_full_view(mode) {\r\n\t\tif (mode) {\r\n\t\t\tvar l = scheduler.locale.labels;\r\n\t\t\tscheduler._els[\"dhx_cal_header\"][0].innerHTML = \"<div class='dhx_map_head' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(scheduler.xy.map_date_width + scheduler.xy.map_description_width + 2) + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"px;' ><div class='headline_date' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscheduler.xy.map_date_width + \"px;'>\" + l.date + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</div><div class='headline_description' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscheduler.xy.map_description_width + \"px;'>\" + l.description + \"</div></div>\";\r\n\t\t\tscheduler._table_view = true;\r\n\t\t\tscheduler.set_sizes();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction clear_map_tab() {\r\n\t\tscheduler._selected_event_id = null;\r\n\t\tscheduler.map._infowindow.close();\r\n\t\tvar markers = scheduler.map._markers;\r\n\t\tfor (var key in markers) {\r\n\t\t\tif (markers.hasOwnProperty(key)) {\r\n\t\t\t\tmarkers[key].setMap(null);\r\n\t\t\t\tdelete scheduler.map._markers[key];\r\n\t\t\t\tif (scheduler.map._infowindows_content[key])\r\n\t\t\t\t\tdelete scheduler.map._infowindows_content[key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fill_map_tab() {\r\n\t\t//select events for which data need to be printed\r\n\t\tvar events = scheduler.get_visible_events();\r\n\t\tevents.sort(function(a, b) {\r\n\t\t\tif(a.start_date.valueOf()==b.start_date.valueOf())\r\n\t\t\t\treturn a.id>b.id?1:-1;\r\n\t\t\treturn a.start_date>b.start_date?1:-1;\r\n\t\t});\r\n\r\n\t\t//generate html for the view\r\n\t\tvar ariaAttr = scheduler._waiAria.mapAttrString();\r\n\r\n\t\tvar html = \"<div \"+ariaAttr+\" class='dhx_map_area'>\";\r\n\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\tvar ev = events[i];\r\n\t\t\tvar event_class = (ev.id == scheduler._selected_event_id) ? 'dhx_map_line highlight' : 'dhx_map_line';\r\n\t\t\tvar bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\t\t\tvar color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\t\t\tvar ariaAttr = scheduler._waiAria.mapRowAttrString(ev);\r\n\t\t\tvar ariaButtonAttr = scheduler._waiAria.mapDetailsBtnString();\r\n\r\n\t\t\thtml += \"<div \"+ariaAttr+\" class='\" + event_class + \"' event_id='\" + ev.id + \"' \"+scheduler.config.event_attribute+\"='\"+ev.id+\"' style='\" + bg_color + \"\" + color + \"\" + (ev._text_style || \"\") + \" width: \" + (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 2) + \"px;'><div class='dhx_map_event_time' style='width: \" + scheduler.xy.map_date_width + \"px;' >\" + scheduler.templates.map_time(ev.start_date, ev.end_date, ev) + \"</div>\";\r\n\t\t\thtml += `<div ${ariaButtonAttr} class='dhx_event_icon icon_details'><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z\" fill=\"#A1A4A6\"/>\r\n\t\t\t</svg></div>`;\r\n\t\t\thtml += \"<div class='line_description' style='width:\" + (scheduler.xy.map_description_width - scheduler.xy.map_icon_width) + \"px;'>\" + scheduler.templates.map_text(ev.start_date, ev.end_date, ev) + \"</div></div>\"; // -25 = icon size 20 and padding 5\r\n\t\t}\r\n\t\thtml += \"<div class='dhx_v_border' style=\"+(scheduler.config.rtl ? \"'right: \" : \"'left: \") + (scheduler.xy.map_date_width - 1) + \"px;'></div><div class='dhx_v_border_description'></div></div>\";\r\n\r\n\t\t//render html\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = 0; //fix flickering in FF\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t//\tscheduler._els[\"dhx_cal_data\"][0].style.width = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\r\n\t\tvar t = scheduler._els[\"dhx_cal_data\"][0].firstChild.childNodes;\r\n\r\n\t\tvar dateElement = scheduler._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML=scheduler.templates[scheduler._mode + \"_date\"](scheduler._min_date, scheduler._max_date, scheduler._mode);\r\n\t\t}\r\n\r\n\t\tscheduler._rendered = [];\r\n\t\tfor (var i = 0; i < t.length - 2; i++) {\r\n\t\t\tscheduler._rendered[i] = t[i];\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _setMapSize(elem_id) { //input - map's div id\r\n\t\tvar map = document.getElementById(elem_id);\r\n\t\tconst nav_height = scheduler.$container.querySelector(\".dhx_cal_navline\").offsetHeight;\r\n\t\tvar height = scheduler._y - nav_height;\r\n\t\tif (height < 0)\r\n\t\t\theight = 0;\r\n\t\tvar width = scheduler._x - scheduler.xy.map_date_width - scheduler.xy.map_description_width - 1;\r\n\t\tif (width < 0)\r\n\t\t\twidth = 0;\r\n\t\tmap.style.height = height + 'px';\r\n\t\tmap.style.width = width + 'px';\r\n\t\tmap.style.position = \"absolute\";\r\n\t\tmap.style.top = nav_height + \"px\";\r\n\t\tif (scheduler.config.rtl) {\r\n\t\t\tmap.style.marginRight = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\t\t} else {\r\n\t\t\tmap.style.marginLeft = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\t\t}\r\n\t\tmap.style.marginTop = (scheduler.xy.nav_height + 2) + 'px';\r\n\t}\r\n\r\n\tscheduler.map_view = function(mode) {\r\n\t\tscheduler.map._initialization_count++;\r\n\t\tvar gmap = scheduler._els.dhx_gmap[0];\r\n\t\tvar temp_center;\r\n\t\t//scheduler._els.dhx_cal_data[0].style.width = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\r\n\t\tscheduler._min_date = scheduler.config.map_start || (scheduler._currentDate());\r\n\t\tscheduler._max_date = scheduler.config.map_end || scheduler.date.add(scheduler._currentDate(), 1, \"year\");\r\n\r\n\t\tscheduler._table_view = true;\r\n\t\tset_full_view(mode);\r\n\r\n\t\tif (mode) { //map tab activated\r\n\t\t\tclear_map_tab();\r\n\t\t\tfill_map_tab();\r\n\t\t\tgmap.style.display = 'block';\r\n\r\n\t\t\t// need to resize block every time window is resized\r\n\t\t\t_setMapSize('dhx_gmap');\r\n\t\t\ttemp_center = scheduler.map._obj.getCenter();\r\n\r\n\t\t\tvar events = scheduler.get_visible_events();\r\n\t\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\t\tif (!scheduler.map._markers[events[i].id]) {\r\n\t\t\t\t\tshowAddress(events[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else { //map tab de-activated\r\n\t\t\tgmap.style.display = 'none';\r\n\t\t}\r\n\t\tgoogle.maps.event.trigger(scheduler.map._obj, 'resize');\r\n\r\n\t\tif (scheduler.map._initialization_count === 0 && temp_center) { // if tab is activated for the first time need to fix position\r\n\t\t\tscheduler.map._obj.setCenter(temp_center);\r\n\t\t}\r\n\r\n\t\tif (scheduler._selected_event_id) {\r\n\t\t\tselectEvent(scheduler._selected_event_id);\r\n\t\t}\r\n\t};\r\n\r\n\tvar selectEvent = function(event_id) {\r\n\t\tscheduler.map._obj.setCenter(scheduler.map._points[event_id]);\r\n\t\tscheduler.callEvent(\"onClick\", [event_id]);\r\n\t};\r\n\r\n\tvar showAddress = function(event, setCenter, performClick) { // what if event have incorrect position from the start?\r\n\t\tvar point = scheduler.config.map_error_position;\r\n\t\tif (event.lat && event.lng) {\r\n\t\t\tpoint = new google.maps.LatLng(event.lat, event.lng);\r\n\t\t}\r\n\t\tvar message = scheduler.templates.marker_text(event.start_date, event.end_date, event);\r\n\t\tif (!scheduler._new_event) {\r\n\r\n\t\t\tscheduler.map._infowindows_content[event.id] = message;\r\n\r\n\t\t\tif (scheduler.map._markers[event.id])\r\n\t\t\t\tscheduler.map._markers[event.id].setMap(null);\r\n\r\n\t\t\tscheduler.map._markers[event.id] = scheduler.ext.mapView.createMarker({\r\n\t\t\t\tposition: point,\r\n\t\t\t\tmap: scheduler.map._obj\r\n\t\t\t});\r\n\r\n\t\t\tgoogle.maps.event.addListener(scheduler.map._markers[event.id], 'click', function() {\r\n\t\t\t\tscheduler.map._infowindow.setContent(scheduler.map._infowindows_content[event.id]);\r\n\t\t\t\tscheduler.map._infowindow.open(scheduler.map._obj, scheduler.map._markers[event.id]);\r\n\t\t\t\tscheduler._selected_event_id = event.id;\r\n\t\t\t\tscheduler.render_data();\r\n\t\t\t});\r\n\t\t\tscheduler.map._points[event.id] = point;\r\n\r\n\t\t\tif (setCenter) scheduler.map._obj.setCenter(scheduler.map._points[event.id]);\r\n\t\t\tif (performClick) scheduler.callEvent(\"onClick\", [event.id]);\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onClick\", function(id, domEvent) {\r\n\t\tif (this._mode == \"map\") {\r\n\t\t\tscheduler._selected_event_id = id;\r\n\t\t\tfor (var i = 0; i < scheduler._rendered.length; i++) {\r\n\t\t\t\tscheduler._rendered[i].className = 'dhx_map_line';\r\n\t\t\t\tif (scheduler._rendered[i].getAttribute(scheduler.config.event_attribute) == id) {\r\n\t\t\t\t\tscheduler._rendered[i].className += \" highlight\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (scheduler.map._points[id] && scheduler.map._markers[id]) {\r\n\t\t\t\tscheduler.map._obj.setCenter(scheduler.map._points[id]); // was panTo\r\n\t\t\t\tgoogle.maps.event.trigger(scheduler.map._markers[id], 'click');\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tvar _displayEventOnMap = function(event) {\r\n\t\tconst geocoder = scheduler.ext.mapView.geocoder;\r\n\t\tif (event.event_location && geocoder) {\r\n\t\t\tgeocoder.geocode(\r\n\t\t\t\t{\r\n\t\t\t\t\t'address': event.event_location,\r\n\t\t\t\t\t'language': scheduler.uid().toString()\r\n\t\t\t\t},\r\n\t\t\t\tfunction(results, status) {\r\n\t\t\t\t\tvar point = {};\r\n\t\t\t\t\tif (status != google.maps.GeocoderStatus.OK) {\r\n\t\t\t\t\t\tpoint = scheduler.callEvent(\"onLocationError\", [event.id]);\r\n\t\t\t\t\t\tif (!point || point === true)\r\n\t\t\t\t\t\t\tpoint = scheduler.config.map_error_position;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpoint = results[0].geometry.location;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.lat = point.lat();\r\n\t\t\t\t\tevent.lng = point.lng();\r\n\r\n\t\t\t\t\tscheduler._selected_event_id = event.id;\r\n\r\n\t\t\t\t\tscheduler._latLngUpdate = true;\r\n\t\t\t\t\tscheduler.callEvent(\"onEventChanged\", [event.id, event]);\r\n\t\t\t\t\tshowAddress(event, true, true);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tshowAddress(event, true, true);\r\n\t\t}\r\n\t};\r\n\r\n\tvar _updateEventLocation = function(event) { // update lat and lng in database\r\n\t\tconst geocoder = scheduler.ext.mapView.geocoder;\r\n\t\tif (event.event_location && geocoder) {\r\n\t\t\tgeocoder.geocode(\r\n\t\t\t\t{\r\n\t\t\t\t\t'address': event.event_location,\r\n\t\t\t\t\t'language': scheduler.uid().toString()\r\n\t\t\t\t},\r\n\t\t\t\tfunction(results, status) {\r\n\t\t\t\t\tvar point = {};\r\n\t\t\t\t\tif (status != google.maps.GeocoderStatus.OK) {\r\n\t\t\t\t\t\tpoint = scheduler.callEvent(\"onLocationError\", [event.id]);\r\n\t\t\t\t\t\tif (!point || point === true)\r\n\t\t\t\t\t\t\tpoint = scheduler.config.map_error_position;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpoint = results[0].geometry.location;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tevent.lat = point.lat();\r\n\t\t\t\t\tevent.lng = point.lng();\r\n\t\t\t\t\tscheduler._latLngUpdate = true;\r\n\t\t\t\t\tscheduler.callEvent(\"onEventChanged\", [event.id, event]);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tvar _delay = function(method, object, params, delay) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tvar ret = method.apply(object, params);\r\n\t\t\tmethod = object = params = null;\r\n\t\t\treturn ret;\r\n\t\t}, delay || 1);\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onEventChanged\", function(id, event) {\r\n\t\tif (!this._latLngUpdate) {\r\n\t\t\tvar event = scheduler.getEvent(id);\r\n\t\t\tif ((event.start_date < scheduler._min_date && event.end_date > scheduler._min_date) || (event.start_date < scheduler._max_date && event.end_date > scheduler._max_date) || (event.start_date.valueOf() >= scheduler._min_date && event.end_date.valueOf() <= scheduler._max_date)) {\r\n\t\t\t\tif (scheduler.map._markers[id])\r\n\t\t\t\t\tscheduler.map._markers[id].setMap(null);\r\n\t\t\t\t_displayEventOnMap(event);\r\n\t\t\t} else { // event no longer should be displayed on the map view\r\n\t\t\t\tscheduler._selected_event_id = null;\r\n\t\t\t\tscheduler.map._infowindow.close();\r\n\t\t\t\tif (scheduler.map._markers[id])\r\n\t\t\t\t\tscheduler.map._markers[id].setMap(null);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis._latLngUpdate = false;\r\n\t\treturn true;\r\n\t});\r\n\r\n\r\n\tscheduler.attachEvent(\"onEventIdChange\", function(old_event_id, new_event_id) {\r\n\t\tvar event = scheduler.getEvent(new_event_id);\r\n\t\tif ((event.start_date < scheduler._min_date && event.end_date > scheduler._min_date) || (event.start_date < scheduler._max_date && event.end_date > scheduler._max_date) || (event.start_date.valueOf() >= scheduler._min_date && event.end_date.valueOf() <= scheduler._max_date)) {\r\n\t\t\tif (scheduler.map._markers[old_event_id]) {\r\n\t\t\t\tscheduler.map._markers[old_event_id].setMap(null);\r\n\t\t\t\tdelete scheduler.map._markers[old_event_id];\r\n\t\t\t}\r\n\t\t\tif (scheduler.map._infowindows_content[old_event_id])\r\n\t\t\t\tdelete scheduler.map._infowindows_content[old_event_id];\r\n\t\t\t_displayEventOnMap(event);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onEventAdded\", function(id, event) {\r\n\t\tif (!scheduler._dataprocessor) {\r\n\t\t\tif ((event.start_date < scheduler._min_date && event.end_date > scheduler._min_date) || (event.start_date < scheduler._max_date && event.end_date > scheduler._max_date) || (event.start_date.valueOf() >= scheduler._min_date && event.end_date.valueOf() <= scheduler._max_date)) {\r\n\t\t\t\tif (scheduler.map._markers[id])\r\n\t\t\t\t\tscheduler.map._markers[id].setMap(null);\r\n\t\t\t\t_displayEventOnMap(event);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\t/* Test/example\r\n\t scheduler.attachEvent(\"onLocationError\", function(event_id,event_object){\r\n\t return new google.maps.LatLng(8, 8);\r\n\t });\r\n\t */\r\n\r\n\tscheduler.attachEvent(\"onBeforeEventDelete\", function(id, event) {\r\n\t\tif (scheduler.map._markers[id]) {\r\n\t\t\tscheduler.map._markers[id].setMap(null); // if new event is deleted tab != map then it doesn't have marker yet\r\n\t\t}\r\n\t\tscheduler._selected_event_id = null;\r\n\t\tscheduler.map._infowindow.close();\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler._event_resolve_delay = 1500;\r\n\tscheduler.attachEvent(\"onEventLoading\", function(event) {\r\n\t\tif (scheduler.config.map_resolve_event_location && event.event_location && !event.lat && !event.lng) { // don't delete !event.lat && !event.lng as location could change\r\n\t\t\tscheduler._event_resolve_delay += 1500;\r\n\t\t\t_delay(_updateEventLocation, this, [event], scheduler._event_resolve_delay);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onEventCancel\", function(id, is_new) {\r\n\t\tif (is_new) {\r\n\t\t\tif (scheduler.map._markers[id])\r\n\t\t\t\tscheduler.map._markers[id].setMap(null);\r\n\t\t\tscheduler.map._infowindow.close();\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nconst minicalDomEvents = scheduler._createDomEventScope();\r\n\t\r\n\r\nscheduler.config.minicalendar = {\r\n\tmark_events: true\r\n};\r\nscheduler._synced_minicalendars = [];\r\nscheduler.renderCalendar = function(obj, _prev, is_refresh) {\r\n\tvar cal = null;\r\n\tvar date = obj.date || (scheduler._currentDate());\r\n\tif (typeof date == \"string\")\r\n\t\tdate = this.templates.api_date(date);\r\n\r\n\tif (!_prev) {\r\n\t\tvar cont = obj.container;\r\n\t\tvar pos = obj.position;\r\n\r\n\t\tif (typeof cont == \"string\")\r\n\t\t\tcont = document.getElementById(cont);\r\n\r\n\t\tif (typeof pos == \"string\")\r\n\t\t\tpos = document.getElementById(pos);\r\n\t\tif (pos && (typeof pos.left == \"undefined\" && typeof pos.right == \"undefined\")) {\r\n\t\t\tvar tpos = scheduler.$domHelpers.getOffset(pos);\r\n\t\t\tpos = {\r\n\t\t\t\ttop: tpos.top + pos.offsetHeight,\r\n\t\t\t\tleft: tpos.left\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (!cont)\r\n\t\t\tcont = scheduler._get_def_cont(pos);\r\n\r\n\t\tcal = this._render_calendar(cont, date, obj);\r\n\t\r\n\t\tif (!cal.$_eventAttached) {\r\n\t\t\tcal.$_eventAttached = true;\r\n\t\t\tminicalDomEvents.attach(cal, \"click\", (function(e) {\r\n\t\t\t\tvar src = e.target || e.srcElement;\r\n\r\n\t\t\t\tvar $dom = scheduler.$domHelpers;\r\n\t\t\t\tif ($dom.closest(src, \".dhx_month_head\")) {\r\n\t\t\t\t\tif (!$dom.closest(src, \".dhx_after\") && !$dom.closest(src, \".dhx_before\")) {\r\n\r\n\t\t\t\t\t\tvar cellRoot = $dom.closest(src, \"[data-cell-date]\");\r\n\t\t\t\t\t\tvar dateAttribute = cellRoot.getAttribute(\"data-cell-date\");\r\n\t\t\t\t\t\tvar newDate = scheduler.templates.parse_date(dateAttribute);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tscheduler.unmarkCalendar(this);\r\n\t\t\t\t\t\tscheduler.markCalendar(this, newDate, \"dhx_calendar_click\");\r\n\t\t\t\t\t\tthis._last_date = newDate;\r\n\t\t\t\t\t\tif (this.conf.handler) this.conf.handler.call(scheduler, newDate, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).bind(cal));\r\n\t\t}\r\n\t\r\n\t} else {\r\n\t\tcal = this._render_calendar(_prev.parentNode, date, obj, _prev);\r\n\t\tscheduler.unmarkCalendar(cal);\r\n\t}\r\n\r\n\tif (scheduler.config.minicalendar.mark_events) {\r\n\t\tvar start = scheduler.date.month_start(date);\r\n\t\tvar end = scheduler.date.add(start, 1, \"month\");\r\n\t\tvar evs = this.getEvents(start, end);\r\n\t\tvar filter = this[\"filter_\" + this._mode];\r\n\t\tvar markedDates = {};\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tif (filter && !filter(ev.id, ev))\r\n\t\t\t\tcontinue;\r\n\t\t\tvar d = ev.start_date;\r\n\t\t\tif (d.valueOf() < start.valueOf())\r\n\t\t\t\td = start;\r\n\t\t\td = scheduler.date.date_part(new Date(d.valueOf()));\r\n\t\t\twhile (d < ev.end_date) {\r\n\t\t\t\tif(!markedDates[+d]) {\r\n\t\t\t\t\tmarkedDates[+d] = true;\r\n\t\t\t\t\tthis.markCalendar(cal, d, \"dhx_year_event\");\r\n\t\t\t\t}\r\n\t\t\t\td = this.date.add(d, 1, \"day\");\r\n\t\t\t\tif (d.valueOf() >= end.valueOf())\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tthis._markCalendarCurrentDate(cal);\r\n\r\n\tcal.conf = obj;\r\n\tif (obj.sync && !is_refresh)\r\n\t\tthis._synced_minicalendars.push(cal);\r\n\r\n\tif(!cal.conf._on_xle_handler){\r\n\t\tcal.conf._on_xle_handler = scheduler.attachEvent(\"onXLE\", function refreshOnLoad(){\r\n\t\t\tscheduler.updateCalendar(cal, cal.conf.date);\r\n\t\t});\r\n\t}\r\n\r\n\tif(this.config.wai_aria_attributes && this.config.wai_aria_application_role){\r\n\t\tcal.setAttribute(\"role\", \"application\");\r\n\t}\r\n\r\n\treturn cal;\r\n};\r\nscheduler._get_def_cont = function(pos) {\r\n\tif (!this._def_count) {\r\n\t\tthis._def_count = document.createElement(\"div\");\r\n\t\tthis._def_count.className = \"dhx_minical_popup\";\r\n\t\tscheduler.event(this._def_count, \"click\", function(e) { e.cancelBubble = true; });\r\n\t\tdocument.body.appendChild(this._def_count);\r\n\t}\r\n\r\n\tif(pos.left){\r\n\t\tthis._def_count.style.left = pos.left + \"px\";\r\n\t}\r\n\tif(pos.right){\r\n\t\tthis._def_count.style.right = pos.right + \"px\";\r\n\t}\r\n\tif(pos.top){\r\n\t\tthis._def_count.style.top = pos.top + \"px\";\r\n\t}\r\n\tif(pos.bottom){\r\n\t\tthis._def_count.style.bottom = pos.bottom + \"px\";\r\n\t}\r\n\r\n\tthis._def_count._created = new Date();\r\n\r\n\treturn this._def_count;\r\n};\r\nscheduler._locateCalendar = function(cal, date) {\r\n\tif (typeof date == \"string\")\r\n\t\tdate = scheduler.templates.api_date(date);\r\n\r\n\tif(+date > +cal._max_date || +date < +cal._min_date)\r\n\t\treturn null;\r\n\r\n\tvar table = cal.querySelector(\".dhx_year_body\").childNodes[0];\r\n\r\n\tvar weekNum = 0;\r\n\tvar dat = new Date(cal._min_date);\r\n\twhile(+this.date.add(dat, 1, \"week\") <= +date){\r\n\t\tdat = this.date.add(dat, 1, \"week\");\r\n\t\tweekNum++;\r\n\t}\r\n\r\n\tvar sm = scheduler.config.start_on_monday;\r\n\tvar day = (date.getDay() || (sm ? 7 : 0)) - (sm ? 1 : 0);\r\n\r\n\tconst dayCell = table.querySelector(`.dhx_cal_month_row:nth-child(${weekNum + 1}) .dhx_cal_month_cell:nth-child(${day + 1})`);\r\n\tif(dayCell) {\r\n\t\treturn dayCell.firstChild;\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n};\r\nscheduler.markCalendar = function(cal, date, css) {\r\n\tvar div = this._locateCalendar(cal, date);\r\n\tif(!div)\r\n\t\treturn;\r\n\r\n\tdiv.className += \" \" + css;\r\n};\r\nscheduler.unmarkCalendar = function(cal, date, css) {\r\n\tdate = date || cal._last_date;\r\n\tcss = css || \"dhx_calendar_click\";\r\n\tif (!date) return;\r\n\tvar el = this._locateCalendar(cal, date);\r\n\tif(!el)\r\n\t\treturn;\r\n\tel.className = (el.className || \"\").replace(RegExp(css, \"g\"));\r\n};\r\nscheduler._week_template = function(width) {\r\n\tvar summ = (width || 250);\r\n\tvar left = 0;\r\n\r\n\tvar week_template = document.createElement(\"div\");\r\n\tvar dummy_date = this.date.week_start(scheduler._currentDate());\r\n\tfor (var i = 0; i < 7; i++) {\r\n\t\tthis._cols[i] = Math.floor(summ / (7 - i));\r\n\t\tthis._render_x_header(i, left, dummy_date, week_template);\r\n\t\tdummy_date = this.date.add(dummy_date, 1, \"day\");\r\n\t\tsumm -= this._cols[i];\r\n\t\tleft += this._cols[i];\r\n\t}\r\n\tweek_template.lastChild.className += \" dhx_scale_bar_last\";\r\n\treturn week_template;\r\n};\r\nscheduler.updateCalendar = function(obj, sd) {\r\n\tobj.conf.date = sd;\r\n\tthis.renderCalendar(obj.conf, obj, true);\r\n};\r\nscheduler._mini_cal_arrows = [\"&nbsp;\", \"&nbsp;\"];\r\nscheduler._render_calendar = function(obj, sd, conf, previous) {\r\n\t/*store*/\r\n\tvar ts = scheduler.templates;\r\n\tvar temp = this._cols;\r\n\tthis._cols = [];\r\n\tvar temp2 = this._mode;\r\n\tthis._mode = \"calendar\";\r\n\tvar temp3 = this._colsS;\r\n\tthis._colsS = {height: 0};\r\n\tvar temp4 = new Date(this._min_date);\r\n\tvar temp5 = new Date(this._max_date);\r\n\tvar temp6 = new Date(scheduler._date);\r\n\tvar temp7 = ts.month_day;\r\n\tvar temp8 = this._ignores_detected; this._ignores_detected = 0;\r\n\tts.month_day = ts.calendar_date;\r\n\r\n\tsd = this.date.month_start(sd);\r\n\tvar week_template = this._week_template(obj.offsetWidth - 1 - this.config.minicalendar.padding );\r\n\r\n\tvar d;\r\n\tif (previous){\r\n\t\td = previous;\r\n\t} else {\r\n\t\td = document.createElement(\"div\");\r\n\t\td.className = \"dhx_cal_container dhx_mini_calendar\";\r\n\t}\r\n\td.setAttribute(\"date\", this._helpers.formatDate(sd));\r\n\td.innerHTML = \"<div class='dhx_year_month'></div>\" +\r\n\t\t\t\"<div class='dhx_year_grid\" +\r\n\t\t\t(scheduler.config.rtl ? \" dhx_grid_rtl'>\" : \"'>\") +\r\n\t\t\t\"<div class='dhx_year_week'>\"+(week_template ? week_template.innerHTML : \"\")+\"</div>\" +\r\n\t\t\t\"<div class='dhx_year_body'></div>\" +\r\n\t\t\"</div>\";\r\n\tvar header = d.querySelector(\".dhx_year_month\");\r\n\tvar weekHeader = d.querySelector(\".dhx_year_week\");\r\n\tvar body = d.querySelector(\".dhx_year_body\");\r\n\r\n\theader.innerHTML = this.templates.calendar_month(sd);\r\n\tif (conf.navigation) {\r\n\t\tvar move_minicalendar_date = function(calendar, diff) {\r\n\t\t\tvar date = scheduler.date.add(calendar._date, diff, \"month\");\r\n\t\t\tscheduler.updateCalendar(calendar, date);\r\n\t\t\tif (scheduler._date.getMonth() == calendar._date.getMonth() && scheduler._date.getFullYear() == calendar._date.getFullYear()) {\r\n\t\t\t\tscheduler._markCalendarCurrentDate(calendar);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar css_classnames = [\"dhx_cal_prev_button\", \"dhx_cal_next_button\"];\r\n\t\tvar css_texts = [\"left:1px;top:4px;position:absolute;\", \"left:auto; right:1px;top:4px;position:absolute;\"];\r\n\t\tvar diffs = [-1, 1];\r\n\t\tvar handler = function(diff) {\r\n\t\t\treturn function() {\t\r\n\t\t\t\tif (conf.sync) {\r\n\t\t\t\t\tvar calendars = scheduler._synced_minicalendars;\r\n\t\t\t\t\tfor (var k = 0; k < calendars.length; k++) {\r\n\t\t\t\t\t\tmove_minicalendar_date(calendars[k], diff);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (scheduler.config.rtl) {\r\n\t\t\t\t\t\tdiff = -diff;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmove_minicalendar_date(d, diff);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tvar labels = [scheduler.locale.labels.prev, scheduler.locale.labels.next];\r\n\t\tfor (var j = 0; j < 2; j++) {\r\n\t\t\tvar arrow = document.createElement(\"div\");\r\n\t\t\t//var diff = diffs[j];\r\n\t\t\tarrow.className = css_classnames[j];\r\n\r\n\t\t\tscheduler._waiAria.headerButtonsAttributes(arrow, labels[j]);\r\n\r\n\t\t\tarrow.style.cssText = css_texts[j];\r\n\t\t\tarrow.innerHTML = this._mini_cal_arrows[j];\r\n\t\t\theader.appendChild(arrow);\r\n\t\t\tminicalDomEvents.attach(arrow, \"click\", handler(diffs[j]));\r\n\t\t}\r\n\t}\r\n\td._date = new Date(sd);\r\n\r\n\td.week_start = (sd.getDay() - (this.config.start_on_monday ? 1 : 0) + 7) % 7;\r\n\r\n\tvar dd = d._min_date = this.date.week_start(sd);\r\n\td._max_date = this.date.add(d._min_date, 6, \"week\");\r\n\r\n\tthis._reset_month_scale(body, sd, dd, 6);\r\n\r\n\tif (!previous)\r\n\t\tobj.appendChild(d);\r\n\r\n\tweekHeader.style.height = (weekHeader.childNodes[0].offsetHeight - 1) + \"px\"; // dhx_year_week should have height property so that day dates would get correct position. dhx_year_week height = height of it's child (with the day name)\r\n\r\n\tvar headerId = scheduler.uid();\r\n\tscheduler._waiAria.minicalHeader(header, headerId);\r\n\tscheduler._waiAria.minicalGrid(d.querySelector(\".dhx_year_grid\"), headerId);\r\n\tscheduler._waiAria.minicalRow(weekHeader);\r\n\r\n\tvar dayHeaders = weekHeader.querySelectorAll(\".dhx_scale_bar\");\r\n\tfor(var i = 0; i < dayHeaders.length; i++){\r\n\t\tscheduler._waiAria.minicalHeadCell(dayHeaders[i]);\r\n\t}\r\n\tvar dayCells = body.querySelectorAll(\".dhx_cal_month_cell\");\r\n\tvar firstDate = new Date(dd);\r\n\tfor(var i = 0; i < dayCells.length; i++){\r\n\r\n\t\tscheduler._waiAria.minicalDayCell(dayCells[i], new Date(firstDate));\r\n\t\tfirstDate = scheduler.date.add(firstDate, 1, \"day\");\r\n\t}\r\n\r\n\tscheduler._waiAria.minicalHeader(header, headerId);\r\n\r\n\t/*restore*/\r\n\tthis._cols = temp;\r\n\tthis._mode = temp2;\r\n\tthis._colsS = temp3;\r\n\tthis._min_date = temp4;\r\n\tthis._max_date = temp5;\r\n\tscheduler._date = temp6;\r\n\tts.month_day = temp7;\r\n\tthis._ignores_detected = temp8;\r\n\treturn d;\r\n};\r\nscheduler.destroyCalendar = function(cal, force) {\r\n\tif (!cal && this._def_count && this._def_count.firstChild) {\r\n\t\tif (force || (new Date()).valueOf() - this._def_count._created.valueOf() > 500)\r\n\t\t\tcal = this._def_count.firstChild;\r\n\t}\r\n\tif (!cal) return;\r\n\tminicalDomEvents.detachAll();\r\n\t//cal.onclick = null;\r\n\tcal.innerHTML = \"\";\r\n\tif (cal.parentNode)\r\n\t\tcal.parentNode.removeChild(cal);\r\n\tif (this._def_count)\r\n\t\tthis._def_count.style.top = \"-1000px\";\r\n\r\n\tif(cal.conf && cal.conf._on_xle_handler)\r\n\t\tscheduler.detachEvent(cal.conf._on_xle_handler);\r\n};\r\nscheduler.isCalendarVisible = function() {\r\n\tif (this._def_count && parseInt(this._def_count.style.top, 10) > 0)\r\n\t\treturn this._def_count;\r\n\treturn false;\r\n};\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tscheduler.event(document.body, \"click\", function() { scheduler.destroyCalendar(); });\r\n}, {once: true});\r\n\r\n\r\n\r\nscheduler.form_blocks.calendar_time = {\r\n\trender: function(sns) {\r\n\t\tvar html = \"<span class='dhx_minical_input_wrapper'><input class='dhx_readonly dhx_minical_input' type='text' readonly='true'></span>\";\r\n\r\n\t\tvar cfg = scheduler.config;\r\n\t\tvar dt = this.date.date_part(scheduler._currentDate());\r\n\r\n\t\tvar last = 24 * 60, first = 0;\r\n\t\tif (cfg.limit_time_select) {\r\n\t\t\tfirst = 60 * cfg.first_hour;\r\n\t\t\tlast = 60 * cfg.last_hour + 1;  // to include \"17:00\" option if time select is limited\r\n\t\t}\r\n\t\tdt.setHours(first / 60);\r\n\r\n\t\tsns._time_values = [];\r\n\t\thtml += \" <select class='dhx_lightbox_time_select'>\";\r\n\t\tfor (var i = first; i < last; i += this.config.time_step * 1) { // `<` to exclude last \"00:00\" option\r\n\t\t\tvar time = this.templates.time_picker(dt);\r\n\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\r\n\t\t\tsns._time_values.push(i);\r\n\t\t\tdt = this.date.add(dt, this.config.time_step, \"minute\");\r\n\t\t}\r\n\t\thtml += \"</select>\";\r\n\r\n\t\t//var full_day = scheduler.config.full_day;\r\n\r\n\t\treturn \"<div class='dhx_section_time dhx_lightbox_minical'>\" + html + \"<span class='dhx_lightbox_minical_spacer'> &nbsp;&ndash;&nbsp; </span>\" + html + \"</div>\";\r\n\t},\r\n\tset_value: function(node, value, ev, config) {\r\n\r\n\t\tvar inputs = node.getElementsByTagName(\"input\");\r\n\t\tvar selects = node.getElementsByTagName(\"select\");\r\n\t\tvar start_date,\r\n\t\t\tend_date;\r\n\r\n\t\tvar _init_once = function(inp, date, number) {\r\n\t\t\tscheduler.event(inp, \"click\", function() {\r\n\t\t\t\tscheduler.destroyCalendar(null, true);\r\n\t\t\t\tscheduler.renderCalendar({\r\n\t\t\t\t\tposition: inp,\r\n\t\t\t\t\tdate: new Date(this._date),\r\n\t\t\t\t\tnavigation: true,\r\n\t\t\t\t\thandler: function(new_date) {\r\n\t\t\t\t\t\tinp.value = scheduler.templates.calendar_time(new_date);\r\n\t\t\t\t\t\tinp._date = new Date(new_date);\r\n\t\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t\t\tif (scheduler.config.event_duration && scheduler.config.auto_end_date && number === 0) { //first element = start date\r\n\t\t\t\t\t\t\t_update_minical_select();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tif (scheduler.config.full_day) {\r\n\t\t\tif (!node._full_day) {\r\n\t\t\t\tvar html = \"<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> \" + scheduler.locale.labels.full_day + \"&nbsp;</label></input>\";\r\n\t\t\t\tif (!scheduler.config.wide_form)\r\n\t\t\t\t\thtml = node.previousSibling.innerHTML + html;\r\n\t\t\t\tnode.previousSibling.innerHTML = html;\r\n\t\t\t\tnode._full_day = true;\r\n\t\t\t}\r\n\t\t\tvar input = node.previousSibling.getElementsByTagName(\"input\")[0];\r\n\r\n\t\t\tvar isFulldayEvent = (scheduler.date.time_part(ev.start_date) === 0 && scheduler.date.time_part(ev.end_date) === 0);\r\n\t\t\tinput.checked = isFulldayEvent;\r\n\r\n\t\t\tselects[0].disabled = input.checked;\r\n\t\t\tselects[1].disabled = input.checked;\r\n\r\n\t\t\tif (!input.$_eventAttached) {\r\n\t\t\t\tinput.$_eventAttached = true;\r\n\t\t\t\tscheduler.event(input, \"click\", function() {\r\n\t\t\t\t\tif (input.checked === true) {\r\n\t\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\t\tscheduler.form_blocks.calendar_time.get_value(node, obj);\r\n\r\n\t\t\t\t\t\tstart_date = scheduler.date.date_part(obj.start_date);\r\n\t\t\t\t\t\tend_date = scheduler.date.date_part(obj.end_date);\r\n\r\n\t\t\t\t\t\tif (+end_date == +start_date || (+end_date >= +start_date && (ev.end_date.getHours() !== 0 || ev.end_date.getMinutes() !== 0)))\r\n\t\t\t\t\t\t\tend_date = scheduler.date.add(end_date, 1, \"day\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar start = start_date || ev.start_date;\r\n\t\t\t\t\tvar end = end_date || ev.end_date;\r\n\t\t\t\t\t_attach_action(inputs[0], start);\r\n\t\t\t\t\t_attach_action(inputs[1], end);\r\n\t\t\t\t\tselects[0].value = start.getHours() * 60 + start.getMinutes();\r\n\t\t\t\t\tselects[1].value = end.getHours() * 60 + end.getMinutes();\r\n\r\n\t\t\t\t\tselects[0].disabled = input.checked;\r\n\t\t\t\t\tselects[1].disabled = input.checked;\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (scheduler.config.event_duration && scheduler.config.auto_end_date) {\r\n\r\n\t\t\tvar _update_minical_select = function () {\r\n\t\t\t\tif (!(scheduler.config.auto_end_date && scheduler.config.event_duration)){\r\n\t\t\t\t\t// setting may be disabled after the handler is attached\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tstart_date = scheduler.date.add(inputs[0]._date, selects[0].value, \"minute\");\r\n\t\t\t\tend_date = new Date(start_date.getTime() + (scheduler.config.event_duration * 60 * 1000));\r\n\r\n\t\t\t\tinputs[1].value = scheduler.templates.calendar_time(end_date);\r\n\t\t\t\tinputs[1]._date = scheduler.date.date_part(new Date(end_date));\r\n\r\n\t\t\t\tselects[1].value = end_date.getHours() * 60 + end_date.getMinutes();\r\n\t\t\t};\r\n\r\n\t\t\tif(!selects[0].$_eventAttached){\r\n\t\t\t\tselects[0].addEventListener(\"change\", _update_minical_select); // only update on first select should trigger update so user could define other end date if he wishes too\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction _attach_action(inp, date, number) {\r\n\t\t\t_init_once(inp, date, number);\r\n\t\t\tinp.value = scheduler.templates.calendar_time(date);\r\n\t\t\tinp._date = scheduler.date.date_part(new Date(date));\r\n\t\t}\r\n\r\n\t\t_attach_action(inputs[0], ev.start_date, 0);\r\n\t\t_attach_action(inputs[1], ev.end_date, 1);\r\n\t\t_init_once = function() {};\r\n\r\n\t\tfunction _round_minutes(date) {\r\n\t\t\tvar time_values = config._time_values;\r\n\t\t\tvar direct_value = date.getHours() * 60 + date.getMinutes();\r\n\t\t\tvar fixed_value = direct_value;\r\n\t\t\tvar value_found = false;\r\n\r\n\t\t\tfor (var k = 0; k < time_values.length; k++) {\r\n\t\t\t\tvar t_v = time_values[k];\r\n\t\t\t\tif (t_v === direct_value) {\r\n\t\t\t\t\tvalue_found = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (t_v < direct_value)\r\n\t\t\t\t\tfixed_value = t_v;\r\n\t\t\t}\r\n\r\n\t\t\tif(!(value_found || fixed_value))\r\n\t\t\t\treturn -1;\r\n\r\n\t\t\treturn (value_found) ? direct_value : fixed_value;\r\n\t\t}\r\n\r\n\t\tselects[0].value = _round_minutes(ev.start_date);\r\n\t\tselects[1].value = _round_minutes(ev.end_date);\r\n\r\n\t},\r\n\tget_value: function(node, ev) {\r\n\t\tvar inputs = node.getElementsByTagName(\"input\");\r\n\t\tvar selects = node.getElementsByTagName(\"select\");\r\n\r\n\t\tev.start_date = scheduler.date.add(inputs[0]._date, selects[0].value, \"minute\");\r\n\t\tev.end_date = scheduler.date.add(inputs[1]._date, selects[1].value, \"minute\");\r\n\r\n\t\tif (ev.end_date <= ev.start_date)\r\n\t\t\tev.end_date = scheduler.date.add(ev.start_date, scheduler.config.time_step, \"minute\");\r\n\t\treturn {\r\n\t\t\tstart_date: new Date(ev.start_date),\r\n\t\t\tend_date: new Date(ev.end_date)\r\n\t\t};\r\n\t},\r\n\tfocus: function(node) {\r\n\t}\r\n};\r\nscheduler.linkCalendar = function(calendar, datediff) {\r\n\tvar action = function() {\r\n\t\tvar date = scheduler._date;\r\n\t\tvar dateNew = new Date(date.valueOf());\r\n\t\tif (datediff) dateNew = datediff(dateNew);\r\n\t\tdateNew.setDate(1);\r\n\t\tscheduler.updateCalendar(calendar, dateNew);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", action);\r\n\tscheduler.attachEvent(\"onXLE\", action);\r\n\tscheduler.attachEvent(\"onEventAdded\", action);\r\n\tscheduler.attachEvent(\"onEventChanged\", action);\r\n\tscheduler.attachEvent(\"onEventDeleted\", action);\r\n\taction();\r\n};\r\n\r\nscheduler._markCalendarCurrentDate = function(calendar) {\r\n\tvar state = scheduler.getState();\r\n\tvar from = state.min_date;\r\n\tvar to = state.max_date;\r\n\tvar mode = state.mode;\r\n\r\n\tvar month_start = scheduler.date.month_start(new Date(calendar._date));\r\n\tvar month_end = scheduler.date.add(month_start, 1, \"month\");\r\n\r\n\tvar noHighlight = {\r\n\t\t\"month\":true,\r\n\t\t\"year\":true,\r\n\t\t\"agenda\":true,\r\n\t\t\"grid\":true\r\n\t};\r\n\t// no need to highlight current dates for a large range views - agenda, year, etc.\r\n\tif(noHighlight[mode] || (from.valueOf() <= month_start.valueOf() && to.valueOf() >= month_end.valueOf())){\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar current = from;\r\n\twhile(current.valueOf() < to.valueOf()){\r\n\t\tif (month_start.valueOf() <= current.valueOf() && month_end > current) {\r\n\t\t\tscheduler.markCalendar(calendar, current, \"dhx_calendar_click\");\r\n\t\t}\r\n\t\tcurrent = scheduler.date.add(current, 1, \"day\");\r\n\t}\r\n};\r\n\r\nscheduler.attachEvent(\"onEventCancel\", function(){\r\n\tscheduler.destroyCalendar(null, true);\r\n});\r\n\r\nscheduler.attachEvent(\"onDestroy\", function(){\r\n\tscheduler.destroyCalendar();\r\n});\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\tscheduler.xy.scroll_width = 0;\r\n\r\n\tvar old = scheduler.render_view_data;\r\n\tscheduler.render_view_data=function(){\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\t\tdata.firstChild._h_fix = true;\r\n\r\n\t\told.apply(scheduler,arguments);\r\n\r\n\r\n\r\n\t\tvar height = parseInt(data.style.height);\r\n\t\tdata.style.height=\"1px\";\r\n\t\tdata.style.height=data.scrollHeight+\"px\";\r\n\r\n\t\tthis._obj.style.height = this._obj.clientHeight + data.scrollHeight - height + \"px\";\r\n\t};\r\n\r\n\tvar old_s=scheduler._reset_month_scale;\r\n\tscheduler._reset_month_scale=function(a,b,c,d){\r\n\t\tvar dummy = {clientHeight:100};\r\n\t\told_s.apply(scheduler,[dummy,b,c,d]);\r\n\t\ta.innerHTML = dummy.innerHTML;\r\n\t};\r\n\r\n});\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Multisection\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\n\r\nfunction parseXMLOptions(loader, config){\r\n\tvar items = scheduler.ajax.xpath(\"//data/item\", loader.xmlDoc);\r\n\tvar ids = {};\r\n\tfor (var i = 0; i < items.length; i++) {\r\n\t\tids[items[i].getAttribute(config.map_to)] = true;\r\n\t}\r\n\treturn ids;\r\n}\r\n\r\nfunction parseJSONOptions(loader, config){\r\n\ttry{\r\n\t\tvar items = JSON.parse(loader.xmlDoc.responseText);\r\n\t\tvar ids = {};\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\tvar option = items[i];\r\n\r\n\t\t\tids[option.value || option.key || option.id] = true;\r\n\t\t}\r\n\t\treturn ids;\r\n\t}catch(e){\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nscheduler.form_blocks[\"multiselect\"]={\r\n\trender:function(sns) {\r\n\t\tvar css = \"dhx_multi_select_control dhx_multi_select_\"+sns.name;\r\n\t\tif(!!sns.vertical){\r\n\t\t\tcss += \" dhx_multi_select_control_vertical\";\r\n\t\t}\r\n\r\n\t\tvar _result = \"<div class='\"+css+\"' style='overflow: auto; max-height: \"+sns.height+\"px; position: relative;' >\";\r\n\t\tfor (var i=0; i<sns.options.length; i++) {\r\n\t\t\t_result += \"<label><input type='checkbox' value='\"+sns.options[i].key+\"'/>\"+sns.options[i].label+\"</label>\";\r\n\t\t}\r\n\t\t_result += \"</div>\";\r\n\t\treturn _result;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\r\n\t\tvar _children = node.getElementsByTagName('input');\r\n\t\tfor(var i=0;i<_children.length;i++) {\r\n\t\t\t_children[i].checked = false; //unchecking all inputs on the form\r\n\t\t}\r\n\r\n\t\tfunction _mark_inputs(ids) { // ids = [ 0: undefined, 1: undefined, 2: true, 'custom_name': false ... ]\r\n\t\t\tvar _children = node.getElementsByTagName('input');\r\n\t\t\tfor(var i=0;i<_children.length; i++) {\r\n\t\t\t\t_children[i].checked = !! ids[_children[i].value];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar _ids = {};\r\n\t\tif (ev[config.map_to]) {\r\n\t\t\tvar results = (ev[config.map_to] + \"\").split(config.delimiter || scheduler.config.section_delimiter || \",\");\r\n\t\t\tfor (var i = 0; i < results.length; i++) {\r\n\t\t\t\t_ids[results[i]] = true;\r\n\t\t\t}\r\n\t\t\t_mark_inputs(_ids);\r\n\t\t} else {\r\n\t\t\tif (scheduler._new_event || !config.script_url)\r\n\t\t\t\treturn;\r\n\t\t\tvar divLoading = document.createElement('div');\r\n\t\t\tdivLoading.className = 'dhx_loading';\r\n\t\t\tdivLoading.style.cssText = \"position: absolute; top: 40%; left: 40%;\";\r\n\t\t\tnode.appendChild(divLoading);\r\n\r\n\t\t\tvar url = [\r\n\t\t\t\tconfig.script_url,\r\n\t\t\t\t(config.script_url.indexOf(\"?\") == -1 ? \"?\" : \"&\"),\r\n\t\t\t\t'dhx_crosslink_' + config.map_to + '=' + ev.id + '&uid=' + scheduler.uid()\r\n\t\t\t].join(\"\");\r\n\r\n\t\t\tscheduler.ajax.get(url, function(loader) {\r\n\t\t\t\tvar options = parseJSONOptions(loader, config);\r\n\t\t\t\tif(!options){\r\n\t\t\t\t\toptions = parseXMLOptions(loader, config);\r\n\t\t\t\t}\r\n\t\t\t\t_mark_inputs(options);\r\n\t\t\t\tnode.removeChild(divLoading);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tvar _result = [];\r\n\t\tvar _children = node.getElementsByTagName(\"input\");\r\n\t\tfor(var i=0;i<_children.length;i++) {\r\n\t\t\tif(_children[i].checked)\r\n\t\t\t\t_result.push(_children[i].value);\r\n\t\t}\r\n\t\treturn _result.join(config.delimiter || scheduler.config.section_delimiter || \",\");\r\n\t},\r\n\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\r\n\tfunction backup(obj){\r\n\t\tvar t = function(){};\r\n\t\tt.prototype = obj;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tvar old = scheduler._load;\r\n\tscheduler._load=function(url,from){\r\n\t\turl=url||this._load_url;\r\n\t\tif (typeof url == \"object\"){\r\n\t\t\tvar t = backup(this._loaded);\r\n\t\t\tfor (var i=0; i < url.length; i++) {\r\n\t\t\t\tthis._loaded=new t();\r\n\t\t\t\told.call(this,url[i],from);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\told.apply(this,arguments);\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\t/* global Backbone */\r\n\tvar cfg = {\r\n\t\tuse_id : false\r\n\t};\r\n\r\n\t//remove private properties\r\n\tfunction sanitize(ev){\r\n\t\tvar obj = {};\r\n\t\tfor (var key in ev)\r\n\t\t\tif (key.indexOf(\"_\") !== 0)\r\n\t\t\t\tobj[key] = ev[key];\r\n\r\n\t\tif (!cfg.use_id)\r\n\t\t\tdelete obj.id;\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tvar update_timer;\r\n\tfunction update_view(){\r\n\t\tclearTimeout(update_timer);\r\n\t\tupdate_timer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler.updateView();\r\n\t\t},1);\r\n\t}\r\n\r\n\tfunction _start_ext_load(cal){\r\n\t\tcal._loading = true;\r\n\t\tcal._not_render = true;\r\n\r\n\t\tcal.callEvent(\"onXLS\", []);\r\n\t}\r\n\tfunction _finish_ext_load(cal){\r\n\t\tcal._not_render = false;\r\n\t\tif (cal._render_wait)\r\n\t\t\tcal.render_view_data();\r\n\t\tcal._loading = false;\r\n\r\n\t\tcal.callEvent(\"onXLE\", []);\r\n\t}\r\n\r\n\r\n\tfunction _get_id(model){\r\n\t\treturn cfg.use_id ? model.id : model.cid;\r\n\t}\r\n\r\nscheduler.backbone = function(events, config){\r\n\tif (config) cfg = config;\r\n\r\n\tevents.bind(\"change\", function(model, info){\r\n\t\tvar cid = _get_id(model);\r\n\t\tvar ev = scheduler._events[cid] = model.toJSON();\r\n\t\tev.id = cid;\r\n\r\n\t\tscheduler._init_event(ev);\r\n\t\tupdate_view();\r\n\t});\r\n\tevents.bind(\"remove\", function(model, changes){\r\n\t\tvar cid = _get_id(model);\r\n\t\tif (scheduler._events[cid])\r\n\t\t\tscheduler.deleteEvent(cid);\r\n\t});\r\n\r\n\tvar queue = [];\r\n\tfunction add_from_queue(){\r\n\t\tif(scheduler.$destroyed){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (queue.length){\r\n\t\t\tscheduler.parse(queue, \"json\");\r\n\t\t\tqueue = [];\r\n\t\t}\r\n\t}\r\n\r\n\tevents.bind(\"add\", function(model, changes){\r\n\t\tvar cid = _get_id(model);\r\n\t\tif (!scheduler._events[cid]){\r\n\t\t\tvar ev =  model.toJSON();\r\n\t\t\tev.id = cid;\r\n\t\t\tscheduler._init_event(ev);\r\n\r\n\t\t\tqueue.push(ev);\r\n\t\t\tif (queue.length == 1)\r\n\t\t\t\tsetTimeout(add_from_queue,1);\r\n\t\t}\r\n\t});\r\n\r\n\tevents.bind(\"request\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_start_ext_load(scheduler);\r\n\t});\r\n\tevents.bind(\"sync\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_finish_ext_load(scheduler);\r\n\t});\r\n\tevents.bind(\"error\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_finish_ext_load(scheduler);\r\n\t});\r\n\r\n\r\n\tscheduler.attachEvent(\"onEventCreated\", function(id){\r\n\t\tvar ev = new events.model(scheduler.getEvent(id));\r\n\t\tscheduler._events[id] = ev.toJSON();\r\n\t\tscheduler._events[id].id = id;\r\n\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onEventAdded\", function(id){\r\n\t\tif (!events.get(id)){\r\n\t\t\tvar data = sanitize(scheduler.getEvent(id));\r\n\t\t\tvar model = new events.model(data);\r\n\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (cid != id)\r\n\t\t\t\tthis.changeEventId(id, cid);\r\n\t\t\tevents.add(model);\r\n\t\t\tevents.trigger(\"scheduler:add\", model);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventChanged\", function(id){\r\n\t\tvar ev = events.get(id);\r\n\t\tvar upd = sanitize(scheduler.getEvent(id));\r\n\r\n\t\tev.set(upd);\r\n\t\tevents.trigger(\"scheduler:change\", ev);\r\n\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventDeleted\", function(id){\r\n\t\tvar model = events.get(id);\r\n\t\tif (model){\r\n\t\t\tevents.trigger(\"scheduler:remove\", model);\r\n\t\t\tevents.remove(id);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\t/* global dhtmlDragAndDropObject, dhtmlx */\r\n// lame old code doesn't provide raw event object\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\t\tvar dragger = (new dhtmlDragAndDropObject());\r\n\t\tvar old = dragger.stopDrag;\r\n\t\tvar last_event;\r\n\t\tdragger.stopDrag = function(e) {\r\n\t\t\tlast_event = e;\r\n\t\t\treturn old.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tfunction on_drop(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml) {\r\n\r\n\t\t\tif (scheduler.checkEvent(\"onBeforeExternalDragIn\") && !scheduler.callEvent(\"onBeforeExternalDragIn\", [sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml, last_event]))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar temp = scheduler.attachEvent(\"onEventCreated\", function (id) {\r\n\t\t\t\tif (!scheduler.callEvent(\"onExternalDragIn\", [id, sourceHtmlObject, last_event])) {\r\n\t\t\t\t\tthis._drag_mode = this._drag_id = null;\r\n\t\t\t\t\tthis.deleteEvent(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar action_data = scheduler.getActionData(last_event);\r\n\t\t\tvar event_data = {\r\n\t\t\t\tstart_date: new Date(action_data.date)\r\n\t\t\t};\r\n\r\n\t\t\t// custom views, need to assign section id, fix dates\r\n\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\tvar view_options = scheduler.matrix[scheduler._mode];\r\n\t\t\t\tevent_data[view_options.y_property] = action_data.section;\r\n\r\n\t\t\t\tvar pos = scheduler._locate_cell_timeline(last_event);\r\n\t\t\t\tevent_data.start_date = view_options._trace_x[pos.x];\r\n\t\t\t\tevent_data.end_date = scheduler.date.add(event_data.start_date, view_options.x_step, view_options.x_unit);\r\n\t\t\t}\r\n\t\t\tif (scheduler._props && scheduler._props[scheduler._mode]) {\r\n\t\t\t\tevent_data[scheduler._props[scheduler._mode].map_to] = action_data.section;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler.addEventNow(event_data);\r\n\r\n\t\t\tscheduler.detachEvent(temp);\r\n\t\t}\r\n\r\n\t\tdragger.addDragLanding(scheduler._els[\"dhx_cal_data\"][0], {\r\n\t\t\t_drag: function(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml) {\r\n\t\t\t\ton_drop(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml);\r\n\t\t\t},\r\n\t\t\t_dragIn: function(htmlObject, shtmlObject) {\r\n\t\t\t\treturn htmlObject;\r\n\t\t\t},\r\n\t\t\t_dragOut: function(htmlObject) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif(dhtmlx.DragControl) {\r\n\t\t\tdhtmlx.DragControl.addDrop(scheduler._els[\"dhx_cal_data\"][0], {\r\n\t\t\t\tonDrop: function (source, target, d, e) {\r\n\t\t\t\t\tvar sourceDhtmlx = dhtmlx.DragControl.getMaster(source);\r\n\t\t\t\t\tlast_event = e;\r\n\t\t\t\t\ton_drop(source, sourceDhtmlx, target, e.target || e.srcElement);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonDragIn: function (source, target, e) {\r\n\t\t\t\t\treturn target;\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t}\r\n\t});\r\n\r\n}","export default function(scheduler){\r\n\r\n\tvar dx, dy,\r\n\t\thtml_regexp = new RegExp(\"<[^>]*>\", \"g\"),\r\n\t\tnewline_regexp = new RegExp(\"<br[^>]*>\", \"g\");\r\n\r\n\tfunction clean_html(val) {\r\n\t\treturn val.replace(newline_regexp, \"\\n\").replace(html_regexp, \"\");\r\n\t}\r\n\r\n\tfunction x_norm(x, offset) {\r\n\t\tx = parseFloat(x);\r\n\t\toffset = parseFloat(offset);\r\n\t\tif (!isNaN(offset)) x -= offset;\r\n\r\n\t\tvar w = colsWidth(x);\r\n\t\tx = x - w.width + w.cols*dx;\r\n\t\treturn isNaN(x)?\"auto\":(100*x/(dx));\r\n\t}\r\n\r\n\tfunction x_norm_event(x, offset, is_left) {\r\n\t\tx = parseFloat(x);\r\n\t\toffset = parseFloat(offset);\r\n\t\tif (!isNaN(offset) && is_left) x -= offset;\r\n\r\n\t\tvar w = colsWidth(x);\r\n\t\tx = x - w.width + w.cols*dx;\r\n\t\treturn isNaN(x)?\"auto\":(100*x/(dx-(!isNaN(offset)?offset:0)));\r\n\t}\r\n\tfunction colsWidth(width) {\r\n\t\tvar r = 0;\r\n\t\tvar header = scheduler._els.dhx_cal_header[0].childNodes;\r\n\t\tvar els = header[1] ? header[1].childNodes : header[0].childNodes;\r\n\t\tfor (var i = 0; i < els.length; i++) {\r\n\t\t\tvar el = els[i].style ? els[i] : els[i].parentNode;\r\n\t\t\tvar w = parseFloat(el.style.width);\r\n\t\t\tif (width > w){\r\n\t\t\t\twidth -= (w+1);\r\n\t\t\t\tr+=(w+1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn { width: r, cols: i };\r\n\t}\r\n\r\n\tfunction y_norm(y) {\r\n\t\ty = parseFloat(y);\r\n\t\tif (isNaN(y)) return \"auto\";\r\n\t\treturn 100 * y / dy;\r\n\t}\r\n\r\n\tfunction get_style(node, style){\r\n\t\treturn (window.getComputedStyle?(window.getComputedStyle(node, null)[style]):(node.currentStyle?node.currentStyle[style]:null))||\"\";\r\n\t}\r\n\r\n\tfunction de_day(node, n) {\r\n\t\tvar x = parseInt(node.style.left, 10);\r\n\r\n\t\tfor (var dx = 0; dx < scheduler._cols.length; dx++) {\r\n\t\t\tx -= scheduler._cols[dx];\r\n\t\t\tif (x < 0) return dx;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tfunction de_week(node, n) {\r\n\t\tvar y = parseInt(node.style.top, 10);\r\n\t\tfor (var dy = 0; dy < scheduler._colsS.heights.length; dy++)\r\n\t\t\tif (scheduler._colsS.heights[dy] > y) return dy;\r\n\t\treturn n;\r\n\t}\r\n\r\n\tfunction xml_start(tag) {\r\n\t\treturn tag ? \"<\"+tag+\">\" : \"\";\r\n\t}\r\n\tfunction xml_end(tag) {\r\n\t\treturn tag ? \"</\"+tag+\">\" : \"\";\r\n\t}\r\n\r\n\tfunction xml_top(tag, profile, header, footer) {\r\n\t\tvar xml = \"<\"+tag+\" profile='\" + profile + \"'\";\r\n\t\tif (header)\r\n\t\t\txml += \" header='\" + header + \"'\";\r\n\t\tif (footer)\r\n\t\t\txml += \" footer='\" + footer + \"'\";\r\n\t\txml += \">\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_body_header() {\r\n\t\tvar xml = \"\";\r\n\t\t// detects if current mode is timeline\r\n\t\tvar mode = scheduler._mode;\r\n\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode])\r\n\t\t\tmode = (scheduler.matrix[scheduler._mode].render == \"cell\") ? \"matrix\" : \"timeline\";\r\n\t\txml += \"<scale mode='\" + mode + \"' today='\" + scheduler._els.dhx_cal_date[0].innerHTML + \"'>\";\r\n\r\n\t\tif (scheduler._mode == \"week_agenda\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_data[0].getElementsByTagName(\"DIV\");\r\n\t\t\tfor (var i = 0; i < xh.length; i++)\r\n\t\t\t\tif (xh[i].className == \"dhx_wa_scale_bar\")\r\n\t\t\t\t\txml += \"<column>\" + clean_html(xh[i].innerHTML) + \"</column>\";\r\n\t\t} else if (scheduler._mode == \"agenda\" || scheduler._mode == \"map\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_header[0].childNodes[0].childNodes;\r\n\r\n\t\t\txml += \"<column>\" + clean_html(xh[0].innerHTML) + \"</column><column>\" + clean_html(xh[1].innerHTML) + \"</column>\";\r\n\t\t} else if (scheduler._mode == \"year\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_data[0].childNodes;\r\n\t\t\tfor (var i = 0; i < xh.length; i++) {\r\n\t\t\t\txml += \"<month label='\" + clean_html(xh[i].querySelector(\".dhx_year_month\").innerHTML) + \"'>\";\r\n\t\t\t\txml += xml_month_scale(xh[i].querySelector(\".dhx_year_week\").childNodes);\r\n\t\t\t\txml += xml_month(xh[i].querySelector(\".dhx_year_body\"));\r\n\t\t\t\txml += \"</month>\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\txml += \"<x>\";\r\n\t\t\tvar xh = scheduler._els.dhx_cal_header[0].childNodes;\r\n\t\t\txml += xml_month_scale(xh);\r\n\t\t\txml += \"</x>\";\r\n\r\n\t\t\tvar yh = scheduler._els.dhx_cal_data[0];\r\n\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\txml += \"<y>\";\r\n\t\t\t\tfor (var i = 0; i < yh.firstChild.rows.length; i++) {\r\n\t\t\t\t\tvar el = yh.firstChild.rows[i];\r\n\t\t\t\t\txml += \"<row><![CDATA[\" + clean_html(el.cells[0].innerHTML) + \"]]></row>\";\r\n\t\t\t\t}\r\n\t\t\t\txml += \"</y>\";\r\n\t\t\t\tdy = yh.firstChild.rows[0].cells[0].offsetHeight;\r\n\t\t\t} else if (yh.firstChild.tagName == \"TABLE\") {\r\n\t\t\t\txml += xml_month(yh);\r\n\t\t\t} else {\r\n\t\t\t\tyh = yh.childNodes[yh.childNodes.length - 1];\r\n\t\t\t\twhile (yh.className.indexOf(\"dhx_scale_holder\") == -1)\r\n\t\t\t\t\tyh = yh.previousSibling;\r\n\t\t\t\tyh = yh.childNodes;\r\n\r\n\t\t\t\txml += \"<y>\";\r\n\t\t\t\tfor (var i = 0; i < yh.length; i++)\r\n\t\t\t\t\txml += \"\\n<row><![CDATA[\" + clean_html(yh[i].innerHTML) + \"]]></row>\";\r\n\t\t\t\txml += \"</y>\";\r\n\t\t\t\tdy = yh[0].offsetHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\txml += \"</scale>\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_month(yh) {\r\n\t\tvar xml = \"\";\r\n\t\tvar r = yh.querySelectorAll(\"tr\");\r\n\t\tfor (var i = 0; i < r.length; i++) {\r\n\t\t\tvar days = [];\r\n\t\t\tvar cells = r[i].querySelectorAll(\"td\");\r\n\r\n\t\t\tfor (var j = 0; j < cells.length; j++)\r\n\t\t\t\tdays.push(cells[j].querySelector(\".dhx_month_head\").innerHTML);\r\n\r\n\t\t\txml += \"\\n<row height='\" + cells[0].offsetHeight + \"'><![CDATA[\" + clean_html(days.join(\"|\")) + \"]]></row>\";\r\n\t\t\tdy = cells[0].offsetHeight;\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_month_scale(xh) {\r\n\t\tvar xhs,\r\n\t\t\txml = \"\";\r\n\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\tif (scheduler.matrix[scheduler._mode].second_scale)\r\n\t\t\t\txhs = xh[1].childNodes;\r\n\r\n\t\t\txh = xh[0].childNodes;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < xh.length; i++)\r\n\t\t\txml += \"\\n<column><![CDATA[\" + clean_html(xh[i].innerHTML) + \"]]></column>\";\r\n\t\tdx = xh[0].offsetWidth;\r\n\r\n\t\tif (xhs) {\r\n\t\t\tvar width = 0;\r\n\t\t\tvar top_width = xh[0].offsetWidth;\r\n\t\t\tvar top_col = 1;\r\n\t\t\tfor (var i = 0; i < xhs.length; i++) {\r\n\t\t\t\txml += \"\\n<column second_scale='\" + top_col + \"'><![CDATA[\" + clean_html(xhs[i].innerHTML) + \"]]></column>\";\r\n\t\t\t\twidth += xhs[i].offsetWidth;\r\n\t\t\t\tif (width >= top_width) {\r\n\t\t\t\t\ttop_width += (xh[top_col] ? xh[top_col].offsetWidth : 0);\r\n\t\t\t\t\ttop_col++;\r\n\t\t\t\t}\r\n\t\t\t\tdx = xhs[0].offsetWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_body(colors) {\r\n\t\tvar xml = \"\";\r\n\t\tvar evs = scheduler._rendered;\r\n\t\tvar matrix = scheduler.matrix && scheduler.matrix[scheduler._mode];\r\n\r\n\t\tif (scheduler._mode == \"agenda\" || scheduler._mode == \"map\") {\r\n\r\n\t\t\tfor (var i = 0; i < evs.length; i++)\r\n                xml += \"<event><head><![CDATA[\" + clean_html(evs[i].childNodes[0].innerHTML) + \"]]></head><body><![CDATA[\" + clean_html(evs[i].childNodes[2].innerHTML) + \"]]></body></event>\";\r\n\r\n\t\t} else if (scheduler._mode == \"week_agenda\") {\r\n\r\n\t\t\tfor (var i = 0; i < evs.length; i++)\r\n\t\t\t\txml += \"<event day='\" + evs[i].parentNode.getAttribute(\"day\") + \"'><body>\" + clean_html(evs[i].innerHTML) + \"</body></event>\";\r\n\r\n\t\t} else if (scheduler._mode == \"year\") {\r\n\r\n\t\t\tvar evs = scheduler.get_visible_events();\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar d = evs[i].start_date;\r\n\t\t\t\tif (d.valueOf() < scheduler._min_date.valueOf())\r\n\t\t\t\t\td = scheduler._min_date;\r\n\r\n\t\t\t\twhile (d < evs[i].end_date) {\r\n\t\t\t\t\tvar m = d.getMonth() + 12 * (d.getFullYear() - scheduler._min_date.getFullYear()) - scheduler.week_starts._month;\r\n\t\t\t\t\tvar day = scheduler.week_starts[m] + d.getDate() - 1;\r\n\t\t\t\t\tvar text_color = colors ? get_style(scheduler._get_year_cell(d), \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(scheduler._get_year_cell(d), \"backgroundColor\") : \"\";\r\n\r\n\t\t\t\t\txml += \"<event day='\" + (day % 7) + \"' week='\" + Math.floor(day / 7) + \"' month='\" + m + \"' backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'></event>\";\r\n\t\t\t\t\td = scheduler.date.add(d, 1, \"day\");\r\n\t\t\t\t\tif (d.valueOf() >= scheduler._max_date.valueOf())\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (matrix && matrix.render == \"cell\") {\r\n\t\t\tvar evs = scheduler._els.dhx_cal_data[0].getElementsByTagName(\"TD\");\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar text_color = colors ? get_style(evs[i], \"color\") : \"\";\r\n\t\t\t\tvar bg_color = colors ? get_style(evs[i], \"backgroundColor\") : \"\";\r\n\t\t\t\txml += \"\\n<event><body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].innerHTML) + \"]]></body></event>\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar zx, zdx;\r\n\t\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\t\t// logic for timeline view\r\n\t\t\t\t\tzx = x_norm(evs[i].style.left);\r\n\t\t\t\t\tzdx = x_norm(evs[i].offsetWidth)-1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// we should use specific logic for day/week/units view\r\n\t\t\t\t\tvar left_norm = scheduler.config.use_select_menu_space ? 0 : 26;\r\n\t\t\t\t\tzx = x_norm_event(evs[i].style.left, left_norm, true);\r\n\t\t\t\t\tzdx = x_norm_event(evs[i].style.width, left_norm)-1;\r\n\t\t\t\t}\r\n\t\t\t\tif (isNaN(zdx * 1)) continue;\r\n\t\t\t\tvar zy = y_norm(evs[i].style.top);\r\n\t\t\t\tvar zdy = y_norm(evs[i].style.height);\r\n\r\n\t\t\t\tvar e_type = evs[i].className.split(\" \")[0].replace(\"dhx_cal_\", \"\");\r\n\t\t\t\tif (e_type === 'dhx_tooltip_line') continue;\r\n\r\n\t\t\t\tvar dets = scheduler.getEvent(evs[i].getAttribute(scheduler.config.event_attribute));\r\n                if (!dets) continue;\r\n\t\t\t\tvar day = dets._sday;\r\n\t\t\t\tvar week = dets._sweek;\r\n\t\t\t\tvar length = dets._length || 0;\r\n\r\n\t\t\t\tif (scheduler._mode == \"month\") {\r\n\t\t\t\t\tzdy = parseInt(evs[i].offsetHeight, 10);\r\n\t\t\t\t\tzy = parseInt(evs[i].style.top, 10) - scheduler.xy.month_head_height;\r\n\r\n\t\t\t\t\tday = de_day(evs[i], day);\r\n\t\t\t\t\tweek = de_week(evs[i], week);\r\n\t\t\t\t} else if (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\t\tday = 0;\r\n\t\t\t\t\tvar el = evs[i].parentNode.parentNode.parentNode;\r\n\t\t\t\t\tweek = el.rowIndex;\r\n\t\t\t\t\tvar dy_copy = dy;\r\n\t\t\t\t\tdy = evs[i].parentNode.offsetHeight;\r\n\t\t\t\t\tzy = y_norm(evs[i].style.top);\r\n\t\t\t\t\tzy -= zy * 0.2;\r\n\t\t\t\t\tdy = dy_copy;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (evs[i].parentNode == scheduler._els.dhx_cal_data[0]) continue;\r\n\t\t\t\t\tvar parent = scheduler._els[\"dhx_cal_data\"][0].childNodes[0];\r\n\t\t\t\t\tvar offset = parseFloat(parent.className.indexOf(\"dhx_scale_holder\") != -1 ? parent.style.left : 0);\r\n\t\t\t\t\tzx += x_norm(evs[i].parentNode.style.left, offset);\r\n\t\t\t\t}\r\n\r\n\t\t\t\txml += \"\\n<event week='\" + week + \"' day='\" + day + \"' type='\" + e_type + \"' x='\" + zx + \"' y='\" + zy + \"' width='\" + zdx + \"' height='\" + zdy + \"' len='\" + length + \"'>\";\r\n\r\n\t\t\t\tif (e_type == \"event\") {\r\n\t\t\t\t\txml += \"<header><![CDATA[\" + clean_html(evs[i].childNodes[1].innerHTML) + \"]]></header>\";\r\n\t\t\t\t\tvar text_color = colors ? get_style(evs[i].childNodes[2], \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(evs[i].childNodes[2], \"backgroundColor\") : \"\";\r\n\t\t\t\t\txml += \"<body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].childNodes[2].innerHTML) + \"]]></body>\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar text_color = colors ? get_style(evs[i], \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(evs[i], \"backgroundColor\") : \"\";\r\n\t\t\t\t\txml += \"<body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].innerHTML) + \"]]></body>\";\r\n\t\t\t\t}\r\n\t\t\t\txml += \"</event>\";\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction toXML(start, end, view, mode, header, footer){\r\n\t\tvar colors = false;\r\n\t\tif (mode == \"fullcolor\") {\r\n\t\t\tcolors = true;\r\n\t\t\tmode = \"color\";\r\n\t\t}\r\n\r\n\t\tmode = mode || \"color\";\r\n\r\n\t\tvar xml = \"\";\r\n\t\tif (start) {\r\n\r\n\t\t\tvar original_date = scheduler._date;\r\n\t\t\tvar original_mode = scheduler._mode;\r\n\t\t\tend = scheduler.date[view+\"_start\"](end);\r\n\t\t\tend = scheduler.date[\"get_\"+view+\"_end\"] ? scheduler.date[\"get_\"+view+\"_end\"](end) : scheduler.date.add(end, 1, view);\r\n\r\n\t\t\txml = xml_top(\"pages\", mode, header, footer);\r\n\t\t\tfor (var temp_date = new Date(start); +temp_date < +end; temp_date = this.date.add(temp_date, 1, view)) {\r\n\t\t\t\tthis.setCurrentView(temp_date, view);\r\n\t\t\t\txml += xml_start(\"page\") + xml_body_header().replace(\"\\u2013\", \"-\") + xml_body(colors) + xml_end(\"page\");\r\n\t\t\t}\r\n\t\t\txml += xml_end(\"pages\");\r\n\r\n\t\t\tthis.setCurrentView(original_date, original_mode);\r\n\t\t} else {\r\n\t\t\txml = xml_top(\"data\", mode, header, footer) + xml_body_header().replace(\"\\u2013\", \"-\") + xml_body(colors) + xml_end(\"data\");\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\tscheduler.getPDFData = toXML;\r\n\tfunction send_xml(xml, url){\r\n\t\tvar uid = scheduler.uid();\r\n\t\tvar d = document.createElement(\"div\");\r\n\t\td.style.display = \"none\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\td.innerHTML = '<form id=\"' + uid + '\" method=\"post\" target=\"_blank\" action=\"' + url + '\" accept-charset=\"utf-8\" enctype=\"application/x-www-form-urlencoded\"><input type=\"hidden\" name=\"mycoolxmlbody\"/> </form>';\r\n\t\tdocument.getElementById(uid).firstChild.value = encodeURIComponent(xml);\r\n\t\tdocument.getElementById(uid).submit();\r\n\t\td.parentNode.removeChild(d);\r\n\t}\r\n\r\n\tfunction to_pdf(start, end, view, url, mode, header, footer) {\r\n\t\tvar xml = \"\";\r\n\t\tif(typeof mode == \"object\"){\r\n\t\t\txml = schedulersToPdf(mode);\r\n\t\t}else{\r\n\t\t\txml = toXML.apply(this, [start, end, view, mode, header, footer]);\r\n\t\t}\r\n\r\n\t\tsend_xml(xml, url);\r\n\t}\r\n\r\n\tfunction schedulersToPdf(objects){\r\n\t\tvar xml = \"<data>\";\r\n\t\tfor(var i=0; i < objects.length; i++){\r\n\t\t\txml += objects[i].source.getPDFData(objects[i].start, objects[i].end, objects[i].view, objects[i].mode, objects[i].header, objects[i].footer);\r\n\t\t}\r\n\t\txml += \"</data>\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\t/*\r\n\t * scheduler.toPDF(url, mode, header, footer) - for a single scheduler\r\n\t * scheduler.toPDF(url, [scheduler1, scheduler2,...]) - for multiple schedulers\r\n\t * example:\r\n\t * scheduler.toPDF(\"generate.ashx\", [\r\n\t *     { source: scheduler1, mode: \"color\" },\r\n\t *     { source: scheduler2, mode: \"gray\", view:\"week\", start:new Date(2013, 06, 1), end:new Date(2013, 06, 28) },\r\n\t *     { source: scheduler3 }\r\n\t * ]);\r\n\t *\r\n\t */\r\n\tscheduler.toPDF = function(url, mode, header, footer) {\r\n\t\treturn to_pdf.apply(this, [null, null, null, url, mode, header, footer]);\r\n\t};\r\n\tscheduler.toPDFRange = function(start, end, view, url, mode, header, footer) {\r\n\t\tif (typeof start == \"string\") {\r\n\t\t\tstart = scheduler.templates.api_date(start);\r\n\t\t\tend = scheduler.templates.api_date(end);\r\n\t\t}\r\n\r\n\t\treturn to_pdf.apply(this, arguments);\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.icons_select = [\"icon_form\", \"icon_delete\"];\r\nscheduler.config.details_on_create = true;\r\nscheduler.config.show_quick_info = true;\r\nscheduler.xy.menu_width = 0;\r\n\r\nscheduler.attachEvent(\"onClick\", function(id){\r\n\tif(!scheduler.config.show_quick_info){\r\n\t\treturn;\r\n\t}\r\n\tscheduler.showQuickInfo(id);\r\n\treturn true;\r\n});\r\n\r\n(function(){\r\n\t// pass `force` argument in order to hide quick info synchronously\r\n\t// so it won't affect showQuickInfo call that can follow\r\n\tvar events = [\"onEmptyClick\", \"onViewChange\", \"onLightbox\", \"onBeforeEventDelete\", \"onBeforeDrag\"];\r\n\tvar hiding_function = function(){\r\n\t\tscheduler.hideQuickInfo(true);\r\n\t\treturn true;\r\n\t};\r\n\tfor (var i=0; i<events.length; i++){\r\n\t\tscheduler.attachEvent(events[i], hiding_function);\r\n\t}\r\n})();\r\n\r\nscheduler.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\r\nscheduler.templates.quick_info_content = function(start, end, ev){ return ev.details || \"\"; };\r\nscheduler.templates.quick_info_date = function(start, end, ev){\r\n\tif (scheduler.isOneDayEvent(ev) && scheduler.config.rtl){\r\n\t\treturn scheduler.templates.day_date(start, end, ev) + \" \" +scheduler.templates.event_header(end, start, ev);\r\n\t} else if (scheduler.isOneDayEvent(ev)) {\r\n\t\treturn scheduler.templates.day_date(start, end, ev) + \" \" +scheduler.templates.event_header(start, end, ev);\r\n\t} else if (scheduler.config.rtl) {\r\n\t\treturn scheduler.templates.week_date(end, start, ev);\r\n\t} else {\r\n\t\treturn scheduler.templates.week_date(start, end, ev);\r\n\t}\r\n};\r\n\r\nscheduler.showQuickInfo = function(id){\r\n\tif (id == this._quick_info_box_id) return;\r\n\tthis.hideQuickInfo(true);\r\n\tif(this.callEvent(\"onBeforeQuickInfo\", [id]) === false){\r\n\t\treturn;\r\n\t}\r\n\tvar pos = this._get_event_counter_part(id);\r\n\r\n\tif (pos){\r\n\t\tthis._quick_info_box = this._init_quick_info(pos);\r\n\t\tthis._fill_quick_data(id);\r\n\t\tthis._show_quick_info(pos);\r\n\r\n\t\tthis.callEvent(\"onQuickInfo\", [id]);\r\n\t}\r\n};\r\n\r\n(function(){\r\n\r\nfunction cssTimeToMs(time) {\r\n\ttime = time || \"\";\r\n\r\n\tvar num = parseFloat(time),\r\n\t\tunit = time.match(/m?s/),\r\n\t\tmilliseconds;\r\n\r\n\tif (unit) {\r\n\t\tunit = unit[0];\r\n\t}\r\n\r\n\tswitch (unit) {\r\n\t\tcase \"s\": // seconds\r\n\t\t\tmilliseconds = num * 1000;\r\n\t\t\tbreak;\r\n\t\tcase \"ms\": // milliseconds\r\n\t\t\tmilliseconds = num;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tmilliseconds = 0;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn milliseconds;\r\n}\r\n\r\nscheduler.hideQuickInfo = function(forced){\r\n\tvar qi = this._quick_info_box;\r\n\tvar eventId = this._quick_info_box_id;\r\n\tthis._quick_info_box_id = 0;\r\n\r\n\tif (qi && qi.parentNode){\r\n\t\tvar width = qi.offsetWidth;\r\n\t\tif (scheduler.config.quick_info_detached) {\r\n\t\t\tthis.callEvent(\"onAfterQuickInfo\", [eventId]);\r\n\t\t\treturn qi.parentNode.removeChild(qi);\r\n\t\t}\r\n\r\n\t\tif (qi.style.right == \"auto\")\r\n\t\t\tqi.style.left = -width + \"px\";\r\n\t\telse\r\n\t\t\tqi.style.right = -width + \"px\";\r\n\r\n\t\tif (forced) {\r\n\t\t\tqi.parentNode.removeChild(qi);\r\n\t\t}else{\r\n\r\n\t\t\tvar style;\r\n\t\t\tif(window.getComputedStyle){\r\n\t\t\t\tstyle = window.getComputedStyle(qi, null);\r\n\t\t\t}else if(qi.currentStyle){\r\n\t\t\t\tstyle = qi.currentStyle;\r\n\t\t\t}\r\n\t\t\tvar delay = cssTimeToMs(style[\"transition-delay\"]) + cssTimeToMs(style[\"transition-duration\"]);\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(qi.parentNode){\r\n\t\t\t\t\tqi.parentNode.removeChild(qi);\r\n\t\t\t\t}\r\n\t\t\t}, delay);\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterQuickInfo\", [eventId]);\r\n\t}\r\n};\r\n\r\n})();\r\n\r\nscheduler.event(window, \"keydown\", function(e){\r\n\tif (e.keyCode == 27)\r\n\t\tscheduler.hideQuickInfo();\r\n});\r\n\r\nscheduler._show_quick_info = function(pos){\r\n\tvar qi = scheduler._quick_info_box;\r\n\tscheduler._obj.appendChild(qi);\r\n\tvar width = qi.offsetWidth;\r\n\tvar height = qi.offsetHeight;\r\n\r\n\tif (scheduler.config.quick_info_detached){\r\n\t\tvar left = pos.left - pos.dx*(width - pos.width);\r\n\t\tif(scheduler.getView() && scheduler.getView()._x_scroll){\r\n\t\t\t// scrollable timeline\r\n\t\t\tif(scheduler.config.rtl){\r\n\t\t\t\tleft += scheduler.getView()._x_scroll;\r\n\t\t\t}else{\r\n\t\t\t\tleft -= scheduler.getView()._x_scroll;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tvar right = left + width;\r\n\t\tif(right > window.innerWidth){\r\n\t\t\tleft = window.innerWidth - width;\r\n\t\t}\r\n\t\tleft = Math.max(0, left);\r\n\r\n\t\tqi.style.left = left + \"px\";\r\n\t\tqi.style.top = pos.top - (pos.dy?height:-pos.height) + \"px\";\r\n\t} else {\r\n\r\n\t\tconst dataPos = scheduler.$container.querySelector('.dhx_cal_data').offsetTop;\r\n\t\tqi.style.top = dataPos + 20 + \"px\";\r\n\t\tif (pos.dx == 1){\r\n\t\t\tqi.style.right = \"auto\";\r\n\t\t\tqi.style.left = -width + \"px\";\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tqi.style.left = \"-10px\";\r\n\t\t\t},1);\r\n\t\t} else {\r\n\t\t\tqi.style.left = \"auto\";\r\n\t\t\tqi.style.right = -width + \"px\";\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tqi.style.right = \"-10px\";\r\n\t\t\t},1);\r\n\t\t}\r\n\t\tqi.className = qi.className.replace(\" dhx_qi_left\",\"\").replace(\" dhx_qi_right\",\"\")+\" dhx_qi_\"+(pos.dx==1?\"left\":\"right\");\r\n\t}\r\n};\r\nscheduler.attachEvent(\"onTemplatesReady\", function(){\r\n\tscheduler.hideQuickInfo();\r\n\tif(this._quick_info_box){\r\n\t\tvar box = this._quick_info_box;\r\n\t\tif(box.parentNode){\r\n\t\t\tbox.parentNode.removeChild(box);\r\n\t\t}\r\n\t\tthis._quick_info_box = null;\r\n\t}\r\n});\r\nscheduler._quick_info_onscroll_handler = function(e){\r\n\tscheduler.hideQuickInfo();\r\n};\r\nscheduler._init_quick_info = function(){\r\n\tif (!this._quick_info_box){\r\n\r\n\r\n\t\tvar qi = this._quick_info_box = document.createElement(\"div\");\r\n\r\n\t\tthis._waiAria.quickInfoAttr(qi);\r\n\r\n\t\tqi.className = \"dhx_cal_quick_info\";\r\n\t\tif (scheduler.$testmode)\r\n\t\t\tqi.className += \" dhx_no_animate\";\r\n\t\tif (scheduler.config.rtl) qi.className += \" dhx_quick_info_rtl\";\r\n\t//title\r\n\t\tvar ariaAttr = this._waiAria.quickInfoHeaderAttrString();\r\n\t\tvar html = `\r\n\t\t<div class=\"dhx_cal_qi_tcontrols\">\r\n\t\t\t<a class=\"dhx_cal_qi_close_btn scheduler_icon close\"></a>\r\n\t\t</div>\r\n\t\t<div class=\"dhx_cal_qi_title\" ${ariaAttr}>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"dhx_cal_qi_tcontent\"></div>\r\n\t\t\t\t<div class=\"dhx_cal_qi_tdate\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"dhx_cal_qi_content\"></div>`;\r\n\r\n\t//buttons\r\n\t\thtml += \"<div class=\\\"dhx_cal_qi_controls\\\">\";\r\n\t\tvar buttons = scheduler.config.icons_select;\r\n\t\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\t\tvar ariaAttr = this._waiAria.quickInfoButtonAttrString(this.locale.labels[buttons[i]]);\r\n\t\t\t\thtml += `<div ${ariaAttr} class=\"dhx_qi_big_icon ${buttons[i]}\" title=\"${scheduler.locale.labels[buttons[i]]}\">\r\n\t\t\t\t<div class='dhx_menu_icon ${buttons[i]}'></div><div>${scheduler.locale.labels[buttons[i]]}</div></div>`;\r\n\t\t\t}\r\n\t\t// }\r\n\t\thtml += \"</div>\";\r\n\r\n\t\tqi.innerHTML = html;\r\n\t\tscheduler.event(qi, \"click\", function(ev){\r\n\t\t\tscheduler._qi_button_click(ev.target || ev.srcElement);\r\n\t\t});\r\n\t\tif (scheduler.config.quick_info_detached){\r\n\t\t\tscheduler._detachDomEvent(scheduler._els[\"dhx_cal_data\"][0], \"scroll\", scheduler._quick_info_onscroll_handler);\r\n\t\t\tscheduler.event(scheduler._els[\"dhx_cal_data\"][0], \"scroll\", scheduler._quick_info_onscroll_handler);\r\n\t\t}\r\n\t}\r\n\r\n\treturn this._quick_info_box;\r\n};\r\n\r\nscheduler._qi_button_click = function(node){\r\n\tvar box = scheduler._quick_info_box;\r\n\tif (!node || node == box) return;\r\n\r\n\tif(node.closest(\".dhx_cal_qi_close_btn\")){\r\n\t\tscheduler.hideQuickInfo();\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar mask = scheduler._getClassName(node);\r\n\tif (mask.indexOf(\"_icon\")!=-1){\r\n\t\tvar id = scheduler._quick_info_box_id;\r\n\t\tscheduler._click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\r\n\t} else\r\n\t\tscheduler._qi_button_click(node.parentNode);\r\n};\r\nscheduler._get_event_counter_part = function(id){\r\n\tvar domEv = scheduler.getRenderedEvent(id);\r\n\tvar left = 0;\r\n\tvar top = 0;\r\n\r\n\tvar node = domEv;\r\n\twhile (node && node != scheduler._obj){\r\n\t\tleft += node.offsetLeft;\r\n\t\ttop += node.offsetTop-node.scrollTop;\r\n\t\tnode = node.offsetParent;\r\n\t}\r\n\tif(node){\r\n\t\tvar dx = (left + domEv.offsetWidth/2) > (scheduler._x/2) ? 1 : 0;\r\n\t\tvar dy = (top + domEv.offsetHeight/2) > (scheduler._y/2) ? 1 : 0;\r\n\r\n\t\treturn { left:left, top:top, dx:dx, dy:dy,\r\n\t\t\twidth:domEv.offsetWidth, height:domEv.offsetHeight };\r\n\t}\r\n\treturn 0;\r\n};\r\n\r\nscheduler._fill_quick_data  = function(id){\r\n\tvar ev = scheduler.getEvent(id);\r\n\tvar qi = scheduler._quick_info_box;\r\n\r\n\tscheduler._quick_info_box_id = id;\r\n\r\n//title content\r\n\r\n\tvar header = {\r\n\t\tcontent: scheduler.templates.quick_info_title(ev.start_date, ev.end_date, ev),\r\n\t\tdate: scheduler.templates.quick_info_date(ev.start_date, ev.end_date, ev)\r\n\t};\r\n\tvar titleContent = qi.querySelector(\".dhx_cal_qi_tcontent\");\r\n\ttitleContent.innerHTML = `<span>${header.content}</span>`;\r\n\tvar titleDate = qi.querySelector(\".dhx_cal_qi_tdate\");\r\n\ttitleDate.innerHTML = header.date;\r\n\r\n\tscheduler._waiAria.quickInfoHeader(qi, [header.content, header.date].join(\" \"));\r\n\r\n//main content\r\n\tvar main = qi.querySelector(\".dhx_cal_qi_content\");\r\n\tconst mainContent = scheduler.templates.quick_info_content(ev.start_date, ev.end_date, ev);\r\n\tif(mainContent){\r\n\t\tmain.classList.remove(\"dhx_hidden\");\r\n\t\tmain.innerHTML = mainContent;\r\n\t}else{\r\n\t\tmain.classList.add(\"dhx_hidden\");\r\n\t}\r\n};\r\n\r\n\r\n}","export default function(scheduler){\r\n\t\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar originalRecurringSetValue;\r\n\tif (scheduler.form_blocks.recurring) {\r\n\t\toriginalRecurringSetValue = scheduler.form_blocks.recurring.set_value;\r\n\t}\r\n\tvar original_left_buttons = scheduler.config.buttons_left.slice();\r\n\tvar original_right_buttons = scheduler.config.buttons_right.slice();\r\n\r\n\tscheduler.attachEvent(\"onBeforeLightbox\", function(id) {\r\n\t\tif (this.config.readonly_form || this.getEvent(id).readonly) {\r\n\t\t\tthis.config.readonly_active = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.config.readonly_active = false;\r\n\t\t\tscheduler.config.buttons_left = original_left_buttons.slice();\r\n\t\t\tscheduler.config.buttons_right = original_right_buttons.slice();\r\n\t\r\n\t\t\t// initial value\r\n\t\t\tif(scheduler.form_blocks.recurring) {\r\n\t\t\t\tscheduler.form_blocks.recurring.set_value = originalRecurringSetValue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar sns = this.config.lightbox.sections;\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\tfor (var i = 0; i < sns.length; i++) {\r\n\t\t\t\tif (sns[i].type == 'recurring') {\r\n\t\t\t\t\tif (this.config.readonly_active && scheduler.form_blocks.recurring) {\r\n\t\t\t\t\t\tscheduler.form_blocks.recurring.set_value = function(node, value, ev) {\r\n\t\t\t\t\t\t\tvar wrapper = scheduler.$domHelpers.closest(node, \".dhx_wrap_section\");\r\n\t\t\t\t\t\t\tvar style = \"none\";\r\n\t\t\t\t\t\t\twrapper.querySelector('.dhx_cal_lsection').display = style;\r\n\t\t\t\t\t\t\twrapper.querySelector('.dhx_form_repeat').display = style;\r\n\t\t\t\t\t\t\twrapper.style.display = style;\r\n\r\n\t\t\t\t\t\t\tscheduler.setLightboxSize();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar forbidden_buttons = [\"dhx_delete_btn\", \"dhx_save_btn\"];\r\n\t\t\tvar button_arrays = [scheduler.config.buttons_left, scheduler.config.buttons_right];\r\n\t\t\tfor (var i = 0; i < forbidden_buttons.length; i++) {\r\n\t\t\t\tvar forbidden_button = forbidden_buttons[i];\r\n\t\t\t\tfor (var k = 0; k < button_arrays.length; k++) {\r\n\t\t\t\t\tvar button_array = button_arrays[k];\r\n\t\t\t\t\tvar index = -1;\r\n\t\t\t\t\tfor (var p = 0; p < button_array.length; p++) {\r\n\t\t\t\t\t\tif (button_array[p] == forbidden_button) {\r\n\t\t\t\t\t\t\tindex = p;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (index != -1) {\r\n\t\t\t\t\t\tbutton_array.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.resetLightbox();\r\n\r\n\t\treturn true;\r\n\t});\r\n\r\n\tfunction txt_replace(tag, d, n, text) {\r\n\t\tvar txts = d.getElementsByTagName(tag);\r\n\t\tvar txtt = n.getElementsByTagName(tag);\r\n\t\tfor (var i = txtt.length - 1; i >= 0; i--) {\r\n\t\t\tvar n = txtt[i];\r\n\t\t\tif (!text){\r\n\t\t\t\tn.disabled = true;\r\n\t\t\t\t//radio and checkboxes loses state after .cloneNode in IE\r\n\t\t\t\tif(d.checked)\r\n\t\t\t\t\tn.checked = true;\r\n\t\t\t}else {\r\n\t\t\t\tvar t = document.createElement(\"span\");\r\n\t\t\t\tt.className = \"dhx_text_disabled\";\r\n\t\t\t\tt.innerHTML = text(txts[i]);\r\n\t\t\t\tn.parentNode.insertBefore(t, n);\r\n\t\t\t\tn.parentNode.removeChild(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar old = scheduler._fill_lightbox;\r\n\tscheduler._fill_lightbox = function() {\r\n\r\n\t\tvar lb = this.getLightbox();\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\tlb.style.visibility = 'hidden';\r\n\t\t\t// lightbox should have actual sizes before rendering controls\r\n\t\t\t// currently only matters for dhtmlxCombo\r\n\t\t\tlb.style.display = 'block';\r\n\t\t}\r\n\t\tvar res = old.apply(this, arguments);\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\t//reset visibility and display\r\n\t\t\tlb.style.visibility = '';\r\n\t\t\tlb.style.display = 'none';\r\n\t\t}\r\n\r\n\t\tif (this.config.readonly_active) {\r\n\r\n\t\t\tvar originalForm = this.getLightbox();\r\n\t\t\tvar readonlyForm = this._lightbox_r = originalForm.cloneNode(true);\r\n\t\t\treadonlyForm.id = scheduler.uid();\r\n\t\t\treadonlyForm.className += \" dhx_cal_light_readonly\";\r\n\t\t\ttxt_replace(\"textarea\", originalForm, readonlyForm, function(a) {\r\n\t\t\t\treturn a.value;\r\n\t\t\t});\r\n\t\t\ttxt_replace(\"input\", originalForm, readonlyForm, false);\r\n\t\t\ttxt_replace(\"select\", originalForm, readonlyForm, function(a) {\r\n\t\t\t\tif(!a.options.length) return \"\";\r\n\t\t\t\treturn a.options[Math.max((a.selectedIndex || 0), 0)].text;\r\n\t\t\t});\r\n\r\n\t\t\toriginalForm.parentNode.insertBefore(readonlyForm, originalForm);\r\n\r\n\t\t\tthis.showCover(readonlyForm);\r\n\t\t\tif (scheduler._lightbox)\r\n\t\t\t\tscheduler._lightbox.parentNode.removeChild(scheduler._lightbox);\r\n\t\t\tthis._lightbox = readonlyForm;\r\n\r\n\t\t\tif (scheduler.config.drag_lightbox)\r\n\t\t\t\tscheduler.event(readonlyForm.firstChild, \"mousedown\", scheduler._ready_to_dnd);\r\n\t\t\t\t\r\n\t\t\tscheduler._init_lightbox_events();\r\n\t\t\tthis.setLightboxSize();\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\r\n\tvar hold = scheduler.hide_lightbox;\r\n\tscheduler.hide_lightbox = function() {\r\n\t\tif (this._lightbox_r) {\r\n\t\t\tthis._lightbox_r.parentNode.removeChild(this._lightbox_r);\r\n\t\t\tthis._lightbox_r = this._lightbox = null;\r\n\t\t}\r\n\r\n\t\treturn hold.apply(this, arguments);\r\n\t};\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.occurrence_timestamp_in_utc = false;\r\nscheduler.config.recurring_workdays = [1,2,3,4,5];\r\nscheduler.form_blocks[\"recurring\"] = {\r\n\t_get_node : function(node){\r\n\t\tif (typeof node == \"string\"){\r\n\t\t\tlet element = scheduler._lightbox.querySelector(`#${node}`);\r\n\t\t\tif(!element){\r\n\t\t\t\t// form is detached from lightbox \r\n\t\t\t\t// search globally, won't work in LWC\r\n\t\t\t\telement = document.getElementById(node);\r\n\t\t\t}\r\n\t\t\tnode = element;\r\n\t\t}\r\n\t\tif (node.style.display == 'none')\r\n\t\t\tnode.style.display = \"\";\r\n\t\treturn node;\r\n\t},\r\n\t_outer_html: function(node){\r\n\t\treturn node.outerHTML || getOuterHTML(node);\r\n\r\n\t\t//probably not needed, FF v10- only\r\n\t\tfunction getOuterHTML(n){\r\n\t\t\tvar div = document.createElement('div'), h;\r\n\t\t\tdiv.appendChild( n.cloneNode(true) );\r\n\t\t\th = div.innerHTML;\r\n\t\t\tdiv = null;\r\n\t\t\treturn h;\r\n\t\t}\r\n\t},\r\n\trender:function(sns) {\r\n\t\tif(sns.form){\r\n\t\t\tvar rec = scheduler.form_blocks[\"recurring\"];\r\n\t\t\tvar form = rec._get_node(sns.form);\r\n\t\t\tvar html = rec._outer_html(form);\r\n\t\t\tform.style.display = 'none';\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\tvar loc = scheduler.locale.labels;\r\n\t\treturn '<div class=\"dhx_form_repeat\"> '+\r\n\t\t\t\t\t'<form> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_left\"> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"day\" />'+loc.repeat_radio_day+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"week\"/>'+loc.repeat_radio_week+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"month\" checked />'+loc.repeat_radio_month+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"year\" />'+loc.repeat_radio_year+'</label></div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_divider\">'+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_center\"> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_day\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"day_type\" value=\"d\"/>'+loc.repeat_radio_day_type+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"day_count\" value=\"1\" />'+loc.repeat_text_day_count+'</label></div> '+\r\n\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"day_type\" checked value=\"w\"/>'+loc.repeat_radio_day_type2+'</label></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_week\">'+\r\n\t\t\t\t\t\t\t\t'<div><label>'+loc.repeat_week+'<input class=\"dhx_repeat_text\" type=\"text\" name=\"week_count\" value=\"1\" /></label>'+\r\n\t\t\t\t\t\t\t\t'<span>'+loc.repeat_text_week_count+'</span></div>  '+\r\n\t\t\t\t\t\t\t\t'<table class=\"dhx_repeat_days\"> '+\r\n\t\t\t\t\t\t\t\t\t'<tr> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"1\" />'+loc.day_for_recurring[1]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"4\" />'+loc.day_for_recurring[4]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"2\" />'+loc.day_for_recurring[2]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"5\" />'+loc.day_for_recurring[5]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"3\" />'+loc.day_for_recurring[3]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"6\" />'+loc.day_for_recurring[6]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"0\" />'+loc.day_for_recurring[0]+'</label></div> </td> '+\r\n\t\t\t\t\t\t\t\t\t'</tr> '+\r\n\t\t\t\t\t\t\t\t'</table> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div id=\"dhx_repeat_month\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_month_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"month_type\" value=\"d\"/>'+loc.repeat_radio_month_type+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_day\" value=\"1\" />'+loc.repeat_text_month_day+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_count\" value=\"1\" />'+loc.repeat_text_month_count+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_month_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"month_type\" checked value=\"w\"/>'+loc.repeat_radio_month_start+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"month_week2\" value=\"1\" />'+\r\n\t\t\t\t\t\t\t\t\t'<label>'+\r\n\t\t\t\t\t\t\t\t\t\t'<select name=\"month_day2\">'+\r\n\t\t\t\t\t\t\t\t\t\t'\t<option value=\"1\" selected >'+scheduler.locale.date.day_full[1]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+scheduler.locale.date.day_full[2]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+scheduler.locale.date.day_full[3]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+scheduler.locale.date.day_full[4]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+scheduler.locale.date.day_full[5]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+scheduler.locale.date.day_full[6]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"0\">'+scheduler.locale.date.day_full[0]+\r\n\t\t\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\t\t\tloc.repeat_text_month_count2_before+\r\n\t\t\t\t\t\t\t\t\t'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_count2\" value=\"1\" />'+loc.repeat_text_month_count2_after+'</label></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_year\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_year_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"year_type\" value=\"d\"/>'+loc.repeat_radio_day_type+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"year_day\" value=\"1\" />'+loc.repeat_text_year_day+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label>'+\r\n\t\t\t\t\t\t\t\t\t'<select name=\"year_month\">'+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"0\" selected >'+loc.month_for_recurring[0]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"1\">'+loc.month_for_recurring[1]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+loc.month_for_recurring[2]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+loc.month_for_recurring[3]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+loc.month_for_recurring[4]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+loc.month_for_recurring[5]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+loc.month_for_recurring[6]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+loc.month_for_recurring[7]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"8\">'+loc.month_for_recurring[8]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"9\">'+loc.month_for_recurring[9]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"10\">'+loc.month_for_recurring[10]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"11\">'+loc.month_for_recurring[11]+\r\n\t\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\t\tloc.select_year_month+\r\n\t\t\t\t\t\t\t\t'</label></div> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_year_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"year_type\" checked value=\"w\"/>'+loc.repeat_year_label+'</label>'+\r\n\t\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"year_week2\" value=\"1\" />'+\r\n\t\t\t\t\t\t\t\t'<select name=\"year_day2\">'+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"1\" selected >'+scheduler.locale.date.day_full[1]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+scheduler.locale.date.day_full[2]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+scheduler.locale.date.day_full[3]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+scheduler.locale.date.day_full[4]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+scheduler.locale.date.day_full[5]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+scheduler.locale.date.day_full[6]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+scheduler.locale.date.day_full[0]+\r\n\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\tloc.select_year_day2+\r\n\t\t\t\t\t\t\t\t'<select name=\"year_month2\">'+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"0\" selected >'+loc.month_for_recurring[0]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"1\">'+loc.month_for_recurring[1]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+loc.month_for_recurring[2]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+loc.month_for_recurring[3]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+loc.month_for_recurring[4]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+loc.month_for_recurring[5]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+loc.month_for_recurring[6]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+loc.month_for_recurring[7]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"8\">'+loc.month_for_recurring[8]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"9\">'+loc.month_for_recurring[9]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"10\">'+loc.month_for_recurring[10]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"11\">'+loc.month_for_recurring[11]+\r\n\t\t\t\t\t\t\t\t'</select></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_divider\">'+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_right\"> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" checked/>'+loc.repeat_radio_end+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" />'+loc.repeat_radio_end2+'</label>'+\r\n\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"occurences_count\" value=\"1\" />'+loc.repeat_text_occurences_count+'</div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" />'+loc.repeat_radio_end3+'</label>'+\r\n\t\t\t\t\t\t\t'<input class=\"dhx_repeat_date\" type=\"text\" name=\"date_of_end\" value=\"'+scheduler.config.repeat_date_of_end+'\" /></div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t'</form> '+\r\n\t\t\t\t'</div> '+\r\n\t\t\t\t'</div>';\r\n\t},\r\n\t_ds: {},\r\n\t_get_form_node: function(els, name, value){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return null;\r\n\t\tif(col.nodeName) return col;\r\n\r\n\t\tif(col.length){\r\n\t\t\tfor(var i=0; i < col.length; i++){\r\n\t\t\t\tif(col[i].value == value)\r\n\t\t\t\t\treturn col[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_get_node_value: function(els, name, multiselect){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return \"\";\r\n\t\tif(col.length){\r\n\t\t\tif(multiselect){\r\n\t\t\t\tvar res = [];\r\n\t\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\t\tif (col[i].checked) res.push(col[i].value);\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}else{\r\n\t\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\t\tif (col[i].checked) return col[i].value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(col.value)\r\n\t\t\treturn !multiselect ? col.value : [col.value];\r\n\t},\r\n\r\n\t_get_node_numeric_value: function(els, name){\r\n\t\tvar value = scheduler.form_blocks[\"recurring\"]._get_node_value(els, name);\r\n\t\treturn ((value * 1) || 0);\r\n\t},\r\n\r\n\t_set_node_value: function(els, name, value){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return;\r\n\r\n\t\tif(col.name == name){\r\n\t\t\tcol.value = value;\r\n\t\t}else if(col.length){\r\n\t\t\tvar hash_value = typeof value == \"object\";\r\n\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\tif (hash_value || col[i].value == value){\r\n\t\t\t\t\tcol[i].checked = hash_value ? !!value[col[i].value] : !!value;\r\n\t\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_init_set_value:function(node, value, ev) {\r\n\t\tvar block = scheduler.form_blocks[\"recurring\"];\r\n\t\tvar get_value = block._get_node_value;\r\n\t\tvar set_value = block._set_node_value;\r\n\t\tscheduler.form_blocks[\"recurring\"]._ds = {start:ev.start_date, end:ev._end_date};\r\n\r\n\t\tvar str_date_format = scheduler.date.str_to_date(scheduler.config.repeat_date, false, true);\r\n\t\tvar str_date = function(str_date) {\r\n\t\t\tvar date = str_date_format(str_date);\r\n\t\t\tif (scheduler.config.include_end_by)\r\n\t\t\t\tdate = scheduler.date.add(date, 1, 'day');\r\n\t\t\treturn date;\r\n\t\t};\r\n\r\n\t\tvar date_str = scheduler.date.date_to_str(scheduler.config.repeat_date);\r\n\r\n\t\tvar top = node.getElementsByTagName(\"FORM\")[0];\r\n\t\tvar els = {};\r\n\r\n\t\tfunction register_els(inps) {\r\n\t\t\tfor (var i = 0; i < inps.length; i++) {\r\n\t\t\t\tvar inp = inps[i];\r\n\r\n\t\t\t\tif(inp.name){\r\n\t\t\t\t\tif(!els[inp.name]){\r\n\t\t\t\t\t\tels[inp.name] = inp;\r\n\t\t\t\t\t}else if(els[inp.name].nodeType){\r\n\t\t\t\t\t\tvar node = els[inp.name];\r\n\t\t\t\t\t\tels[inp.name] = [node, inp];\r\n\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tels[inp.name].push(inp);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tregister_els(top.getElementsByTagName(\"INPUT\"));\r\n\t\tregister_els(top.getElementsByTagName(\"SELECT\"));\r\n\r\n\t\tif (!scheduler.config.repeat_date_of_end) {\r\n\t\t\tvar formatter = scheduler.date.date_to_str(scheduler.config.repeat_date);\r\n\t\t\tscheduler.config.repeat_date_of_end = formatter(scheduler.date.add(scheduler._currentDate(), 30, \"day\"));\r\n\t\t}\r\n\t\tset_value(els, \"date_of_end\", scheduler.config.repeat_date_of_end);\r\n\r\n\t\tvar $ = function(a) {\r\n\t\t\treturn scheduler._lightbox.querySelector(`#${a}`) || { style:{} };//return fake object if node not found\r\n\t\t};\r\n\r\n\t\tfunction change_current_view() {\r\n\t\t\t$(\"dhx_repeat_day\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_week\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_month\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_year\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_\" + this.value).style.display = \"\";\r\n\t\t\tscheduler.setLightboxSize();\r\n\t\t}\r\n\r\n\t\tfunction get_repeat_code(dates) {\r\n\t\t\tvar code = [get_value(els, \"repeat\")];\r\n\t\t\tget_rcode[code[0]](code, dates);\r\n\r\n\t\t\twhile (code.length < 5) code.push(\"\");\r\n\t\t\tvar repeat = \"\";\r\n\r\n\t\t\tvar end = get_end_rule(els);\r\n\r\n\t\t\tif (end == \"no\") {\r\n\t\t\t\tdates.end = new Date(9999, 1, 1);\r\n\t\t\t\trepeat = \"no\";\r\n\t\t\t}\r\n\t\t\telse if (end == \"date_of_end\") {\r\n\t\t\t\tdates.end = str_date(get_value(els, \"date_of_end\"));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tscheduler.transpose_type(code.join(\"_\"));\r\n\t\t\t\trepeat = Math.max(1, get_value(els, \"occurences_count\"));\r\n\r\n\t\t\t\tvar transp = 0;\r\n\r\n\t\t\t\t//var transp = ((code[0] == \"week\" && code[4] && code[4].toString().indexOf(scheduler.config.start_on_monday ? 1 : 0) == -1) ? 1 : 0);\r\n\r\n\t\t\t\t// which is equal to following code, seems to produce extra instance, not clear why needed\r\n\r\n\t\t\t\t/*if(code[0] == \"week\"){\r\n\t\t\t\t\tvar days = code[4] || \"\";\r\n\t\t\t\t\tif(scheduler.config.start_on_monday){\r\n\t\t\t\t\t\tif(days.indexOf(1) == -1)\r\n\t\t\t\t\t\ttransp = 1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(days.indexOf(0) == -1)\r\n\t\t\t\t\t\ttransp = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}*/\r\n\r\n\t\t\t//\tdates.end = scheduler.date.add(new Date(dates.start), repeat + transp, code.join(\"_\"));\r\n\r\n\t\t\t\tdates.end = scheduler.date[\"add_\" + code.join(\"_\")](new Date(dates.start), repeat + transp, {start_date: dates.start}) || dates.start;\r\n\t\t\t}\r\n\r\n\t\t\treturn code.join(\"_\") + \"#\" + repeat;\r\n\t\t}\r\n\t\tfunction get_end_rule(els){\r\n\t\t\tvar end = els[\"end\"];\r\n\t\t\tif(end.length){\r\n\t\t\t\tfor(var i =0; i < end.length; i++){\r\n\t\t\t\t\tif(end[i].checked){\r\n\t\t\t\t\t\tif(end[i].value && end[i].value != \"on\"){//seems to be default value:var input = document.createElement(\"input\"); input.type = \"radio\"; input.value\r\n\t\t\t\t\t\t\treturn end[i].value;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(!i){\r\n\t\t\t\t\t\t\t\treturn \"no\";\r\n\t\t\t\t\t\t\t}else if(i == 2){\r\n\t\t\t\t\t\t\t\treturn \"date_of_end\";\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn \"occurences_count\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(end.value)\r\n\t\t\t\t\treturn end.value;\r\n\t\t\t}\r\n\t\t\treturn \"no\";\r\n\t\t}\r\n\t\tfunction set_end_rule(els, value){\r\n\t\t\tvar end = els[\"end\"];\r\n\r\n\t\t\tif(end.length){\r\n\t\t\t\tvar has_values = !!end[0].value && end[0].value != \"on\";\r\n\t\t\t\tif(has_values){\r\n\t\t\t\t\tfor(var i =0; i < end.length; i++){\r\n\t\t\t\t\t\tif(end[i].value == value)\r\n\t\t\t\t\t\t\tend[i].checked = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar ind = 0;\r\n\t\t\t\t\tswitch(value){\r\n\t\t\t\t\t\tcase \"no\":\r\n\t\t\t\t\t\t\tind = 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"date_of_end\":\r\n\t\t\t\t\t\t\tind = 2;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tind = 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend[ind].checked = true;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tend.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tscheduler.form_blocks[\"recurring\"]._get_repeat_code = get_repeat_code;\r\n\t\tvar get_rcode = {\r\n\t\t\tmonth:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tif (get_value(els, \"month_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_count\")));\r\n\t\t\t\t\tdates.start.setDate(get_value(els, \"month_day\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_count2\")));\r\n\t\t\t\t\tcode.push( get_value(els, \"month_day2\"));\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_week2\")));\r\n\t\t\t\t\tif (!scheduler.config.repeat_precise){\r\n\t\t\t\t\t\tdates.start.setDate(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdates._start = true;\r\n\t\t\t},\r\n\t\t\tweek:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"week_count\")));\r\n\t\t\t\tcode.push(\"\");\r\n\t\t\t\tcode.push(\"\");\r\n\t\t\t\tvar t = [];\r\n\r\n\t\t\t\tvar col = get_value(els, \"week_day\", true);\r\n\t\t\t\t//var col = els[\"week_day\"];\r\n\t\t\t\tvar day = dates.start.getDay();\r\n\t\t\t\tvar start_exists = false;\r\n\r\n\t\t\t\tfor (var i = 0; i < col.length; i++){\r\n\t\t\t\t\tt.push(col[i]);\r\n\t\t\t\t\tstart_exists = start_exists || col[i] == day;\r\n\t\t\t\t}\r\n\t\t\t\tif (!t.length){\r\n\t\t\t\t\tt.push(day);\r\n\t\t\t\t\tstart_exists = true;\r\n\t\t\t\t}\r\n\t\t\t\tt.sort();\r\n\r\n\r\n\t\t\t\tif (!scheduler.config.repeat_precise){\r\n\t\t\t\t\tdates.start = scheduler.date.week_start(dates.start);\r\n\t\t\t\t\tdates._start = true;\r\n\t\t\t\t} else if (!start_exists){\r\n\t\t\t\t\tscheduler.transpose_day_week(dates.start, t, 1, 7);\r\n\t\t\t\t\tdates._start = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcode.push(t.join(\",\"));\r\n\t\t\t},\r\n\t\t\tday:function(code) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tif (get_value(els, \"day_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"day_count\")));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcode.push(\"week\");\r\n\t\t\t\t\tcode.push(1);\r\n\t\t\t\t\tcode.push(\"\");\r\n\t\t\t\t\tcode.push(\"\");\r\n\t\t\t\t\tcode.push(scheduler.config.recurring_workdays.join(\",\"));\r\n\t\t\t\t\tcode.splice(0, 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tyear:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\r\n\t\t\t\tif (get_value(els, \"year_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(\"1\");\r\n\t\t\t\t\tdates.start.setMonth(0);\r\n\t\t\t\t\tdates.start.setDate(get_value(els, \"year_day\"));\r\n\t\t\t\t\tdates.start.setMonth(get_value(els, \"year_month\"));\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcode.push(\"1\");\r\n\t\t\t\t\tcode.push(get_value(els, \"year_day2\"));\r\n\t\t\t\t\tcode.push(get_value(els, \"year_week2\"));\r\n\t\t\t\t\tdates.start.setDate(1);\r\n\t\t\t\t\tdates.start.setMonth(get_value(els, \"year_month2\"));\r\n\t\t\t\t}\r\n\t\t\t\tdates._start = true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar set_rcode = {\r\n\t\t\tweek:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\t\tset_value(els, \"week_count\", code[1]);\r\n\r\n\t\t\t\tvar t = code[4].split(\",\");\r\n\t\t\t\tvar d = {};\r\n\t\t\t\tfor (var i = 0; i < t.length; i++) d[t[i]] = true;\r\n\r\n\t\t\t\tset_value(els, \"week_day\", d);\r\n\r\n\t\t\t\t//for (var i = 0; i < col.length; i++)\r\n\t\t\t\t//\tcol[i].checked = (!!d[col[i].value]);\r\n\t\t\t},\r\n\t\t\tmonth:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\r\n\t\t\t\tif (code[2] === \"\") {\r\n\t\t\t\t\tset_value(els, \"month_type\", \"d\");\r\n\t\t\t\t\tset_value(els, \"month_count\", code[1]);\r\n\t\t\t\t\tset_value(els, \"month_day\", dates.start.getDate());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset_value(els, \"month_type\", \"w\");\r\n\t\t\t\t\tset_value(els, \"month_count2\", code[1]);\r\n\t\t\t\t\tset_value(els, \"month_week2\",  code[3]);\r\n\t\t\t\t\tset_value(els, \"month_day2\", code[2]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tday:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\t\tset_value(els, \"day_type\", \"d\");\r\n\t\t\t\tset_value(els, \"day_count\", code[1]);\r\n\t\t\t},\r\n\t\t\tyear:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\r\n\t\t\t\tif (code[2] === \"\") {\r\n\t\t\t\t\tset_value(els, \"year_type\", \"d\");\r\n\t\t\t\t\tset_value(els, \"year_day\", dates.start.getDate());\r\n\t\t\t\t\tset_value(els, \"year_month\", dates.start.getMonth());\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset_value(els, \"year_type\", \"w\");\r\n\t\t\t\t\tset_value(els, \"year_week2\", code[3]);\r\n\t\t\t\t\tset_value(els, \"year_day2\", code[2]);\r\n\t\t\t\t\tset_value(els, \"year_month2\", dates.start.getMonth());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction set_repeat_code(code, dates) {\r\n\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\tvar data = code.split(\"#\");\r\n\t\t\tcode = data[0].split(\"_\");\r\n\t\t\tset_rcode[code[0]](code, dates);\r\n\r\n\t\t\tswitch (data[1]) {\r\n\t\t\t\tcase \"no\":\r\n\t\t\t\t\tset_end_rule(els, \"no\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"\":\r\n\t\t\t\t\tset_end_rule(els, \"date_of_end\");\r\n\r\n\t\t\t\t\tvar end_date = dates.end;\r\n\t\t\t\t\tif (scheduler.config.include_end_by){\r\n\t\t\t\t\t\tend_date = scheduler.date.add(end_date, -1, 'day');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tset_value(els, \"date_of_end\", date_str(end_date));\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tset_end_rule(els, \"occurences_count\");\r\n\t\t\t\t\tset_value(els, \"occurences_count\", data[1]);\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tset_value(els, \"repeat\", code[0]);\r\n\t\t\t//e.checked = true;\r\n\r\n\t\t\tvar node = scheduler.form_blocks[\"recurring\"]._get_form_node(els, \"repeat\", code[0]);\r\n\t\t\tif(node.nodeName == \"SELECT\"/* && node.onchange*/){\r\n\t\t\t//\tnode.onchange();\r\n\t\t\t\tnode.dispatchEvent(new Event('change'));\r\n\t\t\t\tnode.dispatchEvent(new MouseEvent('click'));\r\n\t\t\t}else{\r\n\t\t\t\tnode.dispatchEvent(new MouseEvent('click'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tscheduler.form_blocks[\"recurring\"]._set_repeat_code = set_repeat_code;\r\n\r\n\t\tfor (var i = 0; i < top.elements.length; i++) {\r\n\t\t\tvar el = top.elements[i];\r\n\t\t\tswitch (el.name) {\r\n\t\t\t\tcase \"repeat\":\r\n\t\t\t\t\tif (el.nodeName == \"SELECT\" && !el.$_eventAttached) {\r\n\t\t\t\t\t\tel.$_eventAttached = true;\r\n\t\t\t\t\t\tel.addEventListener(\"change\", change_current_view);\r\n\t\t\t\t\t} else if(!el.$_eventAttached){\r\n\t\t\t\t\t\tel.$_eventAttached = true;\r\n\t\t\t\t\t\tel.addEventListener(\"click\", change_current_view);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tscheduler._lightbox._rec_init_done = true;\r\n\t},\r\n\tset_value:function(node, value, ev) {\r\n\t\tvar rf = scheduler.form_blocks[\"recurring\"];\r\n\t\tif (!scheduler._lightbox._rec_init_done)\r\n\t\t\trf._init_set_value(node, value, ev);\r\n\t\tnode.open = !ev.rec_type;\r\n\r\n\t\tnode.blocked = this._is_modified_occurence(ev);\r\n\r\n\t\tvar ds = rf._ds;\r\n\t\tds.start = ev.start_date;\r\n\t\tds.end = ev._end_date;\r\n\r\n\t\trf._toggle_block();\r\n\r\n\t\tif (value)\r\n\t\t\trf._set_repeat_code(value, ds);\r\n\t},\r\n\tget_value:function(node, ev) {\r\n\t\tif (node.open) {\r\n\t\t\tvar ds = scheduler.form_blocks[\"recurring\"]._ds;\r\n\t\t\tvar actual_dates = {};\r\n\r\n\t\t\tvar timeControl = getTimeSection();\r\n\r\n\t\t\ttimeControl.getValue(actual_dates);\r\n\t\t\tds.start = actual_dates.start_date;\r\n\t\t\tev.rec_type = scheduler.form_blocks[\"recurring\"]._get_repeat_code(ds);\r\n\t\t\tif (ds._start) {\r\n\t\t\t\tev.start_date = new Date(ds.start);\r\n\t\t\t\tev._start_date = new Date(ds.start);\r\n\t\t\t\tds._start = false;\r\n\t\t\t} else\r\n\t\t\t\tev._start_date = null;\r\n\r\n\t\t\tev._end_date = ds.end;\r\n\t\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\t\t} else {\r\n\t\t\tev.rec_type = ev.rec_pattern = \"\";\r\n\t\t\tev._end_date = ev.end_date;\r\n\t\t}\r\n\t\treturn ev.rec_type;\r\n\t},\r\n\t_get_button: function(){\r\n\t\tvar node = getRecurringSection().header;\r\n\t\treturn node.firstChild.firstChild;\r\n\t},\r\n\t_get_form: function(){\r\n\t\treturn getRecurringSection().node;\r\n\t},\r\n\topen:function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form();\r\n\t\tif(!cont.open)\r\n\t\t\tblock._toggle_block();\r\n\t},\r\n\tclose: function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form();\r\n\r\n\t\tif(cont.open)\r\n\t\t\tblock._toggle_block();\r\n\t},\r\n\t_toggle_block: function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form(),\r\n\t\t\tel = block._get_button();\r\n\t\tif (!cont.open && !cont.blocked) {\r\n\t\t\tcont.style.height = \"auto\";//reset to default value\r\n\t\t\tif(el){\r\n\t\t\t\tel.style.backgroundPosition = \"-5px 0px\";\r\n\t\t\t\tel.nextSibling.innerHTML = scheduler.locale.labels.button_recurring_open;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcont.style.height = \"0px\";\r\n\t\t\tif(el){\r\n\t\t\t\tel.style.backgroundPosition = \"-5px 20px\";\r\n\t\t\t\tel.nextSibling.innerHTML = scheduler.locale.labels.button_recurring;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcont.open = !cont.open;\r\n\r\n\t\tscheduler.setLightboxSize();\r\n\t},\r\n\tfocus:function(node) {\r\n\t},\r\n\tbutton_click:function(node, button, event) {\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\t\tvar cont = block._get_form();\r\n\t\tif (!cont.blocked)\r\n\t\t\tscheduler.form_blocks.recurring._toggle_block();\r\n\t}\r\n};\r\n\r\nfunction getTimeSection(){\r\n\tvar timeControl = scheduler.formSection('time');\r\n\tif(!timeControl){\r\n\t\ttimeControl = getFirstSectionOfType('time');\r\n\t}\r\n\tif(!timeControl){\r\n\t\ttimeControl = getFirstSectionOfType('calendar_time');\r\n\t}\r\n\r\n\t\r\n\tif (!timeControl) {\r\n\t\tthrow new Error([\"Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.\",\r\n\"You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. \",\r\n\"In the latter case, make sure the control is named \\\"time\\\":\",\r\n\"\",\r\n\"scheduler.config.lightbox.sections = [\",\r\n\"{name:\\\"time\\\", height:72, type:\\\"YOU CONTROL\\\", map_to:\\\"auto\\\" }];\"]\r\n.join(\"\\n\"));\r\n\t}\r\n\r\n\treturn timeControl;\r\n}\r\n\r\nfunction getRecurringSection(){\r\n\tvar recurringSection = scheduler.formSection('recurring');\r\n\tif(!recurringSection){\r\n\t\trecurringSection = getFirstSectionOfType('recurring');\r\n\t}\r\n\r\n\tif (!recurringSection) {\r\n\t\tthrow new Error([\"Can't locate the Recurring form section.\",\r\n\t\t\"Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox \",\r\n\t\t\"and that the recurring control has name \\\"recurring\\\":\",\r\n\"\",\r\n\"scheduler.config.lightbox.sections = [\",\r\n\"\t{name:\\\"recurring\\\", ... }\",\r\n\"];\"].join(\"\\n\"));\r\n\r\n\t}\r\n\r\n\treturn recurringSection;\r\n}\r\n\r\nfunction getFirstSectionOfType(type){\r\n\tfor(var i = 0; i < scheduler.config.lightbox.sections.length; i++){\r\n\t\tvar section = scheduler.config.lightbox.sections[i];\r\n\t\tif(section.type === type){\r\n\t\t\treturn scheduler.formSection(section.name);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n//problem may occur if we will have two repeating events in the same moment of time\r\nscheduler._rec_markers = {};\r\nscheduler._rec_markers_pull = {};\r\nscheduler._add_rec_marker = function(ev, time) {\r\n\tev._pid_time = time;\r\n\tthis._rec_markers[ev.id] = ev;\r\n\tif (!this._rec_markers_pull[ev.event_pid]) this._rec_markers_pull[ev.event_pid] = {};\r\n\tthis._rec_markers_pull[ev.event_pid][time] = ev;\r\n};\r\nscheduler._get_rec_marker = function(time, id) {\r\n\tvar ch = this._rec_markers_pull[id];\r\n\tif (ch) return ch[time];\r\n\treturn null;\r\n};\r\nscheduler._get_rec_markers = function(id) {\r\n\treturn (this._rec_markers_pull[id] || []);\r\n};\r\n\r\nfunction clearMilliseconds(date){\r\n//\treturn date;\r\n\treturn new Date(\r\n\t\tdate.getFullYear(), \r\n\t\tdate.getMonth(), \r\n\t\tdate.getDate(), \r\n\t\tdate.getHours(), \r\n\t\tdate.getMinutes(),\r\n\t\tdate.getSeconds(),\r\n\t\t0\r\n\t);\r\n}\r\n\r\nscheduler._rec_temp = [];\r\n(function() {\r\n\tvar old_add_event = scheduler.addEvent;\r\n\tscheduler.addEvent = function(start_date, end_date, text, id, extra_data) {\r\n\t\tvar ev_id = old_add_event.apply(this, arguments);\r\n\r\n\t\tif (ev_id && scheduler.getEvent(ev_id)) {\r\n\t\t\tvar ev = scheduler.getEvent(ev_id);\r\n\t\t\t\r\n\t\t\tif(ev.start_date){\r\n\t\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t\t}\r\n\t\t\tif(ev.end_date){\r\n\t\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t\t}\r\n\t\t\tif (this._is_modified_occurence(ev))\r\n\t\t\t\tscheduler._add_rec_marker(ev, ev.event_length * 1000);\r\n\t\t\tif (ev.rec_type)\r\n\t\t\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\t\t}\r\n\t\treturn ev_id;\r\n\t};\r\n})();\r\n\r\nscheduler.attachEvent(\"onEventIdChange\", function(id, new_id) {\r\n\tif (this._ignore_call) return;\r\n\tthis._ignore_call = true;\r\n\r\n\tif(scheduler._rec_markers[id]){\r\n\t\t//important for for correct work of scheduler.getEvents(from, to) and collision detection\r\n\t\tscheduler._rec_markers[new_id] = scheduler._rec_markers[id];\r\n\t\tdelete scheduler._rec_markers[id];\r\n\t}\r\n\r\n\tif(scheduler._rec_markers_pull[id]){\r\n\t\tscheduler._rec_markers_pull[new_id] = scheduler._rec_markers_pull[id];\r\n\t\tdelete scheduler._rec_markers_pull[id];\r\n\t}\r\n\r\n\tfor (var i = 0; i < this._rec_temp.length; i++) {\r\n\t\tvar tev = this._rec_temp[i];\r\n\t\tif (tev.event_pid == id) {\r\n\t\t\ttev.event_pid = new_id;\r\n\t\t\tthis.changeEventId(tev.id, new_id + \"#\" + tev.id.split(\"#\")[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tfor(var i in this._rec_markers){\r\n\t\tvar tev = this._rec_markers[i];\r\n\t\tif(tev.event_pid == id){\r\n\t\t\ttev.event_pid = new_id;\r\n\t\t\ttev._pid_changed = true;\r\n\t\t}\r\n\t}\r\n\r\n\tvar el = scheduler._rec_markers[new_id];\r\n\tif(el && el._pid_changed) {\r\n\t\tdelete el._pid_changed;\r\n\t\tsetTimeout(function() {\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler.callEvent(\"onEventChanged\", [new_id, scheduler.getEvent(new_id)]);\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tdelete this._ignore_call;\r\n});\r\nscheduler.attachEvent(\"onConfirmedBeforeEventDelete\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (this._is_virtual_event(id) || (this._is_modified_occurence(ev) && ev.rec_type && ev.rec_type != 'none')) {\r\n\t\tid = id.split(\"#\");\r\n\t\tvar nid = this.uid();\r\n\t\tvar tid = (id[1]) ? id[1] : Math.round(ev._pid_time / 1000);\r\n\r\n\t\tvar nev = this._copy_event(ev);\r\n\t\tnev.id = nid;\r\n\t\tnev.event_pid = ev.event_pid || id[0];\r\n\t\tvar timestamp = tid;\r\n\t\tnev.event_length = timestamp;\r\n\t\tnev.rec_type = nev.rec_pattern = \"none\";\r\n\t\tthis.addEvent(nev);\r\n\r\n\t\tthis._add_rec_marker(nev, timestamp * 1000);\r\n\t} else {\r\n\t\tif (ev.rec_type && this._lightbox_id)\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\tvar sub = this._get_rec_markers(id);\r\n\t\tfor (var i in sub) {\r\n\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\tid = sub[i].id;\r\n\t\t\t\tif (this.getEvent(id))\r\n\t\t\t\t\tthis.deleteEvent(id, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventDeleted\", function(id, ev){\r\n\tif(!this._is_virtual_event(id) && this._is_modified_occurence(ev)){\r\n\t\tif(!scheduler._events[id]){\r\n\t\t\tev.rec_type = ev.rec_pattern = \"none\";\r\n\t\t\tthis.setEvent(id, ev);\r\n\t\t}\r\n\t}\r\n});\r\nscheduler.attachEvent(\"onEventChanged\", function(id, event) {\r\n\tif (this._loading) return true;\r\n\r\n\tvar ev = this.getEvent(id);\r\n\r\n\tif (this._is_virtual_event(id)) {\r\n\t\tvar id = id.split(\"#\");\r\n\t\tvar nid = this.uid();\r\n\t\tthis._not_render = true;\r\n\r\n\t\tvar nev = this._copy_event(event);\r\n\t\tnev.id = nid;\r\n\t\tnev.event_pid = id[0];\r\n\t\tvar timestamp = id[1];\r\n\t\tnev.event_length = timestamp;\r\n\t\tnev.rec_type = nev.rec_pattern = \"\";\r\n\r\n\t\tthis._add_rec_marker(nev, timestamp * 1000);\r\n\t\tthis.addEvent(nev);\r\n\r\n\t\tthis._not_render = false;\r\n\r\n\t} else {\r\n\t\tif(ev.start_date){\r\n\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t}\r\n\t\tif(ev.end_date){\r\n\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t}\r\n\r\n\t\tif (ev.rec_type && this._lightbox_id){\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\t}\r\n\t\tvar sub = this._get_rec_markers(id);\r\n\t\tfor (var i in sub) {\r\n\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\tdelete this._rec_markers[sub[i].id];\r\n\t\t\t\tthis.deleteEvent(sub[i].id, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdelete this._rec_markers_pull[id];\r\n\r\n\t\t// it's possible that after editing event is no longer exists, in such case we need to remove _select_id flag\r\n\t\tvar isEventFound = false;\r\n\t\tfor (var k = 0; k < this._rendered.length; k++) {\r\n\t\t\tif (this._rendered[k].getAttribute(this.config.event_attribute) == id)\r\n\t\t\t\tisEventFound = true;\r\n\t\t}\r\n\t\tif (!isEventFound)\r\n\t\t\tthis._select_id = null;\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventAdded\", function(id) {\r\n\tif (!this._loading) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (ev.rec_type && !ev.event_length){\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventSave\", function(id, data, is_new_event) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (!ev.rec_type && data.rec_type && !this._is_virtual_event(id))\r\n\t\tthis._select_id = null;\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventCreated\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (!ev.rec_type)\r\n\t\tev.rec_type = ev.rec_pattern = ev.event_length = ev.event_pid = \"\";\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventCancel\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (ev.rec_type) {\r\n\t\tthis._roll_back_dates(ev);\r\n\t\t// a bit expensive, but we need to be sure that event re-rendered, because view can be corrupted by resize , during edit process\r\n\t\tthis.render_view_data();\r\n\t}\r\n});\r\nscheduler._roll_back_dates = function(ev) {\r\n\tif(ev.start_date){\r\n\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t}\r\n\tif(ev.end_date){\r\n\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t}\r\n\tev.event_length = Math.round((ev.end_date.valueOf() - ev.start_date.valueOf()) / 1000);\r\n\tev.end_date = ev._end_date;\r\n\tif (ev._start_date) {\r\n\t\tev.start_date.setMonth(0);\r\n\t\tev.start_date.setDate(ev._start_date.getDate());\r\n\t\tev.start_date.setMonth(ev._start_date.getMonth());\r\n\t\tev.start_date.setFullYear(ev._start_date.getFullYear());\r\n\r\n\t}\r\n};\r\n\r\nscheduler._is_virtual_event = function(id){\r\n\treturn id.toString().indexOf(\"#\") != -1;\r\n};\r\nscheduler._is_modified_occurence = function(ev){\r\n\treturn (ev.event_pid && ev.event_pid != \"0\");\r\n};\r\n\r\nscheduler.showLightbox_rec = scheduler.showLightbox;\r\nscheduler.showLightbox = function(id) {\r\n\tvar locale = this.locale;\r\n\tvar c = scheduler.config.lightbox_recurring;\r\n\tvar ev = this.getEvent(id);\r\n\tvar pid = ev.event_pid;\r\n\tvar isVirtual = this._is_virtual_event(id);\r\n\tif (isVirtual)\r\n\t\tpid = id.split(\"#\")[0];\r\n\r\n\t// show series\r\n\tvar showSeries = function(id) {\r\n\t\tvar event = scheduler.getEvent(id);\r\n\t\tevent._end_date = event.end_date;\r\n\t\tevent.end_date = new Date(event.start_date.valueOf() + event.event_length * 1000);\r\n\t\treturn scheduler.showLightbox_rec(id); // editing series\r\n\t};\r\n\r\n\tif ( (pid || pid*1 === 0) && ev.rec_type) {\r\n\t\t// direct API call on series id\r\n\t\treturn showSeries(id);\r\n\t}\r\n\tif ( !pid || pid === '0' || ( (!locale.labels.confirm_recurring || c == 'instance') || (c == 'series' && !isVirtual)) ) {\r\n\t\t// editing instance or non recurring event\r\n\t\treturn this.showLightbox_rec(id);\r\n\t}\r\n\tif (c == 'ask') {\r\n\t\tvar that = this;\r\n\t\tscheduler.modalbox({\r\n\t\t\ttext: locale.labels.confirm_recurring,\r\n\t\t\ttitle: locale.labels.title_confirm_recurring,\r\n\t\t\twidth: \"500px\",\r\n\t\t\tposition: \"middle\",\r\n\t\t\tbuttons:[locale.labels.button_edit_series, locale.labels.button_edit_occurrence, locale.labels.icon_cancel],\r\n\t\t\tcallback: function(index) {\r\n\t\t\t\tswitch(+index) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\treturn showSeries(pid);\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\treturn that.showLightbox_rec(id);\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tshowSeries(pid);\r\n\t}\r\n};\r\n\r\n\r\nscheduler.get_visible_events_rec = scheduler.get_visible_events;\r\nscheduler.get_visible_events = function(only_timed) {\r\n\tfor (var i = 0; i < this._rec_temp.length; i++)\r\n\t\tdelete this._events[this._rec_temp[i].id];\r\n\tthis._rec_temp = [];\r\n\r\n\tvar stack = this.get_visible_events_rec(only_timed);\r\n\tvar out = [];\r\n\tfor (var i = 0; i < stack.length; i++) {\r\n\t\tif (stack[i].rec_type) {\r\n\t\t\t//deleted element of series\r\n\t\t\tif (stack[i].rec_pattern != \"none\")\r\n\t\t\t\tthis.repeat_date(stack[i], out);\r\n\t\t}\r\n\t\telse out.push(stack[i]);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\n\r\n(function() {\r\n\tvar old = scheduler.isOneDayEvent;\r\n\tscheduler.isOneDayEvent = function(ev) {\r\n\t\tif (ev.rec_type) return true;\r\n\t\treturn old.call(this, ev);\r\n\t};\r\n\tvar old_update_event = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id) {\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif(ev && ev.rec_type){\r\n\t\t\t//rec_type can be changed without the lightbox,\r\n\t\t\t// make sure rec_pattern updated as well\r\n\t\t\tev.rec_pattern = (ev.rec_type || \"\").split(\"#\")[0];\r\n\t\t}\r\n\t\tif (ev && ev.rec_type && !this._is_virtual_event(id)) {\r\n\t\t\tscheduler.update_view();\r\n\t\t} else {\r\n\t\t\told_update_event.call(this, id);\r\n\t\t}\r\n\t};\r\n})();\r\n\r\nscheduler.transponse_size = {\r\n\tday:1, week:7, month:1, year:12\r\n};\r\nscheduler.date.day_week = function(sd, day, week) {\r\n\tsd.setDate(1);\r\n\tvar originalMonth = scheduler.date.month_start(new Date(sd));\r\n\tweek = (week - 1) * 7;\r\n\tvar cday = sd.getDay();\r\n\tvar nday = day * 1 + week - cday + 1;\r\n\tsd.setDate(nday <= week ? (nday + 7) : nday);\r\n\tvar newMonth = scheduler.date.month_start(new Date(sd));\r\n\tif(originalMonth.valueOf() !== newMonth.valueOf()){\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\nscheduler.transpose_day_week = function(sd, list, cor, size, cor2) {\r\n\tvar cday = (sd.getDay() || (scheduler.config.start_on_monday ? 7 : 0)) - cor;\r\n\tfor (var i = 0; i < list.length; i++) {\r\n\t\tif (list[i] > cday)\r\n\t\t\treturn sd.setDate(sd.getDate() + list[i] * 1 - cday - (size ? cor : cor2));\r\n\t}\r\n\tthis.transpose_day_week(sd, list, cor + size, null, cor);\r\n};\r\nscheduler.transpose_type = function(type) {\r\n\tvar transposeRecurring = \"transpose_\" + type;\r\n\tif (!this.date[transposeRecurring]) {\r\n\t\tvar recurringParts = type.split(\"_\");\r\n\t\tvar dayDurationMs = 60 * 60 * 24 * 1000;\r\n\t\tvar addRecurring = \"add_\" + type;\r\n\t\tvar recurringStepDays = this.transponse_size[recurringParts[0]] * recurringParts[1];\r\n\r\n\t\tif (recurringParts[0] == \"day\" || recurringParts[0] == \"week\") {\r\n\t\t\tvar weekDays = null;\r\n\t\t\tif (recurringParts[4]) {\r\n\t\t\t\tweekDays = recurringParts[4].split(\",\");\r\n\t\t\t\tif (scheduler.config.start_on_monday) {\r\n\t\t\t\t\tfor (var i = 0; i < weekDays.length; i++)\r\n\t\t\t\t\t\tweekDays[i] = (weekDays[i] * 1) || 7;\r\n\t\t\t\t\tweekDays.sort();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.date[transposeRecurring] = function(nd, td) {\r\n\t\t\t\tvar delta = Math.floor((td.valueOf() - nd.valueOf()) / (dayDurationMs * recurringStepDays));\r\n\t\t\t\tif (delta > 0)\r\n\t\t\t\t\tnd.setDate(nd.getDate() + delta * recurringStepDays);\r\n\t\t\t\tif (weekDays)\r\n\t\t\t\t\tscheduler.transpose_day_week(nd, weekDays, 1, recurringStepDays);\r\n\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t\tthis.date[addRecurring] = function(sd, inc) {\r\n\t\t\t\tvar nd = new Date(sd.valueOf());\r\n\t\t\t\tif (weekDays) {\r\n\t\t\t\t\tfor (var count = 0; count < inc; count++)\r\n\t\t\t\t\t\tscheduler.transpose_day_week(nd, weekDays, 0, recurringStepDays);\r\n\t\t\t\t} else\r\n\t\t\t\t\tnd.setDate(nd.getDate() + inc * recurringStepDays);\r\n\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if (recurringParts[0] == \"month\" || recurringParts[0] == \"year\") {\r\n\t\t\tthis.date[transposeRecurring] = function(nd, td, seriesInstance) {\r\n\t\t\t\tvar delta = Math.ceil(((td.getFullYear() * 12 + td.getMonth() * 1 + 1) - (nd.getFullYear() * 12 + nd.getMonth() * 1 + 1)) / (recurringStepDays) - 1);\r\n\r\n\t\t\t\tif (delta >= 0){\r\n\t\t\t\t\tnd.setDate(1);\r\n\t\t\t\t\tnd.setMonth(nd.getMonth() + delta * recurringStepDays);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn scheduler.date[addRecurring](nd, 0, seriesInstance);\r\n\t\t\t\t//if (str[3]){\r\n\t\t\t\t//\tscheduler.date.day_week(nd, str[2], str[3]);\r\n\t\t\t\t//}\r\n\t\t\t};\r\n\t\t\tthis.date[addRecurring] = function(sd, inc, seriesInstance, currentCount) {\r\n\t\t\t\tif(!currentCount){\r\n\t\t\t\t\tcurrentCount = 1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcurrentCount++;\r\n\t\t\t\t}\r\n\t\t\t\tvar maxCount = 12;\r\n\t\t\t\tif(currentCount > maxCount){\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar nd = new Date(sd.valueOf());\r\n\t\t\t\tnd.setDate(1);\r\n\r\n\r\n\t\t\t\tnd.setMonth(nd.getMonth() + inc * recurringStepDays);\r\n\t\t\t\tvar origMonth = nd.getMonth();\r\n\t\t\t\tvar origYear = nd.getFullYear();\r\n\t\t\t\tnd.setDate(seriesInstance.start_date.getDate());\r\n\t\t\t\tif (recurringParts[3]){\r\n\t\t\t\t\tscheduler.date.day_week(nd, recurringParts[2], recurringParts[3]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar correctOverflowInstances = scheduler.config.recurring_overflow_instances;\r\n\t\t\t\tif(nd.getMonth() != origMonth && correctOverflowInstances != \"none\"){\r\n\t\t\t\t\t// no such day in a month\r\n\t\t\t\t\tif(correctOverflowInstances === \"lastDay\"){\r\n\t\t\t\t\t\t// return either last day of the month\r\n\t\t\t\t\t\tnd = new Date(origYear, origMonth + 1, 0, nd.getHours(), nd.getMinutes(), nd.getSeconds(), nd.getMilliseconds());\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// or go to the next instance\r\n\t\t\t\t\t\tnd = scheduler.date[addRecurring](new Date(origYear, origMonth + 1, 0), inc||1, seriesInstance, currentCount);\r\n\t\t\t\t\t\t// if next instance is not possible (e.g. 'repeat on 40th day of the month') null will be returned\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.repeat_date = function(ev, stack, non_render, from, to, maxCount) {\r\n\r\n\tfrom = from || this._min_date;\r\n\tto = to || this._max_date;\r\n\tvar max = maxCount || -1;\r\n\tvar td = new Date(ev.start_date.valueOf());\r\n\r\n\tvar startHour = td.getHours();\r\n\r\n\tvar visibleCount = 0;\r\n\r\n\tif (!ev.rec_pattern && ev.rec_type)\r\n\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\r\n\tthis.transpose_type(ev.rec_pattern);\r\n\ttd = scheduler.date[\"transpose_\" + ev.rec_pattern](td, from, ev);\r\n\twhile ( td && (\r\n\t\ttd < ev.start_date ||\r\n\t\tscheduler._fix_daylight_saving_date(td,from,ev,td,new Date(td.valueOf() + ev.event_length * 1000)).valueOf() <= from.valueOf() ||\r\n\t\ttd.valueOf() + ev.event_length * 1000 <= from.valueOf())){\r\n\t\t\ttd = this.date[\"add_\" + ev.rec_pattern](td, 1, ev);\r\n\r\n\t}\r\n\twhile (td && (td < to && td < ev.end_date && (max < 0 || visibleCount < max))) {\r\n\t\ttd.setHours(startHour);\r\n\r\n\t\tvar timestamp = (scheduler.config.occurrence_timestamp_in_utc) ? Date.UTC(td.getFullYear(), td.getMonth(), td.getDate(), td.getHours(), td.getMinutes(), td.getSeconds()) : td.valueOf();\r\n\t\tvar ch = this._get_rec_marker(timestamp, ev.id);\r\n\t\tif (!ch) { // unmodified element of series\r\n\t\t\tvar ted = new Date(td.valueOf() + ev.event_length * 1000);\r\n\t\t\tvar copy = this._copy_event(ev);\r\n\t\t\t//copy._timed = ev._timed;\r\n\t\t\tcopy.text = ev.text;\r\n\t\t\tcopy.start_date = td;\r\n\t\t\tcopy.event_pid = ev.id;\r\n\t\t\tcopy.id = ev.id + \"#\" + Math.round(timestamp / 1000);\r\n\t\t\tcopy.end_date = ted;\r\n\r\n\t\t\tcopy.end_date = scheduler._fix_daylight_saving_date(copy.start_date, copy.end_date, ev, td, copy.end_date);\r\n\r\n\t\t\tcopy._timed = this.isOneDayEvent(copy);\r\n\r\n\t\t\tif (!copy._timed && !this._table_view && !this.config.multi_day) return;\r\n\t\t\tstack.push(copy);\r\n\r\n\t\t\tif (!non_render) {\r\n\t\t\t\tthis._events[copy.id] = copy;\r\n\t\t\t\tthis._rec_temp.push(copy);\r\n\t\t\t}\r\n\r\n\t\t\tvisibleCount++;\r\n\r\n\t\t} else\r\n\t\tif (non_render){\r\n\t\t\tif(ch.rec_type != \"none\"){\r\n\t\t\t\tvisibleCount++;\r\n\t\t\t}\r\n\t\t\tstack.push(ch);\r\n\t\t}\r\n\r\n\t\ttd = this.date[\"add_\" + ev.rec_pattern](td, 1, ev);\r\n\t//\tif(!scheduler.date[\"validate_add_\" + ev.rec_pattern](td, 1, ev.rec_pattern)){\r\n\t///\t\talert(\"detect add\")\r\n\t//\t}\r\n\t}\r\n};\r\nscheduler._fix_daylight_saving_date = function(start_date, end_date, ev, counter, default_date) {\r\n\tvar shift = start_date.getTimezoneOffset() - end_date.getTimezoneOffset();\r\n\tif (shift) {\r\n\t\tif (shift > 0) {\r\n\t\t\t// e.g. 24h -> 23h\r\n\t\t\treturn new Date(counter.valueOf() + ev.event_length * 1000 - shift * 60 * 1000);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// e.g. 24h -> 25h\r\n\t\t\treturn new Date(end_date.valueOf() - shift * 60 * 1000);\r\n\t\t}\r\n\t}\r\n\treturn new Date(default_date.valueOf());\r\n};\r\nscheduler.getRecDates = function(id, max) {\r\n\tvar ev = typeof id == \"object\" ? id : scheduler.getEvent(id);\r\n\tvar recurrings = [];\r\n\tmax = max || 100;\r\n\r\n\tif (!ev.rec_type) {\r\n\t\treturn [\r\n\t\t\t{ start_date: ev.start_date, end_date: ev.end_date }\r\n\t\t];\r\n\t}\r\n\tif (ev.rec_type == \"none\") {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tscheduler.repeat_date(ev, recurrings, true, ev.start_date, ev.end_date, max);\r\n\r\n\tvar result = [];\r\n\tfor(var i = 0; i < recurrings.length; i++){\r\n\t\tif(recurrings[i].rec_type != \"none\"){\r\n\t\t\tresult.push({start_date: recurrings[i].start_date, end_date: recurrings[i].end_date});\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n};\r\nscheduler.getEvents = function(from, to) {\r\n\tvar result = [];\r\n\tfor (var a in this._events) {\r\n\t\tvar ev = this._events[a];\r\n\t\tif (ev && ev.start_date < to && ev.end_date > from) {\r\n\t\t\tif (ev.rec_pattern) {\r\n\t\t\t\tif (ev.rec_pattern == \"none\") continue;\r\n\t\t\t\tvar sev = [];\r\n\t\t\t\tthis.repeat_date(ev, sev, true, from, to);\r\n\t\t\t\tfor (var i = 0; i < sev.length; i++) {\r\n\t\t\t\t\t// if event is in rec_markers then it will be checked by himself, here need to skip it\r\n\t\t\t\t\tif (!sev[i].rec_pattern && sev[i].start_date < to && sev[i].end_date > from && !this._rec_markers[sev[i].id]) {\r\n\t\t\t\t\t\tresult.push(sev[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (!this._is_virtual_event(ev.id)) { // if it's virtual event we can skip it\r\n\t\t\t\tresult.push(ev);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\nscheduler.config.repeat_date = \"%m.%d.%Y\";\r\nscheduler.config.lightbox.sections = [\r\n\t{name:\"description\", map_to:\"text\", type:\"textarea\" , focus:true},\r\n\t{name:\"recurring\", type:\"recurring\", map_to:\"rec_type\", button:\"recurring\"},\r\n\t{name:\"time\", height:72, type:\"time\", map_to:\"auto\"}\r\n];\r\n\r\n\r\n//drop secondary attributes\r\nscheduler._copy_dummy = function(ev) {\r\n\tvar start_date = new Date(this.start_date);\r\n\tvar end_date = new Date(this.end_date);\r\n\tthis.start_date = start_date;\r\n\tthis.end_date = end_date;\r\n\tthis.event_length = this.event_pid = this.rec_pattern = this.rec_type = null;\r\n};\r\n\r\nscheduler.config.include_end_by = false;\r\nscheduler.config.lightbox_recurring = 'ask'; // series, instance\r\n\r\nscheduler.attachEvent(\"onClearAll\", function(){\r\n\tscheduler._rec_markers = {}; //clear recurring events data\r\n\tscheduler._rec_markers_pull = {};\r\n\tscheduler._rec_temp = [];\r\n});\r\n\r\n}","import getSerializator from '../core/common/get_serializable_events';\r\nexport default function(scheduler){\r\n\r\n\t\r\nconst getSerializableData = getSerializator(scheduler);\r\n\r\n//redefine this method, if you want to provide a custom set of attributes for serialization\r\nscheduler.data_attributes=function(){\r\n\tvar attrs = [];\r\n\tvar format = scheduler._helpers.formatDate;\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\t\tfor (var name in ev)\r\n\t\t\tif (name.substr(0,1) !=\"_\")\r\n\t\t\t\tattrs.push([name,((name == \"start_date\" || name == \"end_date\")?format:null)]);\r\n\t\tbreak;\r\n\t}\r\n\treturn attrs;\r\n};\r\n\r\nscheduler.toXML = function(header){\r\n\tvar xml = [];\r\n\tvar attrs = this.data_attributes();\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\r\n\t\txml.push(\"<event>\");\r\n\t\tfor (var i=0; i < attrs.length; i++)\r\n\t\t\txml.push(\"<\"+attrs[i][0]+\"><![CDATA[\"+(attrs[i][1]?attrs[i][1](ev[attrs[i][0]]):ev[attrs[i][0]])+\"]]></\"+attrs[i][0]+\">\");\r\n\r\n\t\txml.push(\"</event>\");\r\n\t}\r\n\treturn (header||\"\")+\"<data>\"+xml.join(\"\\n\")+\"</data>\";\r\n};\r\n\r\nscheduler._serialize_json_value = function(value){\r\n\tif(value === null || typeof value === \"boolean\"){\r\n\t\tvalue = \"\" + value;\r\n\t}else{\r\n\t\tif(!value && value !== 0){\r\n\t\t\tvalue = \"\";\r\n\t\t}\r\n\t\tvalue = '\"' + value.toString().\r\n\t\t\treplace(/\\n/g,\"\").\r\n\t\t\treplace(/\\\\/g,\"\\\\\\\\\").\r\n\t\t\treplace(/\"/g, '\\\\\"') + '\"';\r\n\t}\r\n\treturn value;\r\n};\r\n\r\n\r\n\r\nscheduler.toJSON = function(){\r\n\treturn JSON.stringify(this.serialize());\r\n};\r\n\r\n\r\nscheduler.toICal = function(header){\r\n\tvar start = \"BEGIN:VCALENDAR\\nVERSION:2.0\\nPRODID:-//dhtmlXScheduler//NONSGML v2.2//EN\\nDESCRIPTION:\";\r\n\tvar end = \"END:VCALENDAR\";\r\n\tvar format = scheduler.date.date_to_str(\"%Y%m%dT%H%i%s\");\r\n\tvar full_day_format = scheduler.date.date_to_str(\"%Y%m%d\");\r\n\r\n\tvar ical = [];\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\r\n\r\n\t\tical.push(\"BEGIN:VEVENT\");\r\n\t\tif (!ev._timed || (!ev.start_date.getHours() && !ev.start_date.getMinutes()))\r\n\t\t\tical.push(\"DTSTART:\"+full_day_format(ev.start_date));\r\n\t\telse\r\n\t\t\tical.push(\"DTSTART:\"+format(ev.start_date));\r\n\t\tif (!ev._timed || (!ev.end_date.getHours() && !ev.end_date.getMinutes()))\r\n\t\t\tical.push(\"DTEND:\"+full_day_format(ev.end_date));\r\n\t\telse\r\n\t\t\tical.push(\"DTEND:\"+format(ev.end_date));\r\n\t\tical.push(\"SUMMARY:\"+ev.text);\r\n\t\tical.push(\"END:VEVENT\");\r\n\t}\r\n\treturn start+(header||\"\")+\"\\n\"+ical.join(\"\\n\")+\"\\n\"+end;\r\n};\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Timeline\", scheduler.assert);\r\n}","import { TooltipManager } from \"./tooltipManager\";\r\n\r\nexport default function (scheduler: any) {\r\n\r\n\tscheduler.config.tooltip_timeout = 30;\r\n\tscheduler.config.tooltip_offset_y = 20;\r\n\tscheduler.config.tooltip_offset_x = 10;\r\n\tscheduler.config.tooltip_hide_timeout = 30;\r\n\r\n\tconst tooltipManager = new TooltipManager(scheduler);\r\n\r\n\tscheduler.ext.tooltips = tooltipManager;\r\n\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function () {\r\n\r\n\t\ttooltipManager.tooltipFor({\r\n\t\t\tselector: \"[\" + scheduler.config.event_attribute + \"]\",\r\n\t\t\thtml: (event: MouseEvent) => {\r\n\t\t\t\tif (scheduler._mobile && !scheduler.config.touch_tooltip) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst targetEventId = scheduler._locate_event(event.target);\r\n\t\t\t\tif (scheduler.getEvent(targetEventId)) {\r\n\t\t\t\t\tconst event = scheduler.getEvent(targetEventId);\r\n\t\t\t\t\treturn scheduler.templates.tooltip_text(event.start_date, event.end_date, event);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tglobal: false\r\n\t\t});\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function () {\r\n\t\ttooltipManager.destructor();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onLightbox\", function () {\r\n\t\ttooltipManager.hideTooltip();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeDrag\", function() {\r\n\t\ttooltipManager.hideTooltip();\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventDeleted\", function() {\r\n\t\ttooltipManager.hideTooltip();\r\n\t\treturn true;\r\n\t});\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Tree Timeline\", scheduler.assert);\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Units\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\nscheduler._get_url_nav = function(){\r\n\tvar p = {};\r\n\tvar data = (document.location.hash || \"\").replace(\"#\", \"\").split(\",\");\r\n\tfor (var i = 0; i < data.length; i++) {\r\n\t\tvar s = data[i].split(\"=\");\r\n\t\tif (s.length == 2)\r\n\t\t\tp[s[0]] = s[1];\r\n\t}\r\n\treturn p;\r\n};\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\", function () {\r\n\tvar first = true;\r\n\tvar s2d = scheduler.date.str_to_date(\"%Y-%m-%d\");\r\n\tvar d2s = scheduler.date.date_to_str(\"%Y-%m-%d\");\r\n\tvar select_event =  scheduler._get_url_nav().event || null;\r\n\r\n\tscheduler.attachEvent(\"onAfterEventDisplay\", function(ev){\r\n\t\tselect_event = null;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function (om, od, m, d) {\r\n\t\tif (first) {\r\n\t\t\tfirst = false;\r\n\t\t\tvar p = scheduler._get_url_nav();\r\n\r\n\t\t\tif (p.event){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif(scheduler.getEvent(p.event)){\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tshowEvent(p.event);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar handler = scheduler.attachEvent(\"onXLE\", function(){\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tshowEvent(p.event);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tscheduler.detachEvent(handler);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e){}\r\n\t\t\t}\r\n\r\n\t\t\tif (p.date || p.mode) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.setCurrentView((p.date ? s2d(p.date) : null), (p.mode || null));\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//assuming that mode is not available anymore\r\n\t\t\t\t\tthis.setCurrentView((p.date ? s2d(p.date) : null), m);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar values = [\r\n\t\t\t\"date=\" + d2s(d || od),\r\n\t\t\t\"mode=\" + (m || om)\r\n\t\t];\r\n\r\n\t\tif(select_event){\r\n\t\t\tvalues.push(\"event=\" + select_event);\r\n\t\t}\r\n\r\n\t\tvar text = \"#\" + values.join(\",\");\r\n\t\tdocument.location.hash = text;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tfunction showEvent(e){\r\n\t\tif(scheduler.$destroyed){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tselect_event = e;\r\n\t\tif(scheduler.getEvent(e)){\r\n\t\t\tscheduler.showEvent(e);\r\n\t\t}\r\n\t}\r\n});\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Week Agenda\", scheduler.assert);\r\n}","export default function(scheduler){\r\nscheduler.attachEvent(\"onLightBox\",function(){\r\n\tif (this._cover){\r\n\t\ttry{\r\n\t\t\tthis._cover.style.height = this.expanded ? \"100%\" : ((document.body.parentNode||document.body).scrollHeight+\"px\");\r\n\t\t} catch(e) {\r\n\r\n\t\t}\r\n\t}\r\n});\r\n\r\nscheduler.form_blocks.select.set_value=function(node,value,ev){\r\n\tif (typeof value == \"undefined\" || value === \"\")\r\n\t\tvalue = (node.firstChild.options[0]||{}).value;\r\n\tnode.firstChild.value=value||\"\";\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\t// scheduler.config.year_x = 4;\r\n\t// scheduler.config.year_y = 3;\r\n\t// scheduler.xy.year_top = 0;\r\n\r\n\tscheduler.templates.year_date = function(date) {\r\n\t\treturn scheduler.date.date_to_str(scheduler.locale.labels.year_tab + \" %Y\")(date);\r\n\t};\r\n\tscheduler.templates.year_month = scheduler.date.date_to_str(\"%F\");\r\n\tscheduler.templates.year_scale_date = scheduler.date.date_to_str(\"%D\");\r\n\tscheduler.templates.year_tooltip = function(s, e, ev) {\r\n\t\treturn ev.text;\r\n\t};\r\n\r\n\tconst isYearMode = function() {\r\n\t\treturn scheduler._mode == \"year\";\r\n\t};\r\n\t\r\n\tconst getCellDate = function(node){\r\n\t\tvar day = scheduler.$domHelpers.closest(node, \"[data-cell-date]\");\r\n\t\tif(!day || !day.hasAttribute(\"data-cell-date\")) return null;\r\n\t\treturn scheduler.templates.parse_date(day.getAttribute(\"data-cell-date\"));\r\n\t};\r\n\r\n\t// dbl click hook for scheduler._on_dbl_click\r\n\tscheduler.dblclick_dhx_month_head = function(e) {\r\n\t\tif (isYearMode()) {\r\n\t\t\tconst target = e.target;\r\n\t\t\tif(scheduler.$domHelpers.closest(target, \".dhx_before\") || scheduler.$domHelpers.closest(target, \".dhx_after\")){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst date = getCellDate(target);\r\n\t\t\t\r\n\t\t\tif(date){\r\n\t\t\t\tconst start = date;\r\n\t\t\t\tconst end = this.date.add(start, 1, \"day\");\r\n\t\t\t\tif (!this.config.readonly && this.config.dblclick_create){\r\n\t\t\t\t\tthis.addEventNow(start.valueOf(), end.valueOf(), e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tscheduler.attachEvent(\"onEventIdChange\", function(){\r\n\t\tif (isYearMode())\r\n\t\t\tthis.year_view(true);\r\n\t});\r\n\r\n\r\n\tvar old = scheduler.render_data;\r\n\tscheduler.render_data = function(evs) {\r\n\t\tif (!isYearMode()) return old.apply(this, arguments);\r\n\t\tfor (var i = 0; i < evs.length; i++)\r\n\t\t\tthis._year_render_event(evs[i]);\r\n\t};\r\n\r\n\tvar clear = scheduler.clear_view;\r\n\tscheduler.clear_view = function() {\r\n\t\tif (!isYearMode()) return clear.apply(this, arguments);\r\n\t\tvar dates = scheduler._year_marked_cells,\r\n\t\t\tdiv = null;\r\n\t\tfor (var date in dates) {\r\n\t\t\tif (dates.hasOwnProperty(date)) {\r\n\t\t\t\tdiv = dates[date];\r\n\t\t\t\tdiv.classList.remove(\"dhx_year_event\", \"dhx_cal_datepicker_event\");\r\n\t\t\t\t// div.className = \"dhx_month_head\";\r\n\t\t\t\t// div.removeAttribute(\"date\");\r\n\t\t\t\t// div.removeAttribute(\"data-year-date\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tscheduler._year_marked_cells = {};\r\n\t};\r\n\r\n\tscheduler._hideToolTip = function() {\r\n\t\tif (this._tooltip) {\r\n\t\t\tthis._tooltip.style.display = \"none\";\r\n\t\t\tthis._tooltip.date = new Date(9999, 1, 1);\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._showToolTip = function(date, pos, e, src) {\r\n\t\tif (this._tooltip) {\r\n\t\t\tif (this._tooltip.date.valueOf() == date.valueOf()) return;\r\n\t\t\tthis._tooltip.innerHTML = \"\";\r\n\t\t} else {\r\n\t\t\tvar t = this._tooltip = document.createElement(\"div\");\r\n\t\t\tt.className = \"dhx_year_tooltip\";\r\n\t\t\tif (this.config.rtl) t.className += \" dhx_tooltip_rtl\";\r\n\t\t\tdocument.body.appendChild(t);\r\n\t\t\tt.addEventListener(\"click\", scheduler._click.dhx_cal_data);\r\n\t\t\tt.addEventListener(\"click\", function(e){\r\n\t\t\t\tif(e.target.closest(`[${scheduler.config.event_attribute}]`)){\r\n\t\t\t\t\tconst id = e.target.closest(`[${scheduler.config.event_attribute}]`).getAttribute(scheduler.config.event_attribute);\r\n\t\t\t\t\tscheduler.showLightbox(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar evs = this.getEvents(date, this.date.add(date, 1, \"day\"));\r\n\t\tvar html = \"\";\r\n\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tif(!this.filter_event(ev.id, ev))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tvar bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\t\t\tvar color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\t\t\thtml += \"<div class='dhx_tooltip_line' style='\" + bg_color + \"\" + color + \"' event_id='\" + evs[i].id + \"' \"+this.config.event_attribute+\"='\"+evs[i].id+\"'>\";\r\n\t\t\thtml += \"<div class='dhx_tooltip_date' style='\" + bg_color + \"\" + color + \"'>\" + (evs[i]._timed ? this.templates.event_date(evs[i].start_date) : \"\") + \"</div>\";\r\n\t\t\thtml += \"<div class='dhx_event_icon icon_details'>&nbsp;</div>\";\r\n\t\t\thtml += this.templates.year_tooltip(evs[i].start_date, evs[i].end_date, evs[i]) + \"</div>\";\r\n\t\t}\r\n\r\n\t\tthis._tooltip.style.display = \"\";\r\n\t\tthis._tooltip.style.top = \"0px\";\r\n\r\n\r\n\t\tif (document.body.offsetWidth - pos.left - this._tooltip.offsetWidth < 0)\r\n\t\t\tthis._tooltip.style.left = pos.left - this._tooltip.offsetWidth + \"px\";\r\n\t\telse\r\n\t\t\tthis._tooltip.style.left = pos.left + src.offsetWidth + \"px\";\r\n\r\n\t\tthis._tooltip.date = date;\r\n\t\tthis._tooltip.innerHTML = html;\r\n\r\n\t\tif (document.body.offsetHeight - pos.top - this._tooltip.offsetHeight < 0)\r\n\t\t\tthis._tooltip.style.top = pos.top - this._tooltip.offsetHeight + src.offsetHeight + \"px\";\r\n\t\telse\r\n\t\t\tthis._tooltip.style.top = pos.top + \"px\";\r\n\t};\r\n\r\n\tscheduler._year_view_tooltip_handler = function(e){\r\n\t\tif (!isYearMode()) return;\r\n\r\n\t\tvar src = e.target || e.srcElement;\r\n\t\tif (src.tagName.toLowerCase() == 'a') // fix for active links extension (it adds links to the date in the cell)\r\n\t\t\tsrc = src.parentNode;\r\n\t\tif (scheduler._getClassName(src).indexOf(\"dhx_year_event\") != -1)\r\n\t\t\tscheduler._showToolTip(scheduler.templates.parse_date(src.getAttribute(\"data-year-date\")), scheduler.$domHelpers.getOffset(src), e, src);\r\n\t\telse\r\n\t\t\tscheduler._hideToolTip();\r\n\t};\r\n\tscheduler._init_year_tooltip = function() {\r\n\t\tscheduler._detachDomEvent(scheduler._els[\"dhx_cal_data\"][0], \"mouseover\", scheduler._year_view_tooltip_handler);\r\n\t\tscheduler.event(scheduler._els[\"dhx_cal_data\"][0], \"mouseover\", scheduler._year_view_tooltip_handler);\r\n\t};\r\n\r\n\tscheduler._get_year_cell = function(d) {\r\n\t\tvar dateString = scheduler.templates.format_date(d);\r\n\t\tvar cells = this.$root.querySelectorAll(`.dhx_cal_data .dhx_cal_datepicker_date[data-cell-date=\"${dateString}\"]`);\r\n\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\tif(!scheduler.$domHelpers.closest(cells[i], \".dhx_after, .dhx_before\")){\r\n\t\t\t\treturn cells[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\tscheduler._year_marked_cells = {};\r\n\tscheduler._mark_year_date = function(date, event) {\r\n\t\tvar dateString = scheduler.templates.format_date(date);\r\n\t\tvar cell = this._get_year_cell(date);\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar ev_class = this.templates.event_class(event.start_date, event.end_date, event);\r\n\t\tif (!scheduler._year_marked_cells[dateString]) {\r\n\t\t\tcell.classList.add(\"dhx_year_event\", \"dhx_cal_datepicker_event\");// = \"dhx_month_head dhx_year_event\";\r\n\t\t\tcell.setAttribute(\"data-year-date\", dateString);\r\n\t\t\tcell.setAttribute(\"date\", dateString);\r\n\t\t\tscheduler._year_marked_cells[dateString] = cell;\r\n\t\t}\r\n\t\tif(ev_class){\r\n\t\t\tcell.classList.add(ev_class);\r\n\t\t}\r\n\t};\r\n\tscheduler._unmark_year_date = function(date) {\r\n\t\tvar cell = this._get_year_cell(date);\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcell.classList.remove(\"dhx_year_event\", \"dhx_cal_datepicker_event\");\r\n//\t\tcell.className = \"dhx_month_head\";\r\n\t};\r\n\tscheduler._year_render_event = function(event) {\r\n\t\tvar date = event.start_date;\r\n\t\tif (date.valueOf() < this._min_date.valueOf()){\r\n\t\t\tdate = this._min_date;\r\n\t\t} else {\r\n\t\t\tdate = this.date.date_part(new Date(date));\r\n\t\t}\r\n\r\n\t\twhile (date < event.end_date) {\r\n\t\t\tthis._mark_year_date(date, event);\r\n\t\t\tdate = this.date.add(date, 1, \"day\");\r\n\t\t\tif (date.valueOf() >= this._max_date.valueOf())\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler.year_view = function(mode) {\r\n\r\n\t\tscheduler.set_sizes();\r\n\r\n\t\tscheduler._table_view = mode;\r\n\r\n\t\tif (this._load_mode && this._load()) return;\r\n\r\n\t\tif (mode) {\r\n\t\t\tscheduler._init_year_tooltip();\r\n\t\t\tscheduler._reset_year_scale();\r\n\t\t\tif (scheduler._load_mode && scheduler._load()){\r\n\t\t\t\tscheduler._render_wait = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tscheduler.render_view_data();\r\n\t\t} else {\r\n\t\t\tscheduler._hideToolTip();\r\n\t\t}\r\n\t};\r\n\tscheduler._reset_year_scale = function() {\r\n\t\tthis._cols = [];\r\n\t\tthis._colsS = {};\r\n\t\tvar week_starts = []; //start day of first week in each month\r\n\t\tvar dataArea = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tvar c = this.config;\r\n\t\tdataArea.scrollTop = 0; //fix flickering in FF\r\n\t\tdataArea.innerHTML = \"\";\r\n\r\n\t\tvar dy = Math.floor((parseInt(dataArea.style.height) - scheduler.xy.year_top) / c.year_y);\r\n\t\tif (dy < 190) {\r\n\t\t\tdy = 190;\r\n\t\t}\r\n\r\n\t\tvar week_template = document.createElement(\"div\");\r\n\t\tvar dummy_date = this.date.week_start(scheduler._currentDate());\r\n\r\n\t\tthis._process_ignores(dummy_date, 7, \"day\", 1);\r\n\r\n\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\tif(!(this._ignores && this._ignores[i])) {\r\n\t\t\t\tthis._cols[i] = 'var(--dhx-scheduler-datepicker-cell-size)';\r\n\t\t\t\tthis._render_x_header(i, 0, dummy_date, week_template);\r\n\r\n\t\t\t}\r\n\t\t\tdummy_date = this.date.add(dummy_date, 1, \"day\");\r\n\t\t}\r\n\t\tweek_template.lastChild.className += \" dhx_scale_bar_last\";\r\n\r\n\t\tfor(var i = 0; i < week_template.childNodes.length; i++){\r\n\t\t\tthis._waiAria.yearHeadCell(week_template.childNodes[i]);\r\n\t\t}\r\n\r\n\t\tvar sd = this.date[this._mode + \"_start\"](this.date.copy(this._date));\r\n\t\tvar ssd = sd;\r\n\t\tvar yearBox = null;\r\n\t\tconst wrapper = document.createElement(\"div\");\r\n\t\twrapper.classList.add(\"dhx_year_wrapper\");\r\n\t\tfor (var i = 0; i < c.year_y; i++){\r\n\t\t\tfor (var j = 0; j < c.year_x; j++) {\r\n\t\t\t\tyearBox = document.createElement(\"div\");\r\n\t\t\t\tyearBox.className = \"dhx_year_box\";\r\n\r\n\t\t\t\tyearBox.setAttribute(\"date\", this._helpers.formatDate(sd));\r\n\t\t\t\tyearBox.setAttribute(\"data-month-date\", this._helpers.formatDate(sd));\r\n\t\t\t\tyearBox.innerHTML = \"<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>\" + week_template.innerHTML + \"</div><div class='dhx_year_body'></div></div>\";\r\n\r\n\t\t\t\tvar header = yearBox.querySelector(\".dhx_year_month\");\r\n\t\t\t\tvar grid = yearBox.querySelector(\".dhx_year_grid\");\r\n\t\t\t\tvar body = yearBox.querySelector(\".dhx_year_body\");\r\n\r\n\t\t\t\tvar headerId = scheduler.uid();\r\n\t\t\t\tthis._waiAria.yearHeader(header, headerId);\r\n\t\t\t\tthis._waiAria.yearGrid(grid, headerId);\r\n\r\n\r\n\t\t\t\theader.innerHTML = this.templates.year_month(sd);\r\n\r\n\r\n\r\n\t\t\t\tvar dd = this.date.week_start(sd);\r\n\t\t\t\tthis._reset_month_scale(body, sd, dd, 6);\r\n\r\n\t\t\t\tvar days = body.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var day = 0; day < days.length; day++){\r\n\t\t\t\t\tthis._waiAria.yearDayCell(days[day]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\twrapper.appendChild(yearBox);\r\n\r\n\t\t\t\tweek_starts[i * c.year_x + j] = (sd.getDay() - (this.config.start_on_monday ? 1 : 0) + 7) % 7;\r\n\t\t\t\tsd = this.date.add(sd, 1, \"month\");\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdataArea.appendChild(wrapper);\r\n\r\n\t\tvar dateElement = this._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML = this.templates[this._mode + \"_date\"](ssd, sd, this._mode);\r\n\t\t}\r\n\r\n\t\tthis.week_starts = week_starts;\r\n\t\tweek_starts._month = ssd.getMonth();\r\n\t\tthis._min_date = ssd;\r\n\t\tthis._max_date = sd;\r\n\t};\r\n\r\n\tscheduler._reset_year_scale = function(){\r\n\r\n\t\tvar dataArea = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tdataArea.scrollTop = 0; //fix flickering in FF\r\n\t\tdataArea.innerHTML = \"\";\r\n\r\n\t\tlet yearStart = this.date.year_start(new Date(this._date));\r\n\t\t\r\n\t\tthis._min_date = this.date.week_start(new Date(yearStart));\r\n\r\n\t\tconst wrapper = document.createElement(\"div\");\r\n\t\twrapper.classList.add(\"dhx_year_wrapper\");\r\n\r\n\t\tlet currentDate = yearStart;\r\n\t\tfor(let i = 0; i < 12; i++){\r\n\t\t\tlet yearBox = document.createElement(\"div\");\r\n\t\t\tyearBox.className = \"dhx_year_box\";\r\n\r\n\t\t\tyearBox.setAttribute(\"date\", this._helpers.formatDate(currentDate));\r\n\t\t\tyearBox.setAttribute(\"data-month-date\", this._helpers.formatDate(currentDate));\r\n\t\t\tyearBox.innerHTML = `<div class='dhx_year_month'>${this.templates.year_month(currentDate)}</div>\r\n\t\t\t<div class='dhx_year_grid'></div>`;\r\n\r\n\t\t\tconst yearGrid = yearBox.querySelector(\".dhx_year_grid\");\r\n\t\t\tconst datepicker = scheduler._createDatePicker(null, {\r\n\t\t\t\tdate: currentDate,\r\n\t\t\t\tminWeeks: 6\r\n\t\t\t});\r\n\t\t\tdatepicker._renderDayGrid(yearGrid);\r\n\t\t\tdatepicker.destructor();\r\n\r\n\t\t\twrapper.appendChild(yearBox);\r\n\r\n\t\t\tcurrentDate = this.date.add(currentDate, 1, \"month\");\r\n\r\n\t\t}\r\n\t\tdataArea.appendChild(wrapper);\r\n\r\n\t\tlet lastDate = this.date.add(yearStart, 1, \"year\");\r\n\t\tif(lastDate.valueOf() != this.date.week_start(new Date(lastDate)).valueOf()){\r\n\t\t\tlastDate = this.date.week_start(new Date(lastDate));\r\n\t\t\tlastDate = this.date.add(lastDate, 1, \"week\");\r\n\t\t}\r\n\t\tthis._max_date = lastDate;\r\n\t\tvar dateElement = this._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML = this.templates[this._mode + \"_date\"](yearStart, lastDate, this._mode);\r\n\t\t}\r\n\t};\r\n\r\n\tvar getActionData = scheduler.getActionData;\r\n\tscheduler.getActionData = function(n_ev) {\r\n\t\tif(!isYearMode()){\r\n\t\t\treturn getActionData.apply(scheduler, arguments);\r\n\t\t}\r\n\t\t\r\n\t\tvar date = getCellDate(n_ev.target);\r\n\t\treturn {\r\n\t\t\tdate:date,\r\n\t\t\tsection:null\r\n\t\t};\r\n\t};\r\n\r\n\tvar locateEvent = scheduler._locate_event;\r\n\tscheduler._locate_event = function(node) {\r\n\t\tvar id = locateEvent.apply(scheduler, arguments);\r\n\t\tif(!id){\r\n\t\t\t\r\n\t\t\tvar date = getCellDate(node);\r\n\t\t\tif(!date) return null;\r\n\t\t\tvar evs = scheduler.getEvents(date, scheduler.date.add(date, 1, \"day\"));\r\n\t\t\tif(!evs.length) return null;\r\n\r\n\t\t\t//can be multiple events in the cell, return any single one\r\n\t\t\tid = evs[0].id;\r\n\t\t}\r\n\t\treturn id;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tscheduler._hideToolTip();\r\n\t});\r\n}","import SchedulerFactory from \"./scheduler_factory\";\r\nimport gplExtensions from \"./ext/extensions_gpl\";\r\n\r\nconst factory = new SchedulerFactory(gplExtensions);\r\n\r\nconst scheduler = factory.getSchedulerInstance();\r\nconst Scheduler = {\r\n\tplugin: scheduler.bind(factory.plugin, factory)\r\n};\r\n\r\nwindow.scheduler = scheduler;\r\nwindow.Scheduler = Scheduler;\r\n\r\nif(!window.$dhx) {\r\n\twindow.$dhx = {};\r\n}\r\n\r\nwindow.$dhx.scheduler = scheduler;\r\nwindow.$dhx.Scheduler = Scheduler;\r\n\r\nexport default scheduler;export { scheduler, Scheduler };","\r\n\r\nimport dhtmlxHook from \"./dhtmlx_hook\";\r\nimport \"./css/theme.less\";\r\ndhtmlxHook();\r\n\r\nimport global from \"./global\";\r\n\r\nimport factoryMethod from \"./scheduler_factory_method\";\r\nimport ExtensionsManager from \"./ext/extension_manager\";\r\n\r\nclass SchedulerFactory {\r\n\r\n\tconstructor (extensions) {\r\n\t\tthis._seed = 0;\r\n\t\tthis._schedulerPlugins = [];\r\n\t\tthis._bundledExtensions = extensions;\r\n\t\tthis._extensionsManager = new ExtensionsManager(extensions);\r\n\t}\r\n\r\n\tplugin(code) {\r\n\t\tthis._schedulerPlugins.push(code);\r\n\r\n\t\tif(global.scheduler){\r\n\t\t\tcode(global.scheduler);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetSchedulerInstance(initConfig) {\r\n\t\tvar scheduler = factoryMethod(this._extensionsManager);\r\n\r\n\t\tfor (var i = 0; i < this._schedulerPlugins.length; i++) {\r\n\t\t\tthis._schedulerPlugins[i](scheduler);\r\n\t\t}\r\n\t\tscheduler._internal_id = this._seed++;\r\n\t\r\n\t\tif (this.$syncFactory){\r\n\t\t\tthis.$syncFactory(scheduler);\r\n\t\t}\r\n\r\n\t\tif(initConfig){\r\n\t\t\tthis._initFromConfig(scheduler, initConfig);\r\n\t\t}\r\n\r\n\t\treturn scheduler;\r\n\t}\r\n\r\n\t_initFromConfig(scheduler, initConfig){\r\n\t\tif(initConfig.plugins){\r\n\t\t\tscheduler.plugins(initConfig.plugins);\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.config){\r\n\t\t\tscheduler.mixin(scheduler.config, initConfig.config, true);\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.templates){\r\n\t\t\tscheduler.attachEvent(\"onTemplatesReady\", function(){\r\n\t\t\t\tscheduler.mixin(scheduler.templates, initConfig.templates, true);\r\n\t\t\t}, {once: true});\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.events){\r\n\t\t\tfor(const event in initConfig.events){\r\n\t\t\t\tscheduler.attachEvent(event, initConfig.events[event]);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.locale){\r\n\t\t\tscheduler.i18n.setLocale(initConfig.locale);\r\n\t\t}\r\n\t\r\n\t\tif(Array.isArray(initConfig.calendars)){\r\n\t\t\tinitConfig.calendars.forEach(function(calendar){\r\n\t\t\t\tscheduler.addCalendar(calendar);\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.container){\r\n\t\t\tscheduler.init(initConfig.container);\r\n\t\t} else {\r\n\t\t\tscheduler.init();\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.data){\r\n\t\t\tif(typeof initConfig.data === \"string\"){\r\n\t\t\t\tscheduler.load(initConfig.data);\r\n\t\t\t}else{\r\n\t\t\t\tscheduler.parse(initConfig.data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n\r\nexport default SchedulerFactory;","import React, { Component } from 'react';\r\nimport 'dhtmlx-scheduler';\r\nimport 'dhtmlx-scheduler/codebase/dhtmlxscheduler.css';\r\n \r\nconst scheduler = window.scheduler;\r\n \r\nexport default class Scheduler extends Component {\r\n    initSchedulerEvents() {\r\n        if (scheduler._$initialized) {\r\n            return;\r\n        }\r\n \r\n        const onDataUpdated = this.props.onDataUpdated;\r\n \r\n        scheduler.attachEvent('onEventAdded', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('create', ev, id);\r\n            }\r\n        });\r\n \r\n        scheduler.attachEvent('onEventChanged', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('update', ev, id);\r\n            }\r\n        });\r\n \r\n        scheduler.attachEvent('onEventDeleted', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('delete', ev, id);\r\n            }\r\n        });\r\n        scheduler._$initialized = true;\r\n  }\r\n     componentDidMount() {\r\n        scheduler.skin = 'material';\r\n        scheduler.config.header = [\r\n            'day',\r\n            'week',\r\n            'month',\r\n            'date',\r\n            'prev',\r\n            'today',\r\n            'next'\r\n        ];\r\n        scheduler.config.hour_date = '%g:%i %A';\r\n        scheduler.xy.scale_width = 70;\r\n \r\n        this.initSchedulerEvents();\r\n \r\n        const { events } = this.props;\r\n        scheduler.init(this.schedulerContainer, new Date(2020, 5, 10));\r\n        scheduler.clearAll();\r\n        scheduler.parse(events);\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        return this.props.timeFormatState !== nextProps.timeFormatState;\r\n    }\r\n \r\n    componentDidUpdate() {\r\n        scheduler.render();\r\n    }\r\n \r\n    setTimeFormat(state) {\r\n        scheduler.config.hour_date = state ? '%H:%i' : '%g:%i %A';\r\n        scheduler.templates.hour_scale = scheduler.date.date_to_str(scheduler.config.hour_date);\r\n    }\r\n \r\n    render() {\r\n        const { timeFormatState } = this.props;\r\n        this.setTimeFormat(timeFormatState);\r\n        return (\r\n            <div\r\n                ref={ (input) => { this.schedulerContainer = input } }\r\n                style={ { width: '100%', height: '100%' } }\r\n            ></div>\r\n        );\r\n    }\r\n}","import Scheduler from './Scheduler';\r\nimport './Scheduler.css';\r\nexport default Scheduler;","import React, { Component } from 'react';\r\nexport default class Toolbar extends Component {\r\n    handleTimeFormatStateChange = (e) => {\r\n        if (this.props.onTimeFormatStateChange) {\r\n            this.props.onTimeFormatStateChange(e.target.checked)\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className='time-format-section'>\r\n                <label className='time-format-chkbx'>\r\n                    Time format:\r\n                    <input type='checkbox'\r\n                        checked={ this.props.timeFormatState }\r\n                        onChange={ this.handleTimeFormatStateChange }\r\n                    />\r\n                    <div className='chkbx-text'></div>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}","import Toolbar from './Toolbar';\r\nimport './Toolbar.css';\r\nexport default Toolbar;","import React, { Component } from 'react';\r\n \r\nexport default class MessageArea extends Component {\r\n    render() {\r\n        const messages = this.props.messages.map(({ message }) => {\r\n            return <li key={ Math.random() }>{message}</li>\r\n        });\r\n \r\n        return (\r\n            <div className=\"message-area\">\r\n                <h3>Messages:</h3>\r\n                <ul>\r\n                    { messages }\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nMessageArea.defaultProps = {\r\n    messages: []\r\n};","import MessageArea from './MessageArea';\r\nimport './MessageArea.css';\r\nexport default MessageArea;","import React, { Component } from 'react';\nimport Scheduler from './components/Scheduler';\nimport './App.css';\nimport Toolbar from './components/Toolbar';\nimport MessageArea from './components/MessageArea';\n \nconst data = [\n    { start_date:'2020-06-10 6:00', end_date:'2020-06-10 8:00', text:'Event 1', id: 1 },\n    { start_date:'2020-06-13 10:00', end_date:'2020-06-13 18:00', text:'Event 2', id: 2 }\n];\n \nclass App extends Component {\n\n  state = {\n    currentTimeFormatState: true,\n    messages: []\n};\naddMessage(message) {\n    const maxLogLength = 5;\n    const newMessage = { message };\n    const messages = [\n        newMessage,\n        ...this.state.messages\n    ];\n\n    if (messages.length > maxLogLength) {\n        messages.length = maxLogLength;\n    }\n    this.setState({ messages });\n}\n\nlogDataUpdate = (action, ev, id) => {\n    const text = ev && ev.text ? ` (${ev.text})` : '';\n    const message = `event ${action}: ${id} ${text}`;\n    this.addMessage(message);\n}\n\nhandleTimeFormatStateChange = (state) => {\n    this.setState({\n        currentTimeFormatState: state\n    });\n}\nrender() {\n  const { currentTimeFormatState, messages } = this.state;\n  return (\n      <div>\n          <div className=\"tool-bar\">\n              <Toolbar\n                  timeFormatState={currentTimeFormatState}\n                  onTimeFormatStateChange={this.handleTimeFormatStateChange}\n              />\n          </div>\n          <div className='scheduler-container'>\n              <Scheduler\n                  events={data}\n                  timeFormatState={currentTimeFormatState}\n                  onDataUpdated={this.logDataUpdate}\n              />\n          </div>\n          <MessageArea\n              messages={messages}\n          />\n      </div>\n  );\n}\n }\n export default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["aa","require","ca","p","a","b","c","arguments","length","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","createElement","ja","Object","prototype","hasOwnProperty","ka","la","ma","v","d","e","f","g","this","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","type","sanitizeURL","removeEmptyString","z","split","forEach","toLowerCase","ra","sa","toUpperCase","ta","slice","pa","isNaN","qa","call","test","oa","removeAttribute","setAttribute","setAttributeNS","replace","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","Symbol","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","iterator","Ka","La","A","assign","Ma","Error","stack","trim","match","Na","Oa","prepareStackTrace","defineProperty","set","Reflect","construct","l","h","k","displayName","includes","name","Pa","tag","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","constructor","get","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","value","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","Array","isArray","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","toString","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","keys","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","push","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","apply","m","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","Math","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","key","String","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","concat","nf","Ub","instance","listener","D","of","has","pf","qf","rf","random","sf","bind","capture","passive","n","t","J","x","u","w","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Promise","Jf","queueMicrotask","resolve","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","ref","_owner","_stringRef","refs","Mg","join","Ng","Og","index","Pg","Qg","props","Rg","implementation","Sg","Tg","q","r","y","next","done","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","_currentValue","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","context","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","callback","nh","K","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","L","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","ReactCurrentDispatcher","Gh","Hh","M","N","O","Ih","Jh","Kh","Lh","P","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","Q","di","lastEffect","stores","ei","fi","gi","hi","ii","create","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","R","Bi","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ci","defaultProps","Di","Ei","isMounted","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","Fi","shouldComponentUpdate","isPureReactComponent","Gi","contextType","state","updater","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","console","error","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","ReactCurrentOwner","Xi","Yi","Zi","$i","aj","compare","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","S","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Gj","Hj","Ij","Jj","U","Kj","WeakSet","V","Lj","W","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","X","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","isReactComponent","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","version","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","exports","createPortal","cl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","module","__self","__source","jsx","jsxs","setState","forceUpdate","escape","_status","_result","default","Children","map","count","toArray","only","Component","Fragment","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","pop","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","chunkId","all","reduce","promises","miniCssF","globalThis","Function","obj","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","i","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","fn","head","toStringTag","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","global","classList","rows_container","row","config","fix_tab_position","$firstTab","$lastTab","$segmentedTab","builtInButton","spacer","minicalendarButton","click","$_eventAttached","isCalendarVisible","destroyCalendar","renderCalendar","position","getState","navigation","handler","setCurrentView","html_element","rows","cols","css","html","align","justifyContent","createDocumentFragment","_init_nav_bar","$container","querySelector","className","_update_nav_bar","_","xy","nav_height","unset_actions","_els","get_elements","set_actions","_silent_mode","_silentStart","_silentEnd","addEvent","once","removeEvent","clear","thisObject","attachAll","callEvent","ev_listen_all","checkEvent","detachAllEvents","eventRemove","getFullYear","getMonth","getDate","uid","mixin","copy","Number","Boolean","defined","isDate","$cancelTimeout","$pending","$execute","baseVal","getComputedStyle","visibility","currentStyle","offsetHeight","loLowerCase","select","textarea","object","hasAttribute","createShadowRoot","attachShadow","ShadowRoot","host","getAbsoluteLeft","getOffset","getAbsoluteTop","getOffsetSum","parseInt","offsetTop","offsetLeft","offsetParent","getOffsetRect","getBoundingClientRect","userAgent","pageYOffset","pageXOffset","clientTop","clientLeft","round","closest","insertAfter","remove","isChildOf","getFocusableNodes","$position","sort","tabIndex","getClassName","locateCss","getRootNode","hasShadowParent","isShadowDomSupported","getActiveElement","shadowRoot","getRelativeEventPosition","offsetWidth","right","bottom","getTargetNode","composedPath","getNodePosition","Element","matches","msMatchesSelector","webkitMatchesSelector","parentElement","isIE","isOpera","isChrome","isKHTML","isFF","isIPad","isEdge","isNode","_events","$scheduler","$dp","_dataProcessorHandlers","attach","_loading","_validId","setUpdated","_new_event","_in_progress","_invalid","updatedRows","_waitMode","_update_callback","getEvent","setUserData","action_param","deleteEvent","_add_rec_marker","detach","serverProcessor","autoUpdate","updateMode","_tMode","_headers","post_delim","messages","styles","updated","inserted","deleted","invalid","invalid_cell","enableUTFencoding","hide","box","keyboard","cover","_waiAria","messageButtonAttrString","messageModalAttr","title","content","labels","message_ok","cancel","message_cancel","label","getElementById","childNodes","hidden","abs","innerWidth","innerHeight","expire","messageInfoAttr","timers","pull","seed","hideAll","alert","confirm","modalbox","setTransactionMode","headers","_tSend","_endnm","_serializeAsJson","_router","router","_utf","setDataColumns","_columns","getSyncState","enableDataNames","enablePartialDataSend","_changed","setUpdateMode","dnd","ignore","findRow","getUserData","set_invalid","is_invalid","markRow","sendData","_methods","details","getActionByState","checkBeforeUpdate","editStop","sendAllData","_beforeSendData","_getRowData","_sendData","serialize","_serializeAsJSON","serialize_one","security_key","_applyPayload","ajax","urlSeparator","afterUpdate","_user","_cleanupArgumentsBeforeSend","method","_cleanupItemBeforeSend","query","responseText","setRequestHeader","status","parse","sid","tid","afterUpdateCallback","update","_forEachUpdatedRow","_getAllData","defineAction","_uActions","_errorResponse","xmlDoc","cleanUpdate","_setDefaultTransactionMode","_serverProcessor","finalizeUpdate","xmltop","xpath","init","_initialized","_dp_init","_is_virtual_event","_userdata","_set_event_text_style","for_rendered","cssText","_text_style","event_updated","_xmlNodeToJSON","rec_type","rec_pattern","_tagvalue","start_date","_helpers","parseDate","end_date","_dp_change_event_id","changeEventId","_dp_hook_delete","setDp","_dp","_dataprocessor","setOnAfterUpdate","setOnBeforeUpdateHandler","setAutoUpdate","_need_update","_update_busy","afterAutoUpdate","fullSync","setInterval","loadUpdate","clearInterval","getUpdates","_getXmlNodeValue","destructor","utils","_prepareDataItem","getUTCFullYear","formatDate","month_full","month_short","day_full","day_short","dhx_cal_today_button","day_tab","week_tab","month_tab","new_event","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","confirm_deleting","section_description","section_time","full_day","confirm_recurring","section_recurring","button_recurring","button_recurring_open","button_edit_series","button_edit_occurrence","grid_tab","drag_to_create","drag_to_move","year","day","hour","minute","agenda_tab","description","year_tab","week_agenda_tab","repeat_radio_day","repeat_radio_week","repeat_radio_month","repeat_radio_year","repeat_radio_day_type","repeat_text_day_count","repeat_radio_day_type2","repeat_week","repeat_text_week_count","repeat_radio_month_type","repeat_radio_month_start","repeat_text_month_day","repeat_text_month_count","repeat_text_month_count2_before","repeat_text_month_count2_after","repeat_year_label","select_year_day2","repeat_text_year_day","select_year_month","repeat_radio_end","repeat_text_occurences_count","repeat_radio_end2","repeat_radio_end3","month_for_recurring","day_for_recurring","_locales","addLocale","getLocale","Ge","et","tt","at","modes","currentRange","eventDates","currentModeIndex","container","onStateChangeHandlers","scheduler","_domEvents","_createDomEventScope","onStateChange","_notifyStateChange","_adjustDate","setMonth","setFullYear","_toggleMode","_renderCalendarHeader","innerText","toLocaleString","detachAll","_renderDayGrid","_renderMonthGrid","_renderYearGrid","_renderDayGridHeader","week_start","date_to_str","getDay","_weeksBetween","minWeeks","day_start","month_start","date_part","_currentDate","templates","format_date","nt","agenda","grid","unit","timeline","week_agenda","anythingElse","limit","_commonErrorMessages","unknownView","collapsedContainer","createTimelineView","createUnitsView","createGridView","addMarkedTimespan","exportToPNG","exportToPDF","_eventRemoveAll","_trim","_isDate","_isObject","_detachDomEvent","_init_once","clientWidth","clientHeight","$destroyed","$root","updateView","getPropertyValue","wai_aria_attributes","Sfdc","$A","Aura","_e","_obj","wai_aria_application_role","header","matrix","_props","_grid","names","rtl","_skin_init","_scroll","init_templates","_init_touch_events","set_sizes","$initialized","min_event_height","bar_height","scale_width","scroll_width","scale_height","month_scale_height","menu_width","margin_top","margin_left","editor_width","month_head_height","event_header_height","edit_save","edit_cancel","_x","_table_view","_is_material_skin","dhx_cal_header","set_xy","_lightbox","_setLbPosition","_data_width","dhx_cal_navline","max","_getClassName","labelAttr","getTime","_click","_temp_touch_block","_on_mouse_move","_ignore_next_click","_on_mouse_down","_on_mouse_up","_on_dbl_click","_locate_event","_select_id","_close_not_saved","unselect","updateEvent","_mode","_date","min_date","_min_date","max_date","_max_date","editor_id","_edit_id","lightbox_id","_lightbox_id","select_id","expanded","drag_id","_drag_id","drag_mode","_drag_mode","dhx_cal_data","readonly","getActionData","dhx_cal_prev_button","dhx_cal_next_button","dhx_cal_tab","_dhtmlx_confirm","title_confirm_deleting","edit","save","showLightbox","_ref","addEventNow","event_duration","time_step","first_hour","getHours","setHours","setTime","_drag_event","dblclick_create","details_on_dblclick","_timed","_get_column_index","_cols","_ignores","_week_indexes_from_pos","hour_size_px","_mouse_coords","$env","_colsS","$domHelpers","ev","heights","_ignores_detected","preserve_length","_event_length","_get_real_event_length","x_step","x_unit","timestamp","title_confirm_closing","positive_closing","_drag_pos","_correct_shift","getTimezoneOffset","_is_pos_changed","has_moved","_correct_drag_start_date","_start_correction","_end_correction","last_hour","getMinutes","_get_fictional_event_length","_correct_drag_end_date","_get_date_from_pos","_drag_start","fields","custom","time_part","_dragEventBody","_move_event_shift","_drag_from_start","resize_from_start","cursor","$","limit_drag_out","all_timed","_get_section_view","_get_event_sday","getView","_allow_dnd","update_render","update_view","drag_event_body","_lame_clone","_get_private_properties","_clear_temporary_properties","_mobile","_dhx_changed","edit_on_create","details_on_create","isOneDayEvent","_lame_copy","render_view_data","_trigger_dyn_loading","_load_mode","_load","_render_wait","_reset_ignores","_reset_scale","isViewExists","_set_aria_buttons_attrs","headerButtonsAttributes","icon_form","preserve_scroll","_dy_shift","headerToggleState","_render_x_header","left_border","dayHeaderAttr","_get_columns_num","_get_timeunit_start","_get_view_end","_calc_scale_sizes","_process_ignores","col_length","_set_scale_col_size","_render_scales","time_slot_text","time_slot_class","week_date_class","dayColumnAttr","_getNavDateElement","drag_resize","drag_move","_scales","navBarDateAttr","_reset_month_scale","_reset_hours_scale","multi_day","cloneNode","hour_scale","hourScaleAttr","scroll_hour","now_date","_render_month_scale","month_date_class","monthCellAttr","month_day","parse_date","getLabel","lightbox","sections","map_to","updateCollection","serverList","resetLightbox","hideCover","section","_focus","_get_date_index","_get_section_property","y_property","_is_initialized","_is_lightbox_open","RegExp","getAttributeString","setAttributes","day_date","role","getHeaderCellAttr","eventAttr","_eventCommonAttr","event_text","$dataprocessor_class","setEventBarAttr","_getAttributes","eventBarAttrString","agendaHeadAttrString","agendaHeadDateString","agendaHeadDescriptionString","agendaDataAttrString","agendaEventAttrString","agendaDetailsBtnString","gridAttrString","gridRowAttrString","gridCellAttrString","mapAttrString","mapRowAttrString","mapDetailsBtnString","minicalHeader","minicalGrid","minicalRow","minicalDayCell","minicalHeadCell","weekAgendaDayCell","weekAgendaEvent","lightboxHiddenAttr","lightboxVisibleAttr","lightboxSectionButtonAttrString","tabindex","yearHeader","yearGrid","yearHeadCell","yearRow","yearDayCell","lightboxAttr","lightboxButtonAttrString","eventMenuAttrString","lightboxHeader","lightboxSelectAttrString","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","dom","assert","show_errors","_createDatePicker","_getFocusableNodes","_locate_css","env","clearAll","async","serializeRequestParams","DOMParser","ActiveXObject","loadXML","parseFromString","responseXML","selectNodes","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","getSync","put","del","post","postSync","XMLHttpRequest","readyState","filePath","open","send","$ajax","month_short_hash","month_full_hash","UTC","csp","setMinutes","setSeconds","setMilliseconds","start_on_monday","setDate","year_start","_add_days","setYear","to_fixed","getUTCDate","getUTCMonth","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getSeconds","getUTCISOWeek","getISOWeek","str_to_date","parse_exact_format","convert_to_utc","default_date","month_date","load_date","week_date","hour_date","date_format","api_date","displayed_event_color","displayed_event_text_color","wide_form","day_column_padding","use_select_menu_space","drag_create","resize_month_events","resize_month_timed","responsive_lightbox","separate_short_events","cascade_event_display","cascade_event_count","cascade_event_margin","multi_day_height_limit","drag_lightbox","server_utc","touch","touch_tip","touch_drag","touch_swipe_dates","quick_info_detached","drag_highlight","icons_edit","icons_select","buttons_left","buttons_right","highlight_displayed_event","ajax_error","delay_render","timeline_swap_resize","event_attribute","$initial","xml_date","xml_format","day_scale_date","month_scale_date","week_scale_date","time_picker","event_date","load_format","event_header","event_class","event_bar_date","event_bar_text","month_events_link","drag_marker_class","drag_marker_content","tooltip_date_format","tooltip_text","calendar_month","calendar_scale_date","calendar_date","calendar_time","_loaded","clear_view","setEvent","_rendered","is_visible_events","clear_event","get_visible_events","filter_event","_is_main_area_event","_not_render","_recalculate_timed","dhx_multi_day","_rendered_location","render_data","_view_month_day","_render_month_link","_sday","_eday","_sweek","getEvents","_get_event_bar_pos","x2","_pre_render_events","render_event_bar","max_month_events","_sorder","locate_holder","real","buffer","render_event","_get_first_visible_cell","_pre_render_events_table","_pre_render_events_line","scrollHeight","scroll_fix","overflowY","_get_event_mapped_end_date","_min_mapped_duration","_inner","max_count","_count","_copy_event","_time_order","_is_any_multiday_cell_visible","locate_holder_day","first_chunk","last_chunk","_length","_first_chunk","_last_chunk","_copy_dummy","_y_from_date","_calc_event_y","_render_v_bar","_editor","textColor","highlightEventPosition","renderEvent","_drag_resize","_get_dnd_order","_orig_sorder","_edit_stop_event","getRenderedEvent","showEvent","section_delimiter","getSectionTop","posFromDate","dx","dy","_smartRenderingEnabled","scrollTo","_append_drag_marker","_update_marker_position","_load_url","prevent_cache","on_load","_parsers","xml","canParse","dhtmlx","attributes","_init_event","json","events","dhx_security","collections","ical","c_start","c_end","e_start","e_end","exec","parse_param","substr","_process","_process_loading","_after_call","_init_date","load","setLoadMode","show_loading","_y","_lightbox_controls","formSection","getLightbox","form_blocks","get_value","set_value","get_template_control","control","get_select_control","get_textarea_control","get_time_control","defaults","template","placeholder","_get_input","_dhx_onchange","onchange","time_format","_time_format_order","limit_time_select","year_range","_time_values","_full_day","auto_end_date","selectedIndex","showCover","show_cover","_cover","_fill_lightbox","lightbox_header","_get_lightbox_section_node","default_value","_lightbox_out","_empty_lightbox","hide_lightbox","endLightbox","hide_cover","_move_while_dnd","_finish_dnd","save_lightbox","startLightbox","_custom_lightbox","_temp_lightbox","cancel_lightbox","hideLightbox","_init_lightbox_events","button_click","readonly_active","setLightboxSize","_init_dnd_events","_dnd_start_lb","dhx_unselectable","_lb_start","_ready_to_dnd","recurring","_lightbox_template","_bindLightboxLabels","inputId","MSStream","platform","maxTouchPoints","createEvent","_touch_events","PointerEvent","pointerEnabled","msPointerEnabled","MSPOINTER_TYPE_MOUSE","_hide_global_tip","_pointerDragId","_update_global_tip","_block_next_stop","_show_global_tip","scrollable","_global_tip","getRootView","attrs","hooks","didInsert","cmp","_border_box_events","_addThemeClass","skin","_skin_settings","_skin_xy","lightbox_additional_height","_build_skin_info","setSkin","_theme_info","theme","cssVarTheme","oldMaterialTheme","values","_configure","_old_month_day","from","find","filter","reverse","jQuery","dhx_scheduler","each","Scheduler","getSchedulerInstance","createDataProcessor","batchUpdate","DataProcessor","dhtmlxError","catchError","en","ar","cn","cs","es","fr","hu","it","jp","no","pt","ro","ru","sv","tr","i18n","setLocale","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","ext","plugins","treetimeline","daytimeline","outerdrag","legacy","getExtension","_extensions","addExtension","attaches","attachScheduler","_genStr","attachObject","vs","av","sched","schedId","setSizes","_viewRestore","notImplemented","dt","_scheduler","getNode","_tooltipNode","setViewport","_root","show","_isLikeMouseEvent","_calculateTooltipPosition","setContent","_getViewPort","_getViewPortSize","tooltip_offset_x","tooltip_offset_y","scrollY","scrollX","$event_data","$event","_t","_listeners","tooltip","_initDelayedFunctions","hideTooltip","delayHide","selector","doOnMouseEnter","onmouseenter","onmousemove","onmouseleave","tooltipFor","createEventObject","delayShow","tooltip_timeout","tooltip_hide_timeout","lt","active_links","active_link_view","_active_link_click","agenda_legacy","add_agenda_legacy","agenda_legacy_time","agenda_legacy_text","agenda_legacy_date","agenda_legacy_start","dblclick_dhx_cal_data","agenda_time","agenda_text","_agendaScrollTop","agenda_date","agenda_legacy_view","agenda_start","agenda_end","agenda_view","add_agenda","agenda_day","all_timed_month","_safe_copy","event_pid","isPrototypeOf","event_length","_virtual","collision","collision_limit","checkCollision","_roll_back_dates","_check_sections_collision","getRecDates","container_autoresize","month_day_min_height","min_grid_size","min_map_size","_h_fix","year_y","week_agenda_scale_height","_gridView","y_unit","getSectionHeight","scrollWidth","requestAnimationFrame","$original_scroll_width","$original_section_autoheight","section_autoheight","cookie","_get_url_nav","unescape","drag_between","editors","combo","cached_options","_combo","DOMParent","unload","DOMelem","dhx_globalImgPath","image_path","dhtmlXCombo","options_height","setOptionHeight","enableFilteringMode","filtering","script_path","addOption","disable","selectOption","setComboValue","getIndexByValue","getSelectedValue","getSelectedText","radio","vertical","checkbox","checked_value","unchecked_value","expand","fullscreen","toggleIcon","_position","_width","_height","_overflow","_maximize","collapse","export_api","dhtmlxAjax","dhx4","format","orientation","dpi","_export_html","_send_to_export","exportToICal","_serialize_plain","exportToExcel","_serialize_columns","_ajax_to_export","server","_plain_export_copy","$text","_create_hidden_form","submit","_hidden_export_form","_get_export_size","A5","A4","A3","A2","A1","A0","parseFloat","smart_rendering","style_width","style_height","timeline_scrollable","timeline_smart_rendering","footer","scales","grid_view","html_templates","key_nav","minicalButton","$keyboardNavigation","MinicalButton","minicalDate","MinicalCell","SchedulerNode","dataArea","DataArea","timeSlot","TimeSlot","Event","key_nav_step","addShortcut","getShortcutHandler","shortcuts","findHandler","removeShortcut","unbind","dispatcher","enable","getActiveNode","setDefaultNode","_compose","createCommand","modifiers","alt","ctrl","getExpressions","getWords","commandKeys","specialKeys","charCodeAt","getCommandFromEvent","getHashFromEvent","getHash","junctionChar","combinationChar","backspace","tab","enter","esc","space","up","down","home","pageup","pagedown","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","doAction","bindAll","initKeys","trapFocus","marker","renderMultiple","_modes","_getMode","units","renderVerticalMarker","renderTimelineMarker","renderYearMarker","renderMonthMarker","weekAgenda","renderWeekAgendaMarker","list","renderAgendaMarker","dayColumns","addWaiAriaLabel","addDataAttributes","_wrapDiv","_get_year_cell","round_position","_trace_x","_is_column_visible","days","_timeline_getX","_section_height","_isRender","renderMonthCell","getDefaultNode","isValid","getMode","blur","isEnabled","_compareEvents","_pickEvent","nextEventHandler","activeNode","eventId","setActiveNode","prevEventHandler","HeaderCell","getNodes","_key_nav_copy_paste","KeyNavNode","moveTo","compareTo","_getSection","_getNodes","isScrolledIntoView","getInlineEditor","isMultisectionEvent","keepScrollPosition","_moveToSlot","nextSlot","getDefaultDate","_getDefaultSection","movingDate","findVisibleColumn","clone","_getMultisectionView","_getNextSection","isVisible","_pasteDate","_pasteSection","addMonthDate","nextMonthSlot","_alignTimeSlot","nextTimelineSlot","nextUnitsSlot","nextDaySlot","_moveDate","isBeforeLastHour","isAfterFirstHour","isInVisibleDayTime","nextWeekAgendaSlot","nextAgendaSlot","isDateVisible","nextDateColumn","extendSlot","extendUnitsSlot","extendTimelineSlot","extendMonthSlot","extendDaySlot","extendWeekAgendaSlot","extendGenericSlot","extendSlotDates","scrollSlot","globalNode","_getGrid","_getNode","_keyNavMessagePopup","isModal","rt","isActive","focusGlobalNode","blurNode","keyDownHandler","_timeout","_temp_key_scope","elementFromPoint","_make_pasted_event","multisection","_do_paste","_is_key_nav_active","_buffer_event","ot","attachSchedulerHandlers","layout","st","_minicalendars","isMinical","patchMinicalendar","_def_count","layer","layers","validId","_clearUpdateFlag","_dataprocessors","_layers_zindex","initial_layer_zindex","isDefault","defaultLayer","showLayer","toggleLayer","hideLayer","getLayer","visible","noMenu","_evs_layer","_t_render_view_data","filter_agenda","limit_start","limit_end","limit_view","check_limits","mark_now","display_marked_timespans","overwrite_marked_timespans","_temp_limit_scope","zones","blockTime","unblockTime","deleteMarkedTimespan","checkInMarkedTimespan","_marked_timespans","_get_zone_minutes","checkLimitViolation","_add_timespan_zones","_get_blocked_zones","_get_relevant_blocked_zones","_mark_now","_mark_now_timer","_remove_mark_now","_append_mark_now","_render_marked_timespan","_prepare_timespan_options","invert_zones","invertZones","_get_dates_by_index","_get_css_classes_by_config","_get_block_by_config","_mark_timespans","_on_scale_add_marker","markTimespan","_marked_timespans_ids","_marked_timespans_types","unmarkTimespan","_addMarkerTimespanConfig","_array","_subtract_timespan_zones","_delete_marked_timespan_by_id","_delete_marked_timespan_by_config","_delete_marked_timespans_list","_get_types_to_render","_get_configs_to_render","_get_unit_index","dblclick_dhx_marked_timespan","map_view","mapView","geocoder","points","markers","infoWindow","createMarker","google","maps","Marker","map_date_width","map_icon_width","map_description_width","map_resolve_event_location","map_resolve_user_location","map_initial_position","LatLng","map_error_position","map_infowindow_max_width","map_type","MapTypeId","ROADMAP","map_zoom_after_resolve","marker_geo_success","marker_geo_fail","marker_date","marker_text","event_location","dblclick_dhx_map_area","map_time","map_text","map_start","add_map","map_date","_latLngUpdate","_isMapPositionSet","dhx_gmap","map_initial_zoom","center","mapTypeId","disableDefaultUI","disableDoubleClickZoom","addListener","latLng","geocode","GeocoderStatus","OK","geometry","lat","lng","formatted_address","maxWidth","_points","_markers","_infowindow","InfoWindow","_infowindows_content","_initialization_count","Geocoder","geolocation","getCurrentPosition","coords","latitude","longitude","setCenter","setZoom","getCenter","setPosition","getZoom","_selected_event_id","marginRight","marginLeft","marginTop","map_end","close","setMap","trigger","address","language","_event_resolve_delay","minical","minicalendar","mark_events","_synced_minicalendars","_render_calendar","unmarkCalendar","_get_def_cont","markCalendar","_last_date","conf","_markCalendarCurrentDate","sync","_on_xle_handler","updateCalendar","_created","_locateCalendar","_week_template","_mini_cal_arrows","padding","linkCalendar","monthheight","multiselect","delimiter","script_url","multisource","mvc","use_id","cid","backbone","toJSON","Backbone","Collection","model","dhtmlDragAndDropObject","stopDrag","_locate_cell_timeline","addDragLanding","_drag","_dragIn","_dragOut","DragControl","addDrop","onDrop","getMaster","onDragIn","pdf","dhx_cal_date","cells","second_scale","week_starts","_month","rowIndex","getPDFData","toPDF","toPDFRange","quick_info","show_quick_info","showQuickInfo","hideQuickInfo","quick_info_title","quick_info_content","quick_info_date","_quick_info_box_id","_get_event_counter_part","_quick_info_box","_init_quick_info","_fill_quick_data","_show_quick_info","_x_scroll","_quick_info_onscroll_handler","$testmode","_qi_button_click","readonly_form","_lightbox_r","occurrence_timestamp_in_utc","recurring_workdays","_get_node","_outer_html","outerHTML","repeat_date_of_end","_ds","_get_form_node","_get_node_value","_get_node_numeric_value","_set_node_value","_init_set_value","_end_date","repeat_date","_get_repeat_code","include_end_by","transpose_type","repeat_precise","_start","transpose_day_week","_set_repeat_code","MouseEvent","elements","_rec_init_done","blocked","_is_modified_occurence","_toggle_block","_start_date","_get_button","_get_form","backgroundPosition","_rec_markers","_rec_markers_pull","_pid_time","_get_rec_marker","_get_rec_markers","_rec_temp","_ignore_call","_pid_changed","showLightbox_rec","lightbox_recurring","title_confirm_recurring","get_visible_events_rec","transponse_size","day_week","recurring_overflow_instances","getMilliseconds","_fix_daylight_saving_date","data_attributes","toXML","_serialize_json_value","toICal","tooltips","touch_tooltip","hash","wp","year_view","year_date","year_month","year_scale_date","year_tooltip","dblclick_dhx_month_head","_year_render_event","_year_marked_cells","_hideToolTip","_tooltip","_showToolTip","_year_view_tooltip_handler","_init_year_tooltip","_mark_year_date","_unmark_year_date","_reset_year_scale","year_top","year_x","_seed","_schedulerPlugins","_bundledExtensions","_extensionsManager","plugin","_internal_id","$syncFactory","_initFromConfig","calendars","addCalendar","$dhx","initSchedulerEvents","_$initialized","onDataUpdated","schedulerContainer","nextProps","timeFormatState","setTimeFormat","_jsx","Toolbar","handleTimeFormatStateChange","onTimeFormatStateChange","_jsxs","onChange","MessageArea","App","currentTimeFormatState","logDataUpdate","addMessage","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","React","reportWebVitals"],"sourceRoot":""}