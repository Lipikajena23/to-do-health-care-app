{"ast":null,"code":"import React,{Component}from'react';import'dhtmlx-scheduler';import'dhtmlx-scheduler/codebase/dhtmlxscheduler.css';import{jsx as _jsx}from\"react/jsx-runtime\";const scheduler=window.scheduler;export default class Scheduler extends Component{initSchedulerEvents(){if(scheduler._$initialized){return;}const onDataUpdated=this.props.onDataUpdated;scheduler.attachEvent('onEventAdded',(id,ev)=>{if(onDataUpdated){onDataUpdated('create',ev,id);}});scheduler.attachEvent('onEventChanged',(id,ev)=>{if(onDataUpdated){onDataUpdated('update',ev,id);}});scheduler.attachEvent('onEventDeleted',(id,ev)=>{if(onDataUpdated){onDataUpdated('delete',ev,id);}});scheduler._$initialized=true;}componentDidMount(){scheduler.skin='material';scheduler.config.header=['day','week','month','date','prev','today','next'];scheduler.config.hour_date='%g:%i %A';scheduler.xy.scale_width=70;this.initSchedulerEvents();const{events}=this.props;scheduler.init(this.schedulerContainer,new Date(2020,5,10));scheduler.clearAll();scheduler.parse(events);}shouldComponentUpdate(nextProps){return this.props.timeFormatState!==nextProps.timeFormatState;}componentDidUpdate(){scheduler.render();}setTimeFormat(state){scheduler.config.hour_date=state?'%H:%i':'%g:%i %A';scheduler.templates.hour_scale=scheduler.date.date_to_str(scheduler.config.hour_date);}render(){const{timeFormatState}=this.props;this.setTimeFormat(timeFormatState);return/*#__PURE__*/_jsx(\"div\",{ref:input=>{this.schedulerContainer=input;},style:{width:'100%',height:'100%'}});}}","map":{"version":3,"names":["React","Component","jsx","_jsx","scheduler","window","Scheduler","initSchedulerEvents","_$initialized","onDataUpdated","props","attachEvent","id","ev","componentDidMount","skin","config","header","hour_date","xy","scale_width","events","init","schedulerContainer","Date","clearAll","parse","shouldComponentUpdate","nextProps","timeFormatState","componentDidUpdate","render","setTimeFormat","state","templates","hour_scale","date","date_to_str","ref","input","style","width","height"],"sources":["C:/Users/sasan/react-scheduler/src/components/Scheduler/Scheduler.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport 'dhtmlx-scheduler';\r\nimport 'dhtmlx-scheduler/codebase/dhtmlxscheduler.css';\r\n \r\nconst scheduler = window.scheduler;\r\n \r\nexport default class Scheduler extends Component {\r\n    initSchedulerEvents() {\r\n        if (scheduler._$initialized) {\r\n            return;\r\n        }\r\n \r\n        const onDataUpdated = this.props.onDataUpdated;\r\n \r\n        scheduler.attachEvent('onEventAdded', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('create', ev, id);\r\n            }\r\n        });\r\n \r\n        scheduler.attachEvent('onEventChanged', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('update', ev, id);\r\n            }\r\n        });\r\n \r\n        scheduler.attachEvent('onEventDeleted', (id, ev) => {\r\n            if (onDataUpdated) {\r\n                onDataUpdated('delete', ev, id);\r\n            }\r\n        });\r\n        scheduler._$initialized = true;\r\n  }\r\n     componentDidMount() {\r\n        scheduler.skin = 'material';\r\n        scheduler.config.header = [\r\n            'day',\r\n            'week',\r\n            'month',\r\n            'date',\r\n            'prev',\r\n            'today',\r\n            'next'\r\n        ];\r\n        scheduler.config.hour_date = '%g:%i %A';\r\n        scheduler.xy.scale_width = 70;\r\n \r\n        this.initSchedulerEvents();\r\n \r\n        const { events } = this.props;\r\n        scheduler.init(this.schedulerContainer, new Date(2020, 5, 10));\r\n        scheduler.clearAll();\r\n        scheduler.parse(events);\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        return this.props.timeFormatState !== nextProps.timeFormatState;\r\n    }\r\n \r\n    componentDidUpdate() {\r\n        scheduler.render();\r\n    }\r\n \r\n    setTimeFormat(state) {\r\n        scheduler.config.hour_date = state ? '%H:%i' : '%g:%i %A';\r\n        scheduler.templates.hour_scale = scheduler.date.date_to_str(scheduler.config.hour_date);\r\n    }\r\n \r\n    render() {\r\n        const { timeFormatState } = this.props;\r\n        this.setTimeFormat(timeFormatState);\r\n        return (\r\n            <div\r\n                ref={ (input) => { this.schedulerContainer = input } }\r\n                style={ { width: '100%', height: '100%' } }\r\n            ></div>\r\n        );\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}